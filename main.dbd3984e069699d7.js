(self.webpackChunkpixtarAE=self.webpackChunkpixtarAE||[]).push([[179],{824:(p,m,g)=>{"use strict";var b=g(8929),C=g(4096),A=g(4202),H=g(6787),z=g(8117);function B(e){for(let t in e)if(e[t]===B)return t;throw Error("Could not find renamed property on target object.")}function X(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function T(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(T).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function F(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const W=B({__forward_ref__:B});function R(e){return e.__forward_ref__=R,e.toString=function(){return T(this())},e}function N(e){return G(e)?e():e}function G(e){return"function"==typeof e&&e.hasOwnProperty(W)&&e.__forward_ref__===R}class V extends Error{constructor(t,n){super(function re(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function he(e){return"string"==typeof e?e:null==e?"":String(e)}function je(e,t){throw new V(-201,!1)}function nn(e,t){null==e&&function Bt(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function lt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function un(e){return{providers:e.providers||[],imports:e.imports||[]}}function Hi(e){return Qn(e,rr)||Qn(e,qr)}function Qn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Di(e){return e&&(e.hasOwnProperty(to)||e.hasOwnProperty(Yr))?e[to]:null}const rr=B({\u0275prov:B}),to=B({\u0275inj:B}),qr=B({ngInjectableDef:B}),Yr=B({ngInjectorDef:B});var cn=(()=>((cn=cn||{})[cn.Default=0]="Default",cn[cn.Host=1]="Host",cn[cn.Self=2]="Self",cn[cn.SkipSelf=4]="SkipSelf",cn[cn.Optional=8]="Optional",cn))();let ui;function zi(e){const t=ui;return ui=e,t}function Xr(e,t,n){const i=Hi(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&cn.Optional?null:void 0!==t?t:void je(T(e))}function yr(e){return{toString:e}.toString()}var ur=(()=>((ur=ur||{})[ur.OnPush=0]="OnPush",ur[ur.Default=1]="Default",ur))(),uo=(()=>{return(e=uo||(uo={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",uo;var e})();const ki=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Li={},Bn=[],er=B({\u0275cmp:B}),dr=B({\u0275dir:B}),$r=B({\u0275pipe:B}),ys=B({\u0275mod:B}),Fr=B({\u0275fac:B}),Eo=B({__NG_ELEMENT_ID__:B});let oa=0;function Yn(e){return yr(()=>{const n=!0===e.standalone,i={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Bn,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||uo.Emulated,id:"c"+oa++,styles:e.styles||Bn,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.dependencies,s=e.features;return r.inputs=Kt(e.inputs,i),r.outputs=Kt(e.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map($t).filter(Ot):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(si).filter(Ot):null,r})}function $t(e){return bn(e)||Ui(e)}function Ot(e){return null!==e}function yt(e){return yr(()=>({type:e.type,bootstrap:e.bootstrap||Bn,declarations:e.declarations||Bn,imports:e.imports||Bn,exports:e.exports||Bn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Kt(e,t){if(null==e)return Li;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}const xt=Yn;function xi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function bn(e){return e[er]||null}function Ui(e){return e[dr]||null}function si(e){return e[$r]||null}function fo(e,t){const n=e[ys]||null;if(!n&&!0===t)throw new Error(`Type ${T(e)} does not have '\u0275mod' property.`);return n}function Ks(e){return Array.isArray(e)&&"object"==typeof e[1]}function aa(e){return Array.isArray(e)&&!0===e[1]}function Fh(e){return 0!=(8&e.flags)}function Lh(e){return 2==(2&e.flags)}function Wc(e){return 1==(1&e.flags)}function la(e){return null!==e.template}function y1(e){return 0!=(256&e[2])}function qc(e,t){return e.hasOwnProperty(Fr)?e[Fr]:null}class P1{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function is(){return gg}function gg(e){return e.type.prototype.ngOnChanges&&(e.setInput=vg),O1}function O1(){const e=_f(this),t=e?.current;if(t){const n=e.previous;if(n===Li)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function vg(e,t,n,i){const r=_f(e)||function bf(e,t){return e[Xu]=t}(e,{previous:Li,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];o[a]=new P1(l&&l.currentValue,t,s===Li),e[i]=t}is.ngInherit=!0;const Xu="__ngSimpleChanges__";function _f(e){return e[Xu]||null}function io(e){for(;Array.isArray(e);)e=e[0];return e}function Qu(e,t){return io(t[e])}function P(e,t){return io(t[e.index])}function Q(e,t){return e.data[t]}function ee(e,t){return e[t]}function ae(e,t){const n=t[e];return Ks(n)?n:n[0]}function fe(e){return 64==(64&e[2])}function Te(e,t){return null==t?null:e[t]}function Ye(e){e[18]=0}function _t(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const et={lFrame:zh(null),bindingsEnabled:!0};function Ao(){return et.bindingsEnabled}function At(){return et.lFrame.lView}function xn(){return et.lFrame.tView}function Dn(e){return et.lFrame.contextLView=e,e[8]}function Yt(e){return et.lFrame.contextLView=null,e}function Oi(){let e=zd();for(;null!==e&&64===e.type;)e=e.parent;return e}function zd(){return et.lFrame.currentTNode}function yo(e,t){const n=et.lFrame;n.currentTNode=e,n.isParent=t}function Xc(){return et.lFrame.isParent}function ca(){et.lFrame.isParent=!1}function Kr(){const e=et.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ud(){return et.lFrame.bindingIndex++}function Al(e){const t=et.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ta(e,t){const n=et.lFrame;n.bindingIndex=n.bindingRootIndex=e,wf(t)}function wf(e){et.lFrame.currentDirectiveIndex=e}function Mf(){return et.lFrame.currentQueryIndex}function Tl(e){et.lFrame.currentQueryIndex=e}function Pf(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function kl(e,t,n){if(n&cn.SkipSelf){let r=t,o=e;for(;!(r=r.parent,null!==r||n&cn.Host||(r=Pf(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,e=o}const i=et.lFrame=Vd();return i.currentTNode=t,i.lView=e,!0}function Ju(e){const t=Vd(),n=e[1];et.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Vd(){const e=et.lFrame,t=null===e?null:e.child;return null===t?zh(e):t}function zh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Uh(){const e=et.lFrame;return et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ep=Uh;function Of(){const e=Uh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vo(){return et.lFrame.selectedIndex}function ac(e){et.lFrame.selectedIndex=e}function Or(){const e=et.lFrame;return Q(e.tView,e.selectedIndex)}function en(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-n,l),c&&((e.viewHooks||(e.viewHooks=[])).push(n,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,c)),null!=h&&(e.destroyHooks||(e.destroyHooks=[])).push(n,h)}}function fn(e,t,n){Ii(e,t,3,n)}function Tn(e,t,n,i){(3&e[2])===n&&Ii(e,t,n,i)}function gn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ii(e,t,n,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&e[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[18]+=65536),(a<o||-1==o)&&(me(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function me(e,t,n,i){const r=n[i]<0,o=n[i+1],a=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}const L=-1;class J{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Il(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{const o=r,s=n[++i];PR(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function bg(e){return 3===e||4===e||6===e}function PR(e){return 64===e.charCodeAt(0)}function Lb(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||OR(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function OR(e,t,n,i,r){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function SR(e){return e!==L}function xg(e){return 32767&e}function wg(e,t){let n=function Q$(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let d2=!0;function Bb(e){const t=d2;return d2=e,t}let Z$=0;const Hd={};function A1(e,t){const n=u2(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,h2(i.data,e),h2(t,null),h2(i.blueprint,null));const r=zb(e,t),o=e.injectorIndex;if(SR(r)){const s=xg(r),a=wg(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function h2(e,t){e.push(0,0,0,0,0,0,0,0,t)}function u2(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function zb(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=FR(r),null===i)return L;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return L}function Ub(e,t,n){!function J$(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Eo)&&(i=n[Eo]),null==i&&(i=n[Eo]=Z$++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function AR(e,t,n){if(n&cn.Optional||void 0!==e)return e;je()}function TR(e,t,n,i){if(n&cn.Optional&&void 0===i&&(i=null),0==(n&(cn.Self|cn.Host))){const r=e[9],o=zi(void 0);try{return r?r.get(t,i,n&cn.Optional):Xr(t,i,n&cn.Optional)}finally{zi(o)}}return AR(i,0,n)}function kR(e,t,n,i=cn.Default,r){if(null!==e){if(1024&t[2]){const s=function rK(e,t,n,i,r){let o=e,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=IR(o,s,n,i|cn.Self,Hd);if(a!==Hd)return a;let l=o.parent;if(!l){const c=s[21];if(c){const h=c.get(n,Hd,i);if(h!==Hd)return h}l=FR(s),s=s[15]}o=l}return r}(e,t,n,i,Hd);if(s!==Hd)return s}const o=IR(e,t,n,i,Hd);if(o!==Hd)return o}return TR(t,n,i,r)}function IR(e,t,n,i,r){const o=function nK(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Eo)?e[Eo]:void 0;return"number"==typeof t?t>=0?255&t:iK:t}(n);if("function"==typeof o){if(!kl(t,e,i))return i&cn.Host?AR(r,0,i):TR(t,n,i,r);try{const s=o(i);if(null!=s||i&cn.Optional)return s;je()}finally{ep()}}else if("number"==typeof o){let s=null,a=u2(e,t),l=L,c=i&cn.Host?t[16][6]:null;for((-1===a||i&cn.SkipSelf)&&(l=-1===a?zb(e,t):t[a+8],l!==L&&NR(i,!1)?(s=t[1],a=xg(l),t=wg(l,t)):a=-1);-1!==a;){const h=t[1];if(RR(o,a,h.data)){const d=tK(a,t,n,s,i,c);if(d!==Hd)return d}l=t[a+8],l!==L&&NR(i,t[1].data[a+8]===c)&&RR(o,a,t)?(s=h,a=xg(l),t=wg(l,t)):a=-1}}return r}function tK(e,t,n,i,r,o){const s=t[1],a=s.data[e+8],h=jb(a,s,n,null==i?Lh(a)&&d2:i!=s&&0!=(3&a.type),r&cn.Host&&o===a);return null!==h?T1(t,s,h,a):Hd}function jb(e,t,n,i,r){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,h=o>>20,u=r?a+h:e.directiveEnd;for(let f=i?a:a+h;f<u;f++){const v=s[f];if(f<l&&n===v||f>=l&&v.type===n)return f}if(r){const f=s[l];if(f&&la(f)&&f.type===n)return l}return null}function T1(e,t,n,i){let r=e[n];const o=t.data;if(function ge(e){return e instanceof J}(r)){const s=r;s.resolving&&function Le(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new V(-200,`Circular dependency in DI detected for ${e}${n}`)}(function pe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():he(e)}(o[n]));const a=Bb(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?zi(s.injectImpl):null;kl(e,i,cn.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function St(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=gg(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==l&&zi(l),Bb(a),s.resolving=!1,ep()}}return r}function RR(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function NR(e,t){return!(e&cn.Self||e&cn.Host&&t)}class Cg{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return kR(this._tNode,this._lView,t,i,n)}}function iK(){return new Cg(Oi(),At())}function da(e){return yr(()=>{const t=e.prototype.constructor,n=t[Fr]||p2(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[Fr]||p2(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function p2(e){return G(e)?()=>{const t=p2(N(e));return t&&t()}:qc(e)}function FR(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const Mg="__annotations__",Pg="__parameters__",Og="__prop__metadata__";function f2(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}function Sg(e,t,n){return yr(()=>{const i=f2(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,h){const d=l.hasOwnProperty(Pg)?l[Pg]:Object.defineProperty(l,Pg,{value:[]})[Pg];for(;d.length<=h;)d.push(null);return(d[h]=d[h]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function k1(e,t,n,i){return yr(()=>{const r=f2(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const a=new o(...s);return function l(c,h){const d=c.constructor,u=d.hasOwnProperty(Og)?d[Og]:Object.defineProperty(d,Og,{value:{}})[Og];u[h]=u.hasOwnProperty(h)&&u[h]||[],u[h].unshift(a),i&&i(c,h,...s)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class jn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=lt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class sK{}const aK=k1("ContentChildren",(e,t={})=>({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...t}),sK),m2=Function;function R1(e){return"function"==typeof e}function Rl(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Rl(i,t)):t!==e&&t.push(i)}return t}function jh(e,t){e.forEach(n=>Array.isArray(n)?jh(n,t):t(n))}function zR(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Vb(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function N1(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function Nl(e,t,n){let i=Eg(e,t);return i>=0?e[1|i]=n:(i=~i,function dK(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function g2(e,t){const n=Eg(e,t);if(n>=0)return e[1|n]}function Eg(e,t){return function VR(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}(e,t,1)}const hK=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,uK=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,pK=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,fK=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class gK{constructor(t){this._reflect=t||ki.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let i;i=N1(typeof t>"u"?n.length:t.length);for(let r=0;r<i.length;r++)i[r]=typeof t>"u"?[]:t[r]&&t[r]!=Object?[t[r]]:[],n&&null!=n[r]&&(i[r]=i[r].concat(n[r]));return i}_ownParameters(t,n){if(function mK(e){return hK.test(e)||fK.test(e)||uK.test(e)&&!pK.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==n.ctorParameters){const a="function"==typeof r?r():r,l=a.map(h=>h&&h.type),c=a.map(h=>h&&v2(h.decorators));return this._zipTypesAndAnnotations(l,c)}const o=t.hasOwnProperty(Pg)&&t[Pg],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||o?this._zipTypesAndAnnotations(s,o):N1(t.length)}parameters(t){if(!R1(t))return[];const n=Hb(t);let i=this._ownParameters(t,n);return!i&&n!==Object&&(i=this.parameters(n)),i||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let i=t.annotations;return"function"==typeof i&&i.annotations&&(i=i.annotations),i}return t.decorators&&t.decorators!==n.decorators?v2(t.decorators):t.hasOwnProperty(Mg)?t[Mg]:null}annotations(t){if(!R1(t))return[];const n=Hb(t),i=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(i)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let i=t.propMetadata;return"function"==typeof i&&i.propMetadata&&(i=i.propMetadata),i}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const i=t.propDecorators,r={};return Object.keys(i).forEach(o=>{r[o]=v2(i[o])}),r}return t.hasOwnProperty(Og)?t[Og]:null}propMetadata(t){if(!R1(t))return{};const n=Hb(t),i={};if(n!==Object){const o=this.propMetadata(n);Object.keys(o).forEach(s=>{i[s]=o[s]})}const r=this._ownPropMetadata(t,n);return r&&Object.keys(r).forEach(o=>{const s=[];i.hasOwnProperty(o)&&s.push(...i[o]),s.push(...r[o]),i[o]=s}),i}ownPropMetadata(t){return R1(t)&&this._ownPropMetadata(t,Hb(t))||{}}hasLifecycleHook(t,n){return t instanceof m2&&n in t.prototype}}function v2(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Hb(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const ip={},y2="__NG_DI_FLAG__",Gb="ngTempTokenPath",yK=/\n/gm,HR="__source";let F1;function Dg(e){const t=F1;return F1=e,t}function bK(e,t=cn.Default){if(void 0===F1)throw new V(-203,!1);return null===F1?Xr(e,void 0,t):F1.get(e,t&cn.Optional?null:void 0,t)}function Ft(e,t=cn.Default){return(function xo(){return ui}()||bK)(N(e),t)}function Ho(e,t=cn.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),Ft(e,t)}function _2(e){const t=[];for(let n=0;n<e.length;n++){const i=N(e[n]);if(Array.isArray(i)){if(0===i.length)throw new V(900,!1);let r,o=cn.Default;for(let s=0;s<i.length;s++){const a=i[s],l=xK(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(Ft(r,o))}else t.push(Ft(i))}return t}function L1(e,t){return e[y2]=t,e.prototype[y2]=t,e}function xK(e){return e[y2]}const Ag=L1(Sg("Inject",e=>({token:e})),-1),Df=L1(Sg("Optional"),8),b2=L1(Sg("Self"),2),Tg=L1(Sg("SkipSelf"),4);let WR=null;function B1(){return WR=WR||new gK}var sl=(()=>((sl=sl||{})[sl.Important=1]="Important",sl[sl.DashCase=2]="DashCase",sl))();const M2=new Map;let zK=0;const O2="__ngContext__";function ha(e,t){Ks(t)?(e[O2]=t[20],function jK(e){M2.set(e[20],e)}(t)):e[O2]=t}function E2(e,t){return undefined(e,t)}function j1(e){const t=e[3];return aa(t)?t[3]:t}function D2(e){return c4(e[13])}function A2(e){return c4(e[4])}function c4(e){for(;null!==e&&!aa(e);)e=e[4];return e}function Ig(e,t,n,i,r){if(null!=i){let o,s=!1;aa(i)?o=i:Ks(i)&&(s=!0,i=i[0]);const a=io(i);0===e&&null!==n?null==r?m4(t,n,a):Af(t,n,a,r||null,!0):1===e&&null!==n?Af(t,n,a,r||null,!0):2===e?function L2(e,t,n){const i=Yb(e,t);i&&function cQ(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function uQ(e,t,n,i,r){const o=n[7];o!==io(n)&&Ig(t,e,i,o,r);for(let a=10;a<n.length;a++){const l=n[a];V1(l[1],l,e,t,i,o)}}(t,e,o,n,r)}}function k2(e,t,n){return e.createElement(t,n)}function h4(e,t){const n=e[9],i=n.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,_t(r,-1)),n.splice(i,1)}function I2(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&h4(r,i),t>0&&(e[n-1][4]=i[4]);const o=Vb(e,10+t);!function tQ(e,t){V1(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function u4(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&V1(e,t,n,3,null,null),function rQ(e){let t=e[13];if(!t)return R2(e[1],e);for(;t;){let n=null;if(Ks(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Ks(t)&&R2(t[1],t),t=t[3];null===t&&(t=e),Ks(t)&&R2(t[1],t),n=t&&t[4]}t=n}}(t)}}function R2(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function lQ(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof J)){const o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(e,t),function aQ(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(t):io(t[s]),l=i[r=n[o+2]],c=n[o+3];"boolean"==typeof c?a.removeEventListener(n[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=n[o+1]];n[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&aa(t[3])){n!==t[3]&&h4(n,t);const i=t[19];null!==i&&i.detachView(e)}!function VK(e){M2.delete(e[20])}(t)}}function p4(e,t,n){return function f4(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const r=e.data[i.directiveStart].encapsulation;if(r===uo.None||r===uo.Emulated)return null}return P(i,n)}(e,t.parent,n)}function Af(e,t,n,i,r){e.insertBefore(t,n,i,r)}function m4(e,t,n){e.appendChild(t,n)}function g4(e,t,n,i,r){null!==i?Af(e,t,n,i,r):m4(e,t,n)}function Yb(e,t){return e.parentNode(t)}function v4(e,t,n){return _4(e,t,n)}let Kb,j2,Qb,_4=function y4(e,t,n){return 40&e.type?P(e,n):null};function Xb(e,t,n,i){const r=p4(e,i,t),o=t[11],a=v4(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)g4(o,r,n[l],a,!1);else g4(o,r,n,a,!1)}function $b(e,t){if(null!==t){const n=t.type;if(3&n)return P(t,e);if(4&n)return F2(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return $b(e,i);{const r=e[t.index];return aa(r)?F2(-1,r):io(r)}}if(32&n)return E2(t,e)()||io(e[t.index]);{const i=x4(e,t);return null!==i?Array.isArray(i)?i[0]:$b(j1(e[16]),i):$b(e,t.next)}}return null}function x4(e,t){return null!==t?e[16][6].projection[t.projection]:null}function F2(e,t){const n=10+e+1;if(n<t.length){const i=t[n],r=i[1].firstChild;if(null!==r)return $b(i,r)}return t[7]}function B2(e,t,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===t&&(a&&ha(io(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)B2(e,t,n.child,i,r,o,!1),Ig(t,e,r,a,o);else if(32&l){const c=E2(n,i);let h;for(;h=c();)Ig(t,e,r,h,o);Ig(t,e,r,a,o)}else 16&l?w4(e,t,i,n,r,o):Ig(t,e,r,a,o);n=s?n.projectionNext:n.next}}function V1(e,t,n,i,r,o){B2(n,i,e.firstChild,t,r,o,!1)}function w4(e,t,n,i,r,o){const s=n[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ig(t,e,r,l[c],o);else B2(e,t,l,s[3],r,o,!0)}function C4(e,t,n){e.setAttribute(t,"style",n)}function z2(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Tf(e){return function U2(){if(void 0===Kb&&(Kb=null,ki.trustedTypes))try{Kb=ki.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Kb}()?.createHTML(e)||e}function P4(e){return function V2(){if(void 0===Qb&&(Qb=null,ki.trustedTypes))try{Qb=ki.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Qb}()?.createHTML(e)||e}class kf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yQ extends kf{getTypeName(){return"HTML"}}class _Q extends kf{getTypeName(){return"Style"}}class bQ extends kf{getTypeName(){return"Script"}}class xQ extends kf{getTypeName(){return"URL"}}class wQ extends kf{getTypeName(){return"ResourceURL"}}function Fl(e){return e instanceof kf?e.changingThisBreaksApplicationSecurity:e}function Gd(e,t){const n=function CQ(e){return e instanceof kf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}class DQ{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Tf(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class AQ{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const i=this.inertDocument.createElement("body");n.appendChild(i)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Tf(t),n;const i=this.inertDocument.createElement("body");return i.innerHTML=Tf(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const n=t.attributes;for(let r=n.length-1;0<r;r--){const s=n.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const kQ=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Zb(e){return(e=String(e)).match(kQ)?e:"unsafe:"+e}function Vh(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function H1(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const D4=Vh("area,br,col,hr,img,wbr"),A4=Vh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T4=Vh("rp,rt"),H2=H1(D4,H1(A4,Vh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),H1(T4,Vh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),H1(T4,A4)),G2=Vh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),k4=H1(G2,Vh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),IQ=Vh("script,style,template");class RQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!H2.hasOwnProperty(n))return this.sanitizedSomething=!0,!IQ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!k4.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;G2[a]&&(l=Zb(l)),this.buf.push(" ",s,'="',I4(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();H2.hasOwnProperty(n)&&!D4.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(I4(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const NQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,FQ=/([^\#-~ |!])/g;function I4(e){return e.replace(/&/g,"&amp;").replace(NQ,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(FQ,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jb;function R4(e,t){let n=null;try{Jb=Jb||function E4(e){const t=new AQ(e);return function TQ(){try{return!!(new window.DOMParser).parseFromString(Tf(""),"text/html")}catch{return!1}}()?new DQ(t):t}(e);let i=t?String(t):"";n=Jb.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Jb.getInertBodyElement(i)}while(i!==o);return Tf((new RQ).sanitizeChildren(W2(n)||n))}finally{if(n){const i=W2(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function W2(e){return"content"in e&&function LQ(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ro=(()=>((ro=ro||{})[ro.NONE=0]="NONE",ro[ro.HTML=1]="HTML",ro[ro.STYLE=2]="STYLE",ro[ro.SCRIPT=3]="SCRIPT",ro[ro.URL=4]="URL",ro[ro.RESOURCE_URL=5]="RESOURCE_URL",ro))();function Ll(e){const t=G1();return t?P4(t.sanitize(ro.HTML,e)||""):Gd(e,"HTML")?P4(Fl(e)):R4(function M4(){return void 0!==j2?j2:typeof document<"u"?document:void 0}(),he(e))}function ve(e){const t=G1();return t?t.sanitize(ro.URL,e)||"":Gd(e,"URL")?Fl(e):Zb(he(e))}function G1(){const e=At();return e&&e[12]}const q2=new jn("ENVIRONMENT_INITIALIZER"),F4=new jn("INJECTOR",-1),L4=new jn("INJECTOR_DEF_TYPES");class B4{get(t,n=ip){if(n===ip){const i=new Error(`NullInjectorError: No provider for ${T(t)}!`);throw i.name="NullInjectorError",i}return n}}function GQ(...e){return{\u0275providers:z4(0,e)}}function z4(e,...t){const n=[],i=new Set;let r;return jh(t,o=>{const s=o;Y2(s,n,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&U4(r,n),n}function U4(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];jh(r,o=>{t.push(o)})}}function Y2(e,t,n,i){if(!(e=N(e)))return!1;let r=null,o=Di(e);const s=!o&&bn(e);if(o||s){if(s&&!s.standalone)return!1;r=e}else{const l=e.ngModule;if(o=Di(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Y2(c,t,n,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{jh(o.imports,h=>{Y2(h,t,n,i)&&(c||(c=[]),c.push(h))})}finally{}void 0!==c&&U4(c,t)}if(!a){const c=qc(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:Bn},{provide:L4,useValue:r,multi:!0},{provide:q2,useValue:()=>Ft(r),multi:!0})}const l=o.providers;null==l||a||jh(l,h=>{t.push(h)})}}return r!==e&&void 0!==e.providers}const WQ=B({provide:String,useValue:B});function X2(e){return null!==e&&"object"==typeof e&&WQ in e}function If(e){return"function"==typeof e}const $2=new jn("Set Injector scope."),ex={},YQ={};let K2;function tx(){return void 0===K2&&(K2=new B4),K2}class rp{}class H4 extends rp{constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Z2(t,s=>this.processProvider(s)),this.records.set(F4,Rg(void 0,this)),r.has("environment")&&this.records.set(rp,Rg(void 0,this));const o=this.records.get($2);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(L4.multi,Bn,cn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Dg(this),i=zi(void 0);try{return t()}finally{Dg(n),zi(i)}}get(t,n=ip,i=cn.Default){this.assertNotDestroyed();const r=Dg(this),o=zi(void 0);try{if(!(i&cn.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function ZQ(e){return"function"==typeof e||"object"==typeof e&&e instanceof jn}(t)&&Hi(t);a=l&&this.injectableDefInScope(l)?Rg(Q2(t),ex):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&cn.Self?tx():this.parent).get(t,n=i&cn.Optional&&n===ip?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Gb]=s[Gb]||[]).unshift(T(t)),r)throw s;return function wK(e,t,n,i){const r=e[Gb];throw t[HR]&&r.unshift(t[HR]),e.message=function CK(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=T(t);if(Array.isArray(t))r=t.map(T).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):T(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(yK,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[Gb]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{zi(o),Dg(r)}}resolveInjectorInitializers(){const t=Dg(this),n=zi(void 0);try{const i=this.get(q2.multi,Bn,cn.Self);for(const r of i)r()}finally{Dg(t),zi(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(T(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(t){let n=If(t=N(t))?t:N(t&&t.provide);const i=function $Q(e){return X2(e)?Rg(void 0,e.useValue):Rg(G4(e),ex)}(t);if(If(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=Rg(void 0,ex,!0),r.factory=()=>_2(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===ex&&(n.value=YQ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function QQ(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=N(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Q2(e){const t=Hi(e),n=null!==t?t.factory:qc(e);if(null!==n)return n;if(e instanceof jn)throw new V(204,!1);if(e instanceof Function)return function XQ(e){const t=e.length;if(t>0)throw N1(t,"?"),new V(204,!1);const n=function Vt(e){const t=e&&(e[rr]||e[qr]);if(t){const n=function Pi(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new V(204,!1)}function G4(e,t,n){let i;if(If(e)){const r=N(e);return qc(r)||Q2(r)}if(X2(e))i=()=>N(e.useValue);else if(function V4(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(..._2(e.deps||[]));else if(function j4(e){return!(!e||!e.useExisting)}(e))i=()=>Ft(N(e.useExisting));else{const r=N(e&&(e.useClass||e.provide));if(!function KQ(e){return!!e.deps}(e))return qc(r)||Q2(r);i=()=>new r(..._2(e.deps))}return i}function Rg(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function JQ(e){return!!e.\u0275providers}function Z2(e,t){for(const n of e)Array.isArray(n)?Z2(n,t):JQ(n)?Z2(n.\u0275providers,t):t(n)}class W4{}class nZ{resolveComponentFactory(t){throw function tZ(e){const t=Error(`No component factory found for ${T(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ng=(()=>{class e{}return e.NULL=new nZ,e})();function iZ(){return Fg(Oi(),At())}function Fg(e,t){return new wr(P(e,t))}let wr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=iZ,e})();function rZ(e){return e instanceof wr?e.nativeElement:e}class Lg{}let rs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function oZ(){const e=At(),n=ae(Oi().index,e);return(Ks(n)?n:e)[11]}(),e})(),sZ=(()=>{class e{}return e.\u0275prov=lt({token:e,providedIn:"root",factory:()=>null}),e})();class W1{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const aZ=new W1("14.3.0"),J2={},eO="ngOriginalError";function tO(e){return e[eO]}class Rf{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&tO(t);for(;n&&tO(n);)n=tO(n);return n||null}}function Nf(e){return e.ownerDocument.defaultView}function Ff(e){return e.ownerDocument}function Hh(e){return e instanceof Function?e():e}function X4(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}const $4="ng-template";function gZ(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==X4(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function K4(e){return 4===e.type&&e.value!==$4}function vZ(e,t,n){return t===(4!==e.type||n?e.value:$4)}function yZ(e,t,n){let i=4;const r=e.attrs||[],o=function xZ(e){for(let t=0;t<e.length;t++)if(bg(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!vZ(e,l,n)||""===l&&1===t.length){if(Kc(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!gZ(e.attrs,c,n)){if(Kc(i))return!1;s=!0}continue}const d=_Z(8&i?"class":l,r,K4(e),n);if(-1===d){if(Kc(i))return!1;s=!0;continue}if(""!==c){let u;u=d>o?"":r[d+1].toLowerCase();const f=8&i?u:null;if(f&&-1!==X4(f,c,0)||2&i&&c!==u){if(Kc(i))return!1;s=!0}}}}else{if(!s&&!Kc(i)&&!Kc(l))return!1;if(s&&Kc(l))continue;s=!1,i=l|1&i}}return Kc(i)||s}function Kc(e){return 0==(1&e)}function _Z(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){const s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function wZ(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Q4(e,t,n=!1){for(let i=0;i<t.length;i++)if(yZ(e,t[i],n))return!0;return!1}function CZ(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Z4(e,t){return e?":not("+t.trim()+")":t}function MZ(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Kc(s)&&(t+=Z4(o,r),r=""),i=s,o=o||!Kc(i);n++}return""!==r&&(t+=Z4(o,r)),t}const Si={};function se(e){J4(xn(),At(),Vo()+e,!1)}function J4(e,t,n,i){if(!i)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&fn(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Tn(t,o,0,n)}ac(n)}function iN(e,t=null,n=null,i){const r=rN(e,t,n,i);return r.resolveInjectorInitializers(),r}function rN(e,t=null,n=null,i,r=new Set){const o=[n||Bn,GQ(e)];return i=i||("object"==typeof e?void 0:T(e)),new H4(o,t||tx(),i||null,r)}let xs=(()=>{class e{static create(n,i){if(Array.isArray(n))return iN({name:""},i,n,"");{const r=n.name??"";return iN({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=ip,e.NULL=new B4,e.\u0275prov=lt({token:e,providedIn:"any",factory:()=>Ft(F4)}),e.__NG_ELEMENT_ID__=-1,e})();function nO(e){return e.length>1?" ("+function kZ(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(i=>T(i.token)).join(" -> ")+")":""}function iO(e,t,n,i){const r=[t],o=n(r),s=i?function lZ(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,i=Error(n);return i[eO]=t,i}(o,i):Error(o);return s.addKey=IZ,s.keys=r,s.injectors=[e],s.constructResolvingMessage=n,s[eO]=i,s}function IZ(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function oN(e,t){const n=[];for(let i=0,r=t.length;i<r;i++){const o=t[i];n.push(o&&0!=o.length?o.map(T).join(" "):"?")}return Error("Cannot resolve all parameters for '"+T(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+T(e)+"' is decorated with Injectable.")}function zZ(e,t){return Error(`Cannot mix multi providers and regular providers, got: ${e} ${t}`)}class op{constructor(t,n){if(this.token=t,this.id=n,!t)throw new V(208,!1);this.displayName=T(this.token)}static get(t){return sN.get(N(t))}static get numberOfKeys(){return sN.numberOfKeys}}class UZ{constructor(){this._allKeys=new Map}get(t){if(t instanceof op)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const n=new op(t,op.numberOfKeys);return this._allKeys.set(t,n),n}get numberOfKeys(){return this._allKeys.size}}const sN=new UZ;class nx{constructor(t,n,i){this.key=t,this.optional=n,this.visibility=i}static fromKey(t){return new nx(t,!1,null)}}const jZ=[];class aN{constructor(t,n,i){this.key=t,this.resolvedFactories=n,this.multiProvider=i,this.resolvedFactory=this.resolvedFactories[0]}}class VZ{constructor(t,n){this.factory=t,this.dependencies=n}}function HZ(e){let t,n;if(e.useClass){const i=N(e.useClass);t=B1().factory(i),n=cN(i)}else e.useExisting?(t=i=>i,n=[nx.fromKey(op.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function YZ(e,t){if(t){const n=t.map(i=>[i]);return t.map(i=>dN(e,i,n))}return cN(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=jZ);return new VZ(t,n)}function GZ(e){return new aN(op.get(e.provide),[HZ(e)],e.multi||!1)}function WZ(e){const i=function qZ(e,t){for(let n=0;n<e.length;n++){const i=e[n],r=t.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw zZ(r,i);if(i.multiProvider)for(let o=0;o<i.resolvedFactories.length;o++)r.resolvedFactories.push(i.resolvedFactories[o]);else t.set(i.key.id,i)}else{let o;o=i.multiProvider?new aN(i.key,i.resolvedFactories.slice(),i.multiProvider):i,t.set(i.key.id,o)}}return t}(lN(e,[]).map(GZ),new Map);return Array.from(i.values())}function lN(e,t){return e.forEach(n=>{if(n instanceof m2)t.push({provide:n,useClass:n});else if(n&&"object"==typeof n&&void 0!==n.provide)t.push(n);else{if(!Array.isArray(n))throw function LZ(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(n);lN(n,t)}}),t}function cN(e){const t=B1().parameters(e);if(!t)return[];if(t.some(n=>null==n))throw oN(e,t);return t.map(n=>dN(e,n,t))}function dN(e,t,n){let i=null,r=!1;if(!Array.isArray(t))return rO(t instanceof Ag?t.token:t,r,null);let o=null;for(let s=0;s<t.length;++s){const a=t[s];a instanceof m2?i=a:a instanceof Ag?i=a.token:a instanceof Df?r=!0:a instanceof b2||a instanceof Tg?o=a:a instanceof jn&&(i=a)}if(i=N(i),null!=i)return rO(i,r,o);throw oN(e,n)}function rO(e,t,n){return new nx(op.get(e),t,n)}const q1={};class Lf{static resolve(t){return WZ(t)}static resolveAndCreate(t,n){const i=Lf.resolve(t);return Lf.fromResolvedProviders(i,n)}static fromResolvedProviders(t,n){return new XZ(t,n)}}let XZ=(()=>{class e{constructor(n,i){this._constructionCounter=0,this._providers=n,this.parent=i||null;const r=n.length;this.keyIds=[],this.objs=[];for(let o=0;o<r;o++)this.keyIds[o]=n[o].key.id,this.objs[o]=q1}get(n,i=ip){return this._getByKey(op.get(n),null,i)}resolveAndCreateChild(n){const i=Lf.resolve(n);return this.createChildFromResolved(i)}createChildFromResolved(n){const i=new e(n);return i.parent=this,i}resolveAndInstantiate(n){return this.instantiateResolved(Lf.resolve([n])[0])}instantiateResolved(n){return this._instantiateProvider(n)}getProviderAtIndex(n){if(n<0||n>=this._providers.length)throw function BZ(e){return Error(`Index ${e} is out-of-bounds.`)}(n);return this._providers[n]}_new(n){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function NZ(e,t){return iO(e,t,function(n){return`Cannot instantiate cyclic dependency!${nO(n)}`})}(this,n.key);return this._instantiateProvider(n)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(n){if(n.multiProvider){const i=[];for(let r=0;r<n.resolvedFactories.length;++r)i[r]=this._instantiate(n,n.resolvedFactories[r]);return i}return this._instantiate(n,n.resolvedFactories[0])}_instantiate(n,i){const r=i.factory;let o,s;try{o=i.dependencies.map(a=>this._getByReflectiveDependency(a))}catch(a){throw a.addKey&&a.addKey(this,n.key),a}try{s=r(...o)}catch(a){throw function FZ(e,t,n,i){return iO(e,i,function(r){const o=T(r[0].token);return`${t.message}: Error during instantiation of ${o}!${nO(r)}.`},t)}(this,a,0,n.key)}return s}_getByReflectiveDependency(n){return this._getByKey(n.key,n.visibility,n.optional?null:ip)}_getByKey(n,i,r){return n===e.INJECTOR_KEY?this:i instanceof b2?this._getByKeySelf(n,r):this._getByKeyDefault(n,r,i)}_getObjByKeyId(n){for(let i=0;i<this.keyIds.length;i++)if(this.keyIds[i]===n)return this.objs[i]===q1&&(this.objs[i]=this._new(this._providers[i])),this.objs[i];return q1}_throwOrNull(n,i){if(i!==ip)return i;throw function RZ(e,t){return iO(e,t,function(n){return`No provider for ${T(n[0].token)}!${nO(n)}`})}(this,n)}_getByKeySelf(n,i){const r=this._getObjByKeyId(n.id);return r!==q1?r:this._throwOrNull(n,i)}_getByKeyDefault(n,i,r){let o;for(o=r instanceof Tg?this.parent:this;o instanceof e;){const s=o,a=s._getObjByKeyId(n.id);if(a!==q1)return a;o=s.parent}return null!==o?o.get(n.token,i):this._throwOrNull(n,i)}get displayName(){return`ReflectiveInjector(providers: [${function $Z(e,t){const n=[];for(let i=0;i<e._providers.length;++i)n[i]=t(e.getProviderAtIndex(i));return n}(this,i=>' "'+i.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return e.INJECTOR_KEY=op.get(xs),e})();function Me(e,t=cn.Default){const n=At();return null===n?Ft(e,t):kR(Oi(),n,N(e),t)}function oO(){throw new Error("invalid")}function ix(e,t){return e<<17|t<<2}function Qc(e){return e>>17&32767}function sO(e){return 2|e}function Gh(e){return(131068&e)>>2}function aO(e,t){return-131069&e|t<<2}function lO(e){return 1|e}function xN(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const s=e.data[o];Tl(r),s.contentQueries(2,t[o],o)}}}function sx(e,t,n,i,r,o,s,a,l,c,h){const d=t.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==h||e&&1024&e[2])&&(d[2]|=1024),Ye(d),d[3]=d[15]=e,d[8]=n,d[10]=s||e&&e[10],d[11]=a||e&&e[11],d[12]=l||e&&e[12]||null,d[9]=c||e&&e[9]||null,d[6]=o,d[20]=function UK(){return zK++}(),d[21]=h,d[16]=2==t.type?e[16]:d,d}function zg(e,t,n,i,r){let o=e.data[t];if(null===o)o=function gO(e,t,n,i,r){const o=zd(),s=Xc(),l=e.data[t]=function hJ(e,t,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(e,t,n,i,r),function hr(){return et.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const s=function Yc(){const e=et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return yo(o,!0),o}function Ug(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function vO(e,t,n){Ju(t);try{const i=e.viewQuery;null!==i&&PO(1,i,n);const r=e.template;null!==r&&wN(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&xN(e,t),e.staticViewQueries&&PO(2,e.viewQuery,n);const o=e.components;null!==o&&function lJ(e,t){for(let n=0;n<t.length;n++)SJ(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,Of()}}function ax(e,t,n,i){const r=t[2];if(128!=(128&r)){Ju(t);try{Ye(t),function _g(e){return et.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&wN(e,t,n,2,i);const s=3==(3&r);if(s){const c=e.preOrderCheckHooks;null!==c&&fn(t,c,null)}else{const c=e.preOrderHooks;null!==c&&Tn(t,c,0,null),gn(t,0)}if(function PJ(e){for(let t=D2(e);null!==t;t=A2(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const r=n[i],o=r[3];0==(512&r[2])&&_t(o,1),r[2]|=512}}}(t),function MJ(e){for(let t=D2(e);null!==t;t=A2(t))for(let n=10;n<t.length;n++){const i=t[n],r=i[1];fe(i)&&ax(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&xN(e,t),s){const c=e.contentCheckHooks;null!==c&&fn(t,c)}else{const c=e.contentHooks;null!==c&&Tn(t,c,1),gn(t,1)}!function sJ(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)ac(~r);else{const o=r,s=n[++i],a=n[++i];Ta(s,o),a(2,t[o])}}}finally{ac(-1)}}(e,t);const a=e.components;null!==a&&function aJ(e,t){for(let n=0;n<t.length;n++)OJ(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&PO(2,l,i),s){const c=e.viewCheckHooks;null!==c&&fn(t,c)}else{const c=e.viewHooks;null!==c&&Tn(t,c,2),gn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,_t(t[3],-1))}finally{Of()}}}function wN(e,t,n,i,r){const o=Vo(),s=2&i;try{ac(-1),s&&t.length>22&&J4(e,t,22,!1),n(i,r)}finally{ac(o)}}function CN(e,t,n){if(Fh(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function yO(e,t,n){!Ao()||(function gJ(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||A1(n,t),ha(i,t);const s=n.initialInputs;for(let a=r;a<o;a++){const l=e.data[a],c=la(l);c&&xJ(t,n,l);const h=T1(t,e,a,n);ha(h,t),null!==s&&wJ(0,a-r,h,l,0,s),c&&(ae(n.index,t)[8]=h)}}(e,t,n,P(n,t)),128==(128&n.flags)&&function vJ(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=function sc(){return et.lFrame.currentDirectiveIndex}();try{ac(o);for(let a=i;a<r;a++){const l=e.data[a],c=t[a];wf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&AN(l,c)}}finally{ac(-1),wf(s)}}(e,t,n))}function _O(e,t,n=P){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function MN(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=bO(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function bO(e,t,n,i,r,o,s,a,l,c){const h=22+i,d=h+r,u=function cJ(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Si);return n}(h,d),f="function"==typeof c?c():c;return u[1]={type:e,blueprint:u,template:n,queries:null,viewQuery:a,declTNode:t,data:u.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function PN(e,t,n,i){const r=NN(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&FN(e).push(i,r.length-1))}function ON(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function SN(e,t){const i=t.directiveEnd,r=e.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const h=r[c],d=h.inputs,u=null===o||K4(t)?null:CJ(d,o);s.push(u),a=ON(d,c,a),l=ON(h.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}function Bl(e,t,n,i,r,o,s,a){const l=P(t,n);let h,c=t.inputs;!a&&null!=c&&(h=c[i])?(OO(e,n,h,i,r),Lh(t)&&EN(n,t.index)):3&t.type&&(i=function uJ(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function EN(e,t){const n=ae(t,e);16&n[2]||(n[2]|=32)}function xO(e,t,n,i){let r=!1;if(Ao()){const o=function yJ(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Q4(n,s.selectors,!1)&&(r||(r=[]),Ub(A1(n,t),e,s.type),la(s)?(TN(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===i?null:{"":-1};if(null!==o){r=!0,kN(n,e.data.length,o.length);for(let h=0;h<o.length;h++){const d=o[h];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Ug(e,t,o.length,null);for(let h=0;h<o.length;h++){const d=o[h];n.mergedAttrs=Lb(n.mergedAttrs,d.hostAttrs),IN(e,n,t,c,d),bJ(c,d,s),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const u=d.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!l&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),c++}SN(e,n)}s&&function _J(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const o=n[t[r+1]];if(null==o)throw new V(-301,!1);i.push(t[r],o)}}}(n,i,s)}return n.mergedAttrs=Lb(n.mergedAttrs,n.attrs),r}function DN(e,t,n,i,r,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~t.index;(function mJ(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function AN(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function TN(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function bJ(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;la(t)&&(n[""]=e)}}function kN(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function IN(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=qc(r.type)),s=new J(o,la(r),Me);e.blueprint[i]=s,n[i]=s,DN(e,t,0,i,Ug(e,n,r.hostVars,Si),r)}function xJ(e,t,n){const i=P(t,e),r=MN(n),o=e[10],s=lx(e,sx(e,r,null,n.onPush?32:16,i,t,o,o.createRenderer(i,n),null,null,null));e[t.index]=s}function Wd(e,t,n,i,r,o){const s=P(e,t);!function wO(e,t,n,i,r,o,s){if(null==o)e.removeAttribute(t,r,n);else{const a=null==s?he(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}(t[11],s,o,e.value,n,i,r)}function wJ(e,t,n,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],h=s[l++],d=s[l++];null!==a?i.setInput(n,d,c,h):n[h]=d}}}function CJ(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function RN(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function OJ(e,t){const n=ae(t,e);if(fe(n)){const i=n[1];48&n[2]?ax(i,n,i.template,n[8]):n[5]>0&&CO(n)}}function CO(e){for(let i=D2(e);null!==i;i=A2(i))for(let r=10;r<i.length;r++){const o=i[r];if(fe(o))if(512&o[2]){const s=o[1];ax(s,o,s.template,o[8])}else o[5]>0&&CO(o)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=ae(n[i],e);fe(r)&&r[5]>0&&CO(r)}}function SJ(e,t){const n=ae(t,e),i=n[1];(function EJ(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),vO(i,n,n[8])}function lx(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function MO(e){for(;e;){e[2]|=32;const t=j1(e);if(y1(e)&&!t)return e;e=t}return null}function cx(e,t,n,i=!0){const r=t[10];r.begin&&r.begin();try{ax(e,t,e.template,n)}catch(s){throw i&&BN(t,s),s}finally{r.end&&r.end()}}function PO(e,t,n){Tl(0),t(e,n)}function NN(e){return e[7]||(e[7]=[])}function FN(e){return e.cleanup||(e.cleanup=[])}function BN(e,t){const n=e[9],i=n?n.get(Rf,null):null;i&&i.handleError(t)}function OO(e,t,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Wh(e,t,n){const i=Qu(t,e);!function d4(e,t,n){e.setValue(t,n)}(e[11],i,n)}function dx(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=F(r,a):2==o&&(i=F(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function hx(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&i.push(io(o)),aa(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&hx(l[1],l,c,i)}const s=n.type;if(8&s)hx(e,t,n.child,i);else if(32&s){const a=E2(n,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=x4(t,n);if(Array.isArray(a))i.push(...a);else{const l=j1(t[16]);hx(l[1],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}class Y1{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return hx(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(aa(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(I2(t,i),Vb(n,i))}this._attachedToViewContainer=!1}u4(this._lView[1],this._lView)}onDestroy(t){PN(this._lView[1],this._lView,null,t)}markForCheck(){MO(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){cx(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iQ(e,t){V1(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=t}}class DJ extends Y1{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;cx(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class SO extends Ng{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=bn(t);return new X1(n,this.ngModule)}}function zN(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class TJ{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){const r=this.injector.get(t,J2,i);return r!==J2||n===J2?r:this.parentInjector.get(t,n,i)}}class X1 extends W4{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function PZ(e){return e.map(MZ).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return zN(this.componentDef.inputs)}get outputs(){return zN(this.componentDef.outputs)}create(t,n,i,r){let o=(r=r||this.ngModule)instanceof rp?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new TJ(t,o):t,a=s.get(Lg,null);if(null===a)throw new V(407,!1);const l=s.get(sZ,null),c=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=i?function dJ(e,t,n){return e.selectRootElement(t,n===uo.ShadowDom)}(c,i,this.componentDef.encapsulation):k2(c,h,function AJ(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h)),u=this.componentDef.onPush?288:272,f=bO(0,null,null,1,0,null,null,null,null,null),v=sx(null,f,null,u,null,null,a,c,l,s,null);let y,_;Ju(v);try{const w=function RJ(e,t,n,i,r,o){const s=n[1];n[22]=e;const l=zg(s,22,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(dx(l,c,!0),null!==e&&(Il(r,e,c),null!==l.classes&&z2(r,e,l.classes),null!==l.styles&&C4(r,e,l.styles)));const h=i.createRenderer(e,t),d=sx(n,MN(t),null,t.onPush?32:16,n[22],l,i,h,o||null,null,null);return s.firstCreatePass&&(Ub(A1(l,n),s,t.type),TN(s,l),kN(l,n.length,1)),lx(n,d),n[22]=d}(d,this.componentDef,v,a,c);if(d)if(i)Il(c,d,["ng-version",aZ.full]);else{const{attrs:O,classes:S}=function OZ(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!Kc(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);O&&Il(c,d,O),S&&S.length>0&&z2(c,d,S.join(" "))}if(_=Q(f,22),void 0!==n){const O=_.projection=[];for(let S=0;S<this.ngContentSelectors.length;S++){const D=n[S];O.push(null!=D?Array.from(D):null)}}y=function NJ(e,t,n,i){const r=n[1],o=function fJ(e,t,n){const i=Oi();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),IN(e,i,t,Ug(e,t,1,null),n),SN(e,i));const r=T1(t,e,i.directiveStart,i);ha(r,t);const o=P(i,t);return o&&ha(o,t),r}(r,n,t);if(e[8]=n[8]=o,null!==i)for(const a of i)a(o,t);if(t.contentQueries){const a=Oi();t.contentQueries(1,o,a.directiveStart)}const s=Oi();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ac(s.index),DN(n[1],s,0,s.directiveStart,s.directiveEnd,t),AN(t,o)),o}(w,this.componentDef,v,[FJ]),vO(f,v,null)}finally{Of()}return new IJ(this.componentType,y,Fg(_,v),v,_)}}class IJ extends class eZ{}{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new DJ(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;OO(o[1],o,r,t,n),EN(o,this._tNode.index)}}get injector(){return new Cg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function FJ(){const e=Oi();en(At()[1],e)}function Cr(e){let t=function UN(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(la(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new V(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const s=e;s.inputs=EO(e.inputs),s.declaredInputs=EO(e.declaredInputs),s.outputs=EO(e.outputs);const a=r.hostBindings;a&&UJ(e,a);const l=r.viewQuery,c=r.contentQueries;if(l&&BJ(e,l),c&&zJ(e,c),X(e.inputs,r.inputs),X(e.declaredInputs,r.declaredInputs),X(e.outputs,r.outputs),la(r)&&r.data.animation){const h=e.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Cr&&(n=!1)}}t=Object.getPrototypeOf(t)}!function LJ(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Lb(r.hostAttrs,n=Lb(n,r.hostAttrs))}}(i)}function EO(e){return e===Li?{}:e===Bn?[]:e}function BJ(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function zJ(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,o)=>{t(i,r,o),n(i,r,o)}:t}function UJ(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}let ux=null;function Bf(){if(!ux){const e=ki.Symbol;if(e&&e.iterator)ux=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ux=i)}}}return ux}function $1(e){return!!DO(e)&&(Array.isArray(e)||!(e instanceof Map)&&Bf()in e)}function DO(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function qd(e,t,n){return e[t]=n}function ua(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function zf(e,t,n,i){const r=ua(e,t,n);return ua(e,t+1,i)||r}function cc(e,t,n,i,r,o){const s=zf(e,t,n,i);return zf(e,t+2,r,o)||s}function Br(e,t,n,i){const r=At();return ua(r,Ud(),t)&&(xn(),Wd(Or(),r,e,t,n,i)),Br}function Vg(e,t,n,i){return ua(e,Ud(),n)?t+he(n)+i:Si}function Hg(e,t,n,i,r,o){const a=zf(e,function jo(){return et.lFrame.bindingIndex}(),n,r);return Al(2),a?t+he(n)+i+he(r)+o:Si}function tt(e,t,n,i,r,o,s,a){const l=At(),c=xn(),h=e+22,d=c.firstCreatePass?function XJ(e,t,n,i,r,o,s,a,l){const c=t.consts,h=zg(t,e,4,s||null,Te(c,a));xO(t,n,h,Te(c,l)),en(t,h);const d=h.tViews=bO(2,h,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,h),d.queries=t.queries.embeddedTView(h)),h}(h,c,l,t,n,i,r,o,s):c.data[h];yo(d,!1);const u=l[11].createComment("");Xb(c,l,u,d),ha(u,l),lx(l,l[h]=RN(u,l,u,d)),Wc(d)&&yO(c,l,d),null!=s&&_O(l,d,a)}function Go(e){return ee(function oc(){return et.lFrame.contextLView}(),22+e)}function $e(e,t,n){const i=At();return ua(i,Ud(),t)&&Bl(xn(),Or(),i,e,t,i[11],n,!1),$e}function AO(e,t,n,i,r){const s=r?"class":"style";OO(e,n,t.inputs[s],s,i)}function x(e,t,n,i){const r=At(),o=xn(),s=22+e,a=r[11],l=r[s]=k2(a,t,function ft(){return et.lFrame.currentNamespace}()),c=o.firstCreatePass?function KJ(e,t,n,i,r,o,s){const a=t.consts,c=zg(t,e,2,r,Te(a,o));return xO(t,n,c,Te(a,s)),null!==c.attrs&&dx(c,c.attrs,!1),null!==c.mergedAttrs&&dx(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,n,i):o.data[s];yo(c,!0);const h=c.mergedAttrs;null!==h&&Il(a,l,h);const d=c.classes;null!==d&&z2(a,l,d);const u=c.styles;return null!==u&&C4(a,l,u),64!=(64&c.flags)&&Xb(o,r,l,c),0===function ei(){return et.lFrame.elementDepthCount}()&&ha(l,r),function ji(){et.lFrame.elementDepthCount++}(),Wc(c)&&(yO(o,r,c),CN(o,c,r)),null!==i&&_O(r,c),x}function M(){let e=Oi();Xc()?ca():(e=e.parent,yo(e,!1));const t=e;!function fi(){et.lFrame.elementDepthCount--}();const n=xn();return n.firstCreatePass&&(en(n,e),Fh(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function vi(e){return 0!=(16&e.flags)}(t)&&AO(n,t,At(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function fr(e){return 0!=(32&e.flags)}(t)&&AO(n,t,At(),t.stylesWithoutHost,!1),M}function oe(e,t,n,i){return x(e,t,n,i),M(),oe}function zr(e,t,n){const i=At(),r=xn(),o=e+22,s=r.firstCreatePass?function QJ(e,t,n,i,r){const o=t.consts,s=Te(o,i),a=zg(t,e,8,"ng-container",s);return null!==s&&dx(a,s,!0),xO(t,n,a,Te(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,n):r.data[o];yo(s,!0);const a=i[o]=i[11].createComment("");return Xb(r,i,a,s),ha(a,i),Wc(s)&&(yO(r,i,s),CN(r,s,i)),null!=n&&_O(i,s),zr}function Ur(){let e=Oi();const t=xn();return Xc()?ca():(e=e.parent,yo(e,!1)),t.firstCreatePass&&(en(t,e),Fh(e)&&t.queries.elementEnd(e)),Ur}function or(){return At()}function Q1(e){return!!e&&"function"==typeof e.then}const TO=function QN(e){return!!e&&"function"==typeof e.subscribe};function Ct(e,t,n,i){const r=At(),o=xn(),s=Oi();return function JN(e,t,n,i,r,o,s,a){const l=Wc(i),h=e.firstCreatePass&&FN(e),d=t[8],u=NN(t);let f=!0;if(3&i.type||a){const _=P(i,t),w=a?a(_):_,O=u.length,S=a?U=>a(io(U[i.index])):i.index;let D=null;if(!a&&l&&(D=function ZJ(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===n&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,r,i.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=o,D.__ngLastListenerFn__=o,f=!1;else{o=t5(i,t,d,o,!1);const U=n.listen(w,r,o);u.push(o,U),h&&h.push(r,S,O,O+1)}}else o=t5(i,t,d,o,!1);const v=i.outputs;let y;if(f&&null!==v&&(y=v[r])){const _=y.length;if(_)for(let w=0;w<_;w+=2){const Y=t[y[w]][y[w+1]].subscribe(o),q=u.length;u.push(o,Y),h&&h.push(r,i.index,q,-(q+1))}}}(o,r,r[11],s,e,t,0,i),Ct}function e5(e,t,n,i){try{return!1!==n(i)}catch(r){return BN(e,r),!1}}function t5(e,t,n,i,r){return function o(s){if(s===Function)return i;MO(2&e.flags?ae(e.index,t):t);let l=e5(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=e5(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Ze(e=1){return function tp(e){return(et.lFrame.contextLView=function Sf(e,t){for(;e>0;)t=t[15],e--;return t}(e,et.lFrame.contextLView))[8]}(e)}function JJ(e,t){let n=null;const i=function bZ(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Q4(e,o,!0):CZ(i,o))return r}else n=r}return n}function dc(e,t,n){return xe(e,"",t,"",n),dc}function xe(e,t,n,i,r){const o=At(),s=Vg(o,t,n,i);return s!==Si&&Bl(xn(),Or(),o,e,s,o[11],r,!1),xe}function zl(e,t,n,i,r,o,s){const a=At(),l=Hg(a,t,n,i,r,o);return l!==Si&&Bl(xn(),Or(),a,e,l,a[11],s,!1),zl}function h5(e,t,n,i,r){const o=e[n+1],s=null===t;let a=i?Qc(o):Gh(o),l=!1;for(;0!==a&&(!1===l||s);){const h=e[a+1];nee(e[a],t)&&(l=!0,e[a+1]=i?lO(h):sO(h)),a=i?Qc(h):Gh(h)}l&&(e[n+1]=i?sO(o):lO(o))}function nee(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Eg(e,t)>=0}const ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function u5(e){return e.substring(ws.key,ws.keyEnd)}function p5(e,t){const n=ws.textEnd;return n===t?-1:(t=ws.keyEnd=function see(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ws.key=t,n),Kg(e,t,n))}function Kg(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ko(e,t){return function Zc(e,t,n,i){const r=At(),o=xn(),s=Al(2);o.firstUpdatePass&&_5(o,e,s,i),t!==Si&&ua(r,s,t)&&x5(o,o.data[Vo()],r,r[11],e,r[s+1]=function gee(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=T(Fl(e)))),e}(t,n),i,s)}(e,t,null,!0),ko}function lp(e){Jc(Nl,Xd,e,!0)}function Xd(e,t){for(let n=function ree(e){return function m5(e){ws.key=0,ws.keyEnd=0,ws.value=0,ws.valueEnd=0,ws.textEnd=e.length}(e),p5(e,Kg(e,0,ws.textEnd))}(t);n>=0;n=p5(t,n))Nl(e,u5(t),!0)}function Jc(e,t,n,i){const r=xn(),o=Al(2);r.firstUpdatePass&&_5(r,null,o,i);const s=At();if(n!==Si&&ua(s,o,n)){const a=r.data[Vo()];if(C5(a,i)&&!y5(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=F(l,n||"")),AO(r,a,s,n,i)}else!function mee(e,t,n,i,r,o,s,a){r===Si&&(r=Bn);let l=0,c=0,h=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==h||null!==d;){const u=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0;let y,v=null;h===d?(l+=2,c+=2,u!==f&&(v=d,y=f)):null===d||null!==h&&h<d?(l+=2,v=h):(c+=2,v=d,y=f),null!==v&&x5(e,t,n,i,v,y,s,a),h=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function fee(e,t,n){if(null==n||""===n)return Bn;const i=[],r=Fl(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,o)}}function y5(e,t){return t>=e.expandoStartIndex}function _5(e,t,n,i){const r=e.data;if(null===r[n+1]){const o=r[Vo()],s=y5(e,n);C5(o,i)&&null===t&&!s&&(t=!1),t=function dee(e,t,n,i){const r=function Cf(e){const t=et.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Z1(n=IO(null,e,t,n,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=IO(r,e,t,n,i),null===o){let l=function hee(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Gh(i))return e[Qc(i)]}(e,t,i);void 0!==l&&Array.isArray(l)&&(l=IO(null,e,t,l[1],i),l=Z1(l,t.attrs,i),function uee(e,t,n,i){e[Qc(n?t.classBindings:t.styleBindings)]=i}(e,t,i,l))}else o=function pee(e,t,n){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Z1(i,e[o].hostAttrs,n);return Z1(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function eee(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Qc(s),l=Gh(s);e[i]=n;let h,c=!1;if(Array.isArray(n)){const d=n;h=d[1],(null===h||Eg(d,h)>0)&&(c=!0)}else h=n;if(r)if(0!==l){const u=Qc(e[a+1]);e[i+1]=ix(u,a),0!==u&&(e[u+1]=aO(e[u+1],i)),e[a+1]=function KZ(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=ix(a,0),0!==a&&(e[a+1]=aO(e[a+1],i)),a=i;else e[i+1]=ix(l,0),0===a?a=i:e[l+1]=aO(e[l+1],i),l=i;c&&(e[i+1]=sO(e[i+1])),h5(e,h,i,!0),h5(e,h,i,!1),function tee(e,t,n,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Eg(o,t)>=0&&(n[i+1]=lO(n[i+1]))}(t,h,e,i,o),s=ix(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function IO(e,t,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],i=Z1(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function Z1(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Nl(e,s,!!n||t[++o]))}return void 0===e?null:e}function x5(e,t,n,i,r,o,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];fx(function pN(e){return 1==(1&e)}(c)?w5(l,t,n,r,Gh(c),s):void 0)||(fx(o)||function uN(e){return 2==(2&e)}(c)&&(o=w5(l,null,n,r,a,s)),function pQ(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=-1===i.indexOf("-")?void 0:sl.DashCase;null==r?e.removeStyle(n,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=sl.Important),e.setStyle(n,i,r,o))}}(i,s,Qu(Vo(),n),r,o))}function w5(e,t,n,i,r,o){const s=null===t;let a;for(;r>0;){const l=e[r],c=Array.isArray(l),h=c?l[1]:l,d=null===h;let u=n[r+1];u===Si&&(u=d?Bn:void 0);let f=d?g2(u,i):h===i?u:void 0;if(c&&!fx(f)&&(f=g2(l,i)),fx(f)&&(a=f,s))return a;const v=e[r+1];r=s?Qc(v):Gh(v)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=g2(l,i))}return a}function fx(e){return void 0!==e}function C5(e,t){return 0!=(e.flags&(t?16:32))}function E(e,t=""){const n=At(),i=xn(),r=e+22,o=i.firstCreatePass?zg(i,r,1,t,null):i.data[r],s=n[r]=function T2(e,t){return e.createText(t)}(n[11],t);Xb(i,n,s,o),yo(o,!1)}function Cs(e){return Ia("",e,""),Cs}function Ia(e,t,n){const i=At(),r=Vg(i,e,t,n);return r!==Si&&Wh(i,Vo(),r),Ia}function mx(e,t,n,i,r){const o=At(),s=Hg(o,e,t,n,i,r);return s!==Si&&Wh(o,Vo(),s),mx}function qh(e,t,n){Jc(Nl,Xd,Vg(At(),e,t,n),!0)}const jf=void 0;var Nee=["en",[["a","p"],["AM","PM"],jf],[["AM","PM"],jf,jf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jf,"{1} 'at' {0}",jf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ree(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Qg={};function Ra(e){const t=function Fee(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=V5(t);if(n)return n;const i=t.split("-")[0];if(n=V5(i),n)return n;if("en"===i)return Nee;throw new V(701,!1)}function V5(e){return e in Qg||(Qg[e]=ki.ng&&ki.ng.common&&ki.ng.common.locales&&ki.ng.common.locales[e]),Qg[e]}var Pn=(()=>((Pn=Pn||{})[Pn.LocaleId=0]="LocaleId",Pn[Pn.DayPeriodsFormat=1]="DayPeriodsFormat",Pn[Pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pn[Pn.DaysFormat=3]="DaysFormat",Pn[Pn.DaysStandalone=4]="DaysStandalone",Pn[Pn.MonthsFormat=5]="MonthsFormat",Pn[Pn.MonthsStandalone=6]="MonthsStandalone",Pn[Pn.Eras=7]="Eras",Pn[Pn.FirstDayOfWeek=8]="FirstDayOfWeek",Pn[Pn.WeekendRange=9]="WeekendRange",Pn[Pn.DateFormat=10]="DateFormat",Pn[Pn.TimeFormat=11]="TimeFormat",Pn[Pn.DateTimeFormat=12]="DateTimeFormat",Pn[Pn.NumberSymbols=13]="NumberSymbols",Pn[Pn.NumberFormats=14]="NumberFormats",Pn[Pn.CurrencyCode=15]="CurrencyCode",Pn[Pn.CurrencySymbol=16]="CurrencySymbol",Pn[Pn.CurrencyName=17]="CurrencyName",Pn[Pn.Currencies=18]="Currencies",Pn[Pn.Directionality=19]="Directionality",Pn[Pn.PluralCase=20]="PluralCase",Pn[Pn.ExtraData=21]="ExtraData",Pn))();const Zg="en-US";let H5=Zg;function LO(e,t,n,i,r){if(e=N(e),Array.isArray(e))for(let o=0;o<e.length;o++)LO(e[o],t,n,i,r);else{const o=xn(),s=At();let a=If(e)?e:N(e.provide),l=G4(e);const c=Oi(),h=1048575&c.providerIndexes,d=c.directiveStart,u=c.providerIndexes>>20;if(If(e)||!e.multi){const f=new J(l,r,Me),v=zO(a,t,r?h:h+u,d);-1===v?(Ub(A1(c,s),o,a),BO(o,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[v]=f,s[v]=f)}else{const f=zO(a,t,h+u,d),v=zO(a,t,h,h+u),y=f>=0&&n[f],_=v>=0&&n[v];if(r&&!_||!r&&!y){Ub(A1(c,s),o,a);const w=function Tte(e,t,n,i,r){const o=new J(e,n,Me);return o.multi=[],o.index=t,o.componentProviders=0,fF(o,r,i&&!n),o}(r?Ate:Dte,n.length,r,i,l);!r&&_&&(n[v].providerFactory=w),BO(o,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(w),s.push(w)}else BO(o,e,f>-1?f:v,fF(n[r?v:f],l,!r&&i));!r&&i&&_&&n[v].componentProviders++}}}function BO(e,t,n,i){const r=If(t),o=function qQ(e){return!!e.useClass}(t);if(r||o){const l=(o?N(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const h=c.indexOf(n);-1===h?c.push(n,[i,l]):c[h+1].push(i,l)}else c.push(n,l)}}}function fF(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function zO(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function Dte(e,t,n,i){return UO(this.multi,[])}function Ate(e,t,n,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=T1(n,n[1],this.providerFactory.index,i);o=a.slice(0,s),UO(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],UO(r,o);return o}function UO(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function oo(e,t=[]){return n=>{n.providersResolver=(i,r)=>function Ete(e,t,n){const i=xn();if(i.firstCreatePass){const r=la(e);LO(n,i.data,i.blueprint,r,!0),LO(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class Vf{}class mF{}class gF extends Vf{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new SO(this);const i=fo(t);this._bootstrapComponents=Hh(i.bootstrap),this._r3Injector=rN(t,n,[{provide:Vf,useValue:this},{provide:Ng,useValue:this.componentFactoryResolver}],T(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class jO extends mF{constructor(t){super(),this.moduleType=t}create(t){return new gF(this.moduleType,t)}}class Ite extends Vf{constructor(t,n,i){super(),this.componentFactoryResolver=new SO(this),this.instance=null;const r=new H4([...t,{provide:Vf,useValue:this},{provide:Ng,useValue:this.componentFactoryResolver}],n||tx(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function bx(e,t,n=null){return new Ite(e,t,n).injector}let Rte=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=z4(0,n.type),r=i.length>0?bx([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,r)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=lt({token:e,providedIn:"environment",factory:()=>new e(Ft(rp))}),e})();function vF(e){e.getStandaloneInjector=t=>t.get(Rte).getOrCreateStandaloneInjector(e)}function al(e,t,n,i){return function PF(e,t,n,i,r,o){const s=t+n;return ua(e,s,r)?qd(e,s+1,o?i.call(o,r):i(r)):ry(e,s+1)}(At(),Kr(),e,t,n,i)}function Hf(e,t,n,i,r){return OF(At(),Kr(),e,t,n,i,r)}function MF(e,t,n,i,r,o,s){return function EF(e,t,n,i,r,o,s,a,l){const c=t+n;return cc(e,c,r,o,s,a)?qd(e,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):ry(e,c+4)}(At(),Kr(),e,t,n,i,r,o,s)}function GO(e,t,n,i,r,o,s,a){const l=Kr()+e,c=At(),h=cc(c,l,n,i,r,o);return ua(c,l+4,s)||h?qd(c,l+5,a?t.call(a,n,i,r,o,s):t(n,i,r,o,s)):function K1(e,t){return e[t]}(c,l+5)}function ry(e,t){const n=e[t];return n===Si?void 0:n}function OF(e,t,n,i,r,o,s){const a=t+n;return zf(e,a,r,o)?qd(e,a+2,s?i.call(s,r,o):i(r,o)):ry(e,a+2)}function WO(e){return t=>{setTimeout(e,void 0,t)}}const yi=class Jte extends b.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=WO(o),r&&(r=WO(r)),s&&(s=WO(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof C.w&&t.add(a),a}};function ene(){return this._results[Bf()]()}class qO{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Bf(),i=qO.prototype;i[n]||(i[n]=ene)}get changes(){return this._changes||(this._changes=new yi)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=Rl(t);(this._changesDetected=!function lK(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Co=(()=>{class e{}return e.__NG_ELEMENT_ID__=ine,e})();const tne=Co,nne=class extends tne{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tViews,r=sx(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),vO(i,r,t),new Y1(r)}};function ine(){return xx(Oi(),At())}function xx(e,t){return 4&e.type?new nne(t,e,Fg(e,t)):null}let ed=(()=>{class e{}return e.__NG_ELEMENT_ID__=rne,e})();function rne(){return RF(Oi(),At())}const one=ed,kF=class extends one{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Fg(this._hostTNode,this._hostLView)}get injector(){return new Cg(this._hostTNode,this._hostLView)}get parentInjector(){const t=zb(this._hostTNode,this._hostLView);if(SR(t)){const n=wg(t,this._hostLView),i=xg(t);return new Cg(n[1].data[i+8],n)}return new Cg(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=IF(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=t.createEmbeddedView(n||{},o);return this.insert(s,r),s}createComponent(t,n,i,r,o){const s=t&&!R1(t);let a;if(s)a=n;else{const d=n||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new X1(bn(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const u=(s?c:this.parentInjector).get(rp,null);u&&(o=u)}const h=l.create(c,r,void 0,o);return this.insert(h.hostView,a),h}insert(t,n){const i=t._lView,r=i[1];if(function Ue(e){return aa(e[3])}(i)){const h=this.indexOf(t);if(-1!==h)this.detach(h);else{const d=i[3],u=new kF(d,d[6],d[3]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function oQ(e,t,n,i){const r=10+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-10?(t[4]=n[r],zR(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function sQ(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=64}(r,i,s,o);const a=F2(o,s),l=i[11],c=Yb(l,s[7]);return null!==c&&function nQ(e,t,n,i,r,o){i[0]=r,i[6]=t,V1(e,i,n,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),zR(YO(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=IF(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=I2(this._lContainer,n);i&&(Vb(YO(this._lContainer),n),u4(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=I2(this._lContainer,n);return i&&null!=Vb(YO(this._lContainer),n)?new Y1(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function IF(e){return e[8]}function YO(e){return e[8]||(e[8]=[])}function RF(e,t){let n;const i=t[e.index];if(aa(i))n=i;else{let r;if(8&e.type)r=io(i);else{const o=t[11];r=o.createComment("");const s=P(e,t);Af(o,Yb(o,s),r,function dQ(e,t){return e.nextSibling(t)}(o,s),!1)}t[e.index]=n=RN(i,t,r,e),lx(t,n)}return new kF(n,e,t)}class XO{constructor(t){this.queryList=t,this.matches=null}clone(){return new XO(this.queryList)}setDirty(){this.queryList.setDirty()}}class $O{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){const s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new $O(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==zF(t,n).matches&&this.queries[n].setDirty()}}class NF{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class KO{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new KO(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class QO{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new QO(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,n,lne(n,o)),this.matchTNodeWithReadOption(t,n,jb(n,t,o,!1,!1))}else i===Co?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,jb(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===wr||r===ed||r===Co&&4&n.type)this.addMatch(n.index,-2);else{const o=jb(n,t,r,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function lne(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function dne(e,t,n,i){return-1===n?function cne(e,t){return 11&e.type?Fg(e,t):4&e.type?xx(e,t):null}(t,e):-2===n?function hne(e,t,n){return n===wr?Fg(t,e):n===Co?xx(t,e):n===ed?RF(t,e):void 0}(e,t,i):T1(e,e[1],n,t)}function FF(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const o=e.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:dne(t,o[c],s[l+1],n.metadata.read))}r.matches=a}return r.matches}function ZO(e,t,n,i){const r=e.queries.getByIndex(n),o=r.matches;if(null!==o){const s=FF(e,t,r,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],h=t[-l];for(let d=10;d<h.length;d++){const u=h[d];u[17]===u[3]&&ZO(u[1],u,c,i)}if(null!==h[9]){const d=h[9];for(let u=0;u<d.length;u++){const f=d[u];ZO(f[1],f,c,i)}}}}}return i}function Sr(e){const t=At(),n=xn(),i=Mf();Tl(i+1);const r=zF(n,i);if(e.dirty&&function le(e){return 4==(4&e[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?ZO(n,t,i,[]):FF(n,t,r,i);e.reset(o,rZ),e.notifyOnChanges()}return!0}return!1}function dp(e,t,n){const i=xn();i.firstCreatePass&&(BF(i,new NF(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),LF(i,At(),t)}function Er(){return function une(e,t){return e[19].queries[t].queryList}(At(),Mf())}function LF(e,t,n){const i=new qO(4==(4&n));PN(e,t,i,i.destroy),null===t[19]&&(t[19]=new $O),t[19].queries.push(new XO(i))}function BF(e,t,n){null===e.queries&&(e.queries=new KO),e.queries.track(new QO(t,n))}function zF(e,t){return e.queries.getByIndex(t)}function Ul(e,t){return xx(e,t)}const jr=k1("Input",e=>({bindingPropertyName:e})),ay=k1("Output",e=>({bindingPropertyName:e})),hp=k1("HostListener",(e,t)=>({eventName:e,args:t}));function Cx(...e){}const Mx=new jn("Application Initializer");let Px=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Cx,this.reject=Cx,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Q1(o))n.push(o);else if(TO(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ft(Mx,8))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ly=new jn("AppId",{providedIn:"root",factory:function oL(){return`${iS()}${iS()}${iS()}`}});function iS(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sL=new jn("Platform Initializer"),hc=new jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aL=new jn("appBootstrapListener"),lL=new jn("AnimationModuleType");let Ine=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Yh=new jn("LocaleId",{providedIn:"root",factory:()=>Ho(Yh,cn.Optional|cn.SkipSelf)||function Rne(){return typeof $localize<"u"&&$localize.locale||Zg}()});class Fne{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let rS=(()=>{class e{compileModuleSync(n){return new jO(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),o=Hh(fo(n).declarations).reduce((s,a)=>{const l=bn(a);return l&&s.push(new X1(l)),s},[]);return new Fne(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const zne=(()=>Promise.resolve(0))();function oS(e){typeof Zone>"u"?zne.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class br{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yi(!1),this.onMicrotaskEmpty=new yi(!1),this.onStable=new yi(!1),this.onError=new yi(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Une(){let e=ki.requestAnimationFrame,t=ki.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Hne(e){const t=()=>{!function Vne(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ki,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,aS(e),e.isCheckStableRunning=!0,sS(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),aS(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{try{return hL(e),n.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),uL(e)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return hL(e),n.invoke(r,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),uL(e)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,aS(e),sS(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!br.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(br.isInAngularZone())throw new V(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,jne,Cx,Cx);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const jne={};function sS(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function aS(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function hL(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function uL(e){e._nesting--,sS(e)}class Gne{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yi,this.onMicrotaskEmpty=new yi,this.onStable=new yi,this.onError=new yi}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const pL=new jn(""),Ox=new jn("");let dS,lS=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dS||(function Wne(e){dS=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{br.assertNotInAngularZone(),oS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oS(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ft(br),Ft(cS),Ft(Ox))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})(),cS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return dS?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),up=null;const fL=new jn("AllowMultipleToken"),hS=new jn("PlatformDestroyListeners");class mL{constructor(t,n){this.name=t,this.token=n}}function vL(e,t,n=[]){const i=`Platform: ${t}`,r=new jn(i);return(o=[])=>{let s=uS();if(!s||s.injector.get(fL,!1)){const a=[...n,...o,{provide:r,useValue:!0}];e?e(a):function Xne(e){if(up&&!up.get(fL,!1))throw new V(400,!1);up=e;const t=e.get(_L);(function gL(e){const t=e.get(sL,null);t&&t.forEach(n=>n())})(e)}(function yL(e=[],t){return xs.create({name:t,providers:[{provide:$2,useValue:"platform"},{provide:hS,useValue:new Set([()=>up=null])},...e]})}(a,i))}return function Kne(e){const t=uS();if(!t)throw new V(401,!1);return t}()}}function uS(){return up?.get(_L)??null}let _L=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function xL(e,t){let n;return n="noop"===e?new Gne:("zone.js"===e?void 0:e)||new br(t),n}(i?.ngZone,function bL(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:br,useValue:r}];return r.run(()=>{const s=xs.create({providers:o,parent:this.injector,name:n.moduleType.name}),a=n.create(s),l=a.injector.get(Rf,null);if(!l)throw new V(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:h=>{l.handleError(h)}});a.onDestroy(()=>{Sx(this._modules,a),c.unsubscribe()})}),function wL(e,t,n){try{const i=n();return Q1(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(Px);return c.runInitializers(),c.donePromise.then(()=>(function G5(e){nn(e,"Expected localeId to be defined"),"string"==typeof e&&(H5=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Yh,Zg)||Zg),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,i=[]){const r=CL({},i);return function qne(e,t,n){const i=new jO(n);return Promise.resolve(i)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){const i=n.injector.get(Gf);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new V(403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(hS,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ft(xs))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function CL(e,t){return Array.isArray(t)?t.reduce(CL,e):{...e,...t}}let Gf=(()=>{class e{constructor(n,i,r){this._zone=n,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new A.y(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new A.y(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{br.assertNotInAngularZone(),oS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{br.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=(0,H.T)(o,s.pipe((0,z.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const r=n instanceof W4;if(!this._injector.get(Px).done)throw!r&&function Qi(e){const t=bn(e)||Ui(e)||si(e);return null!==t&&t.standalone}(n),new V(405,false);let s;s=r?n:this._injector.get(Ng).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Yne(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Vf),c=s.create(xs.NULL,[],i||s.selector,a),h=c.location.nativeElement,d=c.injector.get(pL,null);return d?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),Sx(this.components,c),d?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new V(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Sx(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(aL,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sx(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Ft(br),Ft(rp),Ft(Rf))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Sx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let PL=!0,OL=!1;let nd=(()=>{class e{}return e.__NG_ELEMENT_ID__=Jne,e})();function Jne(e){return function eie(e,t,n){if(Lh(e)&&!n){const i=ae(e.index,t);return new Y1(i,i)}return 47&e.type?new Y1(t[16],t):null}(Oi(),At(),16==(16&e))}class AL{constructor(){}supports(t){return $1(t)}create(t){return new sie(t)}}const oie=(e,t)=>t;class sie{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||oie}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const s=!i||n&&n.currentIndex<kL(i,r,o)?n:i,a=kL(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,h=l-r;if(c!=h){for(let u=0;u<c;u++){const f=u<o.length?o[u]:o[u]=0,v=f+u;h<=v&&v<c&&(o[u]=f+1)}o[s.previousIndex]=h-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!$1(t))throw new V(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),i=!0),n=n._next}else r=0,function WJ(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Bf()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new aie(n,i),o,r),t}_verifyReinsertion(t,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new TL),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TL),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class aie{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lie{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class TL{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new lie,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kL(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class IL{constructor(){}supports(t){return t instanceof Map||DO(t)}create(){return new cie}}class cie{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||DO(t)))throw new V(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new die(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class die{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RL(){return new Ax([new AL])}let Ax=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||RL()),deps:[[e,new Tg,new Df]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new V(901,!1)}}return e.\u0275prov=lt({token:e,providedIn:"root",factory:RL}),e})();function NL(){return new cy([new IL])}let cy=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||NL()),deps:[[e,new Tg,new Df]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new V(901,!1)}}return e.\u0275prov=lt({token:e,providedIn:"root",factory:NL}),e})();const pie=vL(null,"core",[]);let fie=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ft(Gf))},e.\u0275mod=yt({type:e}),e.\u0275inj=un({}),e})();function $h(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function yS(e,t){const n=bn(e),i=t.elementInjector||tx();return new X1(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let Tx=null;function id(){return Tx}const Qr=new jn("DocumentToken");let _S=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:function(){return function yie(){return Ft(FL)}()},providedIn:"platform"}),e})();const _ie=new jn("Location Initialized");let FL=(()=>{class e extends _S{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return id().getBaseHref(this._doc)}onPopState(n){const i=id().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=id().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,i,r){LL()?this._history.pushState(n,i,r):this.location.hash=r}replaceState(n,i,r){LL()?this._history.replaceState(n,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr))},e.\u0275prov=lt({token:e,factory:function(){return function bie(){return new FL(Ft(Qr))}()},providedIn:"platform"}),e})();function LL(){return!!window.history.pushState}function bS(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function BL(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Kh(e){return e&&"?"!==e[0]?"?"+e:e}let pp=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:function(){return Ho(UL)},providedIn:"root"}),e})();const zL=new jn("appBaseHref");let UL=(()=>{class e extends pp{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ho(Qr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return bS(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Kh(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){const s=this.prepareExternalUrl(r+Kh(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){const s=this.prepareExternalUrl(r+Kh(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ft(_S),Ft(zL,8))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xie=(()=>{class e extends pp{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=bS(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Kh(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Kh(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ft(_S),Ft(zL,8))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})(),qf=(()=>{class e{constructor(n){this._subject=new yi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._baseHref=BL(jL(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Kh(i))}normalize(n){return e.stripTrailingSlash(function Cie(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,jL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kh(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kh(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return e.normalizeQueryParams=Kh,e.joinWithSlash=bS,e.stripTrailingSlash=BL,e.\u0275fac=function(n){return new(n||e)(Ft(pp))},e.\u0275prov=lt({token:e,factory:function(){return function wie(){return new qf(Ft(pp))}()},providedIn:"root"}),e})();function jL(e){return e.replace(/\/index.html$/,"")}var Wo=(()=>((Wo=Wo||{})[Wo.Format=0]="Format",Wo[Wo.Standalone=1]="Standalone",Wo))(),$i=(()=>(($i=$i||{})[$i.Narrow=0]="Narrow",$i[$i.Abbreviated=1]="Abbreviated",$i[$i.Wide=2]="Wide",$i[$i.Short=3]="Short",$i))(),Mo=(()=>((Mo=Mo||{})[Mo.Short=0]="Short",Mo[Mo.Medium=1]="Medium",Mo[Mo.Long=2]="Long",Mo[Mo.Full=3]="Full",Mo))(),ai=(()=>((ai=ai||{})[ai.Decimal=0]="Decimal",ai[ai.Group=1]="Group",ai[ai.List=2]="List",ai[ai.PercentSign=3]="PercentSign",ai[ai.PlusSign=4]="PlusSign",ai[ai.MinusSign=5]="MinusSign",ai[ai.Exponential=6]="Exponential",ai[ai.SuperscriptingExponent=7]="SuperscriptingExponent",ai[ai.PerMille=8]="PerMille",ai[ai.Infinity=9]="Infinity",ai[ai.NaN=10]="NaN",ai[ai.TimeSeparator=11]="TimeSeparator",ai[ai.CurrencyDecimal=12]="CurrencyDecimal",ai[ai.CurrencyGroup=13]="CurrencyGroup",ai))();function kx(e,t){return pc(Ra(e)[Pn.DateFormat],t)}function Ix(e,t){return pc(Ra(e)[Pn.TimeFormat],t)}function Rx(e,t){return pc(Ra(e)[Pn.DateTimeFormat],t)}function uc(e,t){const n=Ra(e),i=n[Pn.NumberSymbols][t];if(typeof i>"u"){if(t===ai.CurrencyDecimal)return n[Pn.NumberSymbols][ai.Decimal];if(t===ai.CurrencyGroup)return n[Pn.NumberSymbols][ai.Group]}return i}function HL(e){if(!e[Pn.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Pn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function pc(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function wS(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Fie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dy={},Lie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ms=(()=>((Ms=Ms||{})[Ms.Short=0]="Short",Ms[Ms.ShortGMT=1]="ShortGMT",Ms[Ms.Long=2]="Long",Ms[Ms.Extended=3]="Extended",Ms))(),di=(()=>((di=di||{})[di.FullYear=0]="FullYear",di[di.Month=1]="Month",di[di.Date=2]="Date",di[di.Hours=3]="Hours",di[di.Minutes=4]="Minutes",di[di.Seconds=5]="Seconds",di[di.FractionalSeconds=6]="FractionalSeconds",di[di.Day=7]="Day",di))(),Bi=(()=>((Bi=Bi||{})[Bi.DayPeriods=0]="DayPeriods",Bi[Bi.Days=1]="Days",Bi[Bi.Months=2]="Months",Bi[Bi.Eras=3]="Eras",Bi))();function Bie(e,t,n,i){let r=function Yie(e){if(qL(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,o=1,s=1]=e.split("-").map(a=>+a);return Nx(r,o-1,s)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let i;if(i=e.match(Fie))return function Xie(e){const t=new Date(0);let n=0,i=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(e);if(!qL(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Qh(n,t)||t;let a,s=[];for(;t;){if(a=Lie.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const h=s.pop();if(!h)break;t=h}}let l=r.getTimezoneOffset();i&&(l=WL(i,l),r=function qie(e,t,n){const i=n?-1:1,r=e.getTimezoneOffset();return function Wie(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,i*(WL(t,r)-r))}(r,i,!0));let c="";return s.forEach(h=>{const d=function Gie(e){if(MS[e])return MS[e];let t;switch(e){case"G":case"GG":case"GGG":t=so(Bi.Eras,$i.Abbreviated);break;case"GGGG":t=so(Bi.Eras,$i.Wide);break;case"GGGGG":t=so(Bi.Eras,$i.Narrow);break;case"y":t=ss(di.FullYear,1,0,!1,!0);break;case"yy":t=ss(di.FullYear,2,0,!0,!0);break;case"yyy":t=ss(di.FullYear,3,0,!1,!0);break;case"yyyy":t=ss(di.FullYear,4,0,!1,!0);break;case"Y":t=zx(1);break;case"YY":t=zx(2,!0);break;case"YYY":t=zx(3);break;case"YYYY":t=zx(4);break;case"M":case"L":t=ss(di.Month,1,1);break;case"MM":case"LL":t=ss(di.Month,2,1);break;case"MMM":t=so(Bi.Months,$i.Abbreviated);break;case"MMMM":t=so(Bi.Months,$i.Wide);break;case"MMMMM":t=so(Bi.Months,$i.Narrow);break;case"LLL":t=so(Bi.Months,$i.Abbreviated,Wo.Standalone);break;case"LLLL":t=so(Bi.Months,$i.Wide,Wo.Standalone);break;case"LLLLL":t=so(Bi.Months,$i.Narrow,Wo.Standalone);break;case"w":t=CS(1);break;case"ww":t=CS(2);break;case"W":t=CS(1,!0);break;case"d":t=ss(di.Date,1);break;case"dd":t=ss(di.Date,2);break;case"c":case"cc":t=ss(di.Day,1);break;case"ccc":t=so(Bi.Days,$i.Abbreviated,Wo.Standalone);break;case"cccc":t=so(Bi.Days,$i.Wide,Wo.Standalone);break;case"ccccc":t=so(Bi.Days,$i.Narrow,Wo.Standalone);break;case"cccccc":t=so(Bi.Days,$i.Short,Wo.Standalone);break;case"E":case"EE":case"EEE":t=so(Bi.Days,$i.Abbreviated);break;case"EEEE":t=so(Bi.Days,$i.Wide);break;case"EEEEE":t=so(Bi.Days,$i.Narrow);break;case"EEEEEE":t=so(Bi.Days,$i.Short);break;case"a":case"aa":case"aaa":t=so(Bi.DayPeriods,$i.Abbreviated);break;case"aaaa":t=so(Bi.DayPeriods,$i.Wide);break;case"aaaaa":t=so(Bi.DayPeriods,$i.Narrow);break;case"b":case"bb":case"bbb":t=so(Bi.DayPeriods,$i.Abbreviated,Wo.Standalone,!0);break;case"bbbb":t=so(Bi.DayPeriods,$i.Wide,Wo.Standalone,!0);break;case"bbbbb":t=so(Bi.DayPeriods,$i.Narrow,Wo.Standalone,!0);break;case"B":case"BB":case"BBB":t=so(Bi.DayPeriods,$i.Abbreviated,Wo.Format,!0);break;case"BBBB":t=so(Bi.DayPeriods,$i.Wide,Wo.Format,!0);break;case"BBBBB":t=so(Bi.DayPeriods,$i.Narrow,Wo.Format,!0);break;case"h":t=ss(di.Hours,1,-12);break;case"hh":t=ss(di.Hours,2,-12);break;case"H":t=ss(di.Hours,1);break;case"HH":t=ss(di.Hours,2);break;case"m":t=ss(di.Minutes,1);break;case"mm":t=ss(di.Minutes,2);break;case"s":t=ss(di.Seconds,1);break;case"ss":t=ss(di.Seconds,2);break;case"S":t=ss(di.FractionalSeconds,1);break;case"SS":t=ss(di.FractionalSeconds,2);break;case"SSS":t=ss(di.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Lx(Ms.Short);break;case"ZZZZZ":t=Lx(Ms.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Lx(Ms.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Lx(Ms.Long);break;default:return null}return MS[e]=t,t}(h);c+=d?d(r,n,l):"''"===h?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Nx(e,t,n){const i=new Date(0);return i.setFullYear(e,t,n),i.setHours(0,0,0),i}function Qh(e,t){const n=function Mie(e){return Ra(e)[Pn.LocaleId]}(e);if(dy[n]=dy[n]||{},dy[n][t])return dy[n][t];let i="";switch(t){case"shortDate":i=kx(e,Mo.Short);break;case"mediumDate":i=kx(e,Mo.Medium);break;case"longDate":i=kx(e,Mo.Long);break;case"fullDate":i=kx(e,Mo.Full);break;case"shortTime":i=Ix(e,Mo.Short);break;case"mediumTime":i=Ix(e,Mo.Medium);break;case"longTime":i=Ix(e,Mo.Long);break;case"fullTime":i=Ix(e,Mo.Full);break;case"short":const r=Qh(e,"shortTime"),o=Qh(e,"shortDate");i=Fx(Rx(e,Mo.Short),[r,o]);break;case"medium":const s=Qh(e,"mediumTime"),a=Qh(e,"mediumDate");i=Fx(Rx(e,Mo.Medium),[s,a]);break;case"long":const l=Qh(e,"longTime"),c=Qh(e,"longDate");i=Fx(Rx(e,Mo.Long),[l,c]);break;case"full":const h=Qh(e,"fullTime"),d=Qh(e,"fullDate");i=Fx(Rx(e,Mo.Full),[h,d])}return i&&(dy[n][t]=i),i}function Fx(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,i){return null!=t&&i in t?t[i]:n})),e}function rd(e,t,n="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function ss(e,t,n=0,i=!1,r=!1){return function(o,s){let a=function Uie(e,t){switch(e){case di.FullYear:return t.getFullYear();case di.Month:return t.getMonth();case di.Date:return t.getDate();case di.Hours:return t.getHours();case di.Minutes:return t.getMinutes();case di.Seconds:return t.getSeconds();case di.FractionalSeconds:return t.getMilliseconds();case di.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===di.Hours)0===a&&-12===n&&(a=12);else if(e===di.FractionalSeconds)return function zie(e,t){return rd(e,3).substring(0,t)}(a,t);const l=uc(s,ai.MinusSign);return rd(a,t,l,i,r)}}function so(e,t,n=Wo.Format,i=!1){return function(r,o){return function jie(e,t,n,i,r,o){switch(n){case Bi.Months:return function Sie(e,t,n){const i=Ra(e),o=pc([i[Pn.MonthsFormat],i[Pn.MonthsStandalone]],t);return pc(o,n)}(t,r,i)[e.getMonth()];case Bi.Days:return function Oie(e,t,n){const i=Ra(e),o=pc([i[Pn.DaysFormat],i[Pn.DaysStandalone]],t);return pc(o,n)}(t,r,i)[e.getDay()];case Bi.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const c=function Tie(e){const t=Ra(e);return HL(t),(t[Pn.ExtraData][2]||[]).map(i=>"string"==typeof i?wS(i):[wS(i[0]),wS(i[1])])}(t),h=function kie(e,t,n){const i=Ra(e);HL(i);const o=pc([i[Pn.ExtraData][0],i[Pn.ExtraData][1]],t)||[];return pc(o,n)||[]}(t,r,i),d=c.findIndex(u=>{if(Array.isArray(u)){const[f,v]=u,y=s>=f.hours&&a>=f.minutes,_=s<v.hours||s===v.hours&&a<v.minutes;if(f.hours<v.hours){if(y&&_)return!0}else if(y||_)return!0}else if(u.hours===s&&u.minutes===a)return!0;return!1});if(-1!==d)return h[d]}return function Pie(e,t,n){const i=Ra(e),o=pc([i[Pn.DayPeriodsFormat],i[Pn.DayPeriodsStandalone]],t);return pc(o,n)}(t,r,i)[s<12?0:1];case Bi.Eras:return function Eie(e,t){return pc(Ra(e)[Pn.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,o,e,t,n,i)}}function Lx(e){return function(t,n,i){const r=-1*i,o=uc(n,ai.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Ms.Short:return(r>=0?"+":"")+rd(s,2,o)+rd(Math.abs(r%60),2,o);case Ms.ShortGMT:return"GMT"+(r>=0?"+":"")+rd(s,1,o);case Ms.Long:return"GMT"+(r>=0?"+":"")+rd(s,2,o)+":"+rd(Math.abs(r%60),2,o);case Ms.Extended:return 0===i?"Z":(r>=0?"+":"")+rd(s,2,o)+":"+rd(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}function GL(e){return Nx(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function CS(e,t=!1){return function(n,i){let r;if(t){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{const o=GL(n),s=function Hie(e){const t=Nx(e,0,1).getDay();return Nx(e,0,1+(t<=4?4:11)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return rd(r,e,uc(i,ai.MinusSign))}}function zx(e,t=!1){return function(n,i){return rd(GL(n).getFullYear(),e,uc(i,ai.MinusSign),t)}}const MS={};function WL(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function qL(e){return e instanceof Date&&!isNaN(e.valueOf())}function KL(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let AS=(()=>{class e{constructor(n,i,r,o){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&($1(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),n.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),n.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${T(i.item)}`);this._toggleClass(i.item,!0)}),n.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(i=>this._toggleClass(i,!0)):Object.keys(n).forEach(i=>this._toggleClass(i,!!n[i])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(i=>this._toggleClass(i,!1)):Object.keys(n).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(n,i){(n=n.trim())&&n.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return e.\u0275fac=function(n){return new(n||e)(Me(Ax),Me(cy),Me(wr),Me(rs))},e.\u0275dir=xt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class are{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pa=(()=>{class e{constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new are(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),JL(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{JL(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(Me(ed),Me(Co),Me(Ax))},e.\u0275dir=xt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function JL(e,t){e.context.$implicit=t.item}let Us=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new cre,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){eB("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){eB("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(Me(ed),Me(Co))},e.\u0275dir=xt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class cre{constructor(){this.$implicit=null,this.ngIf=null}}function eB(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${T(t)}'.`)}class TS{constructor(t,n){this._viewContainerRef=t,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let jx=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const i=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(n)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=xt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),tB=(()=>{class e{constructor(n,i,r){this.ngSwitch=r,r._addCase(),this._view=new TS(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(n){return new(n||e)(Me(ed),Me(Co),Me(jx,9))},e.\u0275dir=xt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),nB=(()=>{class e{constructor(n,i,r){r._addDefault(new TS(n,i))}}return e.\u0275fac=function(n){return new(n||e)(Me(ed),Me(Co),Me(jx,9))},e.\u0275dir=xt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),Yf=(()=>{class e{constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[r,o]=n.split("."),s=-1===r.indexOf("-")?void 0:sl.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(Me(wr),Me(cy),Me(rs))},e.\u0275dir=xt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),t0=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(n){return new(n||e)(Me(ed))},e.\u0275dir=xt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[is]}),e})();const bre=new jn("DATE_PIPE_DEFAULT_TIMEZONE");let rB=(()=>{class e{constructor(n,i){this.locale=n,this.defaultTimezone=i}transform(n,i="mediumDate",r,o){if(null==n||""===n||n!=n)return null;try{return Bie(n,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(s){throw function od(e,t){return new V(2100,!1)}()}}}return e.\u0275fac=function(n){return new(n||e)(Me(Yh,16),Me(bre,24))},e.\u0275pipe=xi({name:"date",type:e,pure:!0,standalone:!0}),e})(),Fa=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({}),e})();const sB="browser";function RS(e){return e===sB}let Rre=(()=>{class e{}return e.\u0275prov=lt({token:e,providedIn:"root",factory:()=>new Nre(Ft(Qr),window)}),e})();class Nre{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function Fre(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=aB(this.window.history)||aB(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function aB(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class lB{}class LS extends class coe extends class vie{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function gie(e){Tx||(Tx=e)}(new LS)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function doe(){return py=py||document.querySelector("base"),py?py.getAttribute("href"):null}();return null==n?null:function hoe(e){Gx=Gx||document.createElement("a"),Gx.setAttribute("href",e);const t=Gx.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){py=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return KL(document.cookie,t)}}let Gx,py=null;const pB=new jn("TRANSITION_ID"),poe=[{provide:Mx,useFactory:function uoe(e,t,n){return()=>{n.get(Px).donePromise.then(()=>{const i=id(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[pB,Qr,xs],multi:!0}];let moe=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();const Wx=new jn("EventManagerPlugins");let fy=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Ft(Wx),Ft(br))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();class fB{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=id().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let mB=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})(),my=(()=>{class e extends mB{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,r){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(gB),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(n,r,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(gB))}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();function gB(e){id().remove(e)}const BS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zS=/%COMP%/g;function qx(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?qx(e,r,n):(r=r.replace(zS,e),n.push(r))}return n}function _B(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Yx=(()=>{class e{constructor(n,i,r){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new US(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case uo.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new xoe(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(n),r}case 1:case uo.ShadowDom:return new woe(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const r=qx(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Ft(fy),Ft(my),Ft(ly))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();class US{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(BS[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(xB(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(xB(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const o=BS[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=BS[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(sl.DashCase|sl.Important)?t.style.setProperty(n,i,r&sl.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&sl.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,_B(i)):this.eventManager.addEventListener(t,n,_B(i))}}function xB(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class xoe extends US{constructor(t,n,i,r){super(t),this.component=i;const o=qx(r+"-"+i.id,i.styles,[]);n.addStyles(o),this.contentAttr=function yoe(e){return"_ngcontent-%COMP%".replace(zS,e)}(r+"-"+i.id),this.hostAttr=function _oe(e){return"_nghost-%COMP%".replace(zS,e)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}class woe extends US{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=qx(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Coe=(()=>{class e extends fB{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();const wB=["alt","control","meta","shift"],Moe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Poe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Ooe=(()=>{class e extends fB{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>id().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),wB.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=Moe[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),wB.forEach(s=>{s!==r&&(0,Poe[s])(n)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();const MB=[{provide:hc,useValue:sB},{provide:sL,useValue:function Soe(){LS.makeCurrent()},multi:!0},{provide:Qr,useFactory:function Doe(){return function vQ(e){j2=e}(document),document},deps:[]}],Aoe=vL(pie,"browser",MB),PB=new jn(""),OB=[{provide:Ox,useClass:class foe{addToWindow(t){ki.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},ki.getAllAngularTestabilities=()=>t.getAllTestabilities(),ki.getAllAngularRootElements=()=>t.getAllRootElements(),ki.frameworkStabilizers||(ki.frameworkStabilizers=[]),ki.frameworkStabilizers.push(i=>{const r=ki.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?id().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:pL,useClass:lS,deps:[br,cS,Ox]},{provide:lS,useClass:lS,deps:[br,cS,Ox]}],SB=[{provide:$2,useValue:"root"},{provide:Rf,useFactory:function Eoe(){return new Rf},deps:[]},{provide:Wx,useClass:Coe,multi:!0,deps:[Qr,br,hc]},{provide:Wx,useClass:Ooe,multi:!0,deps:[Qr]},{provide:Yx,useClass:Yx,deps:[fy,my,ly]},{provide:Lg,useExisting:Yx},{provide:mB,useExisting:my},{provide:my,useClass:my,deps:[Qr]},{provide:fy,useClass:fy,deps:[Wx,br]},{provide:lB,useClass:moe,deps:[]},[]];let EB=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ly,useValue:n.appId},{provide:pB,useExisting:ly},poe]}}}return e.\u0275fac=function(n){return new(n||e)(Ft(PB,12))},e.\u0275mod=yt({type:e}),e.\u0275inj=un({providers:[...SB,...OB],imports:[Fa,fie]}),e})(),cl=(()=>{class e{constructor(n){this._doc=n,this._dom=id()}addTag(n,i=!1){return n?this._getOrCreateElement(n,i):null}addTags(n,i=!1){return n?n.reduce((r,o)=>(o&&r.push(this._getOrCreateElement(o,i)),r),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];const i=this._doc.querySelectorAll(`meta[${n}]`);return i?[].slice.call(i):[]}updateTag(n,i){if(!n)return null;i=i||this._parseSelector(n);const r=this.getTag(i);return r?this._setMetaElementAttributes(n,r):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,i=!1){if(!i){const s=this._parseSelector(n),a=this.getTags(s).filter(l=>this._containsAttributes(n,l))[0];if(void 0!==a)return a}const r=this._dom.createElement("meta");return this._setMetaElementAttributes(n,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(n,i){return Object.keys(n).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),n[r])),i}_parseSelector(n){const i=n.name?"name":"property";return`${i}="${n[i]}"`}_containsAttributes(n,i){return Object.keys(n).every(r=>i.getAttribute(this._getMetaKeyMap(r))===n[r])}_getMetaKeyMap(n){return koe[n]||n}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr))},e.\u0275prov=lt({token:e,factory:function(n){let i=null;return i=n?new n:function Toe(){return new cl(Ft(Qr))}(),i},providedIn:"root"}),e})();const koe={httpEquiv:"http-equiv"};let dl=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr))},e.\u0275prov=lt({token:e,factory:function(n){let i=null;return i=n?new n:function Ioe(){return new dl(Ft(Qr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let TB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:function(n){let i=null;return i=n?new(n||e):Ft(kB),i},providedIn:"root"}),e})(),kB=(()=>{class e extends TB{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case ro.NONE:return i;case ro.HTML:return Gd(i,"HTML")?Fl(i):R4(this._doc,String(i)).toString();case ro.STYLE:return Gd(i,"Style")?Fl(i):i;case ro.SCRIPT:if(Gd(i,"Script"))return Fl(i);throw new Error("unsafe value used in a script context");case ro.URL:return Gd(i,"URL")?Fl(i):Zb(String(i));case ro.RESOURCE_URL:if(Gd(i,"ResourceURL"))return Fl(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return function MQ(e){return new yQ(e)}(n)}bypassSecurityTrustStyle(n){return function PQ(e){return new _Q(e)}(n)}bypassSecurityTrustScript(n){return function OQ(e){return new bQ(e)}(n)}bypassSecurityTrustUrl(n){return function SQ(e){return new xQ(e)}(n)}bypassSecurityTrustResourceUrl(n){return function EQ(e){return new wQ(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr))},e.\u0275prov=lt({token:e,factory:function(n){let i=null;return i=n?new n:function Uoe(e){return new kB(e.get(Qr))}(Ft(xs)),i},providedIn:"root"}),e})();class IB{}const Zh="*";function RB(e,t){return{type:7,name:e,definitions:t,options:{}}}function fc(e,t=null){return{type:4,styles:t,timings:e}}function NB(e,t=null){return{type:2,steps:e,options:t}}function Ps(e){return{type:6,styles:e,offset:null}}function Xf(e,t,n){return{type:0,name:e,styles:t,options:n}}function mc(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function FB(e){Promise.resolve().then(e)}class gy{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class LB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,i=0,r=0;const o=this.players.length;0==o?FB(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}function BB(e){return new V(3e3,!1)}function wse(){return typeof window<"u"&&typeof window.document<"u"}function GS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function mp(e){switch(e.length){case 0:return new gy;case 1:return e[0];default:return new LB(e)}}function zB(e,t,n,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(h=>{const d=h.get("offset"),u=d==l,f=u&&c||new Map;h.forEach((v,y)=>{let _=y,w=v;if("offset"!==y)switch(_=t.normalizePropertyName(_,s),w){case"!":w=r.get(y);break;case Zh:w=o.get(y);break;default:w=t.normalizeStyleValue(y,_,w,s)}f.set(_,w)}),u||a.push(f),c=f,l=d}),s.length)throw function dse(e){return new V(3502,!1)}();return a}function WS(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&qS(n,"start",e)));break;case"done":e.onDone(()=>i(n&&qS(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&qS(n,"destroy",e)))}}function qS(e,t,n){const o=YS(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),s=e._data;return null!=s&&(o._data=s),o}function YS(e,t,n,i,r="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function jl(e,t,n){let i=e.get(t);return i||e.set(t,i=n),i}function UB(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}let XS=(e,t)=>!1,jB=(e,t,n)=>[],VB=null;function $S(e){const t=e.parentNode||e.host;return t===VB?null:t}(GS()||typeof Element<"u")&&(wse()?(VB=(()=>document.documentElement)(),XS=(e,t)=>{for(;t;){if(t===e)return!0;t=$S(t)}return!1}):XS=(e,t)=>e.contains(t),jB=(e,t,n)=>{if(n)return Array.from(e.querySelectorAll(t));const i=e.querySelector(t);return i?[i]:[]});let $f=null,HB=!1;const GB=XS,WB=jB;let qB=(()=>{class e{validateStyleProperty(n){return function Mse(e){$f||($f=function Pse(){return typeof document<"u"?document.body:null}()||{},HB=!!$f.style&&"WebkitAppearance"in $f.style);let t=!0;return $f.style&&!function Cse(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in $f.style,!t&&HB&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in $f.style)),t}(n)}matchesElement(n,i){return!1}containsElement(n,i){return GB(n,i)}getParentElement(n){return $S(n)}query(n,i,r){return WB(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,o,s,a=[],l){return new gy(r,o)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})(),KS=(()=>{class e{}return e.NOOP=new qB,e})();const QS="ng-enter",Xx="ng-leave",$x="ng-trigger",Kx=".ng-trigger",XB="ng-animating",ZS=".ng-animating";function Jh(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:JS(parseFloat(t[1]),t[2])}function JS(e,t){return"s"===t?1e3*e:e}function Qx(e,t,n){return e.hasOwnProperty("duration")?e:function Ese(e,t,n){let r,o=0,s="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(BB()),{duration:0,delay:0,easing:""};r=JS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=JS(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=e;if(!n){let a=!1,l=t.length;r<0&&(t.push(function Voe(){return new V(3100,!1)}()),a=!0),o<0&&(t.push(function Hoe(){return new V(3101,!1)}()),a=!0),a&&t.splice(l,0,BB())}return{duration:r,delay:o,easing:s}}(e,t,n)}function vy(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function $B(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function gp(e,t=new Map,n){if(n)for(let[i,r]of n)t.set(i,r);for(let[i,r]of e)t.set(i,r);return t}function QB(e,t,n){return n?t+":"+n+";":""}function ZB(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=QB(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=QB(0,kse(n),e.style[n]));e.setAttribute("style",t)}function $d(e,t,n){e.style&&(t.forEach((i,r)=>{const o=tE(r);n&&!n.has(r)&&n.set(r,e.style[o]),e.style[o]=i}),GS()&&ZB(e))}function Kf(e,t){e.style&&(t.forEach((n,i)=>{const r=tE(i);e.style[r]=""}),GS()&&ZB(e))}function yy(e){return Array.isArray(e)?1==e.length?e[0]:NB(e):e}const eE=new RegExp("{{\\s*(.+?)\\s*}}","g");function JB(e){let t=[];if("string"==typeof e){let n;for(;n=eE.exec(e);)t.push(n[1]);eE.lastIndex=0}return t}function _y(e,t,n){const i=e.toString(),r=i.replace(eE,(o,s)=>{let a=t[s];return null==a&&(n.push(function Woe(e){return new V(3003,!1)}()),a=""),a.toString()});return r==i?e:r}function Zx(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Tse=/-+([a-z0-9])/g;function tE(e){return e.replace(Tse,(...t)=>t[1].toUpperCase())}function kse(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vl(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function qoe(e){return new V(3004,!1)}()}}function e6(e,t){return window.getComputedStyle(e)[t]}function Bse(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function zse(e,t,n){if(":"==e[0]){const l=function Use(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(function sse(e){return new V(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function ose(e){return new V(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(t6(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(t6(s,r))}(i,n,t)):n.push(e),n}const nw=new Set(["true","1"]),iw=new Set(["false","0"]);function t6(e,t){const n=nw.has(e)||iw.has(e),i=nw.has(t)||iw.has(t);return(r,o)=>{let s="*"==e||e==r,a="*"==t||t==o;return!s&&n&&"boolean"==typeof r&&(s=r?nw.has(e):iw.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?nw.has(t):iw.has(t)),s&&a}}const jse=new RegExp("s*:selfs*,?","g");function nE(e,t,n,i){return new Vse(e).build(t,n,i)}class Vse{constructor(t){this._driver=t}build(t,n,i){const r=new Wse(n);return this._resetContextStyleTimingState(r),Vl(this,yy(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let i=n.queryCount=0,r=n.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&n.errors.push(function Xoe(){return new V(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,n))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,s.push(l)}else n.errors.push(function $oe(){return new V(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,n){const i=this.visitStyle(t.styles,n),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{JB(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Zx(o.values()),n.errors.push(function Koe(e,t){return new V(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const i=Vl(this,yy(t.animation),n);return{type:1,matchers:Bse(t.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:Qf(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(i=>Vl(this,i,n)),options:Qf(t.options)}}visitGroup(t,n){const i=n.currentTime;let r=0;const o=t.steps.map(s=>{n.currentTime=i;const a=Vl(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:3,steps:o,options:Qf(t.options)}}visitAnimate(t,n){const i=function Yse(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return iE(Qx(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=iE(0,0,"");return o.dynamic=!0,o.strValue=n,o}const r=Qx(n,t);return iE(r.duration,r.delay,r.easing)}(t.timings,n.errors);n.currentAnimateTimings=i;let r,o=t.styles?t.styles:Ps({});if(5==o.type)r=this.visitKeyframes(o,n);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Ps(c)}n.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,n){const i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i}_makeStyleAst(t,n){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Zh?i.push(a):n.errors.push(new V(3002,!1)):i.push($B(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,n){const i=n.currentAnimateTimings;let r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),h=c.get(l);let d=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(n.errors.push(function Zoe(e,t,n,i,r){return new V(3010,!1)}()),d=!1),o=h.startTime),d&&c.set(l,{startTime:o,endTime:r}),n.options&&function Ase(e,t,n){const i=t.params||{},r=JB(e);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(function Goe(e){return new V(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Joe(){return new V(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const h=t.steps.map(w=>{const O=this._makeStyleAst(w,n);let S=null!=O.offset?O.offset:function qse(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(O.styles),D=0;return null!=S&&(o++,D=O.offset=S),l=l||D<0||D>1,a=a||D<c,c=D,s.push(D),O});l&&n.errors.push(function ese(){return new V(3012,!1)}()),a&&n.errors.push(function tse(){return new V(3200,!1)}());const d=t.steps.length;let u=0;o>0&&o<d?n.errors.push(function nse(){return new V(3202,!1)}()):0==o&&(u=1/(d-1));const f=d-1,v=n.currentTime,y=n.currentAnimateTimings,_=y.duration;return h.forEach((w,O)=>{const S=u>0?O==f?1:u*O:s[O],D=S*_;n.currentTime=v+y.delay+D,y.duration=D,this._validateStyleAst(w,n),w.offset=S,i.styles.push(w)}),i}visitReference(t,n){return{type:8,animation:Vl(this,yy(t.animation),n),options:Qf(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:Qf(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:Qf(t.options)}}visitQuery(t,n){const i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;const[o,s]=function Hse(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(jse,"")),e=e.replace(/@\*/g,Kx).replace(/@\w+/g,n=>Kx+"-"+n.slice(1)).replace(/:animating/g,ZS),[e,t]}(t.selector);n.currentQuerySelector=i.length?i+" "+o:o,jl(n.collectedStyles,n.currentQuerySelector,new Map);const a=Vl(this,yy(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Qf(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function ise(){return new V(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Qx(t.timings,n.errors,!0);return{type:12,animation:Vl(this,yy(t.animation),n),timings:i,options:null}}}class Wse{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qf(e){return e?(e=vy(e)).params&&(e.params=function Gse(e){return e?vy(e):null}(e.params)):e={},e}function iE(e,t,n){return{duration:e,delay:t,easing:n}}function rE(e,t,n,i,r,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class rw{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Kse=new RegExp(":enter","g"),Zse=new RegExp(":leave","g");function oE(e,t,n,i,r,o=new Map,s=new Map,a,l,c=[]){return(new Jse).buildKeyframes(e,t,n,i,r,o,s,a,l,c)}class Jse{buildKeyframes(t,n,i,r,o,s,a,l,c,h=[]){c=c||new rw;const d=new sE(t,n,c,r,o,h,[]);d.options=l;const u=l.delay?Jh(l.delay):0;d.currentTimeline.delayNextStep(u),d.currentTimeline.setStyles([s],null,d.errors,l),Vl(this,i,d);const f=d.timelines.filter(v=>v.containsAnimation());if(f.length&&a.size){let v;for(let y=f.length-1;y>=0;y--){const _=f[y];if(_.element===n){v=_;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,l)}return f.length?f.map(v=>v.buildKeyframes()):[rE(n,[],[],[],0,u,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(t.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=t}visitAnimateRef(t,n){const i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,i),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Jh(_y(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,n,i){let o=n.currentTimeline.currentTime;const s=null!=i.duration?Jh(i.duration):null,a=null!=i.delay?Jh(i.delay):null;return 0!==s&&t.forEach(l=>{const c=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,n){n.updateOptions(t.options,!0),Vl(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const i=n.subContextCount;let r=n;const o=t.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ow);const s=Jh(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Vl(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const i=[];let r=n.currentTimeline.currentTime;const o=t.options&&t.options.delay?Jh(t.options.delay):0;t.steps.forEach(s=>{const a=n.createSubContext(t.options);o&&a.delayNextStep(o),Vl(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const i=t.strValue;return Qx(n.params?_y(i,n.params,n.errors):i,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const i=n.currentAnimateTimings=this._visitTiming(t.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=t}visitQuery(t,n){const i=n.currentTimeline.currentTime,r=t.options||{},o=r.delay?Jh(r.delay):0;o&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ow);let s=i;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{n.currentQueryIndex=h;const d=n.createSubContext(t.options,c);o&&d.delayNextStep(o),c===n.element&&(l=d.currentTimeline),Vl(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const i=n.parentContext,r=n.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=n.currentTimeline;l&&h.delayNextStep(l);const d=h.currentTime;Vl(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const ow={};class sE{constructor(t,n,i,r,o,s,a,l){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ow,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new sw(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Jh(i.duration)),null!=i.delay&&(r.delay=Jh(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=_y(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const i=t.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return t}createSubContext(t=null,n,i){const r=n||this.element,o=new sE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=ow,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,i){const r={duration:n??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new eae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Kse,"."+this._enterClassName)).replace(Zse,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function rse(e){return new V(3014,!1)}()),a}}class sw{constructor(t,n,i,r){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new sw(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Zh),this._currentKeyframe.set(n,Zh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,i,r){n&&this._previousKeyframe.set("easing",n);const o=r&&r.params||{},s=function tae(e,t){const n=new Map;let i;return e.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)n.set(o,Zh)}else gp(r,n)}),n}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=_y(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Zh),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=gp(a,new Map,this._backFill);c.forEach((h,d)=>{"!"===h?t.add(d):h===Zh&&n.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?Zx(t.values()):[],s=n.size?Zx(n.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return rE(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class eae extends sw{constructor(t,n,i,r,o,s,a=!1){super(t,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=i+n,a=n/s,l=gp(t[0]);l.set("offset",0),o.push(l);const c=gp(t[0]);c.set("offset",r6(a)),o.push(c);const h=t.length-1;for(let d=1;d<=h;d++){let u=gp(t[d]);const f=u.get("offset");u.set("offset",r6((n+f*i)/s)),o.push(u)}i=s,n=0,r="",t=o}return rE(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function r6(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class aE{}const nae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class iae extends aE{normalizePropertyName(t,n){return tE(t)}normalizeStyleValue(t,n,i,r){let o="";const s=i.toString().trim();if(nae.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Yoe(e,t){return new V(3005,!1)}())}return s+o}}function o6(e,t,n,i,r,o,s,a,l,c,h,d,u){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:d,errors:u}}const lE={};class s6{constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i}match(t,n,i,r){return function rae(e,t,n,i,r){return e.some(o=>o(t,n,i,r))}(this.ast.matchers,t,n,i,r)}buildStyles(t,n,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(n,i):new Map}build(t,n,i,r,o,s,a,l,c,h){const d=[],u=this.ast.options&&this.ast.options.params||lE,v=this.buildStyles(i,a&&a.params||lE,d),y=l&&l.params||lE,_=this.buildStyles(r,y,d),w=new Set,O=new Map,S=new Map,D="void"===r,U={params:oae(y,u),delay:this.ast.options?.delay},Y=h?[]:oE(t,n,this.ast.animation,o,s,v,_,U,c,d);let q=0;if(Y.forEach(Z=>{q=Math.max(Z.duration+Z.delay,q)}),d.length)return o6(n,this._triggerName,i,r,D,v,_,[],[],O,S,q,d);Y.forEach(Z=>{const te=Z.element,ie=jl(O,te,new Set);Z.preStyleProps.forEach(de=>ie.add(de));const ce=jl(S,te,new Set);Z.postStyleProps.forEach(de=>ce.add(de)),te!==n&&w.add(te)});const K=Zx(w.values());return o6(n,this._triggerName,i,r,D,v,_,Y,K,O,S,q)}}function oae(e,t){const n=vy(t);for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(n[i]=e[i]);return n}class sae{constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i}buildStyles(t,n){const i=new Map,r=vy(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=_y(s,r,n));const l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),i.set(l,s)})}),i}}class lae{constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new sae(r.style,r.options&&r.options.params||{},i))}),a6(this.states,"true","1"),a6(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new s6(t,r,this.states))}),this.fallbackTransition=function cae(e,t,n){return new s6(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,i,r){return this.transitionFactories.find(s=>s.match(t,n,i,r))||null}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i)}}function a6(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const dae=new rw;class hae{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const i=[],o=nE(this._driver,n,i,[]);if(i.length)throw function hse(e){return new V(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,n,i){const r=t.element,o=zB(0,this._normalizer,0,t.keyframes,n,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,n,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=oE(this._driver,n,o,QS,Xx,new Map,new Map,i,dae,r),s.forEach(h=>{const d=jl(a,h.element,new Map);h.postStyleProps.forEach(u=>d.set(u,null))})):(r.push(function use(){return new V(3300,!1)}()),s=[]),r.length)throw function pse(e){return new V(3504,!1)}();a.forEach((h,d)=>{h.forEach((u,f)=>{h.set(f,this._driver.computeStyle(d,f,Zh))})});const c=mp(s.map(h=>{const d=a.get(h.element);return this._buildPlayer(h,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function fse(e){return new V(3301,!1)}();return n}listen(t,n,i,r){const o=YS(n,"","","");return WS(this._getPlayer(t),i,o,r),()=>{}}command(t,n,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,n,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const l6="ng-animate-queued",cE="ng-animate-disabled",gae=[],c6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gc="__ng_removed";class dE{constructor(t,n=""){this.namespaceId=n;const i=t&&t.hasOwnProperty("value");if(this.value=function xae(e){return e??null}(i?t.value:t),i){const o=vy(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const n=t.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const by="void",hE=new dE(by);class yae{constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,vc(n,this._hostClassName)}listen(t,n,i,r){if(!this._triggers.has(n))throw function mse(e,t){return new V(3302,!1)}();if(null==i||0==i.length)throw function gse(e){return new V(3303,!1)}();if(!function wae(e){return"start"==e||"done"==e}(i))throw function vse(e,t){return new V(3400,!1)}();const o=jl(this._elementListeners,t,[]),s={name:n,phase:i,callback:r};o.push(s);const a=jl(this._engine.statesByElement,t,new Map);return a.has(n)||(vc(t,$x),vc(t,$x+"-"+n),a.set(n,hE)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function yse(e){return new V(3401,!1)}();return n}trigger(t,n,i,r=!0){const o=this._getTrigger(n),s=new uE(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(vc(t,$x),vc(t,$x+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n);const c=new dE(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=hE),c.value!==by&&l.value===c.value){if(!function Pae(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(l.params,c.params)){const y=[],_=o.matchStyles(l.value,l.params,y),w=o.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{Kf(t,_),$d(t,w)})}return}const u=jl(this._engine.playersByElement,t,[]);u.forEach(y=>{y.namespaceId==this.id&&y.triggerName==n&&y.queued&&y.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!f){if(!r)return;f=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(vc(t,l6),s.onStart(()=>{n0(t,l6)})),s.onDone(()=>{let y=this.players.indexOf(s);y>=0&&this.players.splice(y,1);const _=this._engine.playersByElement.get(t);if(_){let w=_.indexOf(s);w>=0&&_.splice(w,1)}}),this.players.push(s),u.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const i=this._engine.driver.query(t,Kx,!0);i.forEach(r=>{if(r[gc])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,n,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const h=this.trigger(t,c,by,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,s),i&&mp(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){const r=new Set;n.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||hE,h=new dE(by),d=new uE(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:h,player:d,isFallbackTransition:!0})})}}removeNode(t,n){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,n);else{const o=t[gc];(!o||o===c6)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n))}}insertNode(t,n){vc(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=YS(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,WS(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let n=!1;return this._elementListeners.has(t)&&(n=!0),n=!!this._queue.find(i=>i.element===t)||n,n}}class _ae{constructor(t,n,i){this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,n){const i=new yae(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(n,t),t}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i}registerTrigger(t,n,i){let r=this._namespaceLookup[t];r&&r.register(n,i)&&this.totalAnimations++}destroy(t,n){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(n))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}return n}trigger(t,n,i,r){if(aw(n)){const o=this._fetchNamespace(t);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(t,n,i,r){if(!aw(n))return;const o=n[gc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),vc(t,cE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),n0(t,cE))}removeNode(t,n,i,r){if(aw(n)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r),i){const s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,i,r,o){this.collectedLeaveElements.push(n),n[gc]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,n,i,r,o){return aw(n)?this._fetchNamespace(t).listen(n,i,r,o):()=>{}}_buildInstruction(t,n,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,n,o)}destroyInnerAnimations(t){let n=this.driver.query(t,Kx,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,ZS,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return mp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[gc];if(n&&n.setForRemoval){if(t[gc]=c6,n.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(cE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)vc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?mp(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function _se(e){return new V(3402,!1)}()}_flushAnimations(t,n){const i=new rw,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(we=>{h.add(we);const _e=this.driver.query(we,".ng-animate-queued",!0);for(let ye=0;ye<_e.length;ye++)h.add(_e[ye])});const d=this.bodyNode,u=Array.from(this.statesByElement.keys()),f=u6(u,this.collectedEnterElements),v=new Map;let y=0;f.forEach((we,_e)=>{const ye=QS+y++;v.set(_e,ye),we.forEach(Re=>vc(Re,ye))});const _=[],w=new Set,O=new Set;for(let we=0;we<this.collectedLeaveElements.length;we++){const _e=this.collectedLeaveElements[we],ye=_e[gc];ye&&ye.setForRemoval&&(_.push(_e),w.add(_e),ye.hasAnimation?this.driver.query(_e,".ng-star-inserted",!0).forEach(Re=>w.add(Re)):O.add(_e))}const S=new Map,D=u6(u,Array.from(w));D.forEach((we,_e)=>{const ye=Xx+y++;S.set(_e,ye),we.forEach(Re=>vc(Re,ye))}),t.push(()=>{f.forEach((we,_e)=>{const ye=v.get(_e);we.forEach(Re=>n0(Re,ye))}),D.forEach((we,_e)=>{const ye=S.get(_e);we.forEach(Re=>n0(Re,ye))}),_.forEach(we=>{this.processLeaveNode(we)})});const U=[],Y=[];for(let we=this._namespaceList.length-1;we>=0;we--)this._namespaceList[we].drainQueuedTransitions(n).forEach(ye=>{const Re=ye.player,Be=ye.element;if(U.push(Re),this.collectedEnterElements.length){const it=Be[gc];if(it&&it.setForMove){if(it.previousTriggersValues&&it.previousTriggersValues.has(ye.triggerName)){const We=it.previousTriggersValues.get(ye.triggerName),ut=this.statesByElement.get(ye.element);if(ut&&ut.has(ye.triggerName)){const Ke=ut.get(ye.triggerName);Ke.value=We,ut.set(ye.triggerName,Ke)}}return void Re.destroy()}}const Ie=!d||!this.driver.containsElement(d,Be),De=S.get(Be),Ve=v.get(Be),ke=this._buildInstruction(ye,i,Ve,De,Ie);if(ke.errors&&ke.errors.length)return void Y.push(ke);if(Ie)return Re.onStart(()=>Kf(Be,ke.fromStyles)),Re.onDestroy(()=>$d(Be,ke.toStyles)),void r.push(Re);if(ye.isFallbackTransition)return Re.onStart(()=>Kf(Be,ke.fromStyles)),Re.onDestroy(()=>$d(Be,ke.toStyles)),void r.push(Re);const He=[];ke.timelines.forEach(it=>{it.stretchStartingKeyframe=!0,this.disabledNodes.has(it.element)||He.push(it)}),ke.timelines=He,i.append(Be,ke.timelines),s.push({instruction:ke,player:Re,element:Be}),ke.queriedElements.forEach(it=>jl(a,it,[]).push(Re)),ke.preStyleProps.forEach((it,We)=>{if(it.size){let ut=l.get(We);ut||l.set(We,ut=new Set),it.forEach((Ke,Nt)=>ut.add(Nt))}}),ke.postStyleProps.forEach((it,We)=>{let ut=c.get(We);ut||c.set(We,ut=new Set),it.forEach((Ke,Nt)=>ut.add(Nt))})});if(Y.length){const we=[];Y.forEach(_e=>{we.push(function bse(e,t){return new V(3505,!1)}())}),U.forEach(_e=>_e.destroy()),this.reportError(we)}const q=new Map,K=new Map;s.forEach(we=>{const _e=we.element;i.has(_e)&&(K.set(_e,_e),this._beforeAnimationBuild(we.player.namespaceId,we.instruction,q))}),r.forEach(we=>{const _e=we.element;this._getPreviousPlayers(_e,!1,we.namespaceId,we.triggerName,null).forEach(Re=>{jl(q,_e,[]).push(Re),Re.destroy()})});const Z=_.filter(we=>f6(we,l,c)),te=new Map;h6(te,this.driver,O,c,Zh).forEach(we=>{f6(we,l,c)&&Z.push(we)});const ce=new Map;f.forEach((we,_e)=>{h6(ce,this.driver,new Set(we),l,"!")}),Z.forEach(we=>{const _e=te.get(we),ye=ce.get(we);te.set(we,new Map([...Array.from(_e?.entries()??[]),...Array.from(ye?.entries()??[])]))});const de=[],ue=[],Ce={};s.forEach(we=>{const{element:_e,player:ye,instruction:Re}=we;if(i.has(_e)){if(h.has(_e))return ye.onDestroy(()=>$d(_e,Re.toStyles)),ye.disabled=!0,ye.overrideTotalTime(Re.totalTime),void r.push(ye);let Be=Ce;if(K.size>1){let De=_e;const Ve=[];for(;De=De.parentNode;){const ke=K.get(De);if(ke){Be=ke;break}Ve.push(De)}Ve.forEach(ke=>K.set(ke,Be))}const Ie=this._buildAnimation(ye.namespaceId,Re,q,o,ce,te);if(ye.setRealPlayer(Ie),Be===Ce)de.push(ye);else{const De=this.playersByElement.get(Be);De&&De.length&&(ye.parentPlayer=mp(De)),r.push(ye)}}else Kf(_e,Re.fromStyles),ye.onDestroy(()=>$d(_e,Re.toStyles)),ue.push(ye),h.has(_e)&&r.push(ye)}),ue.forEach(we=>{const _e=o.get(we.element);if(_e&&_e.length){const ye=mp(_e);we.setRealPlayer(ye)}}),r.forEach(we=>{we.parentPlayer?we.syncPlayerEvents(we.parentPlayer):we.destroy()});for(let we=0;we<_.length;we++){const _e=_[we],ye=_e[gc];if(n0(_e,Xx),ye&&ye.hasAnimation)continue;let Re=[];if(a.size){let Ie=a.get(_e);Ie&&Ie.length&&Re.push(...Ie);let De=this.driver.query(_e,ZS,!0);for(let Ve=0;Ve<De.length;Ve++){let ke=a.get(De[Ve]);ke&&ke.length&&Re.push(...ke)}}const Be=Re.filter(Ie=>!Ie.destroyed);Be.length?Cae(this,_e,Be):this.processLeaveNode(_e)}return _.length=0,de.forEach(we=>{this.players.push(we),we.onDone(()=>{we.destroy();const _e=this.players.indexOf(we);this.players.splice(_e,1)}),we.play()}),de}elementContainsData(t,n){let i=!1;const r=n[gc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(t).elementContainsData(n)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,i,r,o){let s=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==by;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,n,i){const o=n.element,s=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,h=c!==o,d=jl(i,c,[]);this._getPreviousPlayers(c,h,s,a,n.toState).forEach(f=>{const v=f.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),f.destroy(),d.push(f)})}Kf(o,n.fromStyles)}_buildAnimation(t,n,i,r,o,s){const a=n.triggerName,l=n.element,c=[],h=new Set,d=new Set,u=n.timelines.map(v=>{const y=v.element;h.add(y);const _=y[gc];if(_&&_.removedBeforeQueried)return new gy(v.duration,v.delay);const w=y!==l,O=function Mae(e){const t=[];return p6(e,t),t}((i.get(y)||gae).map(q=>q.getRealPlayer())).filter(q=>!!q.element&&q.element===y),S=o.get(y),D=s.get(y),U=zB(0,this._normalizer,0,v.keyframes,S,D),Y=this._buildPlayer(v,U,O);if(v.subTimeline&&r&&d.add(y),w){const q=new uE(t,a,y);q.setRealPlayer(Y),c.push(q)}return Y});c.forEach(v=>{jl(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function bae(e,t,n){let i=e.get(t);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}return i}(this.playersByQueriedElement,v.element,v))}),h.forEach(v=>vc(v,XB));const f=mp(u);return f.onDestroy(()=>{h.forEach(v=>n0(v,XB)),$d(l,n.toStyles)}),d.forEach(v=>{jl(r,v,[]).push(f)}),f}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new gy(t.duration,t.delay)}}class uE{constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new gy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>WS(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){jl(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function aw(e){return e&&1===e.nodeType}function d6(e,t){const n=e.style.display;return e.style.display=t??"none",n}function h6(e,t,n,i,r){const o=[];n.forEach(l=>o.push(d6(l)));const s=[];i.forEach((l,c)=>{const h=new Map;l.forEach(d=>{const u=t.computeStyle(c,d,r);h.set(d,u),(!u||0==u.length)&&(c[gc]=vae,s.push(c))}),e.set(c,h)});let a=0;return n.forEach(l=>d6(l,o[a++])),s}function u6(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&n.get(l).push(a)}),n}function vc(e,t){e.classList?.add(t)}function n0(e,t){e.classList?.remove(t)}function Cae(e,t,n){mp(n).onDone(()=>e.processLeaveNode(t))}function p6(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof LB?p6(i.players,t):t.push(i)}}function f6(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(o=>r.add(o)):t.set(e,i),n.delete(e),!0}class lw{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new _ae(t,n,i),this._timelineEngine=new hae(t,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,n,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=nE(this._driver,o,l,[]);if(l.length)throw function cse(e,t){return new V(3404,!1)}();a=function aae(e,t,n){return new lae(e,t,n)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,i,r){this._transitionEngine.insertNode(t,n,i,r)}onRemove(t,n,i,r){this._transitionEngine.removeNode(t,n,r||!1,i)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,i,r){if("@"==i.charAt(0)){const[o,s]=UB(i);this._timelineEngine.command(o,n,s,r)}else this._transitionEngine.trigger(t,n,i,r)}listen(t,n,i,r,o){if("@"==i.charAt(0)){const[s,a]=UB(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(t,n,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Sae=(()=>{class e{constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r,this._state=0;let o=e.initialStylesByElement.get(n);o||e.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&$d(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($d(this._element,this._initialStyles),this._endStyles&&($d(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Kf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kf(this._element,this._endStyles),this._endStyles=null),$d(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function pE(e){let t=null;return e.forEach((n,i)=>{(function Eae(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,n))}),t}class m6{constructor(t,n,i,r){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(t,n,i){return t.animate(this._convertKeyframesToObject(n),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:e6(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class Dae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return GB(t,n)}getParentElement(t){return $S(t)}query(t,n,i){return WB(t,n,i)}computeStyle(t,n,i){return window.getComputedStyle(t)[n]}animate(t,n,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,h=s.filter(f=>f instanceof m6);(function Ise(e,t){return 0===e||0===t})(i,r)&&h.forEach(f=>{f.currentSnapshot.forEach((v,y)=>c.set(y,v))});let d=function Dse(e){return e.length?e[0]instanceof Map?e:e.map(t=>$B(t)):[]}(n).map(f=>gp(f));d=function Rse(e,t,n){if(n.size&&t.length){let i=t[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,e6(e,a)))}}return t}(t,d,c);const u=function Oae(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=pE(t[0]),t.length>1&&(i=pE(t[t.length-1]))):t instanceof Map&&(n=pE(t)),n||i?new Sae(e,n,i):null}(t,d);return new m6(t,d,l,u)}}let Aae=(()=>{class e extends IB{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:uo.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(n)?NB(n):n;return g6(this._renderer,null,i,"register",[r]),new Tae(i,this._renderer)}}return e.\u0275fac=function(n){return new(n||e)(Ft(Lg),Ft(Qr))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();class Tae extends class joe{}{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new kae(this._id,t,n||{},this._renderer)}}class kae{constructor(t,n,i,r){this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return g6(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function g6(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}const v6="@.disabled";let Iae=(()=>{class e{constructor(n,i,r){this.delegate=n,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(n,i){const o=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new y6("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,n,h.name,h)};return i.data.animation.forEach(l),new Rae(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,r){n>=0&&n<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(n){return new(n||e)(Ft(Lg),Ft(lw),Ft(br))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();class y6{constructor(t,n,i,r){this.namespaceId=t,this.delegate=n,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>n.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,i,r=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,r)}removeChild(t,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){"@"==n.charAt(0)&&n==v6?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.delegate.listen(t,n,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class Rae extends y6{constructor(t,n,i,r,o){super(n,i,r,o),this.factory=t,this.namespaceId=n}setProperty(t,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==v6?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,n.slice(1),i):this.delegate.setProperty(t,n,i)}listen(t,n,i){if("@"==n.charAt(0)){const r=function Nae(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Fae(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,n,i)}}let Lae=(()=>{class e extends lw{constructor(n,i,r,o){super(n.body,i,r)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr),Ft(KS),Ft(aE),Ft(Gf))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();const _6=[{provide:IB,useClass:Aae},{provide:aE,useFactory:function Bae(){return new iae}},{provide:lw,useClass:Lae},{provide:Lg,useFactory:function zae(e,t,n){return new Iae(e,t,n)},deps:[Yx,lw,br]}],fE=[{provide:KS,useFactory:()=>new Dae},{provide:lL,useValue:"BrowserAnimations"},..._6],b6=[{provide:KS,useClass:qB},{provide:lL,useValue:"NoopAnimations"},..._6];let Uae=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?b6:fE}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({providers:fE,imports:[EB]}),e})();var fa=g(3527),jae=g(567),_i=g(4850);let x6=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(Me(rs),Me(wr))},e.\u0275dir=xt({type:e}),e})(),Zf=(()=>{class e extends x6{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=da(e)))(i||e)}}(),e.\u0275dir=xt({type:e,features:[Cr]}),e})();const Kd=new jn("NgValueAccessor"),Hae={provide:Kd,useExisting:R(()=>vp),multi:!0},Wae=new jn("CompositionEventMode");let vp=(()=>{class e extends x6{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Gae(){const e=id()?id().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(Me(rs),Me(wr),Me(Wae,8))},e.\u0275dir=xt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&Ct("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[oo([Hae]),Cr]}),e})();function yp(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function C6(e){return null!=e&&"number"==typeof e.length}const ma=new jn("NgValidators"),_p=new jn("NgAsyncValidators"),Yae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hl{static min(t){return function M6(e){return t=>{if(yp(t.value)||yp(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function P6(e){return t=>{if(yp(t.value)||yp(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return O6(t)}static requiredTrue(t){return function S6(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function E6(e){return yp(e.value)||Yae.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function D6(e){return t=>yp(t.value)||!C6(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function A6(e){return t=>C6(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function T6(e){if(!e)return dw;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(yp(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return L6(t)}static composeAsync(t){return B6(t)}}function O6(e){return yp(e.value)?{required:!0}:null}function dw(e){return null}function k6(e){return null!=e}function I6(e){return Q1(e)?(0,fa.D)(e):e}function R6(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function N6(e,t){return t.map(n=>n(e))}function F6(e){return e.map(t=>function Xae(e){return!e.validate}(t)?t:n=>t.validate(n))}function L6(e){if(!e)return null;const t=e.filter(k6);return 0==t.length?null:function(n){return R6(N6(n,t))}}function mE(e){return null!=e?L6(F6(e)):null}function B6(e){if(!e)return null;const t=e.filter(k6);return 0==t.length?null:function(n){const i=N6(n,t).map(I6);return(0,jae.D)(i).pipe((0,_i.U)(R6))}}function gE(e){return null!=e?B6(F6(e)):null}function z6(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function U6(e){return e._rawValidators}function j6(e){return e._rawAsyncValidators}function vE(e){return e?Array.isArray(e)?e:[e]:[]}function hw(e,t){return Array.isArray(e)?e.includes(t):e===t}function V6(e,t){const n=vE(t);return vE(e).forEach(r=>{hw(n,r)||n.push(r)}),n}function H6(e,t){return vE(t).filter(n=>!hw(e,n))}class G6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class La extends G6{get formDirective(){return null}get path(){return null}}class bp extends G6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class W6{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let r0=(()=>{class e extends W6{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(Me(bp,2))},e.\u0275dir=xt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&ko("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Cr]}),e})(),o0=(()=>{class e extends W6{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(Me(La,10))},e.\u0275dir=xt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){2&n&&ko("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Cr]}),e})();const xy="VALID",pw="INVALID",s0="PENDING",wy="DISABLED";function xE(e){return(fw(e)?e.validators:e)||null}function Y6(e){return Array.isArray(e)?mE(e):e||null}function wE(e,t){return(fw(t)?t.asyncValidators:e)||null}function X6(e){return Array.isArray(e)?gE(e):e||null}function fw(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function $6(e,t,n){const i=e.controls;if(!(t?Object.keys(i):i).length)throw new V(1e3,"");if(!i[n])throw new V(1001,"")}function K6(e,t,n){e._forEachChild((i,r)=>{if(void 0===n[r])throw new V(1002,"")})}class mw{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=Y6(this._rawValidators),this._composedAsyncValidatorFn=X6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===xy}get invalid(){return this.status===pw}get pending(){return this.status==s0}get disabled(){return this.status===wy}get enabled(){return this.status!==wy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Y6(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=X6(t)}addValidators(t){this.setValidators(V6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(V6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(H6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(H6(t,this._rawAsyncValidators))}hasValidator(t){return hw(this._rawValidators,t)}hasAsyncValidator(t){return hw(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=s0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=wy,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=xy,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xy||this.status===s0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wy:xy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=s0,this._hasOwnPendingAsyncValidator=!0;const n=I6(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new yi,this.statusChanges=new yi}_calculateStatus(){return this._allControlsDisabled()?wy:this.errors?pw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(s0)?s0:this._anyControlsHaveStatus(pw)?pw:xy}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){fw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Cy extends mw{constructor(t,n,i){super(xE(n),wE(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){K6(this,0,t),Object.keys(t).forEach(i=>{$6(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Q6 extends Cy{}function My(e,t){CE(e,t),t.valueAccessor.writeValue(e.value),e.disabled&&t.valueAccessor.setDisabledState?.(!0),function nle(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Z6(e,t)})}(e,t),function rle(e,t){const n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function ile(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Z6(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function tle(e,t){if(t.valueAccessor.setDisabledState){const n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function vw(e,t,n=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),_w(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function yw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function CE(e,t){const n=U6(e);null!==t.validator?e.setValidators(z6(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=j6(e);null!==t.asyncValidator?e.setAsyncValidators(z6(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();yw(t._rawValidators,r),yw(t._rawAsyncValidators,r)}function _w(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=U6(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const r=j6(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}const i=()=>{};return yw(t._rawValidators,i),yw(t._rawAsyncValidators,i),n}function Z6(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function nz(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function iz(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Oy=class extends mw{constructor(t=null,n,i){super(xE(n),wE(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fw(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=iz(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){iz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let a0=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=xt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),cz=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({}),e})();const SE=new jn("NgModelWithFormControlWarning"),yle={provide:La,useExisting:R(()=>xp)};let xp=(()=>{class e extends La{constructor(n,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new yi,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_w(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return My(i,n),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){vw(n.control||null,n,!1),function lle(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,function tz(e,t){e._syncPendingControls(),t.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,r=this.form.get(n.path);i!==r&&(vw(i||null,n),(e=>e instanceof Oy)(r)&&(My(r,n),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);(function J6(e,t){CE(e,t)})(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function ole(e,t){return _w(e,t)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){CE(this.form,this),this._oldForm&&_w(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(n){return new(n||e)(Me(ma,10),Me(_p,10))},e.\u0275dir=xt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,i){1&n&&Ct("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[oo([yle]),Cr,is]}),e})();const xle={provide:bp,useExisting:R(()=>Jf)};let Jf=(()=>{class e extends bp{constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new yi,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function PE(e,t){if(!t)return null;let n,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===vp?n=o:function ale(e){return Object.getPrototypeOf(e.constructor)===Zf}(o)?i=o:r=o}),r||i||n||null}(0,o)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function ME(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function gw(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(Me(La,13),Me(ma,10),Me(_p,10),Me(Kd,10),Me(SE,8))},e.\u0275dir=xt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[oo([xle]),Cr,is]}),e})(),em=(()=>{class e{constructor(){this._validator=dw}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):dw,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=xt({type:e,features:[is]}),e})();const Ale={provide:ma,useExisting:R(()=>bw),multi:!0};let bw=(()=>{class e extends em{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=$h,this.createValidator=n=>O6}enabled(n){return n}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=da(e)))(i||e)}}(),e.\u0275dir=xt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,i){2&n&&Br("required",i._enabled?"":null)},inputs:{required:"required"},features:[oo([Ale]),Cr]}),e})(),Pz=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[cz]}),e})(),Oz=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Pz]}),e})(),Sz=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:SE,useValue:n.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Pz]}),e})();class Ez extends mw{constructor(t,n,i){super(xE(n),wE(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,i={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){K6(this,0,t),t.forEach((i,r)=>{$6(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,i)=>!!i._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,i)=>{t(n,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Dz(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let tm=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,i=null){const r=this._reduceControls(n);let o={};return Dz(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Cy(r,o)}record(n,i=null){const r=this._reduceControls(n);return new Q6(r,i)}control(n,i,r){let o={};return this.useNonNullable?(Dz(i)?o=i:(o.validators=i,o.asyncValidators=r),new Oy(n,{...o,nonNullable:!0})):new Oy(n,i,r)}array(n,i,r){const o=n.map(s=>this._createControl(s));return new Ez(o,i,r)}_reduceControls(n){const i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){return n instanceof Oy||n instanceof mw?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:Sz}),e})();var Un=g(1086),wp=g(1406),Zs=g(2198);class Az{}class Tz{}class eu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let i=t[n];const r=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(n,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof eu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new eu;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof eu?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,n);const r=("a"===t.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class Fle{encodeKey(t){return kz(t)}encodeValue(t){return kz(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Ble=/%(\d[a-f0-9])/gi,zle={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kz(e){return encodeURIComponent(e).replace(Ble,(t,n)=>zle[n]??t)}function xw(e){return`${e}`}class Cp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Fle,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Lle(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const i=t.fromObject[n],r=Array.isArray(i)?i.map(xw):[xw(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Cp({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(xw(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(xw(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ule{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Iz(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Rz(e){return typeof Blob<"u"&&e instanceof Blob}function Nz(e){return typeof FormData<"u"&&e instanceof FormData}class Sy{constructor(t,n,i,r){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function jle(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new eu),this.context||(this.context=new Ule),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Cp,this.urlWithParams=n}serializeBody(){return null===this.body?null:Iz(this.body)||Rz(this.body)||Nz(this.body)||function Vle(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nz(this.body)?null:Rz(this.body)?this.body.type||null:Iz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const h=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,u)=>d.set(u,t.setHeaders[u]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,u)=>d.set(u,t.setParams[u]),c)),new Sy(n,i,o,{params:c,headers:l,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var as=(()=>((as=as||{})[as.Sent=0]="Sent",as[as.UploadProgress=1]="UploadProgress",as[as.ResponseHeader=2]="ResponseHeader",as[as.DownloadProgress=3]="DownloadProgress",as[as.Response=4]="Response",as[as.User=5]="User",as))();class kE{constructor(t,n=200,i="OK"){this.headers=t.headers||new eu,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class IE extends kE{constructor(t={}){super(t),this.type=as.ResponseHeader}clone(t={}){return new IE({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ww extends kE{constructor(t={}){super(t),this.type=as.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ww({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Fz extends kE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function RE(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let ul=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof Sy)o=n;else{let l,c;l=r.headers instanceof eu?r.headers:new eu(r.headers),r.params&&(c=r.params instanceof Cp?r.params:new Cp({fromObject:r.params})),o=new Sy(n,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=(0,Un.of)(o).pipe((0,wp.b)(l=>this.handler.handle(l)));if(n instanceof Sy||"events"===r.observe)return s;const a=s.pipe((0,Zs.h)(l=>l instanceof ww));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe((0,_i.U)(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe((0,_i.U)(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe((0,_i.U)(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe((0,_i.U)(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new Cp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,RE(r,i))}post(n,i,r={}){return this.request("POST",n,RE(r,i))}put(n,i,r={}){return this.request("PUT",n,RE(r,i))}}return e.\u0275fac=function(n){return new(n||e)(Ft(Az))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();class Lz{constructor(t,n){this.next=t,this.interceptor=n}handle(t){return this.interceptor.intercept(t,this.next)}}const Bz=new jn("HTTP_INTERCEPTORS");let Hle=(()=>{class e{intercept(n,i){return i.handle(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();const Gle=/^\)\]\}',?\n/;let zz=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new A.y(i=>{const r=this.xhrFactory.build();if(r.open(n.method,n.urlWithParams),n.withCredentials&&(r.withCredentials=!0),n.headers.forEach((f,v)=>r.setRequestHeader(f,v.join(","))),n.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=r.statusText||"OK",v=new eu(r.getAllResponseHeaders()),y=function Wle(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||n.url;return s=new IE({headers:v,status:r.status,statusText:f,url:y}),s},l=()=>{let{headers:f,status:v,statusText:y,url:_}=a(),w=null;204!==v&&(w=typeof r.response>"u"?r.responseText:r.response),0===v&&(v=w?200:0);let O=v>=200&&v<300;if("json"===n.responseType&&"string"==typeof w){const S=w;w=w.replace(Gle,"");try{w=""!==w?JSON.parse(w):null}catch(D){w=S,O&&(O=!1,w={error:D,text:w})}}O?(i.next(new ww({body:w,headers:f,status:v,statusText:y,url:_||void 0})),i.complete()):i.error(new Fz({error:w,headers:f,status:v,statusText:y,url:_||void 0}))},c=f=>{const{url:v}=a(),y=new Fz({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:v||void 0});i.error(y)};let h=!1;const d=f=>{h||(i.next(a()),h=!0);let v={type:as.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(v.total=f.total),"text"===n.responseType&&!!r.responseText&&(v.partialText=r.responseText),i.next(v)},u=f=>{let v={type:as.UploadProgress,loaded:f.loaded};f.lengthComputable&&(v.total=f.total),i.next(v)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),n.reportProgress&&(r.addEventListener("progress",d),null!==o&&r.upload&&r.upload.addEventListener("progress",u)),r.send(o),i.next({type:as.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),n.reportProgress&&(r.removeEventListener("progress",d),null!==o&&r.upload&&r.upload.removeEventListener("progress",u)),r.readyState!==r.DONE&&r.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(Ft(lB))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();const NE=new jn("XSRF_COOKIE_NAME"),FE=new jn("XSRF_HEADER_NAME");class Uz{}let qle=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=KL(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr),Ft(hc),Ft(NE))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})(),LE=(()=>{class e{constructor(n,i){this.tokenService=n,this.headerName=i}intercept(n,i){const r=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(n);const o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),i.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(Ft(Uz),Ft(FE))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})(),Yle=(()=>{class e{constructor(n,i){this.backend=n,this.injector=i,this.chain=null}handle(n){if(null===this.chain){const i=this.injector.get(Bz,[]);this.chain=i.reduceRight((r,o)=>new Lz(r,o),this.backend)}return this.chain.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(Ft(Tz),Ft(xs))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})(),Xle=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:LE,useClass:Hle}]}}static withOptions(n={}){return{ngModule:e,providers:[n.cookieName?{provide:NE,useValue:n.cookieName}:[],n.headerName?{provide:FE,useValue:n.headerName}:[]]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({providers:[LE,{provide:Bz,useExisting:LE,multi:!0},{provide:Uz,useClass:qle},{provide:NE,useValue:"XSRF-TOKEN"},{provide:FE,useValue:"X-XSRF-TOKEN"}]}),e})(),$le=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({providers:[ul,{provide:Az,useClass:Yle},zz,{provide:Tz,useExisting:zz}],imports:[Xle.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),e})();function mi(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}function l0(e,t){return function(n,i){t(n,i,e)}}var Ai=g(2994),Js=g(7545),sd=g(7224),ga=g(2986),zE=g(1307),Qle=g(864),Hz=g(943),js=g(591),Zle=g(4450),Mw=g(6053),Jle=g(1961),Gz=g(8514),ece=g(4843),Vr=g(1737),c0=g(8896),Wz=g(1762),Pw=g(1059),Hl=g(1709),Dr=g(7221),qz=g(2014),Yz=g(8127),tce=g(4290),Xz=g(7314),$z=g(2821),nce=g(7604),UE=g(537),Kz=g(4327),Ow=g(9146);const Gi="primary",Ey=Symbol("RouteTitle");class ice{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function d0(e){return new ice(e)}function rce(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Qd(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Qz(e[r],t[r]))return!1;return!0}function Qz(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}return e===t}function Zz(e){return Array.prototype.concat.apply([],e)}function Jz(e){return e.length>0?e[e.length-1]:null}function ea(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Mp(e){return TO(e)?e:Q1(e)?(0,fa.D)(Promise.resolve(e)):(0,Un.of)(e)}const ace={exact:function n8(e,t,n){if(!im(e.segments,t.segments)||!Sw(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!n8(e.children[i],t.children[i],n))return!1;return!0},subset:i8},e8={exact:function lce(e,t){return Qd(e,t)},subset:function cce(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Qz(e[n],t[n]))},ignored:()=>!0};function t8(e,t,n){return ace[n.paths](e.root,t.root,n.matrixParams)&&e8[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function i8(e,t,n){return r8(e,t,t.segments,n)}function r8(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!im(r,n)||t.hasChildren()||!Sw(r,n,i))}if(e.segments.length===n.length){if(!im(e.segments,n)||!Sw(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!i8(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(im(e.segments,r)&&Sw(e.segments,r,i)&&e.children[Gi])&&r8(e.children[Gi],t,o,i)}}function Sw(e,t,n){return t.every((i,r)=>e8[n](e[r].parameters,i.parameters))}class nm{constructor(t,n,i){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=d0(this.queryParams)),this._queryParamMap}toString(){return uce.serialize(this)}}class Wi{constructor(t,n){this.segments=t,this.children=n,this.parent=null,ea(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ew(this)}}class Dy{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=d0(this.parameters)),this._parameterMap}toString(){return l8(this)}}function im(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let o8=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:function(){return new VE},providedIn:"root"}),e})();class VE{parse(t){const n=new xce(t);return new nm(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ay(t.root,!0)}`,i=function mce(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${Dw(n)}=${Dw(r)}`).join("&"):`${Dw(n)}=${Dw(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function pce(e){return encodeURI(e)}(t.fragment)}`:""}`}}const uce=new VE;function Ew(e){return e.segments.map(t=>l8(t)).join("/")}function Ay(e,t){if(!e.hasChildren())return Ew(e);if(t){const n=e.children[Gi]?Ay(e.children[Gi],!1):"",i=[];return ea(e.children,(r,o)=>{o!==Gi&&i.push(`${o}:${Ay(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function hce(e,t){let n=[];return ea(e.children,(i,r)=>{r===Gi&&(n=n.concat(t(i,r)))}),ea(e.children,(i,r)=>{r!==Gi&&(n=n.concat(t(i,r)))}),n}(e,(i,r)=>r===Gi?[Ay(e.children[Gi],!1)]:[`${r}:${Ay(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Gi]?`${Ew(e)}/${n[0]}`:`${Ew(e)}/(${n.join("//")})`}}function s8(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dw(e){return s8(e).replace(/%3B/gi,";")}function HE(e){return s8(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Aw(e){return decodeURIComponent(e)}function a8(e){return Aw(e.replace(/\+/g,"%20"))}function l8(e){return`${HE(e.path)}${function fce(e){return Object.keys(e).map(t=>`;${HE(t)}=${HE(e[t])}`).join("")}(e.parameters)}`}const gce=/^[^\/()?;=#]+/;function Tw(e){const t=e.match(gce);return t?t[0]:""}const vce=/^[^=?&#]+/,_ce=/^[^&#]+/;class xce{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wi([],{}):new Wi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Gi]=new Wi(t,n)),i}parseSegment(){const t=Tw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(t),new Dy(Aw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Tw(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=Tw(this.remaining);r&&(i=r,this.capture(i))}t[Aw(n)]=Aw(i)}parseQueryParam(t){const n=function yce(e){const t=e.match(vce);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=function bce(e){const t=e.match(_ce);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=a8(n),o=a8(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Tw(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new V(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Gi);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Gi]:new Wi([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new V(4011,!1)}}function GE(e){return e.segments.length>0?new Wi([],{[Gi]:e}):e}function kw(e){const t={};for(const i of Object.keys(e.children)){const o=kw(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function wce(e){if(1===e.numberOfChildren&&e.children[Gi]){const t=e.children[Gi];return new Wi(e.segments.concat(t.segments),t.children)}return e}(new Wi(e.segments,t))}function rm(e){return e instanceof nm}function Pce(e,t,n,i,r){if(0===n.length)return h0(t.root,t.root,t.root,i,r);const o=function h8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new d8(!0,0,e);let t=0,n=!1;const i=e.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ea(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new d8(n,t,i)}(n);return o.toRoot()?h0(t.root,t.root,new Wi([],{}),i,r):function s(l){const c=function Sce(e,t,n,i){if(e.isAbsolute)return new u0(t.root,!0,0);if(-1===i)return new u0(n,n===t.root,0);return function u8(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new V(4005,!1);r=i.segments.length}return new u0(i,!1,r-o)}(n,i+(Ty(e.commands[0])?0:1),e.numberOfDoubleDots)}(o,t,e.snapshot?._urlSegment,l),h=c.processChildren?Iy(c.segmentGroup,c.index,o.commands):qE(c.segmentGroup,c.index,o.commands);return h0(t.root,c.segmentGroup,h,i,r)}(e.snapshot?._lastPathIndex)}function Ty(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ky(e){return"object"==typeof e&&null!=e&&e.outlets}function h0(e,t,n,i,r){let s,o={};i&&ea(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=e===t?n:c8(e,t,n);const a=GE(kw(s));return new nm(a,o,r)}function c8(e,t,n){const i={};return ea(e.children,(r,o)=>{i[o]=r===t?n:c8(r,t,n)}),new Wi(e.segments,i)}class d8{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Ty(i[0]))throw new V(4003,!1);const r=i.find(ky);if(r&&r!==Jz(i))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class u0{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function qE(e,t,n){if(e||(e=new Wi([],{})),0===e.segments.length&&e.hasChildren())return Iy(e,t,n);const i=function Dce(e,t,n){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;const s=e.segments[r],a=n[i];if(ky(a))break;const l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!f8(l,c,s))return o;i+=2}else{if(!f8(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new Wi(e.segments.slice(0,i.pathIndex),{});return o.children[Gi]=new Wi(e.segments.slice(i.pathIndex),e.children),Iy(o,0,r)}return i.match&&0===r.length?new Wi(e.segments,{}):i.match&&!e.hasChildren()?YE(e,t,n):i.match?Iy(e,0,r):YE(e,t,n)}function Iy(e,t,n){if(0===n.length)return new Wi(e.segments,{});{const i=function Ece(e){return ky(e[0])?e[0].outlets:{[Gi]:e}}(n),r={};return ea(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=qE(e.children[s],t,o))}),ea(e.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Wi(e.segments,r)}}function YE(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const o=n[r];if(ky(o)){const l=Ace(o.outlets);return new Wi(i,l)}if(0===r&&Ty(n[0])){i.push(new Dy(e.segments[t].path,p8(n[0]))),r++;continue}const s=ky(o)?o.outlets[Gi]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Ty(a)?(i.push(new Dy(s,p8(a))),r+=2):(i.push(new Dy(s,{})),r++)}return new Wi(i,{})}function Ace(e){const t={};return ea(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=YE(new Wi([],{}),0,n))}),t}function p8(e){const t={};return ea(e,(n,i)=>t[i]=`${n}`),t}function f8(e,t,n){return e==n.path&&Qd(t,n.parameters)}class tu{constructor(t,n){this.id=t,this.url=n}}class XE extends tu{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pp extends tu{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Iw extends tu{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class m8 extends tu{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tce extends tu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kce extends tu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ice extends tu{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rce extends tu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nce extends tu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fce{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lce{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bce{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zce{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uce{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jce{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g8{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class v8{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=$E(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=$E(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=KE(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return KE(t,this._root).map(n=>n.value)}}function $E(e,t){if(e===t.value)return t;for(const n of t.children){const i=$E(e,n);if(i)return i}return null}function KE(e,t){if(e===t.value)return[t];for(const n of t.children){const i=KE(e,n);if(i.length)return i.unshift(t),i}return[]}class nu{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function p0(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class y8 extends v8{constructor(t,n){super(t),this.snapshot=n,QE(this,t)}toString(){return this.snapshot.toString()}}function _8(e,t){const n=function Hce(e,t){const s=new Rw([],{},{},"",{},Gi,t,null,e.root,-1,{});return new x8("",new nu(s,[]))}(e,t),i=new js.X([new Dy("",{})]),r=new js.X({}),o=new js.X({}),s=new js.X({}),a=new js.X(""),l=new pl(i,r,s,a,o,Gi,t,n.root);return l.snapshot=n.root,new y8(new nu(l,[]),n)}class pl{constructor(t,n,i,r,o,s,a,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe((0,_i.U)(c=>c[Ey]))??(0,Un.of)(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_i.U)(t=>d0(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_i.U)(t=>d0(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function b8(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Gce(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Rw{constructor(t,n,i,r,o,s,a,l,c,h,d,u){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[Ey],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=h,this._correctedLastPathIndex=u??h,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=d0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=d0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class x8 extends v8{constructor(t,n){super(n),this.url=t,QE(this,n)}toString(){return w8(this._root)}}function QE(e,t){t.value._routerState=e,t.children.forEach(n=>QE(e,n))}function w8(e){const t=e.children.length>0?` { ${e.children.map(w8).join(", ")} } `:"";return`${e.value}${t}`}function ZE(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Qd(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Qd(t.params,n.params)||e.params.next(n.params),function oce(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Qd(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Qd(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function JE(e,t){const n=Qd(e.params,t.params)&&function dce(e,t){return im(e,t)&&e.every((n,i)=>Qd(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||JE(e.parent,t.parent))}function Ry(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function qce(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Ry(e,i,r);return Ry(e,i)})}(e,t,n);return new nu(i,r)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ry(e,a)),s}}const i=function Yce(e){return new pl(new js.X(e.url),new js.X(e.params),new js.X(e.queryParams),new js.X(e.fragment),new js.X(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(o=>Ry(e,o));return new nu(i,r)}}const eD="ngNavigationCancelingError";function C8(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=rm(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=M8(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function M8(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[eD]=!0,i.cancellationCode=t,n&&(i.url=n),i}function P8(e){return O8(e)&&rm(e.url)}function O8(e){return e&&e[eD]}class Xce{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ny,this.attachRef=null}}let Ny=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Xce,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Nw=!1;let tD=(()=>{class e{constructor(n,i,r,o,s){this.parentContexts=n,this.location=i,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new yi,this.deactivateEvents=new yi,this.attachEvents=new yi,this.detachEvents=new yi,this.name=r||Gi,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,Nw);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,Nw);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,Nw);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new V(4013,Nw);this._activatedRoute=n;const r=this.location,s=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new $ce(n,a,r.injector);if(i&&function Kce(e){return!!e.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(s);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(Me(Ny),Me(ed),function np(e){return function eK(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const o=n[r];if(bg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}}return null}(Oi(),e)}("name"),Me(nd),Me(rp))},e.\u0275dir=xt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),e})();class $ce{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===pl?this.route:t===Ny?this.childContexts:this.parent.get(t,n)}}let nD=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["ng-component"]],standalone:!0,features:[vF],decls:1,vars:0,template:function(n,i){1&n&&oe(0,"router-outlet")},dependencies:[tD],encapsulation:2}),e})();function S8(e,t){return e.providers&&!e._injector&&(e._injector=bx(e.providers,t,`Route: ${e.path}`)),e._injector??t}function rD(e){const t=e.children&&e.children.map(rD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Gi&&(n.component=nD),n}function yc(e){return e.outlet||Gi}function E8(e,t){const n=e.filter(i=>yc(i)===t);return n.push(...e.filter(i=>yc(i)!==t)),n}function Fy(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class tde{constructor(t,n,i,r){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),ZE(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=p0(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),ea(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=p0(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=p0(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const r=p0(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new jce(o.value.snapshot))}),t.children.length&&this.forwardEvent(new zce(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(ZE(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ZE(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Fy(r.snapshot),l=a?.get(Ng)??null;s.attachRef=null,s.route=r,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class D8{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Fw{constructor(t,n){this.component=t,this.route=n}}function nde(e,t,n){const i=e._root;return Ly(i,t?t._root:null,n,[i.value])}function f0(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function Xi(e){return null!==Hi(e)}(e)?t.get(e):e:i}function Ly(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=p0(t);return e.children.forEach(s=>{(function rde(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function ode(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!im(e.url,t.url);case"pathParamsOrQueryParamsChange":return!im(e.url,t.url)||!Qd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!JE(e,t)||!Qd(e.queryParams,t.queryParams);default:return!JE(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new D8(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Ly(e,t,o.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fw(a.outlet.component,s))}else s&&By(t,a,r),r.canActivateChecks.push(new D8(i)),Ly(e,null,o.component?a?a.children:null:n,i,r)})(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),ea(o,(s,a)=>By(s,n.getContext(a),r)),r}function By(e,t,n){const i=p0(e),r=e.value;ea(i,(o,s)=>{By(o,r.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Fw(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function zy(e){return"function"==typeof e}function oD(e){return e instanceof Zle.K||"EmptyError"===e?.name}const Lw=Symbol("INITIAL_VALUE");function m0(){return(0,Js.w)(e=>(0,Mw.aj)(e.map(t=>t.pipe((0,ga.q)(1),(0,Pw.O)(Lw)))).pipe((0,_i.U)(t=>{for(const n of t)if(!0!==n){if(n===Lw)return Lw;if(!1===n||n instanceof nm)return n}return!0}),(0,Zs.h)(t=>t!==Lw),(0,ga.q)(1)))}function A8(e){return(0,ece.z)((0,Ai.b)(t=>{if(rm(t))throw C8(0,t)}),(0,_i.U)(t=>!0===t))}const sD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T8(e,t,n,i,r){const o=aD(e,t,n);return o.matched?function wde(e,t,n,i){const r=t.canMatch;if(!r||0===r.length)return(0,Un.of)(!0);const o=r.map(s=>{const a=f0(s,e);return Mp(function hde(e){return e&&zy(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))});return(0,Un.of)(o).pipe(m0(),A8())}(i=S8(t,i),t,n).pipe((0,_i.U)(s=>!0===s?o:{...sD})):(0,Un.of)(o)}function aD(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...sD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||rce)(n,e,t);if(!r)return{...sD};const o={};ea(r.posParams,(a,l)=>{o[l]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Bw(e,t,n,i,r="corrected"){if(n.length>0&&function Pde(e,t,n){return n.some(i=>zw(e,t,i)&&yc(i)!==Gi)}(e,n,i)){const s=new Wi(t,function Mde(e,t,n,i){const r={};r[Gi]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&yc(o)!==Gi){const s=new Wi([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,r[yc(o)]=s}return r}(e,t,i,new Wi(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function Ode(e,t,n){return n.some(i=>zw(e,t,i))}(e,n,i)){const s=new Wi(e.segments,function Cde(e,t,n,i,r,o){const s={};for(const a of i)if(zw(e,n,a)&&!r[yc(a)]){const l=new Wi([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[yc(a)]=l}return{...r,...s}}(e,t,n,i,e.children,r));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const o=new Wi(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function zw(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function k8(e,t,n,i){return!!(yc(e)===i||i!==Gi&&zw(t,n,e))&&("**"===e.path||aD(t,e,n).matched)}function I8(e,t,n){return 0===t.length&&!e.children[n]}const Uw=!1;class jw{constructor(t){this.segmentGroup=t||null}}class R8{constructor(t){this.urlTree=t}}function Uy(e){return(0,Vr._)(new jw(e))}function N8(e){return(0,Vr._)(new R8(e))}class Ade{constructor(t,n,i,r,o){this.injector=t,this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Bw(this.urlTree.root,[],[],this.config).segmentGroup,n=new Wi(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Gi).pipe((0,_i.U)(o=>this.createUrlTree(kw(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Dr.K)(o=>{if(o instanceof R8)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof jw?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Gi).pipe((0,_i.U)(r=>this.createUrlTree(kw(r),t.queryParams,t.fragment))).pipe((0,Dr.K)(r=>{throw r instanceof jw?this.noMatchError(r):r}))}noMatchError(t){return new V(4002,Uw)}createUrlTree(t,n,i){const r=GE(t);return new nm(r,n,i)}expandSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe((0,_i.U)(o=>new Wi([],o))):this.expandSegment(t,i,n,i.segments,r,!0)}expandChildren(t,n,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,fa.D)(r).pipe((0,wp.b)(o=>{const s=i.children[o],a=E8(n,o);return this.expandSegmentGroup(t,a,s,o).pipe((0,_i.U)(l=>({segment:l,outlet:o})))}),(0,qz.R)((o,s)=>(o[s.outlet]=s.segment,o),{}),(0,Yz.Z)())}expandSegment(t,n,i,r,o,s){return(0,fa.D)(i).pipe((0,wp.b)(a=>this.expandSegmentAgainstRoute(t,n,i,a,r,o,s).pipe((0,Dr.K)(c=>{if(c instanceof jw)return(0,Un.of)(null);throw c}))),(0,sd.P)(a=>!!a),(0,Dr.K)((a,l)=>{if(oD(a))return I8(n,r,o)?(0,Un.of)(new Wi([],{})):Uy(n);throw a}))}expandSegmentAgainstRoute(t,n,i,r,o,s,a){return k8(r,n,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,n,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s):Uy(n):Uy(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?N8(o):this.lineralizeSegments(i,o).pipe((0,Hl.zg)(s=>{const a=new Wi(s,{});return this.expandSegment(t,a,n,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:h}=aD(n,r,o);if(!a)return Uy(n);const d=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?N8(d):this.lineralizeSegments(r,d).pipe((0,Hl.zg)(u=>this.expandSegment(t,n,i,u.concat(c),s,!1)))}matchSegmentAgainstRoute(t,n,i,r,o){return"**"===i.path?(t=S8(i,t),i.loadChildren?(i._loadedRoutes?(0,Un.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,_i.U)(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new Wi(r,{})))):(0,Un.of)(new Wi(r,{}))):T8(n,i,r,t).pipe((0,Js.w)(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Hl.zg)(h=>{const d=h.injector??t,u=h.routes,{segmentGroup:f,slicedSegments:v}=Bw(n,a,l,u),y=new Wi(f.segments,f.children);if(0===v.length&&y.hasChildren())return this.expandChildren(d,u,y).pipe((0,_i.U)(S=>new Wi(a,S)));if(0===u.length&&0===v.length)return(0,Un.of)(new Wi(a,{}));const _=yc(i)===o;return this.expandSegment(d,y,u,v,_?Gi:o,!0).pipe((0,_i.U)(O=>new Wi(a.concat(O.segments),O.children)))})):Uy(n)))}getChildConfig(t,n,i){return n.children?(0,Un.of)({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?(0,Un.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function xde(e,t,n,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,Un.of)(!0);const o=r.map(s=>{const a=f0(s,e);return Mp(function ade(e){return e&&zy(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))});return(0,Un.of)(o).pipe(m0(),A8())}(t,n,i).pipe((0,Hl.zg)(r=>r?this.configLoader.loadChildren(t,n).pipe((0,Ai.b)(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Ede(e){return(0,Vr._)(M8(Uw,3))}())):(0,Un.of)({routes:[],injector:t})}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Un.of)(i);if(r.numberOfChildren>1||!r.children[Gi])return(0,Vr._)(new V(4e3,Uw));r=r.children[Gi]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const o=this.createSegmentGroup(t,n.root,i,r);return new nm(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return ea(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=n[a]}else i[o]=r}),i}createSegmentGroup(t,n,i,r){const o=this.createSegments(t,n.segments,i,r);let s={};return ea(n.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new Wi(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new V(4001,Uw);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}class kde{}class Nde{constructor(t,n,i,r,o,s,a,l){this.injector=t,this.rootComponentType=n,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=Bw(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Gi).pipe((0,_i.U)(n=>{if(null===n)return null;const i=new Rw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gi,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new nu(i,n),o=new x8(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const n=t.value,i=b8(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r)}processChildren(t,n,i){return(0,fa.D)(Object.keys(i.children)).pipe((0,wp.b)(r=>{const o=i.children[r],s=E8(n,r);return this.processSegmentGroup(t,s,o,r)}),(0,qz.R)((r,o)=>r&&o?(r.push(...o),r):null),(0,tce.o)(r=>null!==r),(0,Xz.d)(null),(0,Yz.Z)(),(0,_i.U)(r=>{if(null===r)return null;const o=F8(r);return function Fde(e){e.sort((t,n)=>t.value.outlet===Gi?-1:n.value.outlet===Gi?1:t.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(t,n,i,r,o){return(0,fa.D)(n).pipe((0,wp.b)(s=>this.processSegmentAgainstRoute(s._injector??t,s,i,r,o)),(0,sd.P)(s=>!!s),(0,Dr.K)(s=>{if(oD(s))return I8(i,r,o)?(0,Un.of)([]):(0,Un.of)(null);throw s}))}processSegmentAgainstRoute(t,n,i,r,o){if(n.redirectTo||!k8(n,i,r,o))return(0,Un.of)(null);let s;if("**"===n.path){const a=r.length>0?Jz(r).parameters:{},l=B8(i)+r.length,c=new Rw(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U8(n),yc(n),n.component??n._loadedComponent??null,n,L8(i),l,j8(n),l);s=(0,Un.of)({snapshot:c,consumedSegments:[],remainingSegments:[]})}else s=T8(i,n,r,t).pipe((0,_i.U)(({matched:a,consumedSegments:l,remainingSegments:c,parameters:h})=>{if(!a)return null;const d=B8(i)+l.length;return{snapshot:new Rw(l,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U8(n),yc(n),n.component??n._loadedComponent??null,n,L8(i),d,j8(n),d),consumedSegments:l,remainingSegments:c}}));return s.pipe((0,Js.w)(a=>{if(null===a)return(0,Un.of)(null);const{snapshot:l,consumedSegments:c,remainingSegments:h}=a;t=n._injector??t;const d=n._loadedInjector??t,u=function Lde(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:v}=Bw(i,c,h,u.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===v.length&&f.hasChildren())return this.processChildren(d,u,f).pipe((0,_i.U)(_=>null===_?null:[new nu(l,_)]));if(0===u.length&&0===v.length)return(0,Un.of)([new nu(l,[])]);const y=yc(n)===o;return this.processSegment(d,u,f,v,y?Gi:o).pipe((0,_i.U)(_=>null===_?null:[new nu(l,_)]))}))}}function Bde(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function F8(e){const t=[],n=new Set;for(const i of e){if(!Bde(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=F8(i.children);t.push(new nu(i.value,r))}return t.filter(i=>!n.has(i))}function L8(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function B8(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function U8(e){return e.data||{}}function j8(e){return e.resolve||{}}function V8(e){return"string"==typeof e.title||null===e.title}function lD(e){return(0,Js.w)(t=>{const n=e(t);return n?(0,fa.D)(n).pipe((0,_i.U)(()=>t)):(0,Un.of)(t)})}let H8=(()=>{class e{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Gi);return i}getResolvedTitleForRoute(n){return n.data[Ey]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:function(){return Ho(G8)},providedIn:"root"}),e})(),G8=(()=>{class e extends H8{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(n){return new(n||e)(Ft(dl))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class qde{}class Xde extends class Yde{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const Hw=new jn("",{providedIn:"root",factory:()=>({})}),cD=new jn("ROUTES");let dD=(()=>{class e{constructor(n,i){this.injector=n,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return(0,Un.of)(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Mp(n.loadComponent()).pipe((0,Ai.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),(0,UE.x)(()=>{this.componentLoaders.delete(n)})),r=new Wz.c(i,()=>new b.xQ).pipe((0,Kz.x)());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Un.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,_i.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,h=!1;Array.isArray(a)?c=a:(l=a.create(n).injector,c=Zz(l.get(cD,[],cn.Self|cn.Optional)));return{routes:c.map(rD),injector:l}}),(0,UE.x)(()=>{this.childrenLoaders.delete(i)})),s=new Wz.c(o,()=>new b.xQ).pipe((0,Kz.x)());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(n){return Mp(n()).pipe((0,Hl.zg)(i=>i instanceof mF||Array.isArray(i)?(0,Un.of)(i):(0,fa.D)(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)(Ft(xs),Ft(rS))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Kde{}class Qde{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function Zde(e){throw e}function Jde(e,t,n){return t.parse("/")}const ehe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},the={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function q8(){const e=Ho(o8),t=Ho(Ny),n=Ho(qf),i=Ho(xs),r=Ho(rS),o=Ho(cD,{optional:!0})??[],s=Ho(Hw,{optional:!0})??{},a=Ho(G8),l=Ho(H8,{optional:!0}),c=Ho(Kde,{optional:!0}),h=Ho(qde,{optional:!0}),d=new ao(null,e,t,n,i,r,Zz(o));return c&&(d.urlHandlingStrategy=c),h&&(d.routeReuseStrategy=h),d.titleStrategy=l??a,function nhe(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(s,d),d}let ao=(()=>{class e{constructor(n,i,r,o,s,a,l){this.rootComponentType=n,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new b.xQ,this.errorHandler=Zde,this.malformedUriErrorHandler=Jde,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Un.of)(void 0),this.urlHandlingStrategy=new Qde,this.routeReuseStrategy=new Xde,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(dD),this.configLoader.onLoadEndListener=u=>this.triggerEvent(new Lce(u)),this.configLoader.onLoadStartListener=u=>this.triggerEvent(new Fce(u)),this.ngModule=s.get(Vf),this.console=s.get(Ine);const d=s.get(br);this.isNgZoneEnabled=d instanceof br&&br.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function sce(){return new nm(new Wi([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_8(this.currentUrlTree,this.rootComponentType),this.transitions=new js.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const i=this.events;return n.pipe((0,Zs.h)(r=>0!==r.id),(0,_i.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),(0,Js.w)(r=>{let o=!1,s=!1;return(0,Un.of)(r).pipe((0,Ai.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Js.w)(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Y8(a.source)&&(this.browserUrlTree=a.extractedUrl),(0,Un.of)(a).pipe((0,Js.w)(d=>{const u=this.transitions.getValue();return i.next(new XE(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),u!==this.transitions.getValue()?c0.E:Promise.resolve(d)}),function Tde(e,t,n,i){return(0,Js.w)(r=>function Dde(e,t,n,i,r){return new Ade(e,t,n,i,r).apply()}(e,t,n,r.extractedUrl,i).pipe((0,_i.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ai.b)(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function Ude(e,t,n,i,r,o){return(0,Hl.zg)(s=>function Rde(e,t,n,i,r,o,s="emptyOnly",a="legacy"){return new Nde(e,t,n,i,r,s,a,o).recognize().pipe((0,Js.w)(l=>null===l?function Ide(e){return new A.y(t=>t.error(e))}(new kde):(0,Un.of)(l)))}(e,t,n,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r,o).pipe((0,_i.U)(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ai.b)(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const u=new Tce(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(u)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:u,extractedUrl:f,source:v,restoredState:y,extras:_}=a,w=new XE(u,this.serializeUrl(f),v,y);i.next(w);const O=_8(f,this.rootComponentType).snapshot;return r={...a,targetSnapshot:O,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},(0,Un.of)(r)}return this.rawUrlTree=a.rawUrl,a.resolve(null),c0.E}),(0,Ai.b)(a=>{const l=new kce(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),(0,_i.U)(a=>r={...a,guards:nde(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function pde(e,t){return(0,Hl.zg)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,Un.of)({...n,guardsResult:!0}):function fde(e,t,n,i){return(0,fa.D)(e).pipe((0,Hl.zg)(r=>function bde(e,t,n,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Un.of)(!0);const s=o.map(a=>{const l=Fy(t)??r,c=f0(a,l);return Mp(function dde(e){return e&&zy(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,i):l.runInContext(()=>c(e,t,n,i))).pipe((0,sd.P)())});return(0,Un.of)(s).pipe(m0())}(r.component,r.route,n,t,i)),(0,sd.P)(r=>!0!==r,!0))}(s,i,r,e).pipe((0,Hl.zg)(a=>a&&function sde(e){return"boolean"==typeof e}(a)?function mde(e,t,n,i){return(0,fa.D)(t).pipe((0,wp.b)(r=>(0,Jle.z)(function vde(e,t){return null!==e&&t&&t(new Bce(e)),(0,Un.of)(!0)}(r.route.parent,i),function gde(e,t){return null!==e&&t&&t(new Uce(e)),(0,Un.of)(!0)}(r.route,i),function _de(e,t,n){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function ide(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>(0,Gz.P)(()=>{const a=s.guards.map(l=>{const c=Fy(s.node)??n,h=f0(l,c);return Mp(function cde(e){return e&&zy(e.canActivateChild)}(h)?h.canActivateChild(i,e):c.runInContext(()=>h(i,e))).pipe((0,sd.P)())});return(0,Un.of)(a).pipe(m0())}));return(0,Un.of)(o).pipe(m0())}(e,r.path,n),function yde(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Un.of)(!0);const r=i.map(o=>(0,Gz.P)(()=>{const s=Fy(t)??n,a=f0(o,s);return Mp(function lde(e){return e&&zy(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe((0,sd.P)())}));return(0,Un.of)(r).pipe(m0())}(e,r.route,n))),(0,sd.P)(r=>!0!==r,!0))}(i,o,e,t):(0,Un.of)(a)),(0,_i.U)(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),(0,Ai.b)(a=>{if(r.guardsResult=a.guardsResult,rm(a.guardsResult))throw C8(0,a.guardsResult);const l=new Ice(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),(0,Zs.h)(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),lD(a=>{if(a.guards.canActivateChecks.length)return(0,Un.of)(a).pipe((0,Ai.b)(l=>{const c=new Rce(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),(0,Js.w)(l=>{let c=!1;return(0,Un.of)(l).pipe(function jde(e,t){return(0,Hl.zg)(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return(0,Un.of)(n);let o=0;return(0,fa.D)(r).pipe((0,wp.b)(s=>function Vde(e,t,n,i){const r=e.routeConfig,o=e._resolve;return void 0!==r?.title&&!V8(r)&&(o[Ey]=r.title),function Hde(e,t,n,i){const r=function Gde(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return(0,Un.of)({});const o={};return(0,fa.D)(r).pipe((0,Hl.zg)(s=>function Wde(e,t,n,i){const r=Fy(t)??i,o=f0(e,r);return Mp(o.resolve?o.resolve(t,n):r.runInContext(()=>o(t,n)))}(e[s],t,n,i).pipe((0,sd.P)(),(0,Ai.b)(a=>{o[s]=a}))),(0,$z.h)(1),(0,nce.h)(o),(0,Dr.K)(s=>oD(s)?c0.E:(0,Vr._)(s)))}(o,e,t,i).pipe((0,_i.U)(s=>(e._resolvedData=s,e.data=b8(e,n).resolve,r&&V8(r)&&(e.data[Ey]=r.title),null)))}(s.route,i,e,t)),(0,Ai.b)(()=>o++),(0,$z.h)(1),(0,Hl.zg)(s=>o===r.length?(0,Un.of)(n):c0.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ai.b)({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),(0,Ai.b)(l=>{const c=new Nce(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),lD(a=>{const l=c=>{const h=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(c.routeConfig).pipe((0,Ai.b)(d=>{c.component=d}),(0,_i.U)(()=>{})));for(const d of c.children)h.push(...l(d));return h};return(0,Mw.aj)(l(a.targetSnapshot.root)).pipe((0,Xz.d)(),(0,ga.q)(1))}),lD(()=>this.afterPreactivation()),(0,_i.U)(a=>{const l=function Wce(e,t,n){const i=Ry(e,t._root,n?n._root:void 0);return new y8(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),(0,Ai.b)(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>(0,_i.U)(i=>(new tde(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),(0,Ai.b)({next(){o=!0},complete(){o=!0}}),(0,UE.x)(()=>{o||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),(0,Dr.K)(a=>{if(s=!0,O8(a)){P8(a)||(this.navigated=!0,this.restoreHistory(r,!0));const l=new Iw(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(l),P8(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Y8(r.source)};this.scheduleNavigation(c,"imperative",null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new m8(r.id,this.serializeUrl(r.extractedUrl),a,r.targetSnapshot??void 0);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return c0.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=n.state?.navigationId?n.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const s=this.parseUrl(n.url);this.scheduleNavigation(s,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(rD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,h=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),Pce(c,this.currentUrlTree,n,d,h??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=rm(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(n,i={skipLocationChange:!1}){return function ihe(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new V(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?{...ehe}:!1===i?{...the}:i,rm(n))return t8(this.currentUrlTree,n,r);const o=this.parseUrl(n);return t8(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const o=n[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Pp(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,f)=>{a=u,l=f});const h=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),d=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:h,targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,i,r){const o=new Iw(n.id,this.serializeUrl(n.extractedUrl),i,r);this.triggerEvent(o),n.resolve(!1)}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){oO()},e.\u0275prov=lt({token:e,factory:function(){return q8()},providedIn:"root"}),e})();function Y8(e){return"imperative"!==e}let _c=(()=>{class e{constructor(n,i,r){this.router=n,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new b.xQ,this.subscription=n.events.subscribe(o=>{o instanceof Pp&&this.updateTargetUrlAndHref()})}set preserveFragment(n){this._preserveFragment=$h(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=$h(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=$h(n)}get replaceUrl(){return this._replaceUrl}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,i,r,o,s){return!!(0!==n||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(Me(ao),Me(pl),Me(pp))},e.\u0275dir=xt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,i){1&n&&Ct("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&Br("target",i.target)("href",i.href,ve)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[is]}),e})();class X8{}let she=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe((0,Zs.h)(n=>n instanceof Pp),(0,wp.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=bx(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return(0,fa.D)(r).pipe((0,Ow.J)())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):(0,Un.of)(null);const o=r.pipe((0,Hl.zg)(s=>null===s?(0,Un.of)(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){const s=this.loader.loadComponent(i);return(0,fa.D)([o,s]).pipe((0,Ow.J)())}return o})}}return e.\u0275fac=function(n){return new(n||e)(Ft(ao),Ft(rS),Ft(rp),Ft(X8),Ft(dD))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const uD=new jn("");let $8=(()=>{class e{constructor(n,i,r={}){this.router=n,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof XE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Pp&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof g8&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.router.triggerEvent(new g8(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){oO()},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();function g0(e,t){return{\u0275kind:e,\u0275providers:t}}function pD(e){return[{provide:cD,multi:!0,useValue:e}]}function Q8(){const e=Ho(xs);return t=>{const n=e.get(Gf);if(t!==n.components[0])return;const i=e.get(ao),r=e.get(Z8);1===e.get(fD)&&i.initialNavigation(),e.get(J8,null,cn.Optional)?.setUpPreloading(),e.get(uD,null,cn.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Z8=new jn("",{factory:()=>new b.xQ}),fD=new jn("",{providedIn:"root",factory:()=>1});const J8=new jn("");function dhe(e){return g0(0,[{provide:J8,useExisting:she},{provide:X8,useExisting:e}])}const e9=new jn("ROUTER_FORROOT_GUARD"),hhe=[qf,{provide:o8,useClass:VE},{provide:ao,useFactory:q8},Ny,{provide:pl,useFactory:function K8(e){return e.routerState.root},deps:[ao]},dD];function uhe(){return new mL("Router",ao)}let t9=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[hhe,[],pD(n),{provide:e9,useFactory:ghe,deps:[[ao,new Df,new Tg]]},{provide:Hw,useValue:i||{}},i?.useHash?{provide:pp,useClass:xie}:{provide:pp,useClass:UL},{provide:uD,useFactory:()=>{const e=Ho(ao),t=Ho(Rre),n=Ho(Hw);return n.scrollOffset&&t.setOffset(n.scrollOffset),new $8(e,t,n)}},i?.preloadingStrategy?dhe(i.preloadingStrategy).\u0275providers:[],{provide:mL,multi:!0,useFactory:uhe},i?.initialNavigation?vhe(i):[],[{provide:n9,useFactory:Q8},{provide:aL,multi:!0,useExisting:n9}]]}}static forChild(n){return{ngModule:e,providers:[pD(n)]}}}return e.\u0275fac=function(n){return new(n||e)(Ft(e9,8))},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[nD]}),e})();function ghe(e){return"guarded"}function vhe(e){return["disabled"===e.initialNavigation?g0(3,[{provide:Mx,multi:!0,useFactory:()=>{const t=Ho(ao);return()=>{t.setUpLocationChangeListener()}}},{provide:fD,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?g0(2,[{provide:fD,useValue:0},{provide:Mx,multi:!0,deps:[xs],useFactory:t=>{const n=t.get(_ie,Promise.resolve());let i=!1;return()=>n.then(()=>new Promise(o=>{const s=t.get(ao),a=t.get(Z8);(function r(o){t.get(ao).events.pipe((0,Zs.h)(a=>a instanceof Pp||a instanceof Iw||a instanceof m8),(0,_i.U)(a=>a instanceof Pp||a instanceof Iw&&(0===a.code||1===a.code)&&null),(0,Zs.h)(a=>null!==a),(0,ga.q)(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),s.afterPreactivation=()=>(o(!0),i||a.closed?(0,Un.of)(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const n9=new jn(""),_he=function(e,t){return{isMouseDragable:e,isTouchDragable:t}};function bhe(e,t){if(1&e&&(x(0,"div",4),oe(1,"owl-stage",5),M()),2&e){const n=Ze();se(1),$e("owlDraggable",Hf(3,_he,null==n.owlDOMData?null:n.owlDOMData.isMouseDragable,null==n.owlDOMData?null:n.owlDOMData.isTouchDragable))("stageData",n.stageData)("slidesData",n.slidesData)}}const xhe=function(e,t){return{active:e,"owl-dot-text":t}};function whe(e,t){if(1&e){const n=or();x(0,"div",11),Ct("click",function(){const o=Dn(n).$implicit;return Yt(Ze(2).moveByDot(o.id))}),oe(1,"span",12),M()}if(2&e){const n=t.$implicit;$e("ngClass",Hf(2,xhe,n.active,n.showInnerContent)),se(1),$e("innerHTML",n.innerContent,Ll)}}const Yw=function(e){return{disabled:e}};function Che(e,t){if(1&e){const n=or();zr(0),x(1,"div",6)(2,"div",7),Ct("click",function(){return Dn(n),Yt(Ze().prev())}),M(),x(3,"div",8),Ct("click",function(){return Dn(n),Yt(Ze().next())}),M()(),x(4,"div",9),tt(5,whe,2,5,"div",10),M(),Ur()}if(2&e){const n=Ze();se(1),$e("ngClass",al(7,Yw,null==n.navData?null:n.navData.disabled)),se(1),$e("ngClass",al(9,Yw,null==n.navData||null==n.navData.prev?null:n.navData.prev.disabled))("innerHTML",null==n.navData||null==n.navData.prev?null:n.navData.prev.htmlText,Ll),se(1),$e("ngClass",al(11,Yw,null==n.navData||null==n.navData.next?null:n.navData.next.disabled))("innerHTML",null==n.navData||null==n.navData.next?null:n.navData.next.htmlText,Ll),se(1),$e("ngClass",al(13,Yw,null==n.dotsData?null:n.dotsData.disabled)),se(1),$e("ngForOf",null==n.dotsData?null:n.dotsData.dots)}}const Mhe=function(e,t,n,i,r){return{"owl-rtl":e,"owl-loaded":t,"owl-responsive":n,"owl-drag":i,"owl-grab":r}};function Phe(e,t){}function Ohe(e,t){1&e&&tt(0,Phe,0,0,"ng-template",4),2&e&&$e("ngTemplateOutlet",Ze().$implicit.tplRef)}const She=function(e,t,n,i){return{width:e,"margin-left":t,"margin-right":n,left:i}};function Ehe(e,t){if(1&e){const n=or();zr(0),x(1,"div",2),Ct("animationend",function(){const o=Dn(n).$implicit;return Yt(Ze().clear(o.id))}),tt(2,Ohe,1,1,null,3),M(),Ur()}if(2&e){const n=t.$implicit;se(1),$e("ngClass",n.classes)("ngStyle",MF(4,She,n.width+"px",n.marginL?n.marginL+"px":"",n.marginR?n.marginR+"px":"",n.left))("@autoHeight",n.heightState),se(1),$e("ngIf",n.load)}}const Dhe=function(e,t,n,i,r){return{width:e,transform:t,transition:n,"padding-left":i,"padding-right":r}};let i9=(()=>{let e=class{constructor(n){this.eventManager=n,this.resizeSubject=new b.xQ,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(n){this.resizeSubject.next(n.target)}onLoaded(n){this.windowWidth=n.target}};return e.\u0275fac=function(n){return new(n||e)(Ft(fy))},e.\u0275prov=lt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();class Ahe{constructor(){this.items=3,this.skip_validateItems=!1,this.loop=!1,this.center=!1,this.rewind=!1,this.mouseDrag=!0,this.touchDrag=!0,this.pullDrag=!0,this.freeDrag=!1,this.margin=0,this.stagePadding=0,this.merge=!1,this.mergeFit=!0,this.autoWidth=!1,this.startPosition=0,this.rtl=!1,this.smartSpeed=250,this.fluidSpeed=!1,this.dragEndSpeed=!1,this.responsive={},this.responsiveRefreshRate=200,this.nav=!1,this.navText=["prev","next"],this.navSpeed=!1,this.slideBy=1,this.dots=!0,this.dotsEach=!1,this.dotsData=!1,this.dotsSpeed=!1,this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoplaySpeed=!1,this.lazyLoad=!1,this.lazyLoadEager=0,this.slideTransition="",this.animateOut=!1,this.animateIn=!1,this.autoHeight=!1,this.URLhashListener=!1}}class The{constructor(){this.items="number",this.skip_validateItems="boolean",this.loop="boolean",this.center="boolean",this.rewind="boolean",this.mouseDrag="boolean",this.touchDrag="boolean",this.pullDrag="boolean",this.freeDrag="boolean",this.margin="number",this.stagePadding="number",this.merge="boolean",this.mergeFit="boolean",this.autoWidth="boolean",this.startPosition="number|string",this.rtl="boolean",this.smartSpeed="number",this.fluidSpeed="boolean",this.dragEndSpeed="number|boolean",this.responsive={},this.responsiveRefreshRate="number",this.nav="boolean",this.navText="string[]",this.navSpeed="number|boolean",this.slideBy="number|string",this.dots="boolean",this.dotsEach="number|boolean",this.dotsData="boolean",this.dotsSpeed="number|boolean",this.autoplay="boolean",this.autoplayTimeout="number",this.autoplayHoverPause="boolean",this.autoplaySpeed="number|boolean",this.lazyLoad="boolean",this.lazyLoadEager="number",this.slideTransition="string",this.animateOut="string|boolean",this.animateIn="string|boolean",this.autoHeight="boolean",this.URLhashListener="boolean"}}let mD=(()=>{let e=class{constructor(n){this.errorHandler=n}log(n,...i){(function pS(){return OL=!0,PL})()&&console.log(n,...i)}error(n){this.errorHandler.handleError(n)}warn(n,...i){console.warn(n,...i)}};return e.\u0275fac=function(n){return new(n||e)(Ft(Rf))},e.\u0275prov=lt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();var Xw=(()=>{return(e=Xw||(Xw={})).Event="event",e.State="state",Xw;var e})(),v0=(()=>{return(e=v0||(v0={})).Default="default",e.Inner="inner",e.Outer="outer",v0;var e})();let iu=(()=>{let e=class{constructor(n){this.logger=n,this._viewSettingsShipper$=new b.xQ,this._initializedCarousel$=new b.xQ,this._changeSettingsCarousel$=new b.xQ,this._changedSettingsCarousel$=new b.xQ,this._translateCarousel$=new b.xQ,this._translatedCarousel$=new b.xQ,this._resizeCarousel$=new b.xQ,this._resizedCarousel$=new b.xQ,this._refreshCarousel$=new b.xQ,this._refreshedCarousel$=new b.xQ,this._dragCarousel$=new b.xQ,this._draggedCarousel$=new b.xQ,this.settings={items:0},this.owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1},this.stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0},this._items=[],this._widths=[],this._supress={},this._plugins={},this._current=null,this._clones=[],this._mergers=[],this._speed=null,this._coordinates=[],this._breakpoint=null,this.clonedIdPrefix="cloned-",this._options={},this._invalidated={},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},this._pipe=[{filter:["width","items","settings"],run:i=>{i.current=this._items&&this._items[this.relative(this._current)].id}},{filter:["width","items","settings"],run:i=>{const r=this.settings.margin||"",s=this.settings.rtl,a={"margin-left":s?r:"","margin-right":s?"":r};!this.settings.autoWidth||this.slidesData.forEach(l=>{l.marginL=a["margin-left"],l.marginR=a["margin-right"]}),i.css=a}},{filter:["width","items","settings"],run:i=>{const r=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,o=!this.settings.autoWidth,s=[];let a=null,l=this._items.length;for(i.items={merge:!1,width:r};l--;)a=this._mergers[l],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,i.items.merge=a>1||i.items.merge,s[l]=o?r*a:this._items[l].width?this._items[l].width:r;this._widths=s,this.slidesData.forEach((c,h)=>{c.width=this._widths[h],c.marginR=i.css["margin-right"],c.marginL=i.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const i=[],r=this._items,o=this.settings,s=Math.max(2*o.items,4),a=2*Math.ceil(r.length/2);let l=[],c=[],h=o.loop&&r.length?o.rewind?s:Math.max(s,a):0;for(h/=2;h--;)i.push(this.normalize(i.length/2,!0)),l.push(Object.assign({},this.slidesData[i[i.length-1]])),i.push(this.normalize(r.length-1-(i.length-1)/2,!0)),c.unshift(Object.assign({},this.slidesData[i[i.length-1]]));this._clones=i,l=l.map(d=>(d.id=`${this.clonedIdPrefix}${d.id}`,d.isActive=!1,d.isCloned=!0,d)),c=c.map(d=>(d.id=`${this.clonedIdPrefix}${d.id}`,d.isActive=!1,d.isCloned=!0,d)),this.slidesData=c.concat(this.slidesData).concat(l)}},{filter:["width","items","settings"],run:()=>{const i=this.settings.rtl?1:-1,r=this._clones.length+this._items.length,o=[];let s=-1,a=0,l=0;for(;++s<r;)a=o[s-1]||0,l=this._widths[this.relative(s)]+this.settings.margin,o.push(a+l*i);this._coordinates=o}},{filter:["width","items","settings"],run:()=>{const i=this.settings.stagePadding,r=this._coordinates,o={width:Math.ceil(Math.abs(r[r.length-1]))+2*i,"padding-left":i||"","padding-right":i||""};this.stageData.width=o.width,this.stageData.paddingL=o["padding-left"],this.stageData.paddingR=o["padding-right"]}},{filter:["width","items","settings"],run:i=>{let r=i.current?this.slidesData.findIndex(o=>o.id===i.current):0;r=Math.max(this.minimum(),Math.min(this.maximum(),r)),this.reset(r)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const i=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,o=[];let s,a,l,c,h,d;if(s=this.coordinates(this.current()),"number"==typeof s?s+=r:s=0,a=s+this.width()*i,-1===i&&this.settings.center){const u=this._coordinates.filter(f=>this.settings.items%2==1?f>=s:f>s);s=u.length?u[u.length-1]:s}for(h=0,d=this._coordinates.length;h<d;h++)l=Math.ceil(this._coordinates[h-1]||0),c=Math.ceil(Math.abs(this._coordinates[h])+r*i),(this._op(l,"<=",s)&&this._op(l,">",a)||this._op(c,"<",s)&&this._op(c,">",a))&&o.push(h);this.slidesData.forEach(u=>(u.isActive=!1,u)),o.forEach(u=>{this.slidesData[u].isActive=!0}),this.settings.center&&(this.slidesData.forEach(u=>(u.isCentered=!1,u)),this.slidesData[this.current()].isCentered=!0)}}]}get invalidated(){return this._invalidated}get states(){return this._states}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(n){const i=new Ahe,r=this._validateOptions(n,i);this._options=Object.assign({},i,r)}_validateOptions(n,i){const r=Object.assign({},n),o=new The,s=(a,l)=>(this.logger.log(`options.${l} must be type of ${a}; ${l}=${n[l]} skipped to defaults: ${l}=${i[l]}`),i[l]);for(const a in r)if(r.hasOwnProperty(a))if("number"===o[a])this._isNumeric(r[a])?(r[a]=+r[a],r[a]="items"===a?this._validateItems(r[a],r.skip_validateItems):r[a]):r[a]=s(o[a],a);else if("boolean"===o[a]&&"boolean"!=typeof r[a])r[a]=s(o[a],a);else if("number|boolean"!==o[a]||this._isNumberOrBoolean(r[a]))if("number|string"!==o[a]||this._isNumberOrString(r[a]))if("string|boolean"!==o[a]||this._isStringOrBoolean(r[a])){if("string[]"===o[a])if(Array.isArray(r[a])){let l=!1;r[a].forEach(c=>{l="string"==typeof c}),l||(r[a]=s(o[a],a))}else r[a]=s(o[a],a)}else r[a]=s(o[a],a);else r[a]=s(o[a],a);else r[a]=s(o[a],a);return r}_validateItems(n,i){let r=n;return n>this._items.length?i?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(r=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):n===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),r}setCarouselWidth(n){this._width=n}setup(n,i,r){this.setCarouselWidth(n),this.setItems(i),this._defineSlidesData(),this.setOptions(r),this.settings=Object.assign({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const n=this._width,i=this._options.responsive;let r=-1;if(!Object.keys(i).length)return;if(!n)return void(this.settings.items=1);for(const s in i)i.hasOwnProperty(s)&&+s<=n&&+s>r&&(r=Number(s));this.settings=Object.assign({},this._options,i[r],{items:i[r]&&i[r].items?this._validateItems(i[r].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const o=[];this._items.forEach(s=>{o.push(this.settings.merge?s.dataMerge:1)}),this._mergers=o,this._breakpoint=r,this.invalidate("settings")}initialize(n){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),n.forEach(i=>{this._mergers.push(this.settings.merge?i.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let n=0;const i=this._pipe.length,r=s=>this._invalidated[s],o={};for(;n<i;){const s=this._pipe[n].filter.filter(r);(this._invalidated.all||s.length>0)&&this._pipe[n].run(o),n++}this.slidesData.forEach(s=>s.classes=this.setCurSlideClasses(s)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(n){switch(n=n||v0.Default){case v0.Inner:case v0.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(n){if(!this._items.length)return!1;this.setCarouselWidth(n),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(n){let r,i=null;return r=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),i={x:+r[0],y:+r[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===n.type&&(this.owlDOMData.isGrab=!0),this.speed(0),i}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(n,i){let r=null,o=null,s=null;const a=this.difference(i.pointer,this.pointer(n)),l=this.difference(i.stage.start,a);return!!this.is("dragging")&&(this.settings.loop?(r=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-r,l.x=((l.x-r)%o+o)%o+r):(r=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),o=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),s=this.settings.pullDrag?-1*a.x/5:0,l.x=Math.max(Math.min(l.x,r+s),o+s)),l)}finishDragging(n,i,r){const s=this.difference(i.pointer,this.pointer(n)),a=i.stage.current,l=["right","left"][+(this.settings.rtl?s.x<+this.settings.rtl:s.x>+this.settings.rtl)];let c,h,d;(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),c=this.closest(a.x,0!==s.x?l:i.direction),h=this.current(),d=this.current(-1===c?void 0:c),h!==d&&(this.invalidate("position"),this.update()),i.direction=l,(Math.abs(s.x)>3||(new Date).getTime()-i.time>300)&&r()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(n,i){const o=this.width();let s=this.coordinates(),a=-1;this.settings.center&&(s=s.map(l=>(0===l&&(l+=1e-6),l)));for(let l=0;l<s.length&&("left"===i&&n>s[l]-30&&n<s[l]+30?a=l:"right"===i&&n>s[l]-o-30&&n<s[l]-o+30?a=l+1:this._op(n,"<",s[l])&&this._op(n,">",s[l+1]||s[l]-o)?a="left"===i?l+1:l:null===i&&n>s[l]-30&&n<s[l]+30&&(a=l),-1===a);l++);return this.settings.loop||(this._op(n,">",s[this.minimum()])?a=n=this.minimum():this._op(n,"<",s[this.maximum()])&&(a=n=this.maximum())),a}animate(n){const i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+n+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(n){return this._states.current[n]&&this._states.current[n]>0}current(n){return void 0===n?this._current:0!==this._items.length?(n=this.normalize(n),this._current!==n&&(this._trigger("change",{property:{name:"position",value:n}}),this._current=n,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(n){return"string"==typeof n&&(this._invalidated[n]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(n){void 0!==(n=this.normalize(n))&&(this._speed=0,this._current=n,this._suppress(["translate","translated"]),this.animate(this.coordinates(n)),this._release(["translate","translated"]))}normalize(n,i){const r=this._items.length,o=i?0:this._clones.length;return!this._isNumeric(n)||r<1?n=void 0:(n<0||n>=r+o)&&(n=((n-o/2)%r+r)%r+o/2),n}relative(n){return this.normalize(n-=this._clones.length/2,!0)}maximum(n=!1){const i=this.settings;let o,s,a,r=this._coordinates.length;if(i.loop)r=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){for(o=this._items.length,s=this.slidesData[--o].width,a=this._width;o--&&(s+=+this.slidesData[o].width+this.settings.margin,!(s>a)););r=o+1}else r=i.center?this._items.length-1:this._items.length-i.items;return n&&(r-=this._clones.length/2),Math.max(r,0)}minimum(n=!1){return n?0:this._clones.length/2}items(n){return void 0===n?this._items.slice():(n=this.normalize(n,!0),[this._items[n]])}mergers(n){return void 0===n?this._mergers.slice():(n=this.normalize(n,!0),this._mergers[n])}clones(n){const i=this._clones.length/2,r=i+this._items.length,o=s=>s%2==0?r+s/2:i-(s+1)/2;return void 0===n?this._clones.map((s,a)=>o(a)):this._clones.map((s,a)=>s===n?o(a):null).filter(s=>s)}speed(n){return void 0!==n&&(this._speed=n),this._speed}coordinates(n){let o,s,i=1,r=n-1;return void 0===n?(s=this._coordinates.map((a,l)=>this.coordinates(l)),s):(this.settings.center?(this.settings.rtl&&(i=-1,r=n+1),o=this._coordinates[n],o+=(this.width()-o+(this._coordinates[r]||0))/2*i):o=this._coordinates[r]||0,o=Math.ceil(o),o)}_duration(n,i,r){return 0===r?0:Math.min(Math.max(Math.abs(i-n),1),6)*Math.abs(+r||this.settings.smartSpeed)}to(n,i){let r=this.current(),o=null,s=n-this.relative(r),a=this.maximum(),l=0;const c=+(s>0)-+(s<0),h=this._items.length,d=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>h/2&&(s+=-1*c*h),o=(((n=r+s)-d)%h+h)%h+d,o!==n&&o-s<=a&&o-s>0&&(r=o-s,n=o,l=30,this.reset(r),this.sendChanges())):this.settings.rewind?(a+=1,n=(n%a+a)%a):n=Math.max(d,Math.min(a,n)),setTimeout(()=>{this.speed(this._duration(r,n,i)),this.current(n),this.update()},l)}next(n){n=n||!1,this.to(this.relative(this.current())+1,n)}prev(n){n=n||!1,this.to(this.relative(this.current())-1,n)}onTransitionEnd(n){if(void 0!==n)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let n;return this._width?n=this._width:this.logger.log("Can not detect viewport width."),n}setItems(n){this._items=n}_defineSlidesData(){let n;this.slidesData&&this.slidesData.length&&(n=new Map,this.slidesData.forEach(i=>{i.load&&n.set(i.id,i.load)})),this.slidesData=this._items.map(i=>({id:`${i.id}`,isActive:!1,tplRef:i.tplRef,dataMerge:i.dataMerge,width:0,isCloned:!1,load:!!n&&n.get(i.id),hashFragment:i.dataHash}))}setCurSlideClasses(n){const i={active:n.isActive,center:n.isCentered,cloned:n.isCloned,animated:n.isAnimated,"owl-animated-in":n.isDefAnimatedIn,"owl-animated-out":n.isDefAnimatedOut};return this.settings.animateIn&&(i[this.settings.animateIn]=n.isCustomAnimatedIn),this.settings.animateOut&&(i[this.settings.animateOut]=n.isCustomAnimatedOut),i}_op(n,i,r){const o=this.settings.rtl;switch(i){case"<":return o?n>r:n<r;case">":return o?n<r:n>r;case">=":return o?n<=r:n>=r;case"<=":return o?n>=r:n<=r}}_trigger(n,i,r,o,s){switch(n){case"initialized":this._initializedCarousel$.next(n);break;case"change":this._changeSettingsCarousel$.next(i);break;case"changed":this._changedSettingsCarousel$.next(i);break;case"drag":this._dragCarousel$.next(n);break;case"dragged":this._draggedCarousel$.next(n);break;case"resize":this._resizeCarousel$.next(n);break;case"resized":this._resizedCarousel$.next(n);break;case"refresh":this._refreshCarousel$.next(n);break;case"refreshed":this._refreshedCarousel$.next(n);break;case"translate":this._translateCarousel$.next(n);break;case"translated":this._translatedCarousel$.next(n)}}enter(n){[n].concat(this._states.tags[n]||[]).forEach(i=>{void 0===this._states.current[i]&&(this._states.current[i]=0),this._states.current[i]++})}leave(n){[n].concat(this._states.tags[n]||[]).forEach(i=>{(0===this._states.current[i]||this._states.current[i])&&this._states.current[i]--})}register(n){n.type===Xw.State&&(this._states.tags[n.name]=this._states.tags[n.name]?this._states.tags[n.name].concat(n.tags):n.tags,this._states.tags[n.name]=this._states.tags[n.name].filter((i,r)=>this._states.tags[n.name].indexOf(i)===r))}_suppress(n){n.forEach(i=>{this._supress[i]=!0})}_release(n){n.forEach(i=>{delete this._supress[i]})}pointer(n){const i={x:null,y:null};return(n=(n=n.originalEvent||n||window.event).touches&&n.touches.length?n.touches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n).pageX?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i}_isNumeric(n){return!isNaN(parseFloat(n))}_isNumberOrBoolean(n){return this._isNumeric(n)||"boolean"==typeof n}_isNumberOrString(n){return this._isNumeric(n)||"string"==typeof n}_isStringOrBoolean(n){return"string"==typeof n||"boolean"==typeof n}difference(n,i){return{x:n.x-i.x,y:n.y-i.y}}};return e.\u0275fac=function(n){return new(n||e)(Ft(mD))},e.\u0275prov=lt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),r9=(()=>{let e=class{constructor(n){this.carouselService=n,this._initialized=!1,this._pages=[],this._navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}},this._dotsData={disabled:!1,dots:[]},this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Ai.b)(s=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),i=this.carouselService.getChangedState().pipe((0,Zs.h)(s=>"position"===s.property.name),(0,Ai.b)(s=>{this.update()})),r=this.carouselService.getRefreshedState().pipe((0,Ai.b)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=(0,H.T)(n,i,r);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let n,i,r;const o=this.carouselService.clones().length/2,s=o+this.carouselService.items().length,a=this.carouselService.maximum(!0),l=[],c=this.carouselService.settings;let h=c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items;if(h=+h,"page"!==c.slideBy&&(c.slideBy=Math.min(+c.slideBy,c.items)),c.dots||"page"===c.slideBy)for(n=o,i=0,r=0;n<s;n++){if(i>=h||0===i){if(l.push({start:Math.min(a,n-o),end:n-o+h-1}),Math.min(a,n-o)===a)break;i=0,++r}i+=this.carouselService.mergers(this.carouselService.relative(n))}this._pages=l}draw(){let n;const i=this.carouselService.settings,r=this.carouselService.items(),o=r.length<=i.items;if(this._navData.disabled=!i.nav||o,this._dotsData.disabled=!i.dots||o,i.dots)if(n=this._pages.length-this._dotsData.dots.length,i.dotsData&&0!==n)this._dotsData.dots=[],r.forEach(s=>{this._dotsData.dots.push({active:!1,id:`dot-${s.id}`,innerContent:s.dotContent,showInnerContent:!0})});else if(n>0){const s=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<n;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+s}`,innerContent:"",showInnerContent:!1})}else n<0&&this._dotsData.dots.splice(n,Math.abs(n));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const n=this.carouselService.settings,i=n.loop||n.rewind,r=this.carouselService.relative(this.carouselService.current());n.nav&&(this._navData.prev.disabled=!i&&r<=this.carouselService.minimum(!0),this._navData.next.disabled=!i&&r>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let n;!this.carouselService.settings.dots||(this._dotsData.dots.forEach(i=>{!0===i.active&&(i.active=!1)}),n=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[n].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const n=this.carouselService.relative(this.carouselService.current());let i;const r=this._pages.filter((o,s)=>o.start<=n&&o.end>=n).pop();return i=this._pages.findIndex(o=>o.start===r.start&&o.end===r.end),i}_getPosition(n){let i,r;const o=this.carouselService.settings;return"page"===o.slideBy?(i=this._current(),r=this._pages.length,n?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this.carouselService.relative(this.carouselService.current()),r=this.carouselService.items().length,n?i+=+o.slideBy:i-=+o.slideBy),i}next(n){this.carouselService.to(this._getPosition(!0),n)}prev(n){this.carouselService.to(this._getPosition(!1),n)}to(n,i,r){let o;!r&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(n%o+o)%o].start,i)):this.carouselService.to(n,i)}moveByDot(n){const i=this._dotsData.dots.findIndex(r=>n===r.id);this.to(i,this.carouselService.settings.dotsSpeed)}toSlideById(n){const i=this.carouselService.slidesData.findIndex(r=>r.id===n&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}};return e.\u0275fac=function(n){return new(n||e)(Ft(iu))},e.\u0275prov=lt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();const gD=new jn("WindowToken");class vD{get nativeWindow(){throw new Error("Not implemented.")}}let khe=(()=>{class e extends vD{constructor(){super()}get nativeWindow(){return window}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();const Rhe=[{provide:vD,useClass:khe},{provide:gD,useFactory:function Ihe(e,t){return RS(t)?e.nativeWindow:{setTimeout:(i,r)=>{},clearTimeout:i=>{}}},deps:[vD,hc]}],jy=new jn("DocumentToken");class yD{get nativeDocument(){throw new Error("Not implemented.")}}let Nhe=(()=>{class e extends yD{constructor(){super()}get nativeDocument(){return document}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();const Lhe=[{provide:yD,useClass:Nhe},{provide:jy,useFactory:function Fhe(e,t){return RS(t)?e.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[yD,hc]}];let o9=(()=>{let e=class{constructor(n,i,r){this.carouselService=n,this._timeout=null,this._paused=!1,this.winRef=i,this.docRef=r,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Ai.b)(()=>{this.carouselService.settings.autoplay&&this.play()})),i=this.carouselService.getChangedState().pipe((0,Ai.b)(s=>{this._handleChangeObservable(s)})),r=this.carouselService.getResizedState().pipe((0,Ai.b)(()=>{this.carouselService.settings.autoplay?this.play():this.stop()})),o=(0,H.T)(n,i,r);this.autoplaySubscription=o.subscribe(()=>{})}play(n,i){this._paused&&(this._paused=!1,this._setAutoPlayInterval(1)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(n,i){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!n,this.winRef.setTimeout(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(i||this.carouselService.settings.autoplaySpeed)},n||this.carouselService.settings.autoplayTimeout)}_setAutoPlayInterval(n){this._timeout=this._getNextTimeout(n)}stop(){!this.carouselService.is("rotating")||(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){!this.carouselService.is("rotating")||(this._paused=!0)}_handleChangeObservable(n){"settings"===n.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===n.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){(0,Un.of)("translated").pipe((0,Js.w)(n=>this.carouselService.getTranslatedState()),(0,sd.P)(),(0,Zs.h)(()=>this._isArtificialAutoplayTimeout),(0,Ai.b)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}};return e.\u0275fac=function(n){return new(n||e)(Ft(iu),Ft(gD),Ft(jy))},e.\u0275prov=lt({token:e,factory:function(t){return e.\u0275fac(t)}}),e=mi([l0(1,Ag(gD)),l0(2,Ag(jy))],e),e})(),s9=(()=>{let e=class{constructor(n){this.carouselService=n,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Ai.b)(()=>{const s=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!s)})),i=this.carouselService.getChangeState(),r=this.carouselService.getResizedState(),o=(0,H.T)(n,i,r).pipe((0,Ai.b)(s=>this._defineLazyLoadSlides(s)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(n){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(n.property&&"position"===n.property.name||"initialized"===n||"resized"===n)){const i=this.carouselService.settings,r=this.carouselService.clones().length;let o=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&-1*o||0,a=(n.property&&void 0!==n.property.value?n.property.value:this.carouselService.current())+s;for(i.lazyLoadEager>0&&(o+=i.lazyLoadEager,i.loop&&(a-=i.lazyLoadEager,o++));s++<o;)this._load(r/2+this.carouselService.relative(a)),r&&this.carouselService.clones(this.carouselService.relative(a)).forEach(l=>this._load(l)),a++}}_load(n){this.carouselService.slidesData[n].load||(this.carouselService.slidesData[n].load=!0)}};return e.\u0275fac=function(n){return new(n||e)(Ft(iu))},e.\u0275prov=lt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),_D=(()=>{let e=class{constructor(n){this.carouselService=n,this.swapping=!0,this.previous=void 0,this.next=void 0,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getChangeState().pipe((0,Ai.b)(c=>{"position"===c.property.name&&(this.previous=this.carouselService.current(),this.next=c.property.value)})),i=this.carouselService.getDragState(),r=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),s=(0,H.T)(i,r,o).pipe((0,Ai.b)(c=>this.swapping="translated"===c)),a=this.carouselService.getTranslateState().pipe((0,Ai.b)(c=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),l=(0,H.T)(n,a,s).pipe();this.animateSubscription=l.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let n;this.carouselService.speed(0);const i=this.carouselService.slidesData[this.previous],r=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,s=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(s&&(n=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.left=`${n}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(n){this.carouselService.slidesData.forEach(i=>{i.id===n&&(i.left="",i.isAnimated=!1,i.isDefAnimatedOut=!1,i.isCustomAnimatedOut=!1,i.isDefAnimatedIn=!1,i.isCustomAnimatedIn=!1,i.classes=this.carouselService.setCurSlideClasses(i))}),this.carouselService.onTransitionEnd()}};return e.\u0275fac=function(n){return new(n||e)(Ft(iu))},e.\u0275prov=lt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),a9=(()=>{let e=class{constructor(n){this.carouselService=n,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Ai.b)(s=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),i=this.carouselService.getChangedState().pipe((0,Ai.b)(s=>{this.carouselService.settings.autoHeight&&"position"===s.property.name&&this.update()})),r=this.carouselService.getRefreshedState().pipe((0,Ai.b)(s=>{this.carouselService.settings.autoHeight&&this.update()})),o=(0,H.T)(n,i,r);this.autoHeightSubscription=o.subscribe(()=>{})}update(){const n=this.carouselService.settings.items;let i=this.carouselService.current(),r=i+n;this.carouselService.settings.center&&(i=n%2==1?i-(n-1)/2:i-n/2,r=n%2==1?i+n:i+n+1),this.carouselService.slidesData.forEach((o,s)=>{o.heightState=s>=i&&s<r?"full":"nulled"})}};return e.\u0275fac=function(n){return new(n||e)(Ft(iu))},e.\u0275prov=lt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),l9=(()=>{let e=class{constructor(n,i,r){this.carouselService=n,this.route=i,this.router=r,this.spyDataStreams(),this.route||(this.route={fragment:(0,Un.of)("no route").pipe((0,ga.q)(1))}),this.router||(this.router={navigate:(o,s)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Ai.b)(()=>this.listenToRoute())),i=this.carouselService.getChangedState().pipe((0,Ai.b)(o=>{if(this.carouselService.settings.URLhashListener&&"position"===o.property.name){const s=this.carouselService.current(),a=this.carouselService.slidesData[s].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})),r=(0,H.T)(n,i);this.hashSubscription=r.subscribe(()=>{})}rewind(n){const i=this.carouselService.slidesData.findIndex(r=>r.hashFragment===n&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}listenToRoute(){this.route.fragment.pipe((0,zE.T)("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(i=>{this.currentHashFragment=i,this.rewind(i)})}};return e.\u0275fac=function(n){return new(n||e)(Ft(iu),Ft(pl,8),Ft(ao,8))},e.\u0275prov=lt({token:e,factory:function(t){return e.\u0275fac(t)}}),e=mi([l0(1,Df()),l0(2,Df())],e),e})(),Bhe=0,bc=(()=>{let e=class{constructor(n){this.tplRef=n,this.id="owl-slide-"+Bhe++,this._dataMerge=1,this.width=0,this.dotContent="",this.dataHash=""}set dataMerge(n){this._dataMerge=this.isNumeric(n)?n:1}get dataMerge(){return this._dataMerge}isNumeric(n){return!isNaN(parseFloat(n))}};return e.\u0275fac=function(n){return new(n||e)(Me(Co))},e.\u0275dir=xt({type:e,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",width:"width",dotContent:"dotContent",dataHash:"dataHash",dataMerge:"dataMerge"}}),mi([jr()],e.prototype,"id",void 0),mi([jr()],e.prototype,"dataMerge",null),mi([jr()],e.prototype,"width",void 0),mi([jr()],e.prototype,"dotContent",void 0),mi([jr()],e.prototype,"dataHash",void 0),e})(),Zd=(()=>{let e=class{constructor(n,i,r,o,s,a,l,c,h,d,u,f){this.el=n,this.resizeService=i,this.carouselService=r,this.navigationService=o,this.autoplayService=s,this.lazyLoadService=a,this.animateService=l,this.autoHeightService=c,this.hashService=h,this.logger=d,this.changeDetectorRef=u,this.translated=new yi,this.dragging=new yi,this.change=new yi,this.changed=new yi,this.initialized=new yi,this.slidesData=[],this.carouselLoaded=!1,this.docRef=f}onVisibilityChange(n){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":this.autoplayService.play();break;case"hidden":this.autoplayService.stop()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngAfterContentChecked(){}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe((0,Ai.b)(n=>{n.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,n.toArray(),this.options),this.carouselService.initialize(n.toArray())):(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered"))})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe((0,Ai.b)(n=>{this.owlDOMData=n.owlDOMData,this.stageData=n.stageData,this.slidesData=n.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=n.navData,this.dotsData=n.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe((0,Ai.b)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe((0,Ai.b)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe((0,Ai.b)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe((0,Js.w)(n=>{const i=(0,Un.of)(n).pipe((0,Zs.h)(()=>"position"===n.property.name),(0,Js.w)(()=>(0,fa.D)(this.slidesData)),(0,zE.T)(n.property.value),(0,ga.q)(this.carouselService.settings.items),(0,_i.U)(r=>{const o=this.carouselService.clonedIdPrefix,s=r.id.indexOf(o)>=0?r.id.slice(o.length):r.id;return Object.assign({},r,{id:s,isActive:!0})}),(0,Qle.q)(),(0,_i.U)(r=>({slides:r,startPosition:this.carouselService.relative(n.property.value)})));return(0,H.T)(i)}),(0,Ai.b)(n=>{this.gatherTranslatedData(),this.changed.emit(n.slides.length?n:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe((0,Ai.b)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),(0,Js.w)(()=>this.carouselService.getDraggedState().pipe((0,_i.U)(()=>!!this.carouselService.is("animating")))),(0,Js.w)(n=>n?this.carouselService.getTranslatedState().pipe((0,sd.P)()):(0,Un.of)("not animating")),(0,Ai.b)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,H.T)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe((0,Zs.h)(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),(0,Hz.g)(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){!this.carouselLoaded||this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){!this.carouselLoaded||this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(n){!this.carouselLoaded||this.navigationService.moveByDot(n)}to(n){!this.carouselLoaded||this.navigationService.toSlideById(n)}gatherTranslatedData(){let n;const i=this.carouselService.clonedIdPrefix,r=this.slidesData.filter(o=>!0===o.isActive).map(o=>({id:o.id.indexOf(i)>=0?o.id.slice(i.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));n=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:n,slides:r}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}};return e.\u0275fac=function(n){return new(n||e)(Me(wr),Me(i9),Me(iu),Me(r9),Me(o9),Me(s9),Me(_D),Me(a9),Me(l9),Me(mD),Me(nd),Me(jy))},e.\u0275cmp=Yn({type:e,selectors:[["owl-carousel-o"]],contentQueries:function(n,i,r){if(1&n&&function Ro(e,t,n,i){const r=xn();if(r.firstCreatePass){const o=Oi();BF(r,new NF(t,n,i),o.index),function pne(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}LF(r,At(),n)}(r,bc,4),2&n){let o;Sr(o=Er())&&(i.slides=o)}},hostBindings:function(n,i){1&n&&Ct("visibilitychange",function(o){return i.onVisibilityChange(o)},0,Ff)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[oo([r9,o9,iu,s9,_D,a9,l9])],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(n,i){1&n&&(x(0,"div",0,1),Ct("mouseover",function(){return i.startPausing()})("mouseleave",function(){return i.startPlayML()})("touchstart",function(){return i.startPausing()})("touchend",function(){return i.startPlayTE()}),tt(2,bhe,2,6,"div",2),tt(3,Che,6,15,"ng-container",3),M()),2&n&&($e("ngClass",GO(3,Mhe,null==i.owlDOMData?null:i.owlDOMData.rtl,null==i.owlDOMData?null:i.owlDOMData.isLoaded,null==i.owlDOMData?null:i.owlDOMData.isResponsive,null==i.owlDOMData?null:i.owlDOMData.isMouseDragable,null==i.owlDOMData?null:i.owlDOMData.isGrab)),se(2),$e("ngIf",i.carouselLoaded),se(1),$e("ngIf",i.slides.toArray().length))},dependencies:function(){return[AS,pa,Us,zhe]},styles:[".owl-theme[_ngcontent-%COMP%] { display: block; }"]}),mi([aK(bc)],e.prototype,"slides",void 0),mi([ay()],e.prototype,"translated",void 0),mi([ay()],e.prototype,"dragging",void 0),mi([ay()],e.prototype,"change",void 0),mi([ay()],e.prototype,"changed",void 0),mi([ay()],e.prototype,"initialized",void 0),mi([jr()],e.prototype,"options",void 0),mi([hp("document:visibilitychange",["$event"])],e.prototype,"onVisibilityChange",null),e=mi([l0(11,Ag(jy))],e),e})(),zhe=(()=>{let e=class{constructor(n,i,r,o,s){this.zone=n,this.el=i,this.renderer=r,this.carouselService=o,this.animateService=s,this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this._oneDragMove$=new b.xQ,this.bindOneMouseTouchMove=a=>{this._oneMouseTouchMove(a)},this.bindOnDragMove=a=>{this._onDragMove(a)},this.bindOnDragEnd=a=>{this._onDragEnd(a)},this._oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()}}onMouseDown(n){this.owlDraggable.isMouseDragable&&this._onDragStart(n)}onTouchStart(n){this.owlDraggable.isTouchDragable&&this._onDragStart(n)}onTouchCancel(n){this._onDragEnd(n)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe((0,sd.P)()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}_onDragStart(n){let i=null;3!==n.which&&(i=this._prepareDragging(n),this._drag.time=(new Date).getTime(),this._drag.target=n.target,this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this._pointer(n),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(n){const i=this._difference(this._drag.pointer,this._pointer(n));this.listenerATag&&this.listenerATag(),!(Math.abs(i.x)<3&&Math.abs(i.y)<3&&this._is("valid"))&&(Math.abs(i.x)<3&&Math.abs(i.x)<Math.abs(i.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(n),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),n.preventDefault(),this._enterDragging(),this._oneDragMove$.next(n)))}blockClickAnchorInDragging(n){let i=n.target;for(;i&&!(i instanceof HTMLAnchorElement);)i=i.parentElement;i instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(i,"click",()=>!1))}_onDragMove(n){let i;const r=this.carouselService.defineNewCoordsDrag(n,this._drag);!1!==r&&(i=r,n.preventDefault(),this._drag.stage.current=i,this._animate(i.x-this._drag.stage.start.x))}_animate(n){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${n}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(n){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(n),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(n){return this.carouselService.prepareDragging(n)}_finishDragging(n){this.carouselService.finishDragging(n,this._drag,this._oneClickHandler)}_pointer(n){return this.carouselService.pointer(n)}_difference(n,i){return this.carouselService.difference(n,i)}_is(n){return this.carouselService.is(n)}_enter(n){this.carouselService.enter(n)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(n){this.animateService.clear(n)}};return e.\u0275fac=function(n){return new(n||e)(Me(br),Me(wr),Me(rs),Me(iu),Me(_D))},e.\u0275cmp=Yn({type:e,selectors:[["owl-stage"]],hostBindings:function(n,i){1&n&&Ct("mousedown",function(o){return i.onMouseDown(o)})("touchstart",function(o){return i.onTouchStart(o)})("touchcancel",function(o){return i.onTouchCancel(o)})("dragstart",function(){return i.onDragStart()})("selectstart",function(){return i.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(n,i){1&n&&(x(0,"div")(1,"div",0),Ct("transitionend",function(){return i.onTransitionEnd()}),tt(2,Ehe,3,9,"ng-container",1),M()()),2&n&&(se(1),$e("ngStyle",GO(2,Dhe,i.stageData.width+"px",i.stageData.transform,i.stageData.transition,i.stageData.paddingL?i.stageData.paddingL+"px":"",i.stageData.paddingR?i.stageData.paddingR+"px":"")),se(1),$e("ngForOf",i.slidesData))},dependencies:[AS,pa,Us,t0,Yf],encapsulation:2,data:{animation:[RB("autoHeight",[Xf("nulled",Ps({height:0})),Xf("full",Ps({height:"*"})),mc("full => nulled",[fc("700ms 350ms")]),mc("nulled => full",[fc(350)])])]}}),mi([jr()],e.prototype,"owlDraggable",void 0),mi([jr()],e.prototype,"stageData",void 0),mi([jr()],e.prototype,"slidesData",void 0),mi([hp("mousedown",["$event"])],e.prototype,"onMouseDown",null),mi([hp("touchstart",["$event"])],e.prototype,"onTouchStart",null),mi([hp("touchcancel",["$event"])],e.prototype,"onTouchCancel",null),mi([hp("dragstart")],e.prototype,"onDragStart",null),mi([hp("selectstart")],e.prototype,"onSelectStart",null),e})(),Uhe=(()=>{let e=class{};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({providers:[Rhe,i9,Lhe,mD],imports:[Fa]}),e})();function jhe(e,t){if(1&e){const n=or();x(0,"div",9),Ct("click",function(){Dn(n);const r=Ze().$implicit;return Yt(Ze().removeToastr(r))}),E(1,"\xd7 "),M()}}function Vhe(e,t){if(1&e&&(x(0,"div"),E(1),M()),2&e){const n=Ze().$implicit,i=Ze();qh("to-title ",n.config.titleClass||i.titleClass,""),se(1),Cs(n.title)}}function Hhe(e,t){if(1&e&&oe(0,"span",10),2&e){const n=Ze().$implicit,i=Ze();qh("to-message ",n.config.messageClass||i.messageClass,""),$e("innerHTML",i.sanitizer.bypassSecurityTrustHtml(n.message),Ll)}}function Ghe(e,t){if(1&e&&(x(0,"span"),E(1),M()),2&e){const n=Ze().$implicit,i=Ze();qh("to-message ",n.config.messageClass||i.messageClass,""),se(1),Cs(n.message)}}function Whe(e,t){if(1&e){const n=or();x(0,"div",3),Ct("@inOut.done",function(r){return Dn(n),Yt(Ze().onAnimationEnd(r))})("click",function(){const o=Dn(n).$implicit;return Yt(Ze().clicked(o))}),tt(1,jhe,2,0,"div",4),tt(2,Vhe,2,4,"div",5),x(3,"div",6),tt(4,Hhe,1,4,"span",7),tt(5,Ghe,2,4,"span",8),M()()}if(2&e){const n=t.$implicit,i=Ze();qh("toastr toastr-",n.type,""),$e("@inOut",n.config.animate||i.animate),se(1),$e("ngIf",n.config.showCloseButton),se(1),$e("ngIf",n.title),se(1),$e("ngSwitch",n.config.enableHTML),se(1),$e("ngSwitchCase",!0)}}let $w=(()=>{class e{constructor(){this.position="top-right",this.maxShown=5,this.newestOnTop=!1,this.animate="slideFromLeft",this.toastTimeout=5e3,this.enableHTML=!1,this.dismiss="auto",this.messageClass="toastr-message",this.titleClass="toastr-title",this.showCloseButton=!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})();class Vy{constructor(t,n,i,r){this.type=t,this.message=n,this.title=i,this.data=r,this.config={position:"",animate:"slideFromLeft",dismiss:"auto",enableHTML:!1,titleClass:"",messageClass:"",toastTimeout:3e3,showCloseButton:!1}}dismiss(){this.toastrManager.dismissToastr(this)}}const qhe=RB("inOut",[Xf("fade",Ps({opacity:1})),mc("void => fade",[Ps({opacity:1}),fc("0.4s ease-in")]),mc("fade => void",[fc("0.4s 0.1s ease-out",Ps({opacity:0}))]),Xf("slideFromLeft",Ps({opacity:1,transform:"translateX(0)"})),mc("void => slideFromLeft",[Ps({opacity:0,transform:"translateX(-100%)"}),fc("0.4s ease-in")]),mc("slideFromLeft => void",[fc("0.4s 0.1s ease-out",Ps({opacity:0,transform:"translateX(100%)"}))]),Xf("slideFromRight",Ps({opacity:1,transform:"translateX(0)"})),mc("void => slideFromRight",[Ps({opacity:0,transform:"translateX(100%)"}),fc("0.4s ease-in")]),mc("slideFromRight => void",[fc("0.4s 0.1s ease-out",Ps({opacity:0,transform:"translateX(-100%)"}))]),Xf("slideFromTop",Ps({opacity:1,transform:"translateY(0)"})),mc("void => slideFromTop",[Ps({opacity:0,transform:"translateY(-100%)"}),fc("0.4s ease-in")]),mc("slideFromTop => void",[fc("0.4s 0.1s ease-out",Ps({opacity:0,transform:"translateY(100%)"}))]),Xf("slideFromBottom",Ps({opacity:1,transform:"translateY(0)"})),mc("void => slideFromBottom",[Ps({opacity:0,transform:"translateY(100%)"}),fc("0.4s ease-in")]),mc("slideFromBottom => void",[fc("0.4s 0.1s ease-out",Ps({opacity:0,transform:"translateY(-100%)"}))])]);let Yhe=(()=>{class e{constructor(n,i,r,o){this.sanitizer=n,this.cdr=i,this._zone=r,this.toastrs=[],this._fresh=!0,this._onEnter=new b.xQ,this._onExit=new b.xQ,Object.assign(this,o)}onEnter(){return this._onEnter.asObservable()}onExit(){return this._onExit.asObservable()}addToastr(n){if(this.position.indexOf("top")>0){if(this.newestOnTop?this.toastrs.unshift(n):this.toastrs.push(n),this.toastrs.length>this.maxShown){const i=this.toastrs.length-this.maxShown;this.newestOnTop?this.toastrs.splice(this.maxShown):this.toastrs.splice(0,i)}}else this.toastrs.unshift(n),this.toastrs.length>this.maxShown&&this.toastrs.splice(this.maxShown);null===this.animate&&this._fresh&&(this._fresh=!1,this._onEnter.next(),this._onEnter.complete()),this.cdr.detectChanges()}removeToastr(n){n.timeoutId&&(clearTimeout(n.timeoutId),n.timeoutId=null),this.toastrs=this.toastrs.filter(i=>i.id!==n.id)}removeAllToasts(){this.toastrs.forEach(n=>{clearTimeout(n.timeoutId),n.timeoutId=null}),this.toastrs=[]}clicked(n){this.onToastClicked&&this.onToastClicked(n)}anyToast(){return this.toastrs.length>0}findToast(n){for(let i of this.toastrs)if(i.id===n)return i;return null}onAnimationEnd(n){"void"!==n.toState||this.anyToast()?this._fresh&&"void"===n.fromState&&(this._fresh=!1,this._zone.run(()=>{this._onEnter.next(),this._onEnter.complete()})):this._ngExit()}_ngExit(){this._zone.onMicrotaskEmpty.subscribe(()=>{this._onExit.next(),this._onExit.complete()})}ngOnDestroy(){this._ngExit()}}return e.\u0275fac=function(n){return new(n||e)(Me(TB),Me(nd),Me(br),Me($w))},e.\u0275cmp=Yn({type:e,selectors:[["app-toastr"]],decls:3,vars:4,consts:[["id","toastr-container"],["toastrContainer",""],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["class","toastr-close-button",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],[3,"ngSwitch"],[3,"class","innerHTML",4,"ngSwitchCase"],[3,"class",4,"ngSwitchDefault"],[1,"toastr-close-button",3,"click"],[3,"innerHTML"]],template:function(n,i){1&n&&(x(0,"div",0,1),tt(2,Whe,6,8,"div",2),M()),2&n&&(lp(i.position),se(2),$e("ngForOf",i.toastrs))},dependencies:[pa,Us,jx,tB,nB],styles:[".to-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin-bottom:8px;color:#fff}.to-message[_ngcontent-%COMP%]{word-wrap:break-word;font-size:14px;line-height:20px;display:block;color:#fff;background-color:transparent}.to-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .to-message[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.to-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ccc;text-decoration:none}.toastr-close-button[_ngcontent-%COMP%]{position:relative;right:-5px;top:-15px;float:right;font-size:25px;color:#fff;-webkit-text-shadow:0 1px 0 #fff;text-shadow:0 1px 0 #fff;opacity:.8}.toastr-close-button[_ngcontent-%COMP%]:focus, .toastr-close-button[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.4}button.toastr-close-button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.top-center[_ngcontent-%COMP%]{top:0;right:0;width:100%}.bottom-center[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.top-full-width[_ngcontent-%COMP%]{top:0;right:0;width:100%}.bottom-full-width[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.top-left[_ngcontent-%COMP%]{top:12px;left:12px}.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.bottom-right[_ngcontent-%COMP%]{right:12px;bottom:12px}.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}#toastr-container[_ngcontent-%COMP%]{position:fixed;z-index:99999}#toastr-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin:10px 0 6px;padding:15px 15px 15px 60px;width:345px;border-radius:3px;background-position:15px;background-repeat:no-repeat;box-shadow:0 0 12px #999;color:#fff;opacity:1}#toastr-container[_ngcontent-%COMP%] > div.toastr-custom[_ngcontent-%COMP%]{padding:15px;color:#030303}#toastr-container[_ngcontent-%COMP%] > div.toastr-custom[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{color:#999!important}#toastr-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:hover{box-shadow:0 0 12px #000;opacity:1;cursor:pointer}#toastr-container[_ngcontent-%COMP%] > .toastr-info[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGwSURBVEhLtZa9SgNBEMc9sUxxRcoUKSzSWIhXpFMhhYWFhaBg4yPYiWCXZxBLERsLRS3EQkEfwCKdjWJAwSKCgoKCcudv4O5YLrt7EzgXhiU3/4+b2ckmwVjJSpKkQ6wAi4gwhT+z3wRBcEz0yjSseUTrcRyfsHsXmD0AmbHOC9Ii8VImnuXBPglHpQ5wwSVM7sNnTG7Za4JwDdCjxyAiH3nyA2mtaTJufiDZ5dCaqlItILh1NHatfN5skvjx9Z38m69CgzuXmZgVrPIGE763Jx9qKsRozWYw6xOHdER+nn2KkO+Bb+UV5CBN6WC6QtBgbRVozrahAbmm6HtUsgtPC19tFdxXZYBOfkbmFJ1VaHA1VAHjd0pp70oTZzvR+EVrx2Ygfdsq6eu55BHYR8hlcki+n+kERUFG8BrA0BwjeAv2M8WLQBtcy+SD6fNsmnB3AlBLrgTtVW1c2QN4bVWLATaIS60J2Du5y1TiJgjSBvFVZgTmwCU+dAZFoPxGEEs8nyHC9Bwe2GvEJv2WXZb0vjdyFT4Cxk3e/kIqlOGoVLwwPevpYHT+00T+hWwXDf4AJAOUqWcDhbwAAAAASUVORK5CYII=)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-error[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHOSURBVEhLrZa/SgNBEMZzh0WKCClSCKaIYOED+AAKeQQLG8HWztLCImBrYadgIdY+gIKNYkBFSwu7CAoqCgkkoGBI/E28PdbLZmeDLgzZzcx83/zZ2SSXC1j9fr+I1Hq93g2yxH4iwM1vkoBWAdxCmpzTxfkN2RcyZNaHFIkSo10+8kgxkXIURV5HGxTmFuc75B2RfQkpxHG8aAgaAFa0tAHqYFfQ7Iwe2yhODk8+J4C7yAoRTWI3w/4klGRgR4lO7Rpn9+gvMyWp+uxFh8+H+ARlgN1nJuJuQAYvNkEnwGFck18Er4q3egEc/oO+mhLdKgRyhdNFiacC0rlOCbhNVz4H9FnAYgDBvU3QIioZlJFLJtsoHYRDfiZoUyIxqCtRpVlANq0EU4dApjrtgezPFad5S19Wgjkc0hNVnuF4HjVA6C7QrSIbylB+oZe3aHgBsqlNqKYH48jXyJKMuAbiyVJ8KzaB3eRc0pg9VwQ4niFryI68qiOi3AbjwdsfnAtk0bCjTLJKr6mrD9g8iq/S/B81hguOMlQTnVyG40wAcjnmgsCNESDrjme7wfftP4P7SP4N3CJZdvzoNyGq2c/HWOXJGsvVg+RA/k2MC/wN6I2YA2Pt8GkAAAAASUVORK5CYII=)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-success[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADsSURBVEhLY2AYBfQMgf///3P8+/evAIgvA/FsIF+BavYDDWMBGroaSMMBiE8VC7AZDrIFaMFnii3AZTjUgsUUWUDA8OdAH6iQbQEhw4HyGsPEcKBXBIC4ARhex4G4BsjmweU1soIFaGg/WtoFZRIZdEvIMhxkCCjXIVsATV6gFGACs4Rsw0EGgIIH3QJYJgHSARQZDrWAB+jawzgs+Q2UO49D7jnRSRGoEFRILcdmEMWGI0cm0JJ2QpYA1RDvcmzJEWhABhD/pqrL0S0CWuABKgnRki9lLseS7g2AlqwHWQSKH4oKLrILpRGhEQCw2LiRUIa4lwAAAABJRU5ErkJggg==)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-warning[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGYSURBVEhL5ZSvTsNQFMbXZGICMYGYmJhAQIJAICYQPAACiSDB8AiICQQJT4CqQEwgJvYASAQCiZiYmJhAIBATCARJy+9rTsldd8sKu1M0+dLb057v6/lbq/2rK0mS/TRNj9cWNAKPYIJII7gIxCcQ51cvqID+GIEX8ASG4B1bK5gIZFeQfoJdEXOfgX4QAQg7kH2A65yQ87lyxb27sggkAzAuFhbbg1K2kgCkB1bVwyIR9m2L7PRPIhDUIXgGtyKw575yz3lTNs6X4JXnjV+LKM/m3MydnTbtOKIjtz6VhCBq4vSm3ncdrD2lk0VgUXSVKjVDJXJzijW1RQdsU7F77He8u68koNZTz8Oz5yGa6J3H3lZ0xYgXBK2QymlWWA+RWnYhskLBv2vmE+hBMCtbA7KX5drWyRT/2JsqZ2IvfB9Y4bWDNMFbJRFmC9E74SoS0CqulwjkC0+5bpcV1CZ8NMej4pjy0U+doDQsGyo1hzVJttIjhQ7GnBtRFN1UarUlH8F3xict+HY07rEzoUGPlWcjRFRr4/gChZgc3ZL2d8oAAAAASUVORK5CYII=)!important}#toastr-container.bottom-center[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #toastr-container.top-center[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:300px;margin:10px auto}#toastr-container.bottom-full-width[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #toastr-container.top-full-width[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96%;margin:10px auto}.toastr[_ngcontent-%COMP%]{background-color:#fff}.toastr-success[_ngcontent-%COMP%]{background-color:#51a351}.toastr-error[_ngcontent-%COMP%]{background-color:#d9534f}.toastr-info[_ngcontent-%COMP%]{background-color:#7460ee}.toastr-warning[_ngcontent-%COMP%]{background-color:#f89406}.toastr-progress[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;height:4px;background-color:#000;opacity:.4}@media all and (max-width:240px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:11em}#toastr-container[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width:241px) and (max-width:480px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:18em}#toastr-container[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width:481px) and (max-width:768px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:15px 15px 15px 50px;width:25em}}"],data:{animation:[qhe]}}),e})(),c9=(()=>{class e{constructor(n,i,r,o,s){this._applicationRef=n,this._componentFactoryResolver=i,this._injector=r,this.ngZone=o,this.options=s,this.toastrContainers=[],this.index=0,this.toastClicked=new b.xQ}createToastrComponent(n,i=[]){const r=this._componentFactoryResolver.resolveComponentFactory(n),o=Lf.resolve(i),s=Lf.fromResolvedProviders(o,this._injector);let a=document.createElement("div");a.id="toastr-node-"+Math.floor(200*Math.random()),document.querySelector("body").appendChild(a);const l=r.create(s,[],a);return this.attachToApplication(l),l}attachToApplication(n){this._applicationRef.attachView(n.hostView)}detachFromApplication(n){this._applicationRef.detachView(n.hostView)}isToastrContainerExist(n){return this.toastrContainers.length>0&&this.toastrContainers.findIndex(r=>r.position===n)>-1}getToastrComponentRef(n){if(this.toastrContainers.length>0){const i=this.toastrContainers.find(r=>r.position===n);return i?i.ref:null}return null}createTimeout(n){let i;return this.ngZone.runOutsideAngular(()=>{i=setTimeout(()=>this.ngZone.run(()=>this.clearToast(n)),n.config.toastTimeout)}),i.toString()}setupToast(n,i){n.id=++this.index,i&&i.hasOwnProperty("toastTimeout")&&(i.dismiss="auto");const r=Object.assign({},this.options,i||{});Object.keys(n.config).forEach(s=>{r.hasOwnProperty(s)&&(n.config[s]=r[s])}),"auto"===n.config.dismiss&&(n.timeoutId=this.createTimeout(n)),n.toastrManager=this;const o=n.config.position;return this.isToastrContainerExist(o)&&this.getToastrComponentRef(o).instance.addToastr(n),n}clearToast(n){const i=n.config.position;this.isToastrContainerExist(i)&&this.getToastrComponentRef(i).instance.removeToastr(n)}clearAllToasts(){this.toastrContainers.length>0&&this.toastrContainers.forEach(n=>{console.log(n);const i=n.ref;n.ref.instance.removeAllToasts(),this.dispose(i)})}dispose(n){if(n){const i=this.toastrContainers.findIndex(r=>r.position===n.instance.position);i>-1&&this.toastrContainers.splice(i,1),this.detachFromApplication(n)}}_onToastClicked(n){this.toastClicked.next(n),"controlled"!==n.config.dismiss&&this.clearToast(n)}dismissToastr(n){this.clearToast(n)}dismissAllToastr(){this.clearAllToasts()}onClickToast(){return this.toastClicked.asObservable()}showToastr(n,i){const r=Object.assign({},this.options,i);return new Promise((o,s)=>{if(!this.isToastrContainerExist(r.position)){let l=this.createToastrComponent(Yhe,[{provide:$w,useValue:r}]);l.instance.onToastClicked=c=>{this._onToastClicked(c)},l.instance.onExit().subscribe(()=>{this.dispose(l)}),this.toastrContainers.push({position:r.position,ref:l})}o(this.setupToast(n,i))})}errorToastr(n,i,r){const s=new Vy("error",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}infoToastr(n,i,r){const s=new Vy("info",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}successToastr(n,i,r){const s=new Vy("success",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}warningToastr(n,i,r){const s=new Vy("warning",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}customToastr(n,i,r){const s=new Vy("custom",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}}return e.\u0275fac=function(n){return new(n||e)(Ft(Gf),Ft(Ng),Ft(xs),Ft(br),Ft($w))},e.\u0275prov=lt({token:e,factory:e.\u0275fac}),e})(),Xhe=(()=>{class e{static forRoot(){return{ngModule:e,providers:[c9,$w]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})();const Et_backendUrl="https://www.pixtar.ae:5001",Et_baseUrl="https://build.pixtar.ae";var $he=g(4942),d9=g.n($he);let xc=(()=>{class e{constructor(n){this.http=n,this.getpageWithName=i=>this.http.post(Et_backendUrl+"/api/home/getpagewithName",i,{observe:"response"}).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getHomepageWithName=i=>this.http.post(Et_backendUrl+"/api/home/gethomepagewithName",i,{observe:"response"}).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getAboutNoticeDetails=i=>this.http.post(Et_backendUrl+"/api/home/frountAboutNoticeDetails",i).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getInstagramPosts=i=>this.http.post(Et_backendUrl+"/api/home/instagram-posts",i).pipe((0,Dr.K)(o=>(0,Vr._)(o)))}}return e.\u0275fac=function(n){return new(n||e)(Ft(ul))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Khe=(()=>{class e{constructor(n,i,r,o){this.router=n,this.pageservice=i,this.metaTagService=r,this.titleService=o,this.get_PageMeta(),this.baseUrl=Et_baseUrl+"/assets"}ngOnInit(){var i={container:document.getElementById("lottie"),renderer:"svg",loop:!0,autoplay:!0,animationData:{v:"5.9.6",fr:30,ip:0,op:96,w:122,h:119,nm:"hand",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:-34.9,ix:10},p:{a:0,k:[67.1,111.5,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Layer 3 Outlines",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:9.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:20.363,s:[-8]},{i:{x:[.65],y:[1.156]},o:{x:[.333],y:[0]},t:30.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.167],y:[0]},t:42,s:[-1.8]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:60,s:[-.4]},{t:69,s:[0]}],ix:10},p:{a:0,k:[-2.981,.359,0],ix:2,l:2},a:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[15.024,91.188,0],to:[0,0,0],ti:[0,0,0]},{t:44,s:[15.024,91.188,0]}],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[3.903,-5.533],[3.056,-2.353],[6.543,2.313],[4.228,4.252],[.327,6.566],[-.109,2.842],[-.281,9.016],[.083,2.706],[-1.043,.386],[-.666,-2.038],[-.181,-1.13],[.156,-4.374],[-1.579,-.706],[-1.31,1],[-.442,.663],[-6.815,9.598],[-.455,.427],[-1.272,-1.478],[1.046,-1.327],[4.713,-6.619],[.196,-.327],[-1.1,-.992],[-1.181,.832],[-.345,.518],[-6.936,9.765],[-.29,.345],[-1.763,-.582],[-.03,-1.826],[.764,-.91],[6.934,-9.766],[.241,-.499],[-1.104,-.867],[-1.126,.839],[-.321,.495],[-5.124,7.179],[-.342,.391],[-1.712,-.819],[1.17,-2.201],[.133,-.179],[5.282,-7.492],[-1.55,-1.123],[-1.373,1.933],[-2.975,4.189],[-.217,.273],[-1.064,-.33],[-.164,-.992],[.618,-.721],[4.295,-6.063]],o:[[0,0],[-3.925,5.53],[-2.207,3.163],[-5.419,4.144],[-5.658,-1.985],[-4.757,-4.537],[-.132,-2.83],[.352,-9.013],[.084,-2.7],[-.047,-1.53],[2.052,-.622],[.282,1.109],[.785,4.306],[-.141,1.724],[1.431,.818],[.627,-.491],[6.837,-9.584],[.339,-.524],[1.477,-1.272],[1.103,1.28],[-4.699,6.627],[-.221,.311],[-.761,1.271],[1.062,.978],[.484,-.392],[6.95,-9.758],[.262,-.368],[1.202,-1.415],[1.726,.596],[-.023,1.188],[-6.946,9.76],[-.333,.444],[-.56,1.287],[1.107,.863],[.438,-.395],[5.133,-7.171],[.3,-.423],[1.273,-1.408],[2.2,1.171],[-.105,.197],[-5.348,7.451],[-1.34,1.9],[1.55,1.123],[2.98,-4.187],[.2,-.283],[.669,-.891],[.979,.23],[.17,.934],[-4.32,6.046],[0,0]],v:[[23.152,14.265],[23.152,14.265],[11.387,30.834],[3.446,39.158],[-14.469,42.324],[-29.49,32.847],[-37.41,15.555],[-37.109,7.033],[-36.085,-20.008],[-36.314,-28.124],[-34.842,-30.943],[-29.951,-28.395],[-29.245,-25.033],[-28.298,-11.975],[-25.898,-7.919],[-21.376,-8.219],[-19.764,-9.962],[.715,-38.734],[1.91,-40.165],[6.888,-39.794],[6.986,-35.305],[-7.133,-15.436],[-7.783,-14.492],[-7.199,-10.598],[-3.355,-10.348],[-2.105,-11.721],[18.725,-41.005],[19.531,-42.094],[24.437,-43.471],[27.362,-39.438],[26.146,-36.195],[5.327,-6.906],[4.464,-5.488],[5.387,-1.83],[9.168,-1.788],[10.311,-3.128],[25.697,-24.654],[26.645,-25.895],[31.676,-26.887],[33.542,-20.783],[33.185,-20.219],[17.314,2.245],[17.658,7.111],[22.458,5.811],[31.391,-6.755],[32.008,-7.593],[34.898,-8.527],[36.785,-6.509],[36.077,-3.893],[23.154,14.271]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[-2.092,-1],[-5.851,1.244],[-2.89,2.122],[-2.836,4.038],[-8.223,11.534],[1.8,3.179],[2.203,.713],[-.482,.692],[3.481,3.721],[1.699,.527],[.484,.17],[1.139,3.155],[2.122,1.241],[3.015,-1.109],[1.758,-2.785],[.644,.543],[3.548,-4.034],[.13,-.169],[1.792,-2.514],[4.079,-5.747],[0,0],[.082,.492],[.844,3.567],[3.743,.857],[2.2,-2.689],[-.104,-2.042],[.639,-12.849],[-1.281,-4.26],[-5.078,-4.319],[-.195,-.238],[0,0]],o:[[2.036,1.113],[5.3,2.515],[3.508,-.744],[3.984,-2.911],[8.184,-11.562],[2.279,-2.855],[-1.124,-2.024],[.544,-.765],[3.017,-4.106],[-1.184,-1.328],[-.386,-.124],[1.837,-2.807],[-.767,-2.335],[-2.755,-1.652],[-3.194,1.082],[-.671,-.678],[-4.034,-3.548],[-.141,.16],[-1.912,2.423],[-4.089,5.741],[0,0],[-.08,-.81],[-.575,-3.63],[-.905,-3.835],[-3.335,-.972],[-1.354,1.532],[.755,12.89],[-.219,4.4],[1.914,6.386],[.221,.214],[0,0],[0,0]],v:[[-26.227,43.472],[-20.111,46.795],[-3.436,49.195],[6.271,44.847],[16.572,34.353],[41.182,-.292],[41.975,-10.279],[36.799,-14.538],[38.319,-16.68],[37.519,-30.18],[33.112,-33.014],[31.862,-33.451],[32.969,-42.919],[28.486,-48.471],[19.361,-49.329],[12.486,-42.977],[10.62,-44.85],[-3.107,-43.971],[-3.514,-43.477],[-8.939,-35.964],[-21.189,-18.731],[-22.033,-17.546],[-22.214,-19.346],[-24.014,-30.219],[-31.486,-37.094],[-40.613,-34.262],[-42.563,-28.686],[-43.555,9.895],[-42.488,22.887],[-31.775,39.287],[-31.152,39.965],[-26.227,43.465]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[44.024,50.688],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 4 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[4]},{t:17,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.591],y:[1.232]},o:{x:[.333],y:[0]},t:3.182,s:[64.512]},{t:17,s:[78.762]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[-46.004]},{t:17,s:[-45.754]}],ix:4}},a:{a:0,k:[3.602,10.311,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.05,.08],[-.397,.235],[-.245,-.372],[-.243,-2.031],[2.88,-3.875],[.273,0]],o:[[-.461,0],[0,-.17],[6.552,-9.387],[-.235,-.397],[.383,-.227],[1.001,1.784],[.576,4.793],[-.156,.224],[0,0]],v:[[-2.516,10.057],[-3.351,9.221],[-3.201,8.745],[-1.542,-8.689],[-1.249,-9.834],[-.128,-9.576],[1.757,-3.797],[-1.831,9.704],[-2.516,10.061]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.601,10.311],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:4,ty:4,nm:"Layer 5 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[100]}],ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[0]}],ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.524],y:[1.943]},o:{x:[.333],y:[0]},t:0,s:[63.218]},{t:15,s:[81.718]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-46.437]},{t:15,s:[-45.687]}],ix:4}},a:{a:0,k:[3.592,13.05,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.719,5.523],[1.159,2.111],[-.394,.238],[-.245,-.379],[-.31,-2.601],[4.815,-6.892],[.273,0]],o:[[-.461,0],[0,-.17],[3.6,-5.154],[-.281,-2.392],[-.238,-.395],[.387,-.233],[1.281,2.285],[.55,4.109],[-.156,.224],[0,0]],v:[[-2.507,12.799],[-3.341,11.964],[-3.191,11.486],[1.147,-4.604],[-1.033,-11.421],[-.75,-12.566],[.383,-12.305],[2.792,-4.905],[-1.823,12.439],[-2.508,12.797]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.592,13.05],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:5,ty:4,nm:"Layer 6 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:15.909,s:[3]},{t:28,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.706],y:[1.553]},o:{x:[.333],y:[0]},t:15.909,s:[30.436]},{t:28,s:[24.186]}],ix:3},y:{a:1,k:[{i:{x:[.652],y:[1.489]},o:{x:[.333],y:[0]},t:15.909,s:[-81.209]},{t:28,s:[-93.959]}],ix:4}},a:{a:0,k:[9.646,4.948,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.461],[-.075,.128],[-1.692,1.15],[-4.764,-.772],[.06,-.457],[.457,.06],[3.634,-2.451],[1.022,-1.522],[.295,0]],o:[[-.461,-.001],[0,-.148],[1.123,-1.71],[3.99,-2.716],[.457,.06],[-.06,.457],[-4.324,-.717],[-1.519,1.027],[-.151,.253],[0,0]],v:[[-8.561,4.693],[-9.395,3.855],[-9.279,3.435],[-5.016,-.898],[8.617,-3.926],[9.335,-2.989],[8.398,-2.27],[-3.995,.431],[-7.842,4.29],[-8.561,4.698]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.645,4.948],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:6,ty:4,nm:"Layer 7 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:13.363,s:[0]},{t:26,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.624],y:[2.994]},o:{x:[.333],y:[0]},t:13.363,s:[30.021]},{t:26,s:[22.771]}],ix:3},y:{a:1,k:[{i:{x:[.624],y:[1.964]},o:{x:[.333],y:[0]},t:13.363,s:[-82.012]},{t:26,s:[-97.012]}],ix:4}},a:{a:0,k:[12.19,6.146,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.295,0],[0,.461],[-.076,.128],[-2.168,1.472],[-8.332,-1.099],[.06,-.457],[.457,.06],[4.573,-3.179],[1.34,-2]],o:[[-.461,-.001],[.001,-.149],[1.439,-2.19],[3.394,-2.379],[.457,.06],[-.06,.457],[-6.231,-.82],[-1.994,1.35],[-.151,.254]],v:[[-11.106,5.895],[-11.94,5.059],[-11.824,4.637],[-6.361,-.91],[11.161,-4.796],[11.88,-3.859],[10.943,-3.14],[-5.339,.413],[-10.387,5.486]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[12.19,6.146],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0}],markers:[]}};d9().loadAnimation(i),this.router.parseUrl(this.router.url).fragment||window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"about-us"}).subscribe(i=>{200==i.body.code&&i.body.result&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}navigateToLink(n){this.router.navigate(["contact",n])}}return e.\u0275fac=function(n){return new(n||e)(Me(ao),Me(xc),Me(cl),Me(dl))},e.\u0275cmp=Yn({type:e,selectors:[["app-about"]],decls:255,vars:5,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xl-11","m-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-flex","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","align-items-end"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","300"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head","position-relative","w-100","start-0","end-0","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["id","wedo-section","data-scroll-index","0",1,"wedo-section"],[1,"container-fluid","d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"col-xl-10","offset-xl-1"],[1,"we-do"],[1,"col-xxl-12"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head"],["id","services1","data-scroll-nav","0",1,"services"],[1,"container-fluid"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","offset-xl-1","col-md-7","offset-md-1","col-sm-6","order-sm-1","order-2"],[1,"d-flex","flex-column","justify-content-between","h-100","service-content"],[1,"color1"],[1,"points"],[1,"link",3,"click"],[1,"barcelony"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-4","offset-xl-1","col-md-4","col-sm-6","order-sm-2","order-1"],[1,"img-block"],["alt","",1,"w-100",3,"src"],["id","services2","data-scroll-nav","1",1,"services"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-4","col-md-4","col-sm-6"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","offset-xl-1","col-md-6","offset-md-1","col-sm-6"],["id","services3","data-scroll-nav","2",1,"services"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","offset-xl-1","col-md-6","offset-md-1","col-sm-6","order-sm-1","order-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-4","offset-xl-1","col-md-4","offset-md-1","col-sm-6","order-sm-2","order-1"],["id","services4","data-scroll-nav","3",1,"services"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","offset-xl-1","col-md-7","offset-md-1","col-sm-6"],["id","services5","data-scroll-nav","4",1,"services"],[1,"bg-black"],[1,"col-md-3"],[1,"cap"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"p28","head"],[1,"col-md-9"],[1,"col-md-6","col-sm-6"],[1,"list"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"p32"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"p-0"],["href","https://www.pixtar.ae/project-details/dnour"],["href","https://www.pixtar.ae/project-details/pakhis"],["href","https://www.pixtar.ae/project-details/autokoorosh"],["href","https://www.pixtar.ae/project-details/vendetta"],["href","https://www.pixtar.ae/project-details/beyou"],[1,"line"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),E(9,"We don't do "),M(),x(10,"h1",9),E(11,"We don't"),M(),oe(12,"div",10),M(),x(13,"h1",11),E(14,"do one"),M(),x(15,"h1",12),E(16," size fits all"),M(),x(17,"h1",13),E(18,"one size fits all"),M(),x(19,"p",14),E(20,"Our services are tailored to the needs of your brand."),M()()(),x(21,"p",15),E(22," We do it real "),M()()()()()(),x(23,"section",16)(24,"div",17)(25,"div",2)(26,"div",18)(27,"div",19)(28,"div",2)(29,"div",20)(30,"p",21),E(31," We do it real "),M()()()()()()()(),x(32,"section",22)(33,"div",23)(34,"div",2)(35,"div",18)(36,"div",2)(37,"div",24)(38,"div",25)(39,"h1")(40,"span",26),E(41,"Branding"),M(),E(42," that lets you in & gets you an ear"),M(),x(43,"div",27)(44,"p"),E(45,"Research | Strategy | Design"),M(),x(46,"p"),E(47,"Identity | Brandbook & more\u2026"),M()(),x(48,"p",28),Ct("click",function(){return i.navigateToLink("branding")}),E(49,"Let us "),x(50,"span",29),E(51,"listen"),M(),E(52," to your story"),M()()(),x(53,"div",30)(54,"div",31),oe(55,"img",32),M()()()()()()(),x(56,"section",33)(57,"div",23)(58,"div",2)(59,"div",18)(60,"div",2)(61,"div",34)(62,"div",31),oe(63,"img",32),M()(),x(64,"div",35)(65,"div",25)(66,"h1")(67,"span",26),E(68,"Website"),M(),E(69," that tells your story which connects"),M(),x(70,"div",27)(71,"p"),E(72,"Static | Dynamic"),M(),x(73,"p"),E(74,"Ui/Ux & more\u2026"),M()(),x(75,"p",28),Ct("click",function(){return i.navigateToLink("website")}),E(76,"Let's "),x(77,"span",29),E(78,"tell"),M(),E(79," your story"),M()()()()()()()(),x(80,"section",36)(81,"div",23)(82,"div",2)(83,"div",18)(84,"div",2)(85,"div",37)(86,"div",25)(87,"h1")(88,"span",26),E(89,"eCommerce"),M(),E(90," that helps you sell "),M(),x(91,"div",27)(92,"p"),E(93,"Magento 2++ Website Development"),M(),x(94,"p"),E(95,"Customised eCommerce Solutions"),M(),x(96,"p"),E(97,"Payment Gateway Integration"),M(),x(98,"p"),E(99,"& more\u2026"),M()(),x(100,"p",28),Ct("click",function(){return i.navigateToLink("eCommerce")}),E(101,"Let us "),x(102,"span",29),E(103,"help you"),M(),E(104," sell"),M()()(),x(105,"div",38)(106,"div",31),oe(107,"img",32),M()()()()()()(),x(108,"section",39)(109,"div",23)(110,"div",2)(111,"div",18)(112,"div",2)(113,"div",34)(114,"div",31),oe(115,"img",32),M()(),x(116,"div",40)(117,"div",25)(118,"h1")(119,"span",26),E(120,"Enterprise Solutions"),M(),E(121," that automates your process"),M(),x(122,"div",27)(123,"p"),E(124,"Web Based Apps"),M(),x(125,"p"),E(126,"eCom Management Solutions"),M(),x(127,"p"),E(128,"Business Management Solutions"),M(),x(129,"p"),E(130,"& more\u2026"),M()(),x(131,"p",28),Ct("click",function(){return i.navigateToLink("enterprice")}),E(132,"Let's "),x(133,"span",29),E(134,"automate"),M(),E(135," it"),M()()()()()()()(),x(136,"section",41)(137,"div",23)(138,"div",2)(139,"div",18)(140,"div",2)(141,"div",37)(142,"div",25)(143,"h1")(144,"span",26),E(145,"SEO"),M(),E(146," solution that spreads the word"),M(),x(147,"div",27)(148,"p"),E(149,"Organic SEO | Site Mapping"),M(),x(150,"p"),E(151,"Google Ads | Social Media Integration"),M(),x(152,"p"),E(153,"& more\u2026"),M()(),x(154,"p",28),Ct("click",function(){return i.navigateToLink("seo")}),E(155,"Let us "),x(156,"span",29),E(157,"spread"),M(),E(158," your word"),M()()(),x(159,"div",38)(160,"div",31),oe(161,"img",32),M()()()()()()(),x(162,"section",42)(163,"div",23)(164,"div",2)(165,"div",18)(166,"div",2)(167,"div",43)(168,"div",44)(169,"p",45),E(170," Capabilities "),M()()(),x(171,"div",46)(172,"div",2)(173,"div",47)(174,"div",48)(175,"p",49),E(176," Strategy "),M(),x(177,"ul",50)(178,"li")(179,"a",51),E(180,"Research"),M()(),x(181,"li")(182,"a",52),E(183,"UI/UX audit "),M()(),x(184,"li")(185,"a",53),E(186,"Stakeholder workshops"),M()(),x(187,"li")(188,"a",51),E(189,"Product strategy"),M()(),x(190,"li")(191,"a",51),E(192,"Innovation consulting"),M()()()()(),x(193,"div",47)(194,"div",48)(195,"p",49),E(196,"Design"),M(),x(197,"ul",50)(198,"li")(199,"a",54),E(200,"UI/UX design"),M()(),x(201,"li")(202,"a",51),E(203,"Brand identity "),M()(),x(204,"li")(205,"a",55),E(206,"Websites and mobile apps"),M()(),x(207,"li")(208,"a",52),E(209,"Visual design"),M()(),x(210,"li")(211,"a",52),E(212,"Prototyping and testing"),M()()()()()(),x(213,"div",2)(214,"div",47)(215,"div",48)(216,"p",49),E(217,"Development"),M(),x(218,"ul",50)(219,"li")(220,"a",54),E(221,"HTML/CSS/JS"),M()(),x(222,"li")(223,"a",52),E(224,"React/Angular "),M()(),x(225,"li")(226,"a",51),E(227,"Backend/API integrations"),M()(),x(228,"li")(229,"a",51),E(230,"Magento 2++"),M()(),x(231,"li")(232,"a",51),E(233,"Web based apps"),M()()()()(),x(234,"div",47)(235,"div",48)(236,"p",49),E(237,"Content"),M(),x(238,"ul",50)(239,"li")(240,"a",51),E(241,"Copywriting"),M()(),x(242,"li")(243,"a",51),E(244,"Video "),M()(),x(245,"li")(246,"a",51),E(247,"Animation"),M()(),x(248,"li")(249,"a",51),E(250,"Iconography"),M()(),x(251,"li")(252,"a",51),E(253,"2D graphics"),M()()()()()()()()()()()(),oe(254,"div",56)),2&n&&(se(55),xe("src","",i.baseUrl,"/img/services/branding.jpg",ve),se(8),xe("src","",i.baseUrl,"/img/services/dnour-website.jpg",ve),se(44),xe("src","",i.baseUrl,"/img/services/ecommerce.jpg",ve),se(8),xe("src","",i.baseUrl,"/img/services/enterprises.jpg",ve),se(46),xe("src","",i.baseUrl,"/img/services/seo.jpg",ve))},styles:['@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.service-banner[_ngcontent-%COMP%]{background:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 92%;background-size:23%}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 575px){.service-banner[_ngcontent-%COMP%]{background-position:100% 103%;min-height:100vh;height:100%}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;font-weight:700;color:#1d1d1f;line-height:normal}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px;font-weight:400;line-height:normal;margin-bottom:0;color:#101010}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:20px;margin-top:-40px;transition:transform .7s ease-in-out}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{width:60px}}@media (max-width: 600px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:10px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-top:-24px;width:40px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:5px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]:hover{transform:rotate(-30deg)}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:50px 10px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;font-weight:700;color:#1d1d1f;margin-top:0}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 600px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#1d1d1f;line-height:normal}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;top:-1.5rem;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}']}),e})();var ci=g(8259);let h9=(()=>{class e{constructor(n){this.http=n,this.getBusinesscardDetails=i=>this.http.post(Et_backendUrl+"/api/businesscard/allbusinesscard",i).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getBusinesscardDetailsByID=i=>this.http.post(Et_backendUrl+"/api/businesscard/getBusinesscardWithId",i).pipe((0,Dr.K)(o=>(0,Vr._)(o)))}}return e.\u0275fac=function(n){return new(n||e)(Ft(ul))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Qhe=function(e){return["view",e]};function Zhe(e,t){if(1&e&&(x(0,"div",6)(1,"div",7),oe(2,"img",8),x(3,"div",9)(4,"h5",10),E(5),M(),oe(6,"p",11),x(7,"a",12),E(8,"View Vcard"),M()()()()),2&e){const n=t.$implicit,i=Ze();se(2),zl("src","",i.imagepath,"",n.profile_photo,"",ve),se(3),mx("",n.firstName," ",n.lastName,""),se(2),$e("routerLink",al(5,Qhe,n._id))}}let Jhe=(()=>{class e{constructor(n,i,r,o){this.businesscardService=n,this.pageservice=i,this.metaTagService=r,this.titleService=o,this.businesscards=[],this.imagepath=Et_backendUrl+"/public/",this.get_PageMeta(),this.get_all_projects()}ngOnInit(){ci("nav").removeClass("d-none"),ci("footer").removeClass("d-none")}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(i=>{200==i.body.code&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}get_all_projects(){this.businesscardService.getBusinesscardDetails({}).subscribe(i=>{200==i.code&&(this.businesscards=i.result)})}}return e.\u0275fac=function(n){return new(n||e)(Me(h9),Me(xc),Me(cl),Me(dl))},e.\u0275cmp=Yn({type:e,selectors:[["app-businesscard"]],decls:7,vars:1,consts:[["id","header",1,"jumbotron","text-center"],[1,"display-3"],["id","gallery"],[1,"container"],[1,"row"],["class","col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-4","mb-4"],[1,"card"],["alt","",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-dark",3,"routerLink"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"h2",1),E(2,"Business Cards"),M()(),x(3,"section",2)(4,"div",3)(5,"div",4),tt(6,Zhe,9,7,"div",5),M()()()),2&n&&(se(6),$e("ngForOf",i.businesscards))},dependencies:[pa,_c],styles:[".contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#878787;border:none;border-radius:0;border-bottom:1px solid #DDDDDD}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#878787;border:none;border-radius:0;border-bottom:1px solid #DDDDDD}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#878787}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{width:100%}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px 0 0}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px 20px;text-decoration:none;border:1px solid #707070;color:#878787;border-radius:30px}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777;background:#1d1d1f}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777;background:#1d1d1f}@media (max-width: 1199px){.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:4px 10px}}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #DA9777;padding:5px 30px;border-radius:30px;font-weight:600}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#DA9777;color:#fff}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#DA9777;color:#fff}.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}@media (max-width: 991px){.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:106px;font-weight:800;color:#000}@media (max-width: 1199px){.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}.contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:530px;font-size:22px;font-weight:500}@media (max-width: 1199px){.contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:100%}}"]}),e})(),eue=(()=>{class e{constructor(){this.baseURl=Et_baseUrl+"/assets/"}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-godly"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","godly business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:971566093025"],["alt","",3,"src"],[1,"col-10"],["href","tel:+971566093025"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:godly@epictravel.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","https://www.epictravel.ae","target","_blank"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/godly-babukutty-11566847/","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://www.instagram.com/godly_babukutty/","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),oe(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),E(11,"Godly Babukutty"),M(),x(12,"p",2),E(13,"Managing Director at Epic Travel"),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),oe(20,"img",16),M()(),x(21,"div",17)(22,"a",18)(23,"span"),E(24,"+971 56 609 3025"),M()()()(),x(25,"div",19)(26,"div",20)(27,"a",21),oe(28,"img",16),M()(),x(29,"div",17)(30,"a",21)(31,"span"),E(32,"godly@epictravel.ae"),M()()()()()()(),x(33,"div",22)(34,"div",23)(35,"a",24),E(36,"Save Contact"),M(),x(37,"p")(38,"a",25),oe(39,"img",26),M()(),x(40,"p")(41,"a",27),oe(42,"img",28),M()(),x(43,"p")(44,"a",29),oe(45,"img",30),M()()()()()()()()()()()),2&n&&(se(6),xe("src","",i.baseURl,"/images/pixtar-white-logo.svg",ve),se(1),xe("src","",i.baseURl,"/images/godly.jpeg",ve),se(13),xe("src","",i.baseURl,"/images/phone.svg",ve),se(8),xe("src","",i.baseURl,"/images/email.svg",ve),se(7),xe("href","",i.baseURl,"godly.vcf",ve),se(4),xe("src","",i.baseURl,"/images/website.svg",ve),se(3),xe("src","",i.baseURl,"/images/linkedin.svg",ve),se(3),xe("src","",i.baseURl,"/images/instagram.svg",ve))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),tue=(()=>{class e{constructor(){this.baseURl=Et_baseUrl+"/assets/"}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-israel"]],decls:43,vars:7,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar logo",1,"card-logo",3,"src"],["alt","israel business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:+31657528147"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:israelomidosu@dnour.com","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","https://dnour.com/","target","_blank"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/israelomidosu/","target","_blank"],["alt","linkedin","width","35",3,"src"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),oe(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),E(11,"Israel Omidosu"),M(),x(12,"p",2),E(13,"Head of Brand Strategy"),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),oe(20,"img",16),M()(),x(21,"div",17)(22,"a",15)(23,"span"),E(24,"+31 6575 28147"),M()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),oe(28,"img",16),M()(),x(29,"div",17)(30,"a",20)(31,"span"),E(32,"israelomidosu@dnour.com"),M()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),E(36,"Save Contact"),M(),x(37,"p")(38,"a",24),oe(39,"img",25),M()(),x(40,"p")(41,"a",26),oe(42,"img",27),M()()()()()()()()()()()),2&n&&(se(6),xe("src","",i.baseURl,"/images/pixtar-white-logo.svg",ve),se(1),xe("src","",i.baseURl,"/images/israel.jpg",ve),se(13),xe("src","",i.baseURl,"/images/phone.svg",ve),se(8),xe("src","",i.baseURl,"/images/email.svg",ve),se(7),xe("href","",i.baseURl,"io.vcf",ve),se(4),xe("src","",i.baseURl,"/images/website.svg",ve),se(3),xe("src","",i.baseURl,"/images/linkedin.svg",ve))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),nue=(()=>{class e{constructor(){this.baseURl=Et_baseUrl+"/assets/"}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-junaid-shaikh"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","junaid business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:971529997111"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:junaid@pixtar.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","/"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/junaid-nour-56515493","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/junaidnour?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),oe(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),E(11,"Junaid Shaikh"),M(),x(12,"p",2),E(13,"Co-founder & Brand Director "),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),oe(20,"img",16),M()(),x(21,"div",17)(22,"a",15)(23,"span"),E(24,"+971 52 999 7111"),M()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),oe(28,"img",16),M()(),x(29,"div",17)(30,"a",20)(31,"span"),E(32,"junaid@pixtar.ae"),M()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),E(36,"Save Contact"),M(),x(37,"p")(38,"a",24),oe(39,"img",25),M()(),x(40,"p")(41,"a",26),oe(42,"img",27),M()(),x(43,"p")(44,"a",28),oe(45,"img",29),M()()()()()()()()()()()),2&n&&(se(6),xe("src","",i.baseURl,"images/pixtar-white-logo.svg",ve),se(1),xe("src","",i.baseURl,"images/junaid.jpg",ve),se(13),xe("src","",i.baseURl,"images/phone.svg",ve),se(8),xe("src","",i.baseURl,"images/email.svg",ve),se(7),xe("href","",i.baseURl,"junaid-shaikh.vcf",ve),se(4),xe("src","",i.baseURl,"images/website.svg",ve),se(3),xe("src","",i.baseURl,"images/linkedin.svg",ve),se(3),xe("src","",i.baseURl,"images/instagram.svg",ve))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),iue=(()=>{class e{constructor(){this.baseURl=Et_baseUrl+"/assets/"}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-nawaz"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","kbn business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:971527930781"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:kbn@pixtar.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","/"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/kbnab","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/imkbn?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),oe(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),E(11,"KBN"),M(),x(12,"p",2),E(13,"Co-Founder & Creative Director"),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),oe(20,"img",16),M()(),x(21,"div",17)(22,"a",15)(23,"span"),E(24,"+971 52 793 0781"),M()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),oe(28,"img",16),M()(),x(29,"div",17)(30,"a",20)(31,"span"),E(32,"kbn@pixtar.ae"),M()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),E(36,"Save Contact"),M(),x(37,"p")(38,"a",24),oe(39,"img",25),M()(),x(40,"p")(41,"a",26),oe(42,"img",27),M()(),x(43,"p")(44,"a",28),oe(45,"img",29),M()()()()()()()()()()()),2&n&&(se(6),xe("src","",i.baseURl,"/images/pixtar-white-logo.svg",ve),se(1),xe("src","",i.baseURl,"/images/kbn.jpg",ve),se(13),xe("src","",i.baseURl,"/images/phone.svg",ve),se(8),xe("src","",i.baseURl,"/images/email.svg",ve),se(7),xe("href","",i.baseURl,"kbn.vcf",ve),se(4),xe("src","",i.baseURl,"/images/website.svg",ve),se(3),xe("src","",i.baseURl,"/images/linkedin.svg",ve),se(3),xe("src","",i.baseURl,"/images/instagram.svg",ve))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),rue=(()=>{class e{constructor(){this.baseURl=Et_baseUrl+"/assets/"}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-nawaz2"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","kbn business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-md-center","justify-content-sm-center","justify-content-start"],[1,"profile-name","text-center"],[1,"account-block"],[1,"content1"],[1,"content2"],[1,"mb-2","d-flex"],[1,"text-center","ph","me-sm-2","me-2"],["href","tel:971527930781"],["alt","",3,"src"],[1,"d-flex"],[1,"text-center","em","me-sm-2","me-2"],["href","mailto:kbn@pixtar.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","/"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/kbnab","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/imkbn?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),oe(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),E(11,"KBN"),M(),x(12,"p",2),E(13,"Co-Founder & Creative Director"),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),oe(20,"img",16),M()(),x(21,"div",2)(22,"a",15)(23,"span"),E(24,"+971 52 793 0781"),M()()()(),x(25,"div",17)(26,"div",18)(27,"a",19),oe(28,"img",16),M()(),x(29,"div",2)(30,"a",19)(31,"span"),E(32,"kbn@pixtar.ae"),M()()()()()()(),x(33,"div",20)(34,"div",21)(35,"a",22),E(36,"Save Contact"),M(),x(37,"p")(38,"a",23),oe(39,"img",24),M()(),x(40,"p")(41,"a",25),oe(42,"img",26),M()(),x(43,"p")(44,"a",27),oe(45,"img",28),M()()()()()()()()()()()),2&n&&(se(6),xe("src","",i.baseURl,"/images/pixtar-white-logo.svg",ve),se(1),xe("src","",i.baseURl,"/images/kbn.jpg",ve),se(13),xe("src","",i.baseURl,"/images/phone.svg",ve),se(8),xe("src","",i.baseURl,"/images/email.svg",ve),se(7),xe("href","",i.baseURl,"kbn.vcf",ve),se(4),xe("src","",i.baseURl,"/images/website.svg",ve),se(3),xe("src","",i.baseURl,"/images/linkedin.svg",ve),se(3),xe("src","",i.baseURl,"/images/instagram.svg",ve))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow-x:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%;min-height:100vh;height:100%;border-radius:0;overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{margin-top:-60px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:20px 0}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:15px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px;margin-top:0}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .content1[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:0 12px;justify-content:center;align-items:center}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:20px 0 15px}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:20px 0}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}@media (orientation: landscape) and (max-width: 991px) and (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}}"]}),e})(),oue=(()=>{class e{constructor(n,i,r,o,s){this.businesscardService=n,this.router=i,this.route=r,this.element=o,this.location=s,this.id=this.route.snapshot.paramMap.get("id"),this.imagepath=Et_backendUrl+"/public/",this.vCardpath=Et_backendUrl+"/public/vcards/",this.baseURl=Et_baseUrl+"/assets/",this.id&&this.getBusinesscard(this.id)}ngOnInit(){var n=this.location.path();"view"==(n=n.split("/")[2])&&(ci("nav").addClass("d-none"),ci("footer").addClass("d-none"))}getBusinesscard(n){this.businesscardService.getBusinesscardDetailsByID({id:n}).subscribe(r=>{200==r.code&&(this.businesscard=r.result)})}}return e.\u0275fac=function(n){return new(n||e)(Me(h9),Me(ao),Me(pl),Me(wr),Me(qf))},e.\u0275cmp=Yn({type:e,selectors:[["app-view"]],decls:46,vars:19,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","junaid business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],[3,"href"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["target","_blank",3,"href"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","#"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/kbnab","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/imkbn?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),oe(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),E(11),M(),x(12,"p",2),E(13),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),oe(20,"img",16),M()(),x(21,"div",17)(22,"a",15)(23,"span"),E(24),M()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),oe(28,"img",16),M()(),x(29,"div",17)(30,"a",20)(31,"span"),E(32),M()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),E(36,"Save Contact"),M(),x(37,"p")(38,"a",24),oe(39,"img",25),M()(),x(40,"p")(41,"a",26),oe(42,"img",27),M()(),x(43,"p")(44,"a",28),oe(45,"img",29),M()()()()()()()()()()()),2&n&&(se(6),xe("src","",i.baseURl,"/images/pixtar-white-logo.svg",ve),se(1),zl("src","",i.imagepath,"",i.businesscard.profile_photo,"",ve),se(4),mx("",i.businesscard.firstName," ",i.businesscard.lastName,""),se(2),Cs(i.businesscard.title),se(6),xe("href","tel:",i.businesscard.cellPhone,"",ve),se(1),xe("src","",i.baseURl,"/images/phone.svg",ve),se(2),xe("href","tel:",i.businesscard.cellPhone,"",ve),se(2),Cs(i.businesscard.cellPhone),se(3),xe("href","mailto:",i.businesscard.email,"",ve),se(1),xe("src","",i.baseURl,"/images/email.svg",ve),se(2),xe("href","mailto:",i.businesscard.email,"",ve),se(2),Cs(i.businesscard.email),se(3),zl("href","",i.vCardpath,"",i.businesscard.firstName,".vcf",ve),se(4),xe("src","",i.baseURl,"/images/website.svg",ve),se(3),xe("src","",i.baseURl,"/images/linkedin.svg",ve),se(3),xe("src","",i.baseURl,"/images/instagram.svg",ve))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:91vh!important}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}",".navbar[_ngcontent-%COMP%]{\n  display: none !important;\n}\nfooter[_ngcontent-%COMP%]{\n  display: none !important;\n}"]}),e})(),sue=(()=>{class e{constructor(n){this.http=n,this.addContact=i=>this.http.post(Et_backendUrl+"/api/home/contactadd",i,{observe:"response"}).pipe((0,Dr.K)(o=>(0,Vr._)(o)))}}return e.\u0275fac=function(n){return new(n||e)(Ft(ul))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function aue(e,t){1&e&&(x(0,"div",36)(1,"div"),E(2," Name is required. "),M()())}function lue(e,t){if(1&e&&(x(0,"div",36)(1,"div"),E(2),M()()),2&e){const n=Ze();se(2),Ia(" ",n.hasEmailError("email","required")," ")}}function cue(e,t){1&e&&(x(0,"div",36)(1,"div"),E(2," Phone Number is required. "),M()())}function due(e,t){1&e&&(x(0,"div",36)(1,"div"),E(2," Comments is required. "),M()())}let u9=(()=>{class e{constructor(n,i,r,o,s,a,l){this.contactservice=n,this.toastr=i,this.route=r,this.formBuilder=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.title="Contact Us",this.model={name:null,email:null,message:null,phone:null,subject:[]},this.submitted=!1,this.error={},this.selectedSubj=[],this.isWebsitesel=!1,this.isBrandingsel=!1,this.isSeosel=!1,this.isEnterpricesel=!1,this.isEcommerce=!1,this.msg_success=!1,this.msg_danger=!1,this.subject=[],this.url="https://calendly.com/pixtar/121",this.hasError=(c,h)=>this.addCareerForm.controls[c].hasError(h),this.hasEmailError=(c,h)=>""==this.addCareerForm.controls.email.value?"Email is required":"INVALID"==this.addCareerForm.controls.email.status?"Invalid Email":this.addCareerForm.controls.email.hasError(h),this.get_PageMeta(),this.baseUrl=Et_baseUrl+"/assets",this.selectedSub=this.route.snapshot.paramMap.get("id"),this.addCareerForm=this.formBuilder.group({name:["",hl.required],email:["",[hl.required,hl.email,hl.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],message:["",hl.required],phone:["",hl.required]})}ngOnInit(){window.Calendly.initInlineWidget({url:this.url,parentElement:document.querySelector(".calendly-inline-widget"),prefill:{}}),window.scroll({top:0,left:0,behavior:"smooth"}),$("nav").removeClass("d-none"),$("footer").removeClass("d-none"),"branding"==this.selectedSub?(this.isBrandingsel=!0,$("#branding").addClass("active")):"website"==this.selectedSub?($("#website").addClass("active"),this.isWebsitesel=!0):"eCommerce"==this.selectedSub?($("#eCommerce").addClass("active"),this.isEcommerce=!0):"enterprice"==this.selectedSub?($("#enterprise").addClass("active"),this.isEnterpricesel=!0):"seo"==this.selectedSub&&($("#seo").addClass("active"),this.isSeosel=!0)}get_PageMeta(){this.pageservice.getpageWithName({pageName:"contact-us"}).subscribe(i=>{200==i.body.code&&i.body.result&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}onSubmit(){this.submitted=!0;let n=this.addCareerForm.value;return!this.addCareerForm.invalid&&(this.isBrandingsel&&this.subject.push("Branding"),this.isWebsitesel&&this.subject.push("Website"),this.isEnterpricesel&&this.subject.push("Enterprise Solution"),this.isEcommerce&&this.subject.push("eCommerce"),this.isSeosel&&this.subject.push("SEO"),n.subject=this.subject,this.subject.length<1?(this.toastr.errorToastr("Please Select any one from subjects"),!1):this.contactservice.addContact(n).subscribe(i=>{i&&200==i.body.code?(this.submitted=!0,this.toastr.successToastr(i.body.message),setInterval(()=>{window.location.reload()},2e3)):this.toastr.errorToastr("Error")},i=>this.error=i))}selectSub(n){"website"==n?$("#website").hasClass("active")?($("#website").removeClass("active"),this.isWebsitesel=!1):($("#website").addClass("active"),this.isWebsitesel=!0):"branding"==n?$("#branding").hasClass("active")?($("#branding").removeClass("active"),this.isBrandingsel=!1):($("#branding").addClass("active"),this.isBrandingsel=!0):"eCommerce"==n?$("#eCommerce").hasClass("active")?($("#eCommerce").removeClass("active"),this.isEnterpricesel=!1):($("#eCommerce").addClass("active"),this.isEnterpricesel=!0):"enterprise"==n?$("#enterprise").hasClass("active")?($("#enterprise").removeClass("active"),this.isEnterpricesel=!1):($("#enterprise").addClass("active"),this.isEnterpricesel=!0):"seo"==n&&($("#seo").hasClass("active")?($("#seo").removeClass("active"),this.isSeosel=!1):($("#seo").addClass("active"),this.isSeosel=!0))}}return e.\u0275fac=function(n){return new(n||e)(Me(sue),Me(c9),Me(pl),Me(tm),Me(xc),Me(cl),Me(dl))},e.\u0275cmp=Yn({type:e,selectors:[["app-contact"]],decls:65,vars:6,consts:[[1,"pb-0","contactsection"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"container"],[1,"row"],[1,"col-md-6"],[1,"contact-content","h-100"],[1,""],[1,"describe"],["href","p/kbn","target","_blank",1,""],["alt","",3,"src"],[1,"short-desc"],[1,"contact-form"],[1,"form"],[1,"d-flex","flex-column","justify-content-center","align-items-start","h-100"],["method","post",1,"php-email-form","w-100",3,"formGroup","ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["for","floatingInput",1,"mt-0"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","tel","name","phone","autocomplete","off","formControlName","phone","id","floatingInput","placeholder","phone",1,"form-control"],[1,"detail","w-100","d-none","d-sm-block","mt-4"],[1,"d-flex","flex-row","justify-content-space-between","align-items-center","flex-wrap","pl-0","mb-0"],["type","button","id","branding","value","Branding",1,"button",3,"click"],["type","button","id","website","value","Website",1,"button",3,"click"],["type","button","id","eCommerce","value","eCommerce",1,"button",3,"click"],["type","button","id","enterprise","value","Enterprise Solution",1,"button",3,"click"],["type","button","id","seo","value","SEO",1,"button",3,"click"],[1,"form-floating"],["name","message","autocomplete","off","formControlName","message","id","floatingTextarea","placeholder","message","required","",1,"form-control"],[1,"detail","w-100","d-block","d-sm-none","mt-4"],[1,"d-flex","flex-row","justify-content-space-between","align-items-center","justify-content-center","flex-wrap","pl-0","mb-0"],[1,"w-100","w-100","text-center","text-sm-start"],["type","submit","name","submit","value","Send",1,"float-none","float-sm-end","float-md-end","float-lg-end","float-xl-end","float-xxl-end","mt-5","submit"],[1,"candely"],["data-url","https://calendly.com/kbn",1,"calendly-inline-widget",2,"min-width","320px","height","630px"],[1,"error"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),oe(8,"img",8),M()(),x(9,"p",9),E(10,"Describe your project and leave us your contact info, we\u2019ll get back to you ASAP."),M()()()(),x(11,"div",3)(12,"div",10)(13,"div",11)(14,"div",12)(15,"form",13,14),Ct("ngSubmit",function(){return i.onSubmit()}),x(17,"div",15),oe(18,"input",16),x(19,"label",17),E(20,"What's your name?"),M(),tt(21,aue,3,0,"div",18),M(),x(22,"div",15),oe(23,"input",19),x(24,"label",17),E(25,"What\u2019s your e-mail?"),M(),tt(26,lue,3,1,"div",18),M(),x(27,"div",15),oe(28,"input",20),x(29,"label",17),E(30,"What's your phone number?"),M(),tt(31,cue,3,0,"div",18),M(),x(32,"div",21)(33,"ul",22)(34,"li")(35,"input",23),Ct("click",function(){return i.selectSub("branding")}),M()(),x(36,"li")(37,"input",24),Ct("click",function(){return i.selectSub("website")}),M()(),x(38,"li")(39,"input",25),Ct("click",function(){return i.selectSub("eCommerce")}),M()(),x(40,"li")(41,"input",26),Ct("click",function(){return i.selectSub("enterprise")}),M()(),x(42,"li")(43,"input",27),Ct("click",function(){return i.selectSub("seo")}),M()()()(),x(44,"div",28),oe(45,"textarea",29),x(46,"label",17),E(47,"Tell us about your project :)"),M(),tt(48,due,3,0,"div",18),M(),x(49,"div",30)(50,"ul",31)(51,"li")(52,"input",23),Ct("click",function(){return i.selectSub("branding")}),M()(),x(53,"li")(54,"input",24),Ct("click",function(){return i.selectSub("website")}),M()(),x(55,"li")(56,"input",25),Ct("click",function(){return i.selectSub("eCommerce")}),M()(),x(57,"li")(58,"input",26),Ct("click",function(){return i.selectSub("enterprise")}),M()(),x(59,"li")(60,"input",27),Ct("click",function(){return i.selectSub("seo")}),M()()()(),x(61,"div",32),oe(62,"input",33),M()()()()()()()()(),x(63,"section",34),oe(64,"div",35),M()),2&n&&(se(8),xe("src","",i.baseUrl,"/img/logos/qr-code-call-pixtar.svg",ve),se(7),$e("formGroup",i.addCareerForm),se(6),$e("ngIf",i.submitted&&i.hasError("name","required")),se(5),$e("ngIf",i.submitted&&i.hasEmailError("email","required")),se(5),$e("ngIf",i.submitted&&i.hasError("phone","required")),se(17),$e("ngIf",i.submitted&&i.hasError("message","required")))},dependencies:[Us,a0,vp,r0,o0,bw,xp,Jf],styles:[".contactsection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:160px}@media (max-width: 991px){.contactsection[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;margin-top:60px}}@media (max-width: 991px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]{margin:0 50px}}@media (max-width: 380px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]{margin:0 30px}}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#878787}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{width:100%}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px 10px 0;position:relative;z-index:1}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:3px 16px;text-decoration:none;border:1px solid #707070;color:#878787;border-radius:30px;font-weight:600}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 1199px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:4px 10px}}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button.active[_ngcontent-%COMP%]{color:#da9777;background:#1d1d1f}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:8px 50px;font-size:16px}}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:disabled{opacity:.3}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   li.opacity-0.position-absolute[_ngcontent-%COMP%]{z-index:0}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#f33}@media (max-width: 1366px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]{display:flex;align-items:center}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]{margin-top:50px;text-align:center}}.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;margin-bottom:80px}@media (max-width: 1366px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:50px;height:150px}}@media (max-width: 1199px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:140px}}@media (max-width: 991px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;margin-bottom:40px}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]{text-align:center}}.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:530px;font-size:22px;font-weight:500}@media (max-width: 1199px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 575px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{font-size:16px}}.form-control[_ngcontent-%COMP%], .input-group-addon[_ngcontent-%COMP%], .tagsinput[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%], .carousel-control.right[_ngcontent-%COMP%], .carousel-control.left[_ngcontent-%COMP%]{transition:all .4s linear}"]}),e})();function hue(e,t){1&e&&oe(0,"img",98),2&e&&$e("src",Ze(2).$implicit.url,ve)}function uue(e,t){1&e&&tt(0,hue,1,1,"ng-template",97),2&e&&$e("id",Ze().$implicit.id)}function pue(e,t){if(1&e&&(zr(0),tt(1,uue,1,1,null,96),Ur()),2&e){const n=t.$implicit;se(1),$e("ngIf",n.id<=3)}}function fue(e,t){1&e&&oe(0,"img",98),2&e&&$e("src",Ze(2).$implicit.url,ve)}function mue(e,t){1&e&&tt(0,fue,1,1,"ng-template",97),2&e&&$e("id",Ze().$implicit.id)}function gue(e,t){if(1&e&&(zr(0),tt(1,mue,1,1,null,96),Ur()),2&e){const n=t.$implicit;se(1),$e("ngIf",n.id>=4&&n.id<=6)}}function vue(e,t){1&e&&oe(0,"img",98),2&e&&$e("src",Ze(2).$implicit.url,ve)}function yue(e,t){1&e&&tt(0,vue,1,1,"ng-template",97),2&e&&$e("id",Ze().$implicit.id)}function _ue(e,t){if(1&e&&(zr(0),tt(1,yue,1,1,null,96),Ur()),2&e){const n=t.$implicit;se(1),$e("ngIf",n.id>=7&&n.id<=9)}}let bue=(()=>{class e{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Et_baseUrl+"/assets",this.Url=Et_baseUrl}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-dnour"]],decls:219,vars:32,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","http://www.dnour.com","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","250",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","3000","data-aos-delay","300",1,"mt-0"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-black","about-project"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"content"],[1,"text-white"],[1,"mb-0","text-white"],["id","branding","data-scroll-nav","3",1,"bg-black","branding"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"text-white","heading"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["alt","envelop","width","","height","",3,"src"],["data-scroll-nav","4",1,"bg-black","story"],[1,"row","mb-4"],[1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"content"],[1,"text-white","heading","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12"],[1,"video","text-center"],["id","myVideo","width","954","height","480","controls","controls","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"customvideo","w-100","h-auto"],["src","https://dnour.com/pub/media/wysiwyg/about/the-brand-story-D'NOUR-DUBAI.mp4","type","video/mp4"],["src","https://dnour.com/pub/media/wysiwyg/about/the-brand-story-D'NOUR-DUBAI.ogg","type","video/ogg"],[1,"col-md-10","mx-md-auto"],[1,"about-story"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"text-white","semibold","mt-0","subheading"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","150",1,"text-white"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"text-white","semibold","mt-0","subheading"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","250",1,"text-white"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","300",1,"text-white","semibold","mt-0","subheading"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","350",1,"text-white","mb-0"],["data-scroll-nav","5",1,"bg-black","typography"],[1,"typography"],["alt","typography","width","","height","","data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",3,"src"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100",1,"text-white"],["data-scroll-nav","6",1,"bg-black","package"],[1,"col-md-12"],["alt","packaing2","width","","height","","data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"img1",3,"src"],[1,"col-md-6"],["alt","box","width","","height","","data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"img2",3,"src"],["alt","package-envelop","width","","height","","data-aos","fade-up","data-aos-duration","3000","data-aos-delay","200",3,"src"],["id","animations","data-scroll-nav","7",1,"animation"],[1,""],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100",1,"col-md-12"],["id","myVideo","width","320","height","176","controls","controls","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"ui-ux"],[1,"heading","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo2","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["id","development","data-scroll-nav","9",1,"development"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-12","p-0"],["id","myVideo2","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"owlcarousel1"],[3,"options"],[4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"owlcarousel2"],[1,"owlcarousel3"],["data-aos","fade-up","data-aos-duration","3000","data-aos-delay","200",3,"options"],["id","seo","data-scroll-nav","10",1,"seo-section"],["id","myVideo1","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","seo"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"container"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold","border-radius-25",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"],[4,"ngIf"],["class","slide","carouselSlide","",3,"id"],[3,"src","alt","title"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),E(9,"D'NOUR"),M(),x(10,"div",7)(11,"p"),E(12,"D'NOUR is a Dubai-based jewellery brand that places women at the forefront."),M(),x(13,"p")(14,"a",8),E(15,"dnour.com"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),E(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),E(24,"Animations"),M()(),x(25,"h3",15)(26,"a",13),E(27,"UI/UX Design"),M()(),x(28,"h3",16)(29,"a",13),E(30,"Development"),M()(),x(31,"h3",17)(32,"a",13),E(33,"SEO"),M()()()()()()()()()(),x(34,"section",18)(35,"div",19)(36,"div",2)(37,"div",20),oe(38,"img",21),M()()()(),x(39,"section",22)(40,"div",1)(41,"div",2)(42,"div",23)(43,"div",24)(44,"p",25),E(45,"Pixtar, a leading web development agency, partnered with D'NOUR, a Dubai-based jewellery brand that stands as a beacon for women empowerment. D'NOUR's creations, inspired by the elegance of the Rose, embody powerful storytelling, exquisite craftsmanship, and a profound message of appreciation, empowerment, and celebration of women."),M(),x(46,"p",26),E(47,"Pixtar took on the challenge of establishing D'NOUR's online presence in the highly competitive E-commerce jewellery market, focusing specifically on the UAE and USA. The industry was saturated with top-notch brands, making organic SEO a complex undertaking for a newly designed and developed website."),M()()()()()(),x(48,"section",27)(49,"div",1)(50,"div",2)(51,"div",3)(52,"div",2)(53,"div",28)(54,"div",24)(55,"h1",29),E(56,"Branding"),M(),x(57,"p",25),E(58,"Pixtar crafted a distinctive logo, premium quality visiting cards, invoice covers, and other corporate branding materials. The visual identity aimed to reflect D'NOUR's commitment to celebrating and empowering women."),M()()()()(),x(59,"div",20)(60,"div",30),oe(61,"img",31),M()(),x(62,"div",32)(63,"div",2)(64,"div",33),oe(65,"img",31),M(),x(66,"div",34)(67,"div",35),oe(68,"img",36)(69,"img",37),M()()()()()()(),x(70,"section",38)(71,"div",1)(72,"div",2)(73,"div",3)(74,"div",39)(75,"div",40)(76,"div",41)(77,"h1",42),E(78,"Brand Story"),M(),x(79,"p",25),E(80,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),M()()()(),x(81,"div",2)(82,"div",43)(83,"div",44)(84,"video",45),oe(85,"source",46)(86,"source",47),E(87," Your browser does not support the video tag. "),M()()(),x(88,"div",48)(89,"div",49)(90,"h3",50),E(91,"ABOUT WOMEN:"),M(),x(92,"p",51),E(93,"D'NOUR is fueled by the spectrum of emotions and the diverse stories that women carry with them."),M(),x(94,"h3",52),E(95,"FOR WOMEN:"),M(),x(96,"p",53),E(97,"The vision, the jewellery, and the steps towards change - all crafted with women in mind, inspired by their strength and individuality."),M(),x(98,"h3",54),E(99,"TO WOMEN:"),M(),x(100,"p",55),E(101,"D'NOUR is committed to pushing the paradigm, empowering, celebrating, and giving back to women through their timeless and meaningful jewellery pieces."),M()()()()()()()(),x(102,"section",56)(103,"div",1)(104,"div",2)(105,"div",3)(106,"div",57),oe(107,"img",58),x(108,"p",59),E(109,"Pixtar curated a distinctive visual identity by meticulously choosing fonts and color combinations. The selected font reflected elegance and modernity, complementing D'NOUR's commitment to timeless beauty. The color palette incorporated soft rose hues, symbolizing the brand's inspiration, and gold accents, signifying luxury and sophistication."),M()()()()()(),x(110,"section",60)(111,"div",1)(112,"div",2)(113,"div",3)(114,"div",39)(115,"div",28)(116,"div",24)(117,"h1",42),E(118,"Package Design"),M(),x(119,"p",25),E(120,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),M()()()(),x(121,"div",2)(122,"div",61),oe(123,"img",62),M(),x(124,"div",63),oe(125,"img",64),M(),x(126,"div",63),oe(127,"img",65),M()()()()()(),x(128,"section",66)(129,"div",1)(130,"div",2)(131,"div",23)(132,"div",39)(133,"div",40)(134,"div",24)(135,"h1",6),E(136,"Animations"),M(),x(137,"p",67),E(138,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),M()()()(),x(139,"div",2)(140,"div",68)(141,"video",69),oe(142,"source",70)(143,"source",71),E(144," Your browser does not support HTML5 video. "),M()()()()()()(),x(145,"section",72)(146,"div",1)(147,"div",2)(148,"div",3)(149,"div",39)(150,"div",28)(151,"div",24)(152,"h1",73),E(153,"UI/UX Design"),M(),x(154,"p",67),E(155,"Created an engaging and user-centric interface for the D'NOUR website, ensuring a seamless and visually appealing user experience that resonated with the brand's ethos."),M()()()(),x(156,"div",2)(157,"div",74)(158,"video",75),oe(159,"source",70)(160,"source",71),E(161," Your browser does not support HTML5 video. "),M(),x(162,"video",76),oe(163,"source",70)(164,"source",71),E(165," Your browser does not support HTML5 video. "),M()()()()()()(),x(166,"section",77)(167,"div",1)(168,"div",2)(169,"div",3)(170,"div",39)(171,"div",28)(172,"div",24)(173,"h1",73),E(174,"Development"),M(),x(175,"p",67),E(176,"Developed the website using Magento, incorporating advanced features to showcase D'NOUR's exquisite jewellery collections. Security measures were implemented to safeguard user data and transactions."),M()()()()()()(),x(177,"div",78)(178,"video",79),oe(179,"source",70)(180,"source",71),E(181," Your browser does not support HTML5 video. "),M(),x(182,"div",80)(183,"owl-carousel-o",81),tt(184,pue,2,1,"ng-container",82),M()(),x(185,"div",83)(186,"owl-carousel-o",81),tt(187,gue,2,1,"ng-container",82),M()(),x(188,"div",84)(189,"owl-carousel-o",85),tt(190,_ue,2,1,"ng-container",82),M()()()(),x(191,"section",86)(192,"div",1)(193,"div",2)(194,"div",3)(195,"div",39)(196,"div",28)(197,"div",24)(198,"h1",6),E(199,"SEO"),M(),x(200,"p",67),E(201,"Formulated a targeted organic SEO strategy tailored to the unique challenges of the E-commerce jewellery industry. Focused on optimizing the website for local search in the UAE and USA, leveraging keywords that aligned with D'NOUR's brand identity and unique selling propositions."),M()()()(),x(202,"video",87),oe(203,"source",70)(204,"source",71),E(205," Your browser does not support HTML5 video. "),M(),x(206,"p"),E(207,"Pixtar's holistic approach, encompassing branding, design, development, and a targeted organic SEO strategy, yielded positive outcomes. D'NOUR's online presence in the UAE and USA flourished, gaining visibility among its target audience despite the formidable competition. The case study serves as a testament to Pixtar's expertise in navigating challenges and helping a brand like D'NOUR shine in a crowded digital landscape."),M()()()()(),x(208,"section",88)(209,"div",89)(210,"div",2)(211,"div",61)(212,"div",90)(213,"div",91)(214,"a",92),oe(215,"img",93),x(216,"h1",94),E(217,"NEXT PROJECT"),M()()()()()(),oe(218,"div",95),M()()),2&n&&(se(20),xe("href","",i.Url,"/project-details/dnour#branding",ve),se(3),xe("href","",i.Url,"/project-details/dnour#animations",ve),se(3),xe("href","",i.Url,"/project-details/dnour#ui-ux",ve),se(3),xe("href","",i.Url,"/project-details/dnour#development",ve),se(3),xe("href","",i.Url,"/project-details/dnour#seo",ve),se(6),xe("src","",i.baseUrl,"/images/projects/dnour/pages-banner.png",ve),se(23),xe("src","",i.baseUrl,"/images/projects/dnour/dnour-project1.jpg",ve),se(4),xe("src","",i.baseUrl,"/images/projects/dnour/bcard.png",ve),se(3),xe("src","",i.baseUrl,"/images/projects/dnour/packaging.png",ve),se(1),xe("src","",i.baseUrl,"/images/projects/dnour/envelop.png",ve),se(38),xe("src","",i.baseUrl,"/images/projects/dnour/typography.png",ve),se(16),xe("src","",i.baseUrl,"/images/projects/dnour/packaging.png",ve),se(2),xe("src","",i.baseUrl,"/images/projects/dnour/box.png",ve),se(2),xe("src","",i.baseUrl,"/images/projects/dnour/package-envelop.png",ve),se(15),xe("src","",i.baseUrl,"/images/projects/dnour/dnour-brand-logo-animation.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/dnour/dnour-brand-logo-animation.ogg",ve),se(16),xe("src","",i.baseUrl,"/images/projects/dnour/dnour-desktop-imac-scroll.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/dnour/dnour-desktop-imac-scroll.ogg",ve),se(3),xe("src","",i.baseUrl,"/images/projects/dnour/laptop-scroll.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/dnour/laptop-scroll.ogg",ve),se(15),xe("src","",i.baseUrl,"/images/projects/dnour/homescreen.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/dnour/homescreen.ogg",ve),se(3),$e("options",i.desktopslider),se(1),$e("ngForOf",i.imageData),se(2),$e("options",i.desktopslider1),se(1),$e("ngForOf",i.imageData),se(2),$e("options",i.desktopslider2),se(1),$e("ngForOf",i.imageData),se(13),xe("src","",i.baseUrl,"/images/projects/dnour/dnour-seo.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/dnour/dnour-seo.ogg",ve),se(10),xe("href","",i.Url,"/project-details/pakhis",ve),se(1),xe("src","",i.baseUrl,"/images/projects/pakhis/pixtar-next.png",ve))},dependencies:[pa,Us,Zd,bc],styles:["section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.bannerimg[_ngcontent-%COMP%]{text-align:center;margin-top:6rem}.bannerimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:590px;height:770px}@media (max-width: 1399px){.bannerimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){.bannerimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}}section.project[_ngcontent-%COMP%]{min-height:100vh;height:100%}@media (max-width: 991px){section.project[_ngcontent-%COMP%]{min-height:90vh}}section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:end;height:90%}section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;right:-6rem;color:#101010;font-family:Montserrat,sans-serif;font-size:106px;font-weight:500}@media (max-width: 1366px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{right:0}}@media (max-width: 767px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 600px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;right:-1rem;color:#878787;font-family:Montserrat,sans-serif;font-size:24px}@media (max-width: 1366px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{right:0}}@media (max-width: 767px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:block}}.brand-detail[_ngcontent-%COMP%]   .startdate[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:50px 0}@media (max-width: 991px){.brand-detail[_ngcontent-%COMP%]   .startdate[_ngcontent-%COMP%]{padding:0;border-bottom:none}}.brand-detail[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#000;width:80%}@media (max-width: 991px){.brand-detail[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{margin-top:30px}}.brand-detail[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .brand-detail[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10rem}.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:675px;object-fit:cover}@media (max-width: 1024px){.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}}@media (max-width: 991px){.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]{margin-top:5rem}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.about-project[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.font-bold[_ngcontent-%COMP%]{font-weight:700!important}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.about-story[_ngcontent-%COMP%]{margin-top:20px}.about-story[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.package[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 767px){.package[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{margin-bottom:15px}}.package[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{margin-bottom:15px}.animation[_ngcontent-%COMP%]{padding:80px 0}.seo[_ngcontent-%COMP%]{margin:10px 0 50px}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}#myVideo[_ngcontent-%COMP%], #myVideo1[_ngcontent-%COMP%]{border-radius:50px}@media (max-width: 991px){#myVideo[_ngcontent-%COMP%], #myVideo1[_ngcontent-%COMP%]{border-radius:30px}}@media (max-width: 575px){#myVideo[_ngcontent-%COMP%], #myVideo1[_ngcontent-%COMP%]{border-radius:20px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}"]}),e})();g(8548);var Gl=g(3753),p9=g(8723),f9=g(1946),Kw=(g(7274),g(1746)),wue=g(2334),Os=g(7625),xD=(g(5778),g(7168));Math,Math,Math;const Ipe=["*"],Qpe=["dialog"];function ID(e){return"string"==typeof e}function am(e){return null!=e}function w0(e){return(e||document.body).getBoundingClientRect()}const k9={animation:!0,transitionTimerDelayMs:5},Wfe=()=>{},{transitionTimerDelayMs:qfe}=k9,$y=new Map,Ba=(e,t,n,i)=>{let r=i.context||{};const o=$y.get(t);if(o)switch(i.runningTransition){case"continue":return c0.E;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),$y.delete(t)}const s=n(t,i.animation,r)||Wfe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>s()),(0,Un.of)(void 0).pipe(function Hfe(e){return t=>new A.y(n=>t.subscribe({next:s=>e.run(()=>n.next(s)),error:s=>e.run(()=>n.error(s)),complete:()=>e.run(()=>n.complete())}))}(e));const a=new b.xQ,l=new b.xQ,c=a.pipe((0,wue.l)(!0));$y.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const h=function Gfe(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const d=(0,Gl.R)(t,"transitionend").pipe((0,Os.R)(c),(0,Zs.h)(({target:f})=>f===t)),u=(0,p9.H)(h+qfe).pipe((0,Os.R)(c));(0,f9.S3)(u,d,l).pipe((0,Os.R)(c)).subscribe(()=>{$y.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let nC=(()=>{class e{constructor(){this.animation=k9.animation}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),B9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),z9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),V9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),H9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({}),e})();var Ss=(()=>{return(e=Ss||(Ss={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",Ss;var e})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const W9=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function q9(e){const t=Array.from(e.querySelectorAll(W9)).filter(n=>-1!==n.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let e7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa,Oz]}),e})(),UD=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=xt({type:e,selectors:[["",8,"navbar"]]}),e})(),i7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({}),e})();class hm{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}}let Nme=(()=>{class e{constructor(n,i){this._el=n,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ga.q)(1)).subscribe(()=>{Ba(this._zone,this._el.nativeElement,(n,i)=>{i&&w0(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ba(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(n){return new(n||e)(Me(wr),Me(br))},e.\u0275cmp=Yn({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,i){2&n&&(lp("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),ko("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,i){},encapsulation:2}),e})();class su{close(t){}dismiss(t){}}class Fme{constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new b.xQ,this._dismissed=new b.xQ,this._hidden=new b.xQ,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Os.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Os.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function T9(e){return e&&e.then}(n)?!1!==n&&this._dismiss(t):n.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Un.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,Kw.$R)(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var za=(()=>{return(e=za||(za={}))[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",za;var e})();let Lme=(()=>{class e{constructor(n,i,r){this._document=n,this._elRef=i,this._zone=r,this._closed$=new b.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new yi,this.shown=new b.xQ,this.hidden=new b.xQ}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ID(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ga.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Ba(this._zone,n,()=>n.classList.remove("show"),i),o=Ba(this._zone,this._dialogEl.nativeElement,()=>{},i),s=(0,Kw.$R)(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"},i=Ba(this._zone,this._elRef.nativeElement,(o,s)=>{s&&w0(o),o.classList.add("show")},n),r=Ba(this._zone,this._dialogEl.nativeElement,()=>{},n);(0,Kw.$R)(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Gl.R)(n,"keydown").pipe((0,Os.R)(this._closed$),(0,Zs.h)(r=>r.which===Ss.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(za.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,Gl.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Os.R)(this._closed$),(0,Ai.b)(()=>i=!1),(0,Js.w)(()=>(0,Gl.R)(n,"mouseup").pipe((0,Os.R)(this._closed$),(0,ga.q)(1))),(0,Zs.h)(({target:r})=>n===r)).subscribe(()=>{i=!0}),(0,Gl.R)(n,"click").pipe((0,Os.R)(this._closed$)).subscribe(({target:r})=>{n===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(za.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const i=n.querySelector("[ngbAutofocus]"),r=q9(n)[0];(i||r||n).focus()}}_restoreFocus(){const n=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ba(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(n){return new(n||e)(Me(Qr),Me(wr),Me(br))},e.\u0275cmp=Yn({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,i){if(1&n&&dp(Qpe,7),2&n){let r;Sr(r=Er())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,i){2&n&&(Br("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),lp("modal d-block"+(i.windowClass?" "+i.windowClass:"")),ko("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ipe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,i){1&n&&(function n5(e){const t=At()[16][6];if(!t.projection){const i=t.projection=N1(e?e.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=e?JJ(o,e):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),x(0,"div",0,1)(2,"div",2),function i5(e,t=0,n){const i=At(),r=xn(),o=zg(r,22+e,16,null,n||null);null===o.projection&&(o.projection=t),ca(),64!=(64&o.flags)&&function hQ(e,t,n){w4(t[11],0,t,n,p4(e,n,t),v4(n.parent||t[6],n,t))}(r,i,o)}(3),M()()),2&n&&lp("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),Bme=(()=>{class e{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}}return e.\u0275fac=function(n){return new(n||e)(Ft(Qr))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),zme=(()=>{class e{constructor(n,i,r,o,s,a){this._applicationRef=n,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new b.xQ,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new yi,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=(0,Gl.R)(t,"focusin").pipe((0,Os.R)(n),(0,_i.U)(o=>o.target));(0,Gl.R)(t,"keydown").pipe((0,Os.R)(n),(0,Zs.h)(o=>o.which===Ss.Tab),(0,xD.M)(r)).subscribe(([o,s])=>{const[a,l]=q9(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&(0,Gl.R)(t,"click").pipe((0,Os.R)(n),(0,xD.M)(r),(0,_i.U)(o=>o[1])).subscribe(o=>o.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){const o=r.container instanceof HTMLElement?r.container:am(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new su,l=this._getContentRef(r.injector||n,i,a,r);let c=!1!==r.backdrop?this._attachBackdrop(o):void 0,h=this._attachWindowComponent(o,l.nodes),d=new Fme(h,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.hidden.pipe((0,ga.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=u=>{d.close(u)},a.dismiss=u=>{d.dismiss(u)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),c&&c.instance&&(this._applyBackdropOptions(c.instance,r),c.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=yS(Nme,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=yS(Lme,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_applyWindowOptions(n,i){this._windowAttributes.forEach(r=>{am(i[r])&&(n[r]=i[r])})}_applyBackdropOptions(n,i){this._backdropAttributes.forEach(r=>{am(i[r])&&(n[r]=i[r])})}_getContentRef(n,i,r,o){return i?i instanceof Co?this._createFromTemplateRef(i,r):ID(i)?this._createFromString(i):this._createFromComponent(n,i,r,o):new hm([])}_createFromTemplateRef(n,i){const o=n.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new hm([o.rootNodes],o)}_createFromString(n){const i=this._document.createTextNode(`${n}`);return new hm([[i]])}_createFromComponent(n,i,r,o){const s=xs.create({providers:[{provide:su,useValue:r}],parent:n}),a=yS(i,{environmentInjector:this._applicationRef.injector,elementInjector:s}),l=a.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new hm([[l]],a.hostView,a)}_setAriaHidden(n){const i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const i=()=>{const r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(n){return new(n||e)(Ft(Gf),Ft(xs),Ft(Qr),Ft(Bme),Ft(Lg),Ft(br))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ume=(()=>{class e{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return e.\u0275fac=function(n){return new(n||e)(Ft(nC))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),um=(()=>{class e{constructor(n,i,r){this._injector=n,this._modalStack=i,this._config=r}open(n,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(n){return new(n||e)(Ft(xs),Ft(zme),Ft(Ume))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),r7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({providers:[um]}),e})(),l7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),g7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),y7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),_7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),b7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),x7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),w7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),C7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({}),e})();new jn("live announcer delay",{providedIn:"root",factory:function Jme(){return 100}});let M7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[Fa]}),e})(),P7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({}),e})();const ege=[B9,z9,V9,H9,e7,i7,r7,l7,P7,g7,y7,_7,b7,x7,w7,C7,M7];let tge=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[ege,B9,z9,V9,H9,e7,i7,r7,l7,P7,g7,y7,_7,b7,x7,w7,C7,M7]}),e})(),M0=(()=>{class e{constructor(n){this.http=n,this.getTestimonialData=i=>this.http.post(Et_backendUrl+"/api/home/viewtestimonial",i).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getAlltestimonial=i=>this.http.post(Et_backendUrl+"/api/home/alltestimonial",i).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getMatchDetails=i=>this.http.post(Et_backendUrl+"/api/match/frontview",i).pipe((0,Dr.K)(o=>(0,Vr._)(o)))}}return e.\u0275fac=function(n){return new(n||e)(Ft(ul))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),P0=(()=>{class e{constructor(n){this.http=n,this.getblogDetails=i=>this.http.post(Et_backendUrl+"/api/blog/viewblog",i).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getAllblog=i=>this.http.post(Et_backendUrl+"/api/blog/allblog",i).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getblogWithId=i=>this.http.post(Et_backendUrl+"/api/blog/blogdetail",i,{observe:"response"}).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getNextblogWithId=i=>this.http.post(Et_backendUrl+"/api/blog/nextblogdetail",i,{observe:"response"}).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getBlogWithString=i=>this.http.post(Et_backendUrl+"/api/blog/searchblog",i,{observe:"response"}).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getAllvideoBlog=i=>this.http.post(Et_backendUrl+"/api/blog/allvideoblog",i).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getTagDetails=i=>this.http.post(Et_backendUrl+"/api/blog/viewtag",i).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.getDownloadLink=i=>this.http.post(Et_backendUrl+"/api/home/download",i).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.addInvites=i=>this.http.post(Et_backendUrl+"/api/blog/addinvite",i).pipe((0,Dr.K)(o=>(0,Vr._)(o)))}}return e.\u0275fac=function(n){return new(n||e)(Ft(ul))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),pm=(()=>{class e{constructor(n){this.http=n,this.getAllProjects=i=>this.http.post(Et_backendUrl+"/api/project/listprojects",i).pipe((0,Dr.K)(o=>(0,Vr._)(o)))}}return e.\u0275fac=function(n){return new(n||e)(Ft(ul))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const nge=["myVideo"];function ige(e,t){if(1&e&&(x(0,"div",141)(1,"div",142)(2,"div",143)(3,"div",144),oe(4,"img",145),M()(),x(5,"div",146)(6,"div",147)(7,"p",148),E(8,"Hiral Krupesh . Founder & Creative Director . Carat Craft Jewellery"),M(),x(9,"h4",149),E(10,"I HIGHLY RECOMMEND PIXTAR IF YOU ARE LOOKING TO REVAMP AND ELEVATE YOUR BRAND"),M(),x(11,"p",150),E(12,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()(),x(13,"div",151)(14,"div",147)(15,"p",152),E(16,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()()()()),2&e){const n=Ze();se(4),xe("src","",n.baseUrl,"/img/home/hiral-story.png",ve)}}function rge(e,t){if(1&e&&(x(0,"div",141)(1,"div",142)(2,"div",143)(3,"div",144),oe(4,"img",153),M()(),x(5,"div",146)(6,"div",147)(7,"p",148),E(8,"Hiral Krupesh . Founder & Creative Director . Carat Craft Jewellery"),M(),x(9,"h4",149),E(10,"I HIGHLY RECOMMEND PIXTAR IF YOU ARE LOOKING TO REVAMP AND ELEVATE YOUR BRAND"),M(),x(11,"p",150),E(12,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()(),x(13,"div",151)(14,"div",147)(15,"p",152),E(16,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()()()()),2&e){const n=Ze();se(4),xe("src","",n.baseUrl,"/img/home/crystal-story.png",ve)}}const oge=function(e){return{width:e}};let GD=(()=>{class e{constructor(n,i,r,o,s,a,l,c,h,d,u,f){this.renderer=n,this._platformId=i,this.testimonialService=r,this.pageservice=o,this.metaTagService=s,this.titleService=a,this.blogService=l,this.formBuilder=c,this.http=h,this.projectservice=d,this.modalService=u,this.activeModal=f,this.limit=10,this.slides=[],this.recentslider=[],this.customOptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:3},400:{items:4},740:{items:8},940:{items:10}},nav:!1},this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:15e3,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.page=4,this.page1=5,this.invalidNumber=!1,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.submitted=!1,this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:"https://via.placeholder.com/600/92c952"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:"https://via.placeholder.com/600/771796"}],this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.reviews=[],this.reviewSlider={items:3,loop:!0,margin:20,autoplay:!0,slideTransition:"linear",autoplaySpeed:3e3,autoplayHoverPause:!0,responsive:{0:{items:1},480:{items:1},740:{items:2},991:{items:3}},dots:!1,nav:!1},this.starRating=4,this.instaLimit=9,this.instagramPost=[],this.searchText="",this.closeResult="",this.modalReference=null,this.customMediaSlider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,navSpeed:700,navText:['<i class="fas fa-arrow-left achprevious"></i>','<i class="fas fa-arrow-right achnext active"></i>'],margin:14,responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1},this.popupslider={loop:!0,autoplay:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:['<i class="fas fa-arrow-left achprevious"></i>','<i class="fas fa-arrow-right achnext active"></i>'],margin:14,responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!0},this.isPlaying=!0,this.sectionWidth=10,this.callback=(v,y)=>{y===google.maps.places.PlacesServiceStatus.OK&&(this.reviews=v.reviews.slice())},this.imagepath=Et_backendUrl+"/public/",this.baseUrl=Et_baseUrl+"/assets",this.get_PageMeta(),this.get_AllProjects(),this.getInstagramPosts(),this.slides.push({id:1,img:this.baseUrl+"/img/home/veritcal-images/1.jpg"},{id:2,img:this.baseUrl+"/img/home/veritcal-images/2.jpg"},{id:3,img:this.baseUrl+"/img/home/veritcal-images/3.jpg"},{id:4,img:this.baseUrl+"/img/home/veritcal-images/4.jpg"},{id:5,img:this.baseUrl+"/img/home/veritcal-images/5.jpg"},{id:6,img:this.baseUrl+"/img/home/veritcal-images/6.jpg"},{id:7,img:this.baseUrl+"/img/home/veritcal-images/7.jpg"},{id:8,img:this.baseUrl+"/img/home/veritcal-images/8.jpg"},{id:9,img:this.baseUrl+"/img/home/veritcal-images/9.jpg"},{id:10,img:this.baseUrl+"/img/home/veritcal-images/10.jpg"}),this.recentslider.push({id:1,img:this.baseUrl+"/img/home/beyou.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"},{id:2,img:this.baseUrl+"/img/home/cups.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"},{id:3,img:this.baseUrl+"/img/home/bcard22.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"},{id:4,img:this.baseUrl+"/img/home/vendetta2.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"})}onScroll(n){const i=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+i/10),this.spline&&this.spline.setZoom(1,1)}isWeekend(n){const i=new Date(n.year,n.month-1,n.day);return 0===i.getDay()||6===i.getDay()}isDisabled(n,i){return n.month!==i.month}ngOnInit(){this.fetch(),document.getElementsByClassName("form-control");let i=document.getElementsByClassName("input-group");for(let o=0;o<i.length;o++)i[o].children[0].addEventListener("focus",function(){i[o].classList.add("input-group-focus")}),i[o].children[0].addEventListener("blur",function(){i[o].classList.remove("input-group-focus")});$("li").removeClass("main-menu__item--active"),$("#home").addClass("main-menu__item--active"),window.scroll({top:0,left:0,behavior:"smooth"}),this.service=new google.maps.places.PlacesService(document.getElementById("googleReviews")),this.service.getDetails({placeId:"ChIJV7cSUslDXz4R9uz8yYTtshE",fields:["reviews"]},this.callback)}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(i=>{200==i.body.code&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}fetch(){this.http.get(`https://jsonplaceholder.typicode.com/albums/1/photos?_start=0&_limit=${this.limit}`).subscribe(r=>this.apiData=r,r=>(0,Vr._)(r))}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(i=>{200==i.code&&i.result&&i.result.length>0&&i.result.forEach(r=>{r.status&&this.allprojects.push(r)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}createRange(n){const i=[];for(let r=1;r<=n;r++)i.push(r);return i}getInstagramPosts(){this.pageservice.getInstagramPosts({limit:this.instaLimit}).subscribe(i=>{200==i.code&&(this.instagramPost=i.result,this.instagramProfile=i.profile)})}loadmorePost(){this.instaLimit=this.instaLimit+9,this.getInstagramPosts()}openCarasoulpopup(n,i){this.selectedMedia=i,"CAROUSEL_ALBUM"==i.media_type&&(this.modalReference=this.modalService.open(n,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`}))}openPopup(n){this.modalReference=this.modalService.open(n,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass-video",size:"lg",backdrop:"static"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}openMediaPopup(n,i){this.selectedMedia=i,this.modalReference=this.modalService.open(n,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(n){return n===za.ESC?"by pressing ESC":n===za.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${n}`}closeModal(){this.activeModal.close()}makeLinksClickable(n){if(n){let i=n.split("\n");return i=i.map(r=>(r.includes("#")&&(r=r.split(" ").map(s=>`<a href="https://instagram.com/explore/tags/${s.split("#")[1]}" target="_blank">${s}</a>`).join("")),r)),i.map(r=>`${r}</br>`).join("")}}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(n){let r=this.allprojects[n].project_images,o=this.imagepath,s=document.getElementsByClassName("galleryimg"+n);this.sliderInterval=setInterval(()=>{$(s).each(function(a){let l=r[(a+Math.floor(Math.random()*r.length))%r.length];$(s).attr("src",o+l)})},900)}ngAfterViewInit(){const n=this.videoElement.nativeElement;n.muted=!0,n.loop=!0,n.play().catch(i=>{console.log("Autoplay failed, user interaction may be required:",i)})}playInFullscreenWithAudio(){const n=this.videoElement.nativeElement;n.muted=!1,n.loop=!0,n.removeAttribute("controls"),n.play().then(()=>{n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen&&n.mozRequestFullScreen()}).catch(i=>{console.log("Error entering fullscreen with audio: ",i)})}onFullscreenChange(){const n=this.videoElement.nativeElement;document.fullscreenElement===n||document.webkitFullscreenElement===n||document.msFullscreenElement===n||document.mozFullScreenElement===n?n.play().catch(i=>{console.log("Could not play in fullscreen mode:",i)}):(n.setAttribute("controls",""),n.muted=!0)}}return e.\u0275fac=function(n){return new(n||e)(Me(rs),Me(hc),Me(M0),Me(xc),Me(cl),Me(dl),Me(P0),Me(tm),Me(ul),Me(pm),Me(um),Me(su))},e.\u0275cmp=Yn({type:e,selectors:[["app-home"]],viewQuery:function(n,i){if(1&n&&dp(nge,5),2&n){let r;Sr(r=Er())&&(i.videoElement=r.first)}},hostBindings:function(n,i){1&n&&Ct("scroll",function(o){return i.onScroll(o)},0,Nf)("fullscreenchange",function(o){return i.onFullscreenChange(o)},!1,Ff)},decls:367,vars:31,consts:[[1,"cbanner","bannerbgcolor"],["id","canvas",1,"img-globe","floatimg"],[1,"container"],[1,"row"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","home#strategy",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo",3,"scroll"],[1,"container-fluid"],[1,"col-md-12","col-sm-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","strategy",1,"toppadding"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100","data-aos-once","true",1,"col-lg-7","col-md-6"],[1,"content","d-flex","flex-column","justify-content-center","h-100"],[1,"fontsize12","semibold"],[1,"heighlight"],[1,"position-relative","actn"],[1,"position-absolute","start-50"],["routerLink","/services",1,"cstbtn"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100","data-aos-once","true",1,"col-lg-5","col-md-6"],[1,"custom-collapse"],["id","accordionExample",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],["href","/about#services1","data-scroll-nav","0",1,"d-block","more","hover-underline-animation"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/about#services2","data-scroll-nav","1",1,"d-block","more","hover-underline-animation"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/about#services3","data-scroll-nav","2",1,"d-block","more","hover-underline-animation"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/about#services4","data-scroll-nav","3",1,"d-block","more","hover-underline-animation"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/about#services5","data-scroll-nav","4",1,"d-block","more","hover-underline-animation"],[1,"featuredvideo","m80"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"blocklist","section1"],[1,"col-md-12"],[1,"col","custom-col","mb-lg-5","mb-md-4","mb-4","wow","fadeInLeft"],["href","javascript:void(0)"],["alt","",1,"img-fluid",3,"src"],[1,"col","custom-col","mb-lg-5","mb-md-4","mb-4"],[1,"philosophy","position-relative"],[1,"content"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"fontsize12","semibold","linenormal"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"size90","mb-md-3","mb-sm-3","mb-2"],[1,"textcolor1"],[1,"custom-block"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-8","mbrem8"],[1,"size24","textcolor1"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-11","offset-lg-1","me-lg-0","col-md-11","col-sm-12","col-12","mx-md-auto"],[1,"imagecent","text-end"],["alt","",3,"src"],[1,"card","cardright"],["href","#",1,""],[1,"p1"],[1,"lufgalight"],[1,"cstcardright"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-11","ms-lg-0","col-md-11","col-sm-12","col-12","mx-md-auto"],[1,"imagecent"],[1,"card","cardleft"],[1,"cstcardleft"],[1,"mbrem5"],[1,"position-absolute","start-50","translate-middle","mbrem8"],["routerLink","/services",1,"cstbtn","cstbtn128"],[1,"text","text128"],[1,"success-story"],[1,"mask"],[1,"content","mbrem8"],[1,"size90"],[1,"d-block","textcolor1"],[1,"mrem55"],[3,"options"],["carouselSlide","",3,"id"],[1,"bannerdrk","creativity"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-10","m-auto"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-md-6","col-sm-6"],[1,"creative"],[1,"d-md-block","d-lg-block","d-xl-block","d-xxl-block","size90"],[1,"textcolor6"],[1,"textcolor7"],[1,"barcy"],[1,"d-block","size90"],[1,"d-flex","justify-content-center","align-items-center","h-100"],[1,"mb-0"],[1,"section","bannerdrk","faqsection"],[1,"col-md-10","col-sm-11","col-11","m-auto"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-4","col-md-6","col-sm-6"],[1,""],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"d-block"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed","brdtp"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","googleReviews",2,"display","none"],["id","reviews",2,"display","none"],["id","title"],["id","reviews"],[1,"col-md-9","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-lg-3","col-md-5","col-sm-5"],[1,"imgblk"],["alt","",1,"",3,"src"],[1,"col-lg-8","col-md-7","offset-lg-1","col-sm-7","mt-sm-0","mt-3"],[1,"slidecontent"],[1,"fontsize12","semibold","textcolor1"],[1,"size32","textcolor1","mt-0","mb30"],[1,"size18","textcolor3","d-md-block","d-sm-none","d-none"],[1,"col-md-12","d-md-none","d-sm-block","d-block","mt-sm-4","mt-3"],[1,"size18","textcolor3"],["alt","",1,"mx-auto",3,"src"]],template:function(n,i){1&n&&(x(0,"section",0),oe(1,"canvas",1),x(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),E(9,"Pixtar is a Branding"),M(),x(10,"h1",8),E(11,"And Web Development"),M(),x(12,"h1",8),E(13,"Studio in "),x(14,"span",9),E(15,"Dubai"),M()()()()(),x(16,"div",10)(17,"ul",11)(18,"li")(19,"a",12),oe(20,"img",13),M()(),x(21,"li")(22,"a",14),oe(23,"img",15),M()(),x(24,"li")(25,"a",16),oe(26,"img",13),M()(),x(27,"li")(28,"a",17),oe(29,"img",18),M()()(),x(30,"div",19)(31,"p"),E(32,"Building your business through "),M(),x(33,"p"),E(34,"creativity, is our business!"),M()()()()(),x(35,"div",20)(36,"p")(37,"a",21)(38,"span",22),E(39," See Our Work"),M(),x(40,"span",23),oe(41,"i",24),M()()()()()(),oe(42,"div",25),x(43,"section",26),Ct("scroll",function(o){return i.onScroll(o)},0,Nf),x(44,"div",27)(45,"div",3)(46,"div",28)(47,"div",29)(48,"video",30,31),Ct("click",function(){return i.playInFullscreenWithAudio()}),oe(50,"source",32)(51,"source",33),E(52," Your browser does not support the video tag. "),M()()()()()(),x(53,"section",34)(54,"div",2)(55,"div",3)(56,"div",4)(57,"div",3)(58,"div",35)(59,"div",36)(60,"h6",37),E(61,"What We Offer"),M(),x(62,"p",38),E(63,"We don\u2019t just design\u2014we create harmony. With the precision of the golden ratio and the creativity of custom solutions, everything we craft is a one-of-a-kind masterpiece. "),M(),x(64,"div",39)(65,"div",40)(66,"p")(67,"a",41)(68,"span",22),E(69,"Explore Our Services"),M(),x(70,"span",23),oe(71,"i",24),M()()()()()()(),x(72,"div",42)(73,"div",43)(74,"div",44)(75,"div",45)(76,"h2",46)(77,"button",47),E(78," Branding/Re-branding "),M()(),x(79,"div",48)(80,"div",49),E(81," Whether it's a birth or an evolution of a brand, nothing stands out unless it has a soul. A brand today is all about how it makes your customers feel. It's not just a logo, visual identity, or website design. but rather a cohesive system that spans across all mediums and touchpoints. We're a brand design agency offering a complete solution from naming and logo design to communications and style guides. "),x(82,"a",50),E(83,"More"),M()()()(),x(84,"div",45)(85,"h2",51)(86,"button",52),E(87," Custom Websites "),M()(),x(88,"div",53)(89,"div",49),E(90," Custom Websites Description "),x(91,"a",54),E(92,"More"),M()()()(),x(93,"div",45)(94,"h2",55)(95,"button",56),E(96," eCommerce Solutions "),M()(),x(97,"div",57)(98,"div",49),E(99," We're a web design agency creating next-level eCommerce websites on Magento 2++ by strategically blending user experience and brand storytelling. Our web designers & developers create responsive websites that feel at home on any device. Product landing pages, marketing sites, or UX UI for company intranet portals - we do it all. "),x(100,"a",58),E(101,"More"),M()()()(),x(102,"div",45)(103,"h2",59)(104,"button",60),E(105," Web Application "),M()(),x(106,"div",61)(107,"div",49),E(108," We're a digital agency that design and develop web based applications to manage business and create remote accessibility to manage operations from any where and any device. "),x(109,"a",62),E(110,"More"),M()()()(),x(111,"div",45)(112,"h2",59)(113,"button",63),E(114," Graphic Design "),M()(),x(115,"div",64)(116,"div",49),E(117," Graphic Design Description "),x(118,"a",65),E(119,"More"),M()()()()()()()()()()()(),x(120,"section",66)(121,"div",2)(122,"div",67)(123,"div",68)(124,"h6",37),E(125,"OUR CLIENTS INCLUDE\u2026"),M(),x(126,"div",3),zr(127),x(128,"div",69)(129,"div",3)(130,"div",70)(131,"a",71),oe(132,"img",72),M()(),x(133,"div",73)(134,"a",71),oe(135,"img",72),M()(),x(136,"div",73)(137,"a",71),oe(138,"img",72),M()(),x(139,"div",73)(140,"a",71),oe(141,"img",72),M()(),x(142,"div",73)(143,"a",71),oe(144,"img",72),M()(),x(145,"div",73)(146,"a",71),oe(147,"img",72),M()(),x(148,"div",73)(149,"a",71),oe(150,"img",72),M()(),x(151,"div",73)(152,"a",71),oe(153,"img",72),M()(),x(154,"div",73)(155,"a",71),oe(156,"img",72),M()(),x(157,"div",73)(158,"a",71),oe(159,"img",72),M()(),x(160,"div",73)(161,"a",71),oe(162,"img",72),M()(),x(163,"div",73)(164,"a",71),oe(165,"img",72),M()(),x(166,"div",73)(167,"a",71),oe(168,"img",72),M()(),x(169,"div",73)(170,"a",71),oe(171,"img",72),M()()()(),Ur(),M()()()()(),x(172,"section",74)(173,"div",2)(174,"div",3)(175,"div",4)(176,"div",75)(177,"p",76),E(178,"Our Philosophy"),M(),x(179,"h1",77)(180,"span",78),E(181,"Beauty, Balance, "),M(),x(182,"span",9),E(183,"And "),M(),x(184,"span",79),E(185," Custom Craftsmanship "),M()(),x(186,"div",3)(187,"div",80)(188,"p",81),E(189,"At Pixtar, we believe that design isn\u2019t just about aesthetics\u2014it\u2019s about creating balance, impact, and authenticity. Every project we deliver is built from the ground up with no templates\u2014because your business deserves nothing less than original."),M()(),x(190,"div",82)(191,"div",83),oe(192,"img",84),x(193,"div",85)(194,"a",86)(195,"div",22)(196,"p",87),E(197,"Miniaar Bridal & Couture"),M(),x(198,"p",88),E(199,"Branding & e-Commerce Website"),M()(),x(200,"div",89)(201,"span",23),oe(202,"i",24),M()()()()()(),x(203,"div",90)(204,"div",91),oe(205,"img",84),x(206,"div",92)(207,"a",86)(208,"div",22)(209,"p",87),E(210,"D\u2019NOUR Dubai"),M(),x(211,"p",88),E(212,"Branding & eCommerce Website"),M()(),x(213,"div",93)(214,"span",23),oe(215,"i",24),M()()()()()(),x(216,"div",82)(217,"div",83),oe(218,"img",84),x(219,"div",85)(220,"a",86)(221,"div",22)(222,"p",87),E(223,"Space X Fitness"),M(),x(224,"p",88),E(225,"Branding And Website"),M()(),x(226,"div",89)(227,"span",23),oe(228,"i",24),M()()()()()(),x(229,"div",90)(230,"div",91),oe(231,"img",84),x(232,"div",92)(233,"a",86)(234,"div",22)(235,"p",87),E(236,"Pakhi\u2019s Handhwash"),M(),x(237,"p",88),E(238,"Branding & Packaging"),M()(),x(239,"div",93)(240,"span",23),oe(241,"i",24),M()()()()()()()()()(),x(242,"div",94)(243,"div",95)(244,"p")(245,"a",96)(246,"span",97),E(247," Explore All Work"),M(),x(248,"span",23),oe(249,"i",24),M()()()()()()(),x(250,"section",98)(251,"div",99),oe(252,"img",84),M(),x(253,"div",2)(254,"div",3)(255,"div",67)(256,"div",100)(257,"p",37),E(258,"Client Success Stories"),M(),x(259,"h1",101),E(260,"And our "),x(261,"span",9),E(262,"Creativity "),M(),x(263,"span",102),E(264," Inspired by your story "),M()()(),x(265,"div",103)(266,"owl-carousel-o",104),zr(267),tt(268,ige,17,1,"ng-template",105),tt(269,rge,17,1,"ng-template",105),Ur(),M()()()()()(),x(270,"section",106)(271,"div",2)(272,"div",3)(273,"div",107)(274,"div",3)(275,"div",108)(276,"div",109)(277,"p",37),E(278,"Our Promise"),M(),x(279,"h1",110)(280,"span",111),E(281," We "),M(),x(282,"span",112),E(283," Go "),M(),x(284,"span",113),E(285,"Beyond "),M()(),x(286,"h1",114),E(287,"The Limits"),oe(288,"br"),E(289,"For You "),M()()(),x(290,"div",108)(291,"div",115)(292,"p",116),E(293,"Design is only part of what we do. We partner with you to solve problems, meet challenges, and grow together\u2014always with 100% transparency and trust."),M()()()()()()()(),x(294,"section",117)(295,"div",2)(296,"div",3)(297,"div",118)(298,"div",3)(299,"div",119)(300,"div",109)(301,"h1",120),E(302," What "),oe(303,"br"),E(304," makes Pixtar "),oe(305,"br"),E(306," Special? "),oe(307,"br"),x(308,"span"),E(309," And other FAQs\u2026 "),M()()()(),x(310,"div",121)(311,"div",122)(312,"div",123)(313,"div",124)(314,"div",45)(315,"h2",46)(316,"button",125),E(317," Alright, no secrets \u2013 what makes Pixtar stand out? "),M()(),x(318,"div",126)(319,"div",49),E(320," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),M()()(),x(321,"div",45)(322,"h2",51)(323,"button",127),E(324," Where are you based? "),M()(),x(325,"div",128)(326,"div",49),E(327," Virtually, next door! We\u2019re proudly based in Dubai, UAE, but our team collaborates with clients worldwide, making distance no barrier to outstanding design! Our business hours are 9 am\u20136 pm GST / 1 am\u201310 am EST / 10 pm\u20137 am PST. But with our early-rising CEO and night-owl CTO, we\u2019re always able to sync up with clients from LA all the way to Australia\u2014and all the lovely places in between. "),M()()(),x(328,"div",45)(329,"h2",55)(330,"button",52),E(331," How are you different from a freelance designer? "),M()(),x(332,"div",129)(333,"div",49),E(334," At Pixtar, you get the expertise of an entire team, not just one individual. We bring together specialized skills in design, strategy, and development, providing a more comprehensive approach and smoother project delivery. "),M()()(),x(335,"div",45)(336,"h2",59)(337,"button",130),E(338," What other design magic do you offer? "),M()(),x(339,"div",131)(340,"div",49),E(341," Besides website design, we specialize in branding, UI/UX design, graphic design, and digital marketing assets. Whatever your design needs, Pixtar has the creative solution. "),M()()(),x(342,"div",45)(343,"h2",59)(344,"button",60),E(345," Who do you usually work with? "),M()(),x(346,"div",132)(347,"div",49),E(348," We collaborate with businesses of all sizes\u2014from startups to established brands\u2014across a range of industries, including Lifestyle, healthcare, technology, real estate, and more. "),M()()(),x(349,"div",45)(350,"h2",59)(351,"button",133),E(352," Which platforms do you use for building websites? "),M()(),x(353,"div",134)(354,"div",49),E(355," We work with popular platforms like Angular, Node.js, React, Shopify, Magento and Webflow, ensuring you get a website that\u2019s not only beautiful but also easy to manage and scalable. "),M()()(),x(356,"div",45)(357,"h2",59)(358,"button",135),E(359," I\u2019m in! When can we get started? "),M()(),x(360,"div",136)(361,"div",49),E(362," We\u2019re thrilled to have you onboard! Just reach out through our contact page, and we\u2019ll set up a kickoff meeting to dive into your project. "),M()()()()()()()()()()()(),oe(363,"div",137),x(364,"section",138),oe(365,"div",139)(366,"div",140),M()),2&n&&(se(20),xe("src","",i.baseUrl,"/img/home/social-media/instagram.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/facebook.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/linkedin.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/whatsapp.svg",ve),se(17),$e("ngStyle",al(29,oge,i.sectionWidth+"%")),se(4),xe("src","",i.baseUrl,"/pixtar logo animation 6.MP4",ve),se(1),xe("src","",i.baseUrl,"/pixtar logo animation 6.MP4",ve),se(81),xe("src","",i.baseUrl,"/img/home/logos/dnour.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/crystal.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/miniaar.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/bni.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/angle.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/pakhis.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/drminnie.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/veddentta.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/autokoorosh.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/fractal.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/corporate.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/aetrio.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/wrae.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/beyou.svg",ve),se(21),xe("src","",i.baseUrl,"/img/home/services/miniaar-service.jpg",ve),se(13),xe("src","",i.baseUrl,"/img/home/services/dnour-service.jpg",ve),se(13),xe("src","",i.baseUrl,"/img/home/services/spacex-service.jpg",ve),se(13),xe("src","",i.baseUrl,"/img/home/services/pakhis-service.jpg",ve),se(21),xe("src","",i.baseUrl,"/img/home/pixtar-mask.svg",ve),se(14),$e("options",i.desktopslider),se(2),$e("id",i.baseUrl),se(1),$e("id",i.baseUrl))},dependencies:[Yf,_c,Zd,bc],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}body[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.h1[_ngcontent-%COMP%]{color:#101010;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{color:#de9b7a}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]{background-size:50%;background-position:100% 103%}}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:2%;top:26%;width:400px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:3%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:2%;width:230px;top:30%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:100%;top:95px;opacity:.5;object-fit:cover;left:0;right:0}}@keyframes float{0%{transform:translatey(0)}50%{transform:translatey(-20px)}to{transform:translatey(0)}}.cbanner[_ngcontent-%COMP%]   .floatimg[_ngcontent-%COMP%]{transform:translatey(0);animation:float 6s ease-in-out infinite}.logotext[_ngcontent-%COMP%]{position:relative;top:5px;left:-24px;font-weight:700;color:#000}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#101010}@media (max-width: 1440px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 1024px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 480px){.banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.banner[_ngcontent-%COMP%]{width:100%}}.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}@font-face{font-family:barcelony;src:local("barcelony"),url(barcelony.68e366dc7c859cc4.ttf) format("truetype")}.barcely[_ngcontent-%COMP%]{font-family:barcelony}.banner-left-content[_ngcontent-%COMP%]{display:flex;width:393px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-4rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:32px;font-weight:400}@media (max-width: 1199px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:normal}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:3rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.down-arrow[_ngcontent-%COMP%]{bottom:13%}}@media (max-width: 767px){.down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.custom-collapse[_ngcontent-%COMP%]{padding:20px;overflow:hidden;border-radius:30px}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]{padding:10px}}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:20px}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#1d1d1f}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]:hover{color:#de9b7a}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-bottom:1px solid #dadade;border-radius:0;font-size:28px;color:#de9b7a;font-weight:500;display:flex;align-items:center}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#de9b7a}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#de9b7a;outline:none}@media (max-width: 1366px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{margin-top:10px;color:#dadade}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#1d1d1f;font-size:16px;font-weight:400}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.custom-collapse[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]{display:inline-block;position:relative;color:#0087ca}.custom-collapse[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:#101010;transform-origin:bottom right;transition:transform .25s ease-out;background-image:none!important}.custom-collapse[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}.toppadding[_ngcontent-%COMP%]{padding-top:80px}@media (max-width: 991px){.toppadding[_ngcontent-%COMP%]{padding-top:30px}}.imgblock[_ngcontent-%COMP%]{padding:10px 30px}@media (max-width: 1024px){.imgblock[_ngcontent-%COMP%]{padding:10px 0}}.imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.imgblock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e5e5e3;font-size:26px}@media (max-width: 1366px){.imgblock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}.imgblock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#878787;font-weight:400}.hard-work[_ngcontent-%COMP%]{margin:0;padding:50px 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;color:#878787;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:30px 10px 30px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.creativity[_ngcontent-%COMP%]{padding:80px 0;border-radius:50px 50px 0 0}.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:65px;margin-top:0;line-height:1.2}.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a;font-weight:300;line-height:1.8}@media (max-width: 1366px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:55px}}@media (max-width: 1024px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 991px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 575px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:24px}@media (max-width: 1366px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 575px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 1366px){.creativity[_ngcontent-%COMP%]{padding:200px 0}}@media (max-width: 767px){.creativity[_ngcontent-%COMP%]{padding:150px 0}}@media (max-width: 575px){.creativity[_ngcontent-%COMP%]{padding:50px 20px}}.story[_ngcontent-%COMP%]   .customslider[_ngcontent-%COMP%]     .owl-carousel.owl-drag .owl-item:nth-child(odd){margin-top:0!important}.story[_ngcontent-%COMP%]   .customslider[_ngcontent-%COMP%]     .owl-carousel.owl-drag .owl-item.active:nth-child(3n+4){margin-top:60px!important}.story[_ngcontent-%COMP%]   .customslider[_ngcontent-%COMP%]     .owl-carousel.owl-drag .owl-item:nth-child(even){margin-top:20px!important}.story[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:300px 0}@media (max-width: 1366px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:200px 0}}@media (max-width: 767px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:150px 10px}}@media (max-width: 575px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:80px 10px}}.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px;font-weight:600;color:#000}.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:barcelony,sans-serif;font-weight:100;color:#da9777}@media (max-width: 1366px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 1024px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 991px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 575px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 480px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}  .story .owl-carousel .owl-item:nth-child(2) img{margin-top:30px}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p.heighlight[_ngcontent-%COMP%]{font-size:24px;font-weight:400;color:#101010;line-height:2;padding-right:15px}@media (max-width: 1366px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p.heighlight[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p.heighlight[_ngcontent-%COMP%]{line-height:1.5;padding-right:0}}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]{margin:15px 0}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{text-decoration:none;color:#000;border:2px solid #000;text-align:center;padding:3px 40px;margin-top:20px;border-radius:30px;font-weight:700;font-size:20px}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]:hover{background:#000;color:#de9b7a;border-color:#000}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]:focus{border-color:#000;background:#000;color:#de9b7a}@media (max-width: 1366px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{font-size:20px;padding:3px 40px}}@media (max-width: 1024px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{font-size:18px;padding:3px 30px}}@media (max-width: 991px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 767px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]{margin:15px 0 30px;text-align:center}}@media (max-width: 767px){#strategy[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}}#strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{margin-top:15px;background:-webkit-linear-gradient(#101010,rgba(0,0,0,.6705882353));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none;font-weight:700;cursor:pointer;width:55px;font-size:20px}#strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]:hover, #strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]:focus, #strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]:active{background:-webkit-linear-gradient(#d16a4c,#e8a18d);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.talk[_ngcontent-%COMP%]{padding-bottom:0}.talk[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{border:2px solid #e1a181;display:flex;width:100px;height:100px;text-align:center;justify-content:center;margin:0 auto;border-radius:50px;color:#fff;text-decoration:none;font-size:28px;font-weight:700;align-items:center;cursor:pointer}.talk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:32px}.talk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:#fff;border-bottom:1px solid}.talk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a;border-bottom:1px solid}@media (max-width: 991px){.talk[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%}}@media (orientation: landscape) and (max-width: 991px){.h1[_ngcontent-%COMP%]{font-size:38px}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010;padding:80px 0}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px;padding:50px 0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 575px){.head[_ngcontent-%COMP%]{padding:30px 0}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:-8px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px;top:3px}}@media (max-width: 767px){.head[_ngcontent-%COMP%]:before{left:-5px}}.tutorial_link[_ngcontent-%COMP%]{display:none!important}.review-section[_ngcontent-%COMP%]{background-color:#000}.review-section[_ngcontent-%COMP%]   .tutorial_link[_ngcontent-%COMP%]{display:none!important}.review-section[_ngcontent-%COMP%]     .sk_branding a{display:none!important}.sk-ww-google-reviews[_ngcontent-%COMP%]{background-color:#000!important}.sk_branding[_ngcontent-%COMP%]{display:none!important}  .sk-instagram-feed .sk-ig-load-more-posts{border:2px solid #e1a181!important;display:flex!important;width:102px!important;height:100px!important;text-align:center!important;justify-content:center;margin:30px auto 0!important;border-radius:50px!important;color:#fff;text-decoration:none!important;font-size:28px;font-weight:900;align-items:center;cursor:pointer;padding:30px 8px!important}.insta-section[_ngcontent-%COMP%]     .sk-instagram-feed .sk-ig-load-more-posts{height:102px!important;background:transparent!important;border-radius:70px!important}.insta-section[_ngcontent-%COMP%]     .sk-instagram-feed .sk-ig-load-more-posts:hover{padding:30px 8px!important;background:#e1a181!important;color:#fff!important}.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:73%;margin:0 auto;border-top:1px solid rgb(219,219,219)!important;padding:20px 0 0!important}@media (max-width: 1399px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:77%}}@media (max-width: 1199px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:90%}}@media (max-width: 991px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:100%}}@media (max-width: 767px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:101%}}.review-head[_ngcontent-%COMP%]{font-weight:700;color:#fff;padding:80px 0}@media (max-width: 1199px){.review-head[_ngcontent-%COMP%]{font-size:28px;padding:50px 0}}@media (max-width: 991px){.review-head[_ngcontent-%COMP%]{font-size:24px;padding:30px 0}}@media (max-width: 767px){.review-head[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}.review-head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.review-head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.review-head[_ngcontent-%COMP%]:before{height:24px;width:4px;top:3px}}@media (max-width: 767px){.insta-section[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.insta-section[_ngcontent-%COMP%]     .sk_branding a{display:none!important}.review-section[_ngcontent-%COMP%]   .review-shortdecs[_ngcontent-%COMP%]{overflow:hidden}.review-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.review-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important}.review-section[_ngcontent-%COMP%]     .owl-item{background-color:#1c1c27;padding:30px}.review-section[_ngcontent-%COMP%]   .coloractive[_ngcontent-%COMP%]{color:#de9b7a;font-size:24px}.review-section[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]{display:flex;border:none!important;background-color:transparent!important;color:#ac9375}.review-section[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]:hover{color:#fff}.review-section[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:5px}.review-section[_ngcontent-%COMP%]   .cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}.review-section[_ngcontent-%COMP%]   .box-name[_ngcontent-%COMP%]{height:250px;overflow:hidden;overflow-y:scroll}.review-section[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#de9b7a}.review-section[_ngcontent-%COMP%]   .nameheight[_ngcontent-%COMP%]{height:68px}  .sk-ig-profile-counts{display:flex;justify-content:space-between;width:80%;margin:15px 0}@media (max-width: 1199px){  .sk-ig-profile-counts{width:80%}}@media (max-width: 991px){  .sk-ig-profile-counts{width:100%}}  .sk-ig-profile-bio-container b{display:none}  .sk-ig-profile-bio-container .sk-ig-profile-bio.linked{display:block}  .sk-instagram-profile-pic{width:150px!important;height:150px!important;background-size:150px 150px!important;margin:0 100px 0 0!important}@media (max-width: 1024px){  .sk-instagram-profile-pic{margin:0 80px 0 0!important}}@media (max-width: 991px){  .sk-instagram-profile-pic{width:120px!important;height:120px!important;background-size:120px 120px!important;margin:0 50px 0 0!important}}  .sk-ig-profile-info{width:50%!important}@media (max-width: 1199px){  .sk-ig-profile-info{width:60%!important}}@media (max-width: 991px){  .sk-ig-profile-info{width:100%!important}}  .white-popup{height:96vh!important}  .white-popup>div{height:100%!important}  .ig_media{height:95vh!important}  .instagram-user-root-container{display:flex;justify-content:center;align-items:center;padding-bottom:80px!important;margin-bottom:30px!important}@media (max-width: 991px){  .instagram-user-root-container{padding-bottom:50px!important}}@media (max-width: 767px){  .instagram-user-root-container{padding-left:0!important;padding-right:0!important}}@media (max-width: 480px){  .instagram-user-root-container{display:block}}  button.instagram-user-container{background-color:#efefef!important;border-color:#efefef!important}  button.instagram-user-container:hover{background-color:#dbdbdb!important;border-color:#dbdbdb!important}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{padding-right:56px}@media (max-width: 991px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{padding-right:30px}}@media (max-width: 767px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{padding-right:0}}@media (max-width: 575px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{text-align:center}}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#444!important}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#333;background-color:#efefef!important;border-color:#efefef!important;font-weight:400}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#dbdbdb!important;border-color:#dbdbdb!important}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .csmargin[_ngcontent-%COMP%]{margin:15px 0}@media (max-width: 575px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .csmargin[_ngcontent-%COMP%]{justify-content:center}}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .csdflx[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#444!important;text-decoration:none!important}.instagram-profile[_ngcontent-%COMP%]   .profileblock[_ngcontent-%COMP%]{padding-bottom:80px;margin-bottom:30px}@media (max-width: 991px){.instagram-profile[_ngcontent-%COMP%]   .profileblock[_ngcontent-%COMP%]{padding-bottom:50px}}.instagram-profile[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{object-fit:cover;width:-webkit-fill-available;border-radius:8px}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]{flex-grow:1;width:32%;height:255px}@media (max-width: 767px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]{width:40%;height:auto}}@media (max-width: 380px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]{width:100%;height:255px}}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{cursor:pointer;background-color:#00000080;margin:0;padding:0;display:inline-block;position:absolute;top:5px;right:5px;border-radius:50%;width:30px;height:30px;text-align:center}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   span.fa-play-circle[_ngcontent-%COMP%]{font-size:30px;color:#fff}@media (max-width: 480px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   img.post-image[_ngcontent-%COMP%]{height:165px}}@media (max-width: 380px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   img.post-image[_ngcontent-%COMP%]{height:100%}}.instagram-profile[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:83%;background-color:#dbdbdb;height:1px;margin:0 auto}@media (max-width: 991px){.instagram-profile[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:90%}}@media (max-width: 767px){.instagram-profile[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%}}  .myCustomModalClass-video .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}  .myCustomModalClass-video .modal-dialog.modal-lg .modal-content{background:#000}@media (max-width: 1920px){  .myCustomModalClass-video .modal-dialog.modal-lg{--bs-modal-width: 90% !important;margin:0 auto}}@media (min-width: 992px){  .myCustomModalClass-video .modal-dialog.modal-lg{--bs-modal-width: 100%;margin:0 auto}}@media (max-width: 1280px){  .myCustomModalClass-video .modal-dialog.modal-lg{max-width:100%}}  .myCustomModalClass-video .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass-video .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass-video .btn{background-color:transparent!important;border:none!important;color:#444!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass-video .btn:hover{color:#ffffff80!important}@media (max-width: 991px){  .myCustomModalClass-video .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass-video .btn{top:-6px;right:6px}}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#444!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#ffffff80!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:100%}@media (max-width: 480px){  video{width:100%}}  .modal-body{padding:10px}.cstheight[_ngcontent-%COMP%]{min-height:300px;position:relative;display:block}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{min-height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.custom-col[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;text-align:center}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:15px;transition:all .5s;cursor:default!important}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:gray}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:57px;cursor:default!important}@media (max-width: 1199px){.custom-col[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%}}@media (max-width: 768px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media (max-width: 576px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1650px){.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:90px}}@media (max-width: 1366px){.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:1.2}}.philosophy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:52px}@media (max-width: 1366px){.philosophy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:42px}}@media (max-width: 1280px){.philosophy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:32px}}.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]{position:relative;margin-bottom:8rem;z-index:1}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]{margin-bottom:5rem}}@media (max-width: 1199px){.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:87%}}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:left;padding:35px 124px 35px 40px;width:390px;border-radius:80px;position:absolute;bottom:8%;right:6%;box-shadow:-7px 6px 20px #00000029;cursor:pointer;transition:all .4s ease-in}@media (max-width: 1399px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{right:0}}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{right:0;left:0;margin:0 auto;bottom:-10%;width:280px;height:85px;padding:13px 80px 13px 20px}}@media (max-width: 480px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{width:90%}}@media (max-width: 380px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{width:100%}}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]:hover{background-color:#000;box-shadow:none}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;text-decoration:none}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:50px;width:50px}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{font-weight:600;font-family:Montserrat,sans-serif!important}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:left;padding:35px 124px 35px 40px;width:390px;border-radius:80px;position:absolute;bottom:8%;left:21%;box-shadow:-7px 6px 20px #00000029;cursor:pointer;transition:all .4s ease-in}@media (max-width: 1399px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{left:0}}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{left:0;right:0;bottom:-10%;margin:0 auto;width:280px;height:85px;padding:13px 80px 13px 20px}}@media (max-width: 480px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{width:90%}}@media (max-width: 380px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{width:100%}}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]:hover{background-color:#000;box-shadow:none}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;text-decoration:none}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:50px;width:50px}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{font-weight:600;font-family:Montserrat,sans-serif!important}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]{text-align:left;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:50px;position:absolute;right:16%;top:50%}.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.2s all ease-in-out}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}}.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#e5a381,#a9644b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8px}.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]{text-align:left;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:50px;position:absolute;right:16%;top:50%}.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.2s all ease-in-out}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}}.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#e5a381,#a9644b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8px}.philosophy[_ngcontent-%COMP%]   .text128[_ngcontent-%COMP%]{width:128px;transition:.5s all ease-in-out}.philosophy[_ngcontent-%COMP%]   .cstbtn128[_ngcontent-%COMP%]:hover   .text128[_ngcontent-%COMP%]{width:140px;letter-spacing:1px}.philosophy[_ngcontent-%COMP%]   .custom-block[_ngcontent-%COMP%]{display:block}@media (max-width: 480px){.philosophy[_ngcontent-%COMP%]   .custom-block[_ngcontent-%COMP%]{display:inline}}.philosophy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;z-index:1}.philosophy[_ngcontent-%COMP%]   .position-absolute.start-50.translate-middle.mbrem8[_ngcontent-%COMP%]{z-index:1}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777}.mask[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;width:35%;bottom:-14rem}@media (max-width: 991px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:-12rem}}@media (max-width: 767px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:-10rem;width:60%}}@media (max-width: 600px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:-8.5rem;width:75%}}@media (max-width: 480px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:0;width:100%}}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]:hover{outline:none;color:#fff!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#fff!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#fff!important;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:52px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 1024px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.start-50[_ngcontent-%COMP%]{left:55%!important}}@media (max-width: 480px){.start-50[_ngcontent-%COMP%]{left:60%!important}}.position-relative.actn[_ngcontent-%COMP%]{margin:5rem auto 0 10rem!important}@media (max-width: 991px){.position-relative.actn[_ngcontent-%COMP%]{margin:3rem auto 0 10rem!important}}@media (max-width: 767px){.position-relative.actn[_ngcontent-%COMP%]{margin:3rem auto 3rem 10rem!important}}.position-relative.actn[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:155px}']}),e})(),sge=(()=>{class e{constructor(n,i,r){this.pageservice=n,this.metaTagService=i,this.titleService=r,this.get_PageMeta(),this.baseUrl=Et_baseUrl+"/assets"}ngOnInit(){window.scroll(0,0),window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"process"}).subscribe(i=>{200==i.body.code&&i.body.result&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}}return e.\u0275fac=function(n){return new(n||e)(Me(xc),Me(cl),Me(dl))},e.\u0275cmp=Yn({type:e,selectors:[["app-process"]],decls:90,vars:6,consts:[[1,"container","container"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-start","h-100"],[1,"mblwd"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","h1","size90"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","200",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","h1","size90"],[1,"barcelony","text-color"],[1,"text-color"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","300",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","h1","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","300",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","400",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","500",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],[1,"position-absolute","banner-left-content"],[1,"pb-0"],[1,"container-md","container-fluid-sm"],[1,"col-lg-10","offset-lg-1"],[1,"img-block","d-flex","justify-content-center"],["alt","",3,"src"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"content","d-flex","flex-column","position-absolute","startl-31"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"content","d-flex","flex-column","position-absolute","startr-31"],[1,"img-block","d-flex","flex-row","justify-content-center"],[1,"help-block"],["alt","","height","70",3,"src"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"d-flex","flex-column","justify-content-center","align-items-center","cstpadding"],[1,"mb-0","p40"],[1,"mt-0","p90"],[1,"line"]],template:function(n,i){1&n&&(x(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),E(7," Creativity.Identity."),M(),x(8,"h1",6),E(9," Visual."),x(10,"span",7),E(11,"Soul"),M(),x(12,"span",8),E(13,"."),M(),E(14,"Brand."),M(),x(15,"h1",9),E(16," Customer "),M(),x(17,"h1",10),E(18," Creativity."),M(),x(19,"h1",11),E(20," Identity."),M(),x(21,"h1",12),E(22," Visual."),x(23,"span",7),E(24,"Soul"),M(),x(25,"span",8),E(26,"."),M()(),x(27,"h1",13),E(28,"Brand."),M(),x(29,"h1",14),E(30," Customer "),M()()()(),x(31,"div",15)(32,"p"),E(33,"Whether it's a birth or an evolution of a brand, "),M(),x(34,"p"),E(35,"nothing stands out unless it has a soul."),M()()()()(),x(36,"section",16)(37,"div",17)(38,"div",18)(39,"div",19),oe(40,"img",20),x(41,"div",21)(42,"h1"),E(43,"Research"),M(),x(44,"p"),E(45,"We start every project by reviewing and analyzing industry Competitor, relevant projects and sustainable references. Feedback to the client for continual input for both parties."),M()()(),x(46,"div",19)(47,"div",22)(48,"h1"),E(49,"Strategy"),M(),x(50,"p"),E(51,"Each project starts with a thorough investigation of the client's business, analysis of it's key features & definition of the optimal strategy for developing it."),M()(),oe(52,"img",20),M(),x(53,"div",19),oe(54,"img",20),x(55,"div",21)(56,"h1"),E(57,"Design"),M(),x(58,"p"),E(59,"Impeccable design can make or break a brand: we create detailed mood boards, wireframes and define user flows & then we experiment with the visuals using a style guide as the basis until we reach a fully responsive, flawless output."),M()()(),x(60,"div",19)(61,"div",22)(62,"h1"),E(63,"Development"),M(),x(64,"p"),E(65,"Once the decision is made in which direction to develop, a more refined concept will be presented to the client. We will also discuss in more detail print materials, online functions & features and applying a thorough 2-step QA process to our consistent coding process."),M()(),oe(66,"img",20),M(),x(67,"div",23),oe(68,"img",20),x(69,"div",21)(70,"h1"),E(71,"Delivery"),M(),x(72,"p"),E(73,"The final solution will be delivered, hitting the deadline. we like to develop a relationship with our clients and provide them an ongoing design service for this current project and more."),M()()()(),x(74,"div",24),oe(75,"img",25),x(76,"div",26)(77,"p",27),E(78,"Support"),M(),x(79,"h1",28),E(80,"We "),x(81,"span",7),E(82,"keep helping"),M(),E(83," you"),M(),x(84,"h1",28),E(85,"As long as "),x(86,"span",7),E(87,"you"),M(),E(88," need us"),M()()()()(),oe(89,"div",29)),2&n&&(se(40),xe("src","",i.baseUrl,"/img/about-us/pixtar-diagram-1-wiggle.gif",ve),se(12),xe("src","",i.baseUrl,"/img/about-us/pixtar-diagram-2.gif",ve),se(2),xe("src","",i.baseUrl,"/img/about-us/pixtar-diagram-3.gif",ve),se(12),xe("src","",i.baseUrl,"/img/about-us/pixtar-diagram-4.gif",ve),se(2),xe("src","",i.baseUrl,"/img/about-us/pixtar-diagram-5.gif",ve),se(7),xe("src","",i.baseUrl,"/img/about-us/white-down-arrow.svg",ve))},styles:['section[_ngcontent-%COMP%]{min-height:100vh;height:100%;background-color:#000}@media (max-width: 768px){section[_ngcontent-%COMP%]{background-size:100rem}}@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}@media (max-width: 480px){section[_ngcontent-%COMP%]{min-height:auto;padding-bottom:0}}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;color:#fff}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;color:#fff;line-height:normal;margin-bottom:0}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px}}@media (max-width: 480px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:86vh!important}}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{position:relative;top:-2px}section[_ngcontent-%COMP%]:before{content:"";width:4px;height:4px;background:#000;position:fixed;background:radial-gradient(ellipse at center,rgba(155,155,155,.2392156863) 0%,rgba(171,171,171,.231372549) 11%,transparent 9%,transparent 100%) 0px center repeat;width:100%;height:100%;background-size:10px 10px;outline:0;margin:0;box-sizing:border-box;z-index:0;mix-blend-mode:lighten;left:0;right:0}.barcelony[_ngcontent-%COMP%]{font-family:barcelony}.p40[_ngcontent-%COMP%]{font-weight:600;font-size:40px;color:#fff}@media (max-width: 1366px){.p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){.p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){.p40[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 575px){.p40[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 480px){.p40[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 385px){.p40[_ngcontent-%COMP%]{font-size:16px}}.p90[_ngcontent-%COMP%]{font-size:90px;font-weight:700;color:#fff}@media (max-width: 1366px){.p90[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 991px){.p90[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 767px){.p90[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 575px){.p90[_ngcontent-%COMP%]{font-size:34px}}@media (max-width: 480px){.p90[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 385px){.p90[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 385px){.p90[_ngcontent-%COMP%]{font-size:20px}}section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:35%}@media (max-width: 1440px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:24%}}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:28%}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:24%}}@media (max-width: 800px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:18%}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:16%}}@media (max-width: 575px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:20%}}section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:35%;text-align:right}@media (max-width: 1440px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:24%}}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:28%}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:24%}}@media (max-width: 800px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:18%}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:16%}}@media (max-width: 575px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:20%}}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:35%}@media (max-width: 1440px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:50%}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:50%}}@media (max-width: 800px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:60%}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:78%}}@media (max-width: 575px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:73%}}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;mix-blend-mode:lighten}.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px;font-weight:700;margin-bottom:20px}@media (max-width: 1366px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 1024px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin-top:0;margin-bottom:10px}}@media (max-width: 800px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}}@media (max-width: 600px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 480px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin-top:-10px;margin-bottom:0}}@media (max-width: 380px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px;margin-top:-28px}}.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}@media (max-width: 1366px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 1024px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 800px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 767px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 600px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 480px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}}.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.help-block[_ngcontent-%COMP%]{position:relative;display:block;margin-top:30px;text-align:center}.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}@media (max-width: 1199px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}}@media (max-width: 1024px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}}@media (max-width: 600px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}}@media (max-width: 480px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}@media (max-width: 380px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px}}.cstmenu[_ngcontent-%COMP%]{color:#fff}.cstpadding[_ngcontent-%COMP%]{padding:50px 0}@media (max-width: 767px){.cstpadding[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 600px){.cstpadding[_ngcontent-%COMP%]{padding:10px 0 20px}}.banner-left-content[_ngcontent-%COMP%]{bottom:3%;left:auto}@media (max-width: 767px){.banner-left-content[_ngcontent-%COMP%]{bottom:100px;left:auto;position:relative!important}}@media (max-width: 330px){.banner-left-content[_ngcontent-%COMP%]{bottom:60px}}.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin-bottom:0;line-height:normal}@media (max-width: 1199px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.banner-left-content[_ngcontent-%COMP%]   .text-color[_ngcontent-%COMP%]{color:#da9777;font-weight:600}.text-color[_ngcontent-%COMP%]{color:#da9777}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}']}),e})();function age(e,t){if(1&e&&(x(0,"a",19),oe(1,"img",20),M()),2&e){const n=Ze().$implicit,i=Ze().$implicit,r=Ze();dc("href",i.link,ve),se(1),$e("src",r.backendUrl+n,ve)}}function lge(e,t){if(1&e&&(zr(0),tt(1,age,2,2,"ng-template",18),Ur()),2&e){const n=t.$implicit;se(1),$e("id",n.id)}}function cge(e,t){if(1&e&&(x(0,"div",14)(1,"div",15)(2,"owl-carousel-o",16),tt(3,lge,2,1,"ng-container",17),M()()()),2&e){const n=t.$implicit,i=Ze();se(2),$e("options",i.customOptions),se(1),$e("ngForOf",n.project_images)}}function dge(e,t){if(1&e){const n=or();x(0,"a",27),Ct("click",function(){return Dn(n),Yt(Ze(2).loadMoreProjects())}),E(1,"More"),M()}}function hge(e,t){if(1&e&&(x(0,"div",10)(1,"div",21),tt(2,dge,2,0,"a",22),x(3,"div",23)(4,"h1",24)(5,"a",25),E(6,"Let's "),x(7,"span",26),E(8,"Talk"),M()()()()()()),2&e){const n=Ze();se(2),$e("ngIf",n.isactive)}}let uge=(()=>{class e{constructor(n,i,r,o){this.projectservice=n,this.pageservice=i,this.metaTagService=r,this.titleService=o,this.allprojects=[],this.currentPage=1,this.initialized=!1,this.currentLimit=6,this.totalRecord=0,this.filterdCategory=[],this.isactive=!0,this.isMorePrasent=!0,this.customOptions={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1e3,center:!0,dots:!1,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.get_PageMeta(),this.get_AllProjects(),this.baseUrl=Et_baseUrl+"/assets",this.backendUrl=Et_backendUrl+"/public/"}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"project"}).subscribe(i=>{200==i.body.code&&i.body.result&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(i=>{200==i.code&&i.result&&i.result.length>0&&(this.filterdCategory=[],this.allprojects=[],this.totalRecord=i.count,this.totalRecord<this.currentLimit&&(this.isMorePrasent=!1),i.result.forEach(r=>{r.status&&(this.allprojects.push(r),this.filterdCategory.push(r))}))})}getFilterProjects(n){"all"==n?(this.filterdCategory=this.allprojects,this.isactive=!0):(this.isactive=!1,this.allprojects&&this.allprojects.length>0&&(this.filterdCategory=[],this.allprojects.forEach(i=>{i.category&&i.category.length>0&&i.category.forEach(r=>{r.name==n&&this.filterdCategory.push(i)})})))}loadMoreProjects(){this.currentLimit=this.currentLimit+6,this.get_AllProjects()}}return e.\u0275fac=function(n){return new(n||e)(Me(pm),Me(xc),Me(cl),Me(dl))},e.\u0275cmp=Yn({type:e,selectors:[["app-projects"]],decls:26,vars:2,consts:[[1,"cst-tabs","p-0"],[1,"col-md-12"],[1,"col-xl-8","offset-xl-2","col-lg-10","offset-lg-1","col-md-10","offset-md-1"],["role","tablist",1,"nav","nav-pills"],[1,"nav-item"],["data-bs-toggle","pill",1,"nav-link","active",3,"click"],["data-bs-toggle","pill",1,"nav-link",3,"click"],[1,"tab-content"],["id","all",1,"tab-pane","active"],[1,"container"],[1,"row"],["class","col-lg-4 col-md-6",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"line"],[1,"col-lg-4","col-md-6"],["data-aos","fade-up","data-aos-once","true",1,"project-block"],[3,"options"],[4,"ngFor","ngForOf"],["class","slide","carouselSlide","",3,"id"],[3,"href"],[3,"src","alt","title"],[1,"co-md-12"],["class","more",3,"click",4,"ngIf"],[1,"linkblock"],[1,"mt-3","mb-3"],["routerLink","/contact"],[1,""],[1,"more",3,"click"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),Ct("click",function(){return i.getFilterProjects("all")}),E(6,"All"),M()(),x(7,"li",4)(8,"a",6),Ct("click",function(){return i.getFilterProjects("Branding")}),E(9,"Branding"),M()(),x(10,"li",4)(11,"a",6),Ct("click",function(){return i.getFilterProjects("UX/UI")}),E(12,"UX/UI"),M()(),x(13,"li",4)(14,"a",6),Ct("click",function(){return i.getFilterProjects("eCommerce")}),E(15,"eCommerce"),M()(),x(16,"li",4)(17,"a",6),Ct("click",function(){return i.getFilterProjects("SEO")}),E(18,"SEO"),M()()()(),x(19,"div",7)(20,"div",8)(21,"div",9)(22,"div",10),tt(23,cge,4,2,"div",11),tt(24,hge,9,1,"div",12),M()()()(),oe(25,"div",13),M()()),2&n&&(se(23),$e("ngForOf",i.filterdCategory),se(1),$e("ngIf",i.isMorePrasent))},dependencies:[pa,Us,_c,Zd,bc],styles:["section.cst-tabs[_ngcontent-%COMP%]{margin-top:15rem}@media (max-width: 480px){section.cst-tabs[_ngcontent-%COMP%]{margin-top:10rem}}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;justify-content:start}@media (max-width: 991px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]{justify-content:center}}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;color:#000;font-weight:400;font-size:32px;cursor:pointer}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{font-weight:600}@media (max-width: 1366px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 767px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:20px;padding:0 10px}}@media (max-width: 575px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 380px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:16px;padding:0 5px}}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:transparent;font-weight:600}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{background-color:#000;padding:50px}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]{margin:15px 0}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-right-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{cursor:pointer;border:2px solid #e1a181;display:flex;width:100px;height:100px;text-align:center;justify-content:center;margin:30px auto 0;border-radius:50px;color:#fff;text-decoration:none;font-size:28px;font-weight:700;align-items:center}@media (max-width: 1024px){section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{width:80px;height:80px;font-size:20px}}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:20px 20px 50px}.p32[_ngcontent-%COMP%]{font-size:32px;color:#e5e5e3;font-weight:700;margin-bottom:0}@media (max-width: 1366px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){.p32[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p32[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 767px){.p32[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 575px){.p32[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 380px){.p32[_ngcontent-%COMP%]{font-size:16px}}.p26[_ngcontent-%COMP%]{font-size:26px;color:#878787;font-weight:100}@media (max-width: 1366px){.p26[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 1199px){.p26[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.p26[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 575px){.p26[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 380px){.p26[_ngcontent-%COMP%]{font-size:14px}}.project-right-block[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:20px 20px 50px}.linkblock[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;text-align:center}.linkblock[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:#fff;border-bottom:1px solid}.linkblock[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a;border-bottom:1px solid}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}"]}),e})(),pge=(()=>{class e{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/dnour/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Et_baseUrl+"/assets",this.Url=Et_baseUrl}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-pakhis"]],decls:166,vars:17,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://www.pakhis.ae/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-pakhis","pb-5"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"content"],[1,"mb-5"],[1,"semibold","subheading","mb-1"],[1,"mb-0"],[1,"row","mt-5"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"heading","mb-2"],["id","branding","data-scroll-nav","3",1,"bg-pakhis","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["alt","envelop","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-pakhis","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100"],[1,"semibold","subheading"],["id","productdesign","data-scroll-nav","6",1,"bg-pakhis","package"],[1,"row","mb-4"],[1,"col-md-12","mb-5"],["alt","packaing2","width","","height","","data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"img1",3,"src"],[1,"col-md-12"],["alt","box","width","","height","","data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"img2",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],[1,"mb-md-4","mb-sm-3","mb-2"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"semibold","subheading","mb-3"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"container"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),E(9,"Pakhi's"),M(),x(10,"div",7)(11,"p"),E(12,"Pakhi\u2019s is a testament to the enchanting blend of heritage & modernity that the Middle East represents."),M(),x(13,"p")(14,"a",8),E(15,"Pakhis.ae"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),E(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),E(24,"Product Design"),M()(),x(25,"h3",15)(26,"a",13),E(27,"UI/UX Design"),M()()()()()()()()()(),x(28,"section",16)(29,"div",17)(30,"div",2)(31,"div",18),oe(32,"img",19),M()()()(),x(33,"section",20)(34,"div",1)(35,"div",2)(36,"div",21)(37,"div",22)(38,"p",23),E(39,'"Pakhi\'s" presents a luxurious and sustainable handwash collection inspired by the enchanting charm of the Middle East. Our handcrafted formulations are meticulously designed to unveil the secrets of nourished and rejuvenated skin. Each product embodies a unique blend of tradition, innovation, and care, providing an unparalleled sense of luxury to your everyday self-care routine. '),M(),x(40,"h3",24),E(41,"Project Objectives:"),M(),x(42,"p",25),E(43,"Creating an online platform for Pakhi's premium hand wash collection, emphasizing UAE's cultural and sensory aspects."),M(),x(44,"p",25),E(45," We aim to develop a user-friendly, mobile-responsive website for an enhanced online shopping experience."),M(),x(46,"p",25),E(47,"Furthermore, the platform will convey the brand's commitment to high quality, sustainability, and affordability."),M()(),x(48,"div",26)(49,"div",27)(50,"div",22)(51,"h1",28),E(52,"Branding"),M(),x(53,"p"),E(54,"In shaping the branding strategy for \"Pakhis,\" our approach involved a thorough exploration of the agency's identity. Through in-depth consultations and market analysis, we crafted a distinctive brand narrative and visual identity aligned with Pakhis' core values. The result is a sophisticated and resonant brand image, strategically positioned to leave a lasting impression on its audience. Our commitment to precision, creativity, and strategic thinking underscores the success of this collaborative endeavor, contributing to Pakhis' emergence as a distinguished entity within its industry"),M()()()()()()()(),x(55,"section",29)(56,"div",1)(57,"div",2)(58,"div",18)(59,"div",30),oe(60,"img",31),M()(),x(61,"div",32)(62,"div",2)(63,"div",33),oe(64,"img",31),M(),x(65,"div",34)(66,"div",35),oe(67,"img",36)(68,"img",37),M()()()()()()(),x(69,"section",38)(70,"div",1)(71,"div",2)(72,"div",3)(73,"div",39),oe(74,"img",40),x(75,"p",41),E(76,"The visual design of the website embodies the essence of luxury and the mystique of the Middle East."),M(),x(77,"h3",42),E(78,"Color Schemes:"),M(),x(79,"p"),E(80,"Rich and opulent color palettes reflective of the cultural richness of the Middle East."),M(),x(81,"h3",42),E(82,"Typography:"),M(),x(83,"p"),E(84,"Elegant and legible fonts to enhance readability and convey a sense of sophistication."),M(),x(85,"h3",42),E(86,"Imagery:"),M(),x(87,"p"),E(88,"High-quality, curated visuals showcasing the hand wash collection and the cultural inspiration behind each variant."),M()()()()()(),x(89,"section",43)(90,"div",1)(91,"div",2)(92,"div",3)(93,"div",44)(94,"div",27)(95,"div",22)(96,"h1",28),E(97,"Product Design"),M(),x(98,"p"),E(99,"In crafting the product design for \"Pakhis,\" we seamlessly blended creativity and functionality. Our approach, rooted in the agency's vision, resulted in a distinct hand wash collection that embodies the premium quality and cultural essence of the UAE. Through thoughtful ideation and design iterations, each product within Pakhis' collection speaks to the brand's commitment to excellence, reflecting qualities of quality, sustainability, and affordability. This collaborative effort establishes Pakhis as a standout brand, resonating with the discerning tastes of its audience."),M()()()(),x(100,"div",2)(101,"div",45),oe(102,"img",46),M(),x(103,"div",47),oe(104,"img",48),M()()()()()(),x(105,"section",49)(106,"div",1)(107,"div",2)(108,"div",3)(109,"div",44)(110,"div",50)(111,"div",22)(112,"h1",28),E(113,"UI/UX Design"),M(),x(114,"p",51),E(115,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),M()()()(),x(116,"div",2)(117,"div",52)(118,"video",53),oe(119,"source",54)(120,"source",55),E(121," Your browser does not support HTML5 video. "),M(),x(122,"video",56),oe(123,"source",54)(124,"source",55),E(125," Your browser does not support HTML5 video. "),M(),x(126,"p",57),E(127,"The design and development process focused on seamlessly integrating tradition, innovation, and user-friendly functionality."),M(),x(128,"p",57),E(129,"Conducted market research to understand user preferences for luxury self-care products."),M(),x(130,"p",57),E(131,"Collaborated with stakeholders to define the brand identity and values."),M(),x(132,"p",57),E(133,"Utilized HTML 5 and Bootstrap for a responsive and visually appealing website."),M(),x(134,"p",57),E(135,"Emphasized user experience and easy navigation to facilitate a smooth browsing and shopping journey."),M()()()()()()(),x(136,"section",58)(137,"div",1)(138,"div",2)(139,"div",3)(140,"div",44)(141,"div",27)(142,"div",22)(143,"h1",28),E(144,"Technical Stack"),M(),x(145,"h3",59),E(146," The technological stack of Pakhi's website included:"),M(),x(147,"p",57),E(148,"HTML 5: Ensuring a robust and structurally sound foundation."),M(),x(149,"p",57),E(150,"Bootstrap: Facilitating a responsive and mobile-friendly design."),M(),x(151,"p",60),E(152,"Fully Mobile Responsive: Adapting seamlessly to various devices for an optimal user experience."),M(),x(153,"p"),E(154,"User-Friendly: Implementing intuitive navigation and user interfaces."),M()()()()()()()(),x(155,"section",61)(156,"div",62)(157,"div",2)(158,"div",47)(159,"div",63)(160,"div",64)(161,"a",65),oe(162,"img",66),x(163,"h1",67),E(164,"NEXT PROJECT"),M()()()()()(),oe(165,"div",68),M()()),2&n&&(se(20),xe("href","",i.Url,"/project-details/pakhis#branding",ve),se(3),xe("href","",i.Url,"/project-details/pakhis#productdesign",ve),se(3),xe("href","",i.Url,"/project-details/pakhis#ui-ux",ve),se(6),xe("src","",i.baseUrl,"/images/projects/pakhis/banner-min.jpg",ve),se(28),xe("src","",i.baseUrl,"/images/projects/pakhis/pakhis-detail.jpg",ve),se(4),xe("src","",i.baseUrl,"/images/projects/pakhis/stationery-Mockup-min.jpg",ve),se(3),xe("src","",i.baseUrl,"/images/projects/pakhis/broken-plank.jpg",ve),se(1),xe("src","",i.baseUrl,"/images/projects/pakhis/duct-tape-mockup-min.jpg",ve),se(6),xe("src","",i.baseUrl,"/images/projects/pakhis/typography.png",ve),se(28),xe("src","",i.baseUrl,"/images/projects/pakhis/all-three-podium-sand.jpg",ve),se(2),xe("src","",i.baseUrl,"/images/projects/pakhis/threebottles-min.png",ve),se(15),xe("src","",i.baseUrl,"/images/projects/pakhis/pakhis-imac-scroll.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/pakhis/pakhis-imac-scroll.ogg",ve),se(3),xe("src","",i.baseUrl,"/images/projects/pakhis/pakhis-laptop-scroll.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/pakhis/pakhis-laptop-scroll.ogg",ve),se(37),xe("href","",i.Url,"/project-details/beyou",ve),se(1),xe("src","",i.baseUrl,"/images/projects/dnour/pixtar-case-study-web-design.png",ve))},styles:["section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}"]}),e})();function fge(e,t){1&e&&oe(0,"img",72),2&e&&$e("src",Ze(2).$implicit.url,ve)}function mge(e,t){1&e&&tt(0,fge,1,1,"ng-template",71),2&e&&$e("id",Ze().$implicit.id)}function gge(e,t){if(1&e&&(zr(0),tt(1,mge,1,1,null,70),Ur()),2&e){const n=t.$implicit;se(1),$e("ngIf",n.id<=3)}}function vge(e,t){1&e&&oe(0,"img",72),2&e&&$e("src",Ze(2).$implicit.url,ve)}function yge(e,t){1&e&&tt(0,vge,1,1,"ng-template",71),2&e&&$e("id",Ze().$implicit.id)}function _ge(e,t){if(1&e&&(zr(0),tt(1,yge,1,1,null,70),Ur()),2&e){const n=t.$implicit;se(1),$e("ngIf",n.id>=4&&n.id<=6)}}function bge(e,t){1&e&&oe(0,"img",72),2&e&&$e("src",Ze(2).$implicit.url,ve)}function xge(e,t){1&e&&tt(0,bge,1,1,"ng-template",71),2&e&&$e("id",Ze().$implicit.id)}function wge(e,t){if(1&e&&(zr(0),tt(1,xge,1,1,null,70),Ur()),2&e){const n=t.$implicit;se(1),$e("ngIf",n.id>=7&&n.id<=9)}}let Cge=(()=>{class e{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Et_baseUrl+"/assets",this.Url=Et_baseUrl}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-beyou"]],decls:132,vars:22,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://storebeyou.com/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-beyou"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-beyou","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-beyou","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["alt","envelop","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-beyou","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["id","ecommerce","data-scroll-nav","6",1,"package"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-12","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"owlcarousel1"],[3,"options"],[4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"owlcarousel2"],[1,"owlcarousel3"],["data-aos","fade-up","data-aos-duration","3000","data-aos-delay","200",3,"options"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"],[4,"ngIf"],["class","slide","carouselSlide","",3,"id"],[3,"src","alt","title"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),E(9,"BEYOU"),M(),x(10,"div",7)(11,"p"),E(12,"Storebeyou redefines beauty empowerment in the e-commerce realm, curating a platform where women's unique beauty takes center stage."),M(),x(13,"p")(14,"a",8),E(15,"storebeyou.com"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),E(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),E(24,"UI/UX Design"),M()(),x(25,"h3",15)(26,"a",13),E(27,"Ecommerce"),M()()()()()()()()()(),x(28,"section",16)(29,"div",17)(30,"div",2)(31,"div",18),oe(32,"img",19),M()()()(),x(33,"section",20)(34,"div",21)(35,"div",2)(36,"div",22)(37,"div",23)(38,"p",24),E(39,"\"Storebeyou faced the challenge of establishing a unique online presence in the highly competitive e- commerce landscape for women's beauty products. Pixtar took on the task of creating a visually appealing and secure platform that resonated with the target audience."),M()()()()()(),x(40,"section",25)(41,"div",21)(42,"div",2)(43,"div",26)(44,"div",23)(45,"h1",27),E(46,"Branding"),M(),x(47,"p"),E(48,"Pixtar designed a distinctive logo for Storebeyou, capturing the essence of women's beauty and elegance. The logo became a visual cornerstone for the brand's identity, radiating sophistication and allure."),M()()()()()(),x(49,"section",28)(50,"div",1)(51,"div",2)(52,"div",18)(53,"div",29),oe(54,"img",30),M()(),x(55,"div",31)(56,"div",2)(57,"div",32),oe(58,"img",30),M(),x(59,"div",33)(60,"div",34),oe(61,"img",35)(62,"img",36),M()()()()()()(),x(63,"section",37)(64,"div",1)(65,"div",2)(66,"div",3)(67,"div",38),oe(68,"img",39),M()()()()(),x(69,"section",40)(70,"div",1)(71,"div",2)(72,"div",3)(73,"div",41)(74,"div",42)(75,"div",23)(76,"h1",43),E(77,"UI/UX Design"),M(),x(78,"p",44),E(79,"Crafted an intuitive and aesthetically pleasing interface for the Storebeyou website, ensuring a seamless and engaging user experience. The design prioritized showcasing the beauty products while facilitating easy navigation for online shoppers."),M()()()(),x(80,"div",2)(81,"div",45)(82,"video",46),oe(83,"source",47)(84,"source",48),E(85," Your browser does not support HTML5 video. "),M(),x(86,"video",49),oe(87,"source",47)(88,"source",48),E(89," Your browser does not support HTML5 video. "),M()()()()()()(),x(90,"section",50)(91,"div",1)(92,"div",2)(93,"div",3)(94,"div",41)(95,"div",42)(96,"div",23)(97,"h1",43),E(98,"Ecommerce"),M(),x(99,"p",44),E(100,"Developed the e-commerce platform using Magento, incorporating advanced features to enhance the online shopping experience. Stringent security measures were implemented to safeguard customer data and transactions, fostering trust and reliability."),M()()()()()()(),x(101,"div",51),oe(102,"img",30),x(103,"div",52)(104,"owl-carousel-o",53),tt(105,gge,2,1,"ng-container",54),M()(),x(106,"div",55)(107,"owl-carousel-o",53),tt(108,_ge,2,1,"ng-container",54),M()(),x(109,"div",56)(110,"owl-carousel-o",57),tt(111,wge,2,1,"ng-container",54),M()()()(),x(112,"section",58)(113,"div",21)(114,"div",2)(115,"div",59)(116,"div",41)(117,"div",60)(118,"div",23)(119,"p",61),E(120,"Storebeyou emerged as a haven for women seeking high-quality beauty products tailored to their unique needs. The platform aimed to empower women through curated selections that celebrated beauty in diversity."),M()()()()()()()(),x(121,"section",62)(122,"div",21)(123,"div",2)(124,"div",63)(125,"div",64)(126,"div",65)(127,"a",66),oe(128,"img",67),x(129,"h1",68),E(130,"NEXT PROJECT"),M()()()()()(),oe(131,"div",69),M()()),2&n&&(se(20),xe("href","",i.Url,"/project-details/beyou#branding",ve),se(3),xe("href","",i.Url,"/project-details/beyou#ui-ux",ve),se(3),xe("href","",i.Url,"/project-details/beyou#ecommerce",ve),se(6),xe("src","",i.baseUrl,"/images/projects/beyou/beyou-banner-min.png",ve),se(22),xe("src","",i.baseUrl,"/images/projects/beyou/beyou-branding.png",ve),se(4),xe("src","",i.baseUrl,"/images/projects/beyou/beyou-model-new.jpg",ve),se(3),xe("src","",i.baseUrl,"/images/projects/beyou/beyou-bcard.jpg",ve),se(1),xe("src","",i.baseUrl,"/images/projects/beyou/pack.jpg",ve),se(6),xe("src","",i.baseUrl,"/images/projects/beyou/typography.png",ve),se(15),xe("src","",i.baseUrl,"/images/projects/beyou/storebeyou-imac-scroll.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/beyou/storebeyou-imac-scroll.ogg",ve),se(3),xe("src","",i.baseUrl,"/images/projects/beyou/storebeyou-laptop.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/beyou/storebeyou-laptop.ogg",ve),se(14),xe("src","",i.baseUrl,"/images/projects/beyou/beyou-homescreen.png",ve),se(2),$e("options",i.desktopslider),se(1),$e("ngForOf",i.imageData),se(2),$e("options",i.desktopslider1),se(1),$e("ngForOf",i.imageData),se(2),$e("options",i.desktopslider2),se(1),$e("ngForOf",i.imageData),se(16),xe("href","",i.Url,"/project-details/autokoorosh",ve),se(1),xe("src","",i.baseUrl,"/images/projects/autokoorosh/autokoorosh-banner.png",ve))},dependencies:[pa,Us,Zd,bc],styles:[".bg-beyou[_ngcontent-%COMP%]{background:#E89F8C}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}"]}),e})(),Mge=(()=>{class e{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Et_baseUrl+"/assets",this.Url=Et_baseUrl}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-autokoorosh"]],decls:111,vars:13,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://autokoorosh.ae/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-autokoorosh","about"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-autokoorosh","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-autokoorosh","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-autokoorosh","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),E(9,"AUTOKOOROSH"),M(),x(10,"div",7)(11,"p"),E(12,"One of the leading auto repair shops serving customers in dubai. All mechanic services are performed by highly qualified mechanics."),M(),x(13,"p")(14,"a",8),E(15,"autokoorosh.ae"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),E(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),E(24,"UI/UX Design"),M()()()()()()()()()(),x(25,"section",15)(26,"div",16)(27,"div",2)(28,"div",17),oe(29,"img",18),M()()()(),x(30,"section",19)(31,"div",20)(32,"div",2)(33,"div",21)(34,"div",22)(35,"p",23),E(36,"Autokoorosh, an established auto service provider, embarked on a digital journey with Pixtar, a renowned web development agency. With a track record of 15 years of delivering quality car repair and detailing services, Autokoorosh has earned maximum customer satisfaction. "),oe(37,"br")(38,"br"),E(39," Despite their longstanding success in the auto service industry, Autokoorosh recognized the need to enhance their online presence to better serve their customers and expand their reach. Pixtar was tasked with developing a website that not only reflected Autokoorosh's commitment to quality services but also showcased their work and diversified offerings."),M()()()()()(),x(40,"section",24)(41,"div",20)(42,"div",2)(43,"div",25)(44,"div",22)(45,"h1",26),E(46,"Branding"),M(),x(47,"p"),E(48,"Through cohesive branding efforts, Pixtar helped Autokoorosh strengthen its brand presence, establish credibility in the market, and attract new customers. The synergy between web development and branding ensured a holistic approach to enhancing Autokoorosh's overall marketing strategy and driving business growth."),M()()()()()(),x(49,"section",27)(50,"div",1)(51,"div",2)(52,"div",17)(53,"div",28),oe(54,"img",29),M()(),x(55,"div",30)(56,"div",2)(57,"div",31),oe(58,"img",29),M(),x(59,"div",32)(60,"div",33),oe(61,"img",34),M()()()()()()(),x(62,"section",35)(63,"div",1)(64,"div",2)(65,"div",3)(66,"div",36),oe(67,"img",37),x(68,"p",38),E(69,"Through cohesive branding efforts, Pixtar helped Autokoorosh strengthen its brand presence, establish credibility in the market, and attract new customers. The synergy between web development and branding ensured a holistic approach to enhancing Autokoorosh's overall marketing strategy and driving business growth."),M()()()()()(),x(70,"section",39)(71,"div",1)(72,"div",2)(73,"div",3)(74,"div",40)(75,"div",41)(76,"div",22)(77,"h1",42),E(78,"UI/UX Design"),M(),x(79,"p",43),E(80,"Pixtar crafted a dynamic and user-friendly website for Autokoorosh, highlighting their core services of car repairing and detailing. The website was designed to provide visitors with easy access to information about Autokoorosh's services, locations, and contact details. Integration of interactive features facilitated seamless communication between Autokoorosh and its customers"),M()()()(),x(81,"div",2)(82,"div",44)(83,"video",45),oe(84,"source",46)(85,"source",47),E(86," Your browser does not support HTML5 video. "),M(),x(87,"video",48),oe(88,"source",46)(89,"source",47),E(90," Your browser does not support HTML5 video. "),M()()()()()()(),x(91,"section",49)(92,"div",20)(93,"div",2)(94,"div",50)(95,"div",40)(96,"div",51)(97,"div",22)(98,"p",52),E(99,"Pixtar's collaboration with Autokoorosh resulted in a successful digital transformation, positioning them as a leader in the auto service industry. The new website not only improved customer engagement but also strengthened Autokoorosh's brand identity and facilitated business growth. Through strategic web development, Pixtar helped Autokoorosh drive excellence in auto services and expand its reach in the competitive Dubai market."),M()()()()()()()(),x(100,"section",53)(101,"div",20)(102,"div",2)(103,"div",54)(104,"div",55)(105,"div",56)(106,"a",57),oe(107,"img",58),x(108,"h1",59),E(109,"NEXT PROJECT"),M()()()()()(),oe(110,"div",60),M()()),2&n&&(se(20),xe("href","",i.Url,"/project-details/autokoorosh#branding",ve),se(3),xe("href","",i.Url,"/project-details/autokoorosh#ui-ux",ve),se(6),xe("src","",i.baseUrl,"/images/projects/autokoorosh/autokoorosh-banner-min.png",ve),se(25),xe("src","",i.baseUrl,"/images/projects/autokoorosh/autokoorosh-branding.png",ve),se(4),xe("src","",i.baseUrl,"/images/projects/autokoorosh/autokoorosh-left.png",ve),se(3),xe("src","",i.baseUrl,"/images/projects/autokoorosh/autokoorosh-right.png",ve),se(6),xe("src","",i.baseUrl,"/images/projects/autokoorosh/typography.png",ve),se(17),xe("src","",i.baseUrl,"/images/projects/autokoorosh/autokoorosh-desktop.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/autokoorosh/autokoorosh-desktop.ogg",ve),se(3),xe("src","",i.baseUrl,"/images/projects/autokoorosh/autokoorosh_laptop.mp4",ve),se(1),xe("src","",i.baseUrl,"/images/projects/autokoorosh/autokoorosh_laptop.ogg",ve),se(17),xe("href","",i.Url,"/project-details/vendetta",ve),se(1),xe("src","",i.baseUrl,"/images/projects/vendetta/vendetta-banner-min.png",ve))},styles:[".bg-autokoorosh[_ngcontent-%COMP%]{background:#101621}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px;color:#fff}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}.branding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}"]}),e})(),Pge=(()=>{class e{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Et_baseUrl+"/assets",this.Url=Et_baseUrl}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-vendetta"]],decls:96,vars:9,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://vendettagarages.com/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-beyou","about"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-beyou","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-beyou","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-beyou","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),E(9,"VENDETTA"),M(),x(10,"div",7)(11,"p"),E(12,"Vendetta Auto Garage Company exemplifies the seamless integration of tradition and innovation in the automotive industry."),M(),x(13,"p")(14,"a",8),E(15,"vendettagarages.com"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),E(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),E(24,"UI/UX Design"),M()()()()()()()()()(),x(25,"section",15)(26,"div",16)(27,"div",2)(28,"div",17),oe(29,"img",18),M()()()(),x(30,"section",19)(31,"div",20)(32,"div",2)(33,"div",21)(34,"div",22)(35,"p",23),E(36,"Pixtar was entrusted with translating our passion for precision car painting into a captivating digital platform. We relied on Pixtar to not only capture the essence of our expertise but also to craft a seamless and engaging website that reflects our commitment to automotive excellence."),M()()()()()(),x(37,"section",24)(38,"div",20)(39,"div",2)(40,"div",25)(41,"div",22)(42,"h1",26),E(43,"Branding"),M(),x(44,"p"),E(45,"Pixtar undertook comprehensive branding work for Vendetta, starting with the creation of a distinctive logo that encapsulated the company's identity. Additionally, Pixtar designed eye-catching flyers, standees, and business cards that effectively conveyed Vendetta's professionalism and expertise in car painting services."),M()()()()()(),x(46,"section",27)(47,"div",1)(48,"div",2)(49,"div",17)(50,"div",28),oe(51,"img",29),M()(),x(52,"div",30)(53,"div",2)(54,"div",31),oe(55,"img",29),M(),x(56,"div",32)(57,"div",33),oe(58,"img",34),M()()()()()()(),x(59,"section",35)(60,"div",1)(61,"div",2)(62,"div",3)(63,"div",36),oe(64,"img",37),M()()()()(),x(65,"section",38)(66,"div",1)(67,"div",2)(68,"div",3)(69,"div",39)(70,"div",40)(71,"div",22)(72,"h1",41),E(73,"UI/UX Design"),M(),x(74,"p",42),E(75,"Pixtar developed a dynamic and user-friendly website for Vendetta Auto Garage Company. The website showcased Vendetta's services, including interior and exterior painting for all types of cars, with detailed descriptions and high-quality images. Integration of interactive features allowed customers to easily request quotes and schedule appointments."),M()()()()()()()(),x(76,"section",43)(77,"div",20)(78,"div",2)(79,"div",44)(80,"div",39)(81,"div",45)(82,"div",22)(83,"p",46),E(84,"Pixtar's collaboration with Vendetta Auto Garage Company resulted in a successful digital transformation. The website and branding materials not only enhanced Vendetta's online presence but also positioned them as a leader in car painting services. Through strategic web development and branding, Pixtar helped Vendetta attract new customers and drive business growth in the competitive automotive market."),M()()()()()()()(),x(85,"section",47)(86,"div",20)(87,"div",2)(88,"div",48)(89,"div",49)(90,"div",50)(91,"a",51),oe(92,"img",52),x(93,"h1",53),E(94,"NEXT PROJECT"),M()()()()()(),oe(95,"div",54),M()()),2&n&&(se(20),xe("href","",i.Url,"/project-details/vendetta#branding",ve),se(3),xe("href","",i.Url,"/project-details/vendetta#ui-ux",ve),se(6),xe("src","",i.baseUrl,"/images/projects/vendetta/vendetta-banner-min.png",ve),se(22),xe("src","",i.baseUrl,"/images/projects/vendetta/vendetta-branding-min.png",ve),se(4),xe("src","",i.baseUrl,"/images/projects/vendetta/vendetta-left-min.png",ve),se(3),xe("src","",i.baseUrl,"/images/projects/vendetta/vendetta-right-min.png",ve),se(6),xe("src","",i.baseUrl,"/images/projects/vendetta/typography.png",ve),se(27),xe("href","",i.Url,"/project-details/spacex",ve),se(1),xe("src","",i.baseUrl,"/images/projects/spacex/spacex-left.png",ve))},styles:[".bg-beyou[_ngcontent-%COMP%]{background:#444444}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px;color:#fff}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}.branding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}"]}),e})(),Oge=(()=>{class e{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Et_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Et_baseUrl+"/assets",this.Url=Et_baseUrl}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Yn({type:e,selectors:[["app-spacex"]],decls:97,vars:7,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://spacexfitness.in","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-autokoorosh","about"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-autokoorosh","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-autokoorosh","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-autokoorosh","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],["href","#",1,"text-white","font-bold"],[1,"heading","text-white"],[1,"line"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),E(9,"SPACEXFITNESS"),M(),x(10,"div",7)(11,"p"),E(12,"SpaceX Fitness embodies a fusion of cutting-edge fitness technology and expert coaching, propelling individuals to new heights of strength and vitality."),M(),x(13,"p")(14,"a",8),E(15,"spacexfitness.in"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),E(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),E(24,"UI/UX Design"),M()()()()()()()()()(),x(25,"section",15)(26,"div",16)(27,"div",2)(28,"div",17),oe(29,"img",18),M()()()(),x(30,"section",19)(31,"div",20)(32,"div",2)(33,"div",21)(34,"div",22)(35,"p",23),E(36,"Pixtar was tasked with encapsulating the essence of our innovative approach to fitness into a digital platform. We entrusted Pixtar not only with capturing our brand's dynamic spirit but also with creating a seamless and engaging website that reflects our commitment to excellence in health and wellness."),M()()()()()(),x(37,"section",24)(38,"div",20)(39,"div",2)(40,"div",25)(41,"div",22)(42,"h1",26),E(43,"Branding"),M(),x(44,"p"),E(45,"In addition to website development, Pixtar undertook comprehensive branding work for SpaceX. This included creating a cohesive visual identity that aligned with their values and industry positioning. From logo design to color schemes and typography, every element was carefully crafted to reflect the brand's professionalism and expertise."),M()()()()()(),x(46,"section",27)(47,"div",1)(48,"div",2)(49,"div",17)(50,"div",28),oe(51,"img",29),M()(),x(52,"div",30)(53,"div",2)(54,"div",31),oe(55,"img",29),M(),x(56,"div",32)(57,"div",33),oe(58,"img",34),M()()()()()()(),x(59,"section",35)(60,"div",1)(61,"div",2)(62,"div",3)(63,"div",36),oe(64,"img",37),M()()()()(),x(65,"section",38)(66,"div",1)(67,"div",2)(68,"div",3)(69,"div",39)(70,"div",40)(71,"div",22)(72,"h1",41),E(73,"UI/UX Design"),M(),x(74,"p",42),E(75,"The design prioritized delivering an immersive browsing experience, seamlessly navigating users through the gym's facilities,and membership options. Every element was carefully curated to showcase the dynamic energy and innovative approach of SpaceX Fitness, ensuring visitors feel motivated and empowered to embark on their fitness journey."),M()()()(),x(76,"div",2),oe(77,"div",43),M()()()()(),x(78,"section",44)(79,"div",20)(80,"div",2)(81,"div",45)(82,"div",39)(83,"div",46)(84,"div",22)(85,"p",47),E(86,"Pixtar's partnership with SpaceX Fitness has yielded a digital platform that seamlessly merges technology with fitness expertise. This case study highlights Pixtar's adeptness in harmonizing design, development, and functionality, delivering a compelling digital experience for SpaceX Fitness' audience."),M()()()()()()()(),x(87,"section",48)(88,"div",20)(89,"div",2)(90,"div",49)(91,"div",50)(92,"div",51)(93,"a",52)(94,"h1",53),E(95,"NEXT PROJECT"),M()()()()()(),oe(96,"div",54),M()()),2&n&&(se(20),xe("href","",i.Url,"/project-details/spacex#branding",ve),se(3),xe("href","",i.Url,"/project-details/spacex#ui-ux",ve),se(6),xe("src","",i.baseUrl,"/images/projects/spacex/spacex-banner-min.png",ve),se(22),xe("src","",i.baseUrl,"/images/projects/spacex/spacex-branding.png",ve),se(4),xe("src","",i.baseUrl,"/images/projects/spacex/glove.png",ve),se(3),xe("src","",i.baseUrl,"/images/projects/spacex/kattlebell.png",ve),se(6),xe("src","",i.baseUrl,"/images/projects/spacex/typography.png",ve))},styles:[".bg-autokoorosh[_ngcontent-%COMP%]{background:#f3f1ee}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px;color:#000}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}.branding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}"]}),e})();function Sge(e,t){if(1&e&&(x(0,"div",103)(1,"div",104)(2,"div",105)(3,"div",106),oe(4,"img",107),M()(),x(5,"div",108)(6,"div",109)(7,"p",110),E(8,"Hiral Krupesh . Founder & Creative Director . Carat Craft Jewellery"),M(),x(9,"h4",111),E(10,"I HIGHLY RECOMMEND PIXTAR IF YOU ARE LOOKING TO REVAMP AND ELEVATE YOUR BRAND"),M(),x(11,"p",112),E(12,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()(),x(13,"div",113)(14,"div",109)(15,"p",55),E(16,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()()()()),2&e){const n=Ze();se(4),xe("src","",n.baseUrl,"/img/home/hiral-story.png",ve)}}let Ege=(()=>{class e{constructor(n,i,r,o){this.router=n,this.pageservice=i,this.metaTagService=r,this.titleService=o,this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.isPlaying=!0,this.get_PageMeta(),this.baseUrl=Et_baseUrl+"/assets"}ngOnInit(){var i={container:document.getElementById("lottie"),renderer:"svg",loop:!0,autoplay:!0,animationData:{v:"5.9.6",fr:30,ip:0,op:96,w:122,h:119,nm:"hand",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:-34.9,ix:10},p:{a:0,k:[67.1,111.5,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Layer 3 Outlines",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:9.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:20.363,s:[-8]},{i:{x:[.65],y:[1.156]},o:{x:[.333],y:[0]},t:30.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.167],y:[0]},t:42,s:[-1.8]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:60,s:[-.4]},{t:69,s:[0]}],ix:10},p:{a:0,k:[-2.981,.359,0],ix:2,l:2},a:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[15.024,91.188,0],to:[0,0,0],ti:[0,0,0]},{t:44,s:[15.024,91.188,0]}],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[3.903,-5.533],[3.056,-2.353],[6.543,2.313],[4.228,4.252],[.327,6.566],[-.109,2.842],[-.281,9.016],[.083,2.706],[-1.043,.386],[-.666,-2.038],[-.181,-1.13],[.156,-4.374],[-1.579,-.706],[-1.31,1],[-.442,.663],[-6.815,9.598],[-.455,.427],[-1.272,-1.478],[1.046,-1.327],[4.713,-6.619],[.196,-.327],[-1.1,-.992],[-1.181,.832],[-.345,.518],[-6.936,9.765],[-.29,.345],[-1.763,-.582],[-.03,-1.826],[.764,-.91],[6.934,-9.766],[.241,-.499],[-1.104,-.867],[-1.126,.839],[-.321,.495],[-5.124,7.179],[-.342,.391],[-1.712,-.819],[1.17,-2.201],[.133,-.179],[5.282,-7.492],[-1.55,-1.123],[-1.373,1.933],[-2.975,4.189],[-.217,.273],[-1.064,-.33],[-.164,-.992],[.618,-.721],[4.295,-6.063]],o:[[0,0],[-3.925,5.53],[-2.207,3.163],[-5.419,4.144],[-5.658,-1.985],[-4.757,-4.537],[-.132,-2.83],[.352,-9.013],[.084,-2.7],[-.047,-1.53],[2.052,-.622],[.282,1.109],[.785,4.306],[-.141,1.724],[1.431,.818],[.627,-.491],[6.837,-9.584],[.339,-.524],[1.477,-1.272],[1.103,1.28],[-4.699,6.627],[-.221,.311],[-.761,1.271],[1.062,.978],[.484,-.392],[6.95,-9.758],[.262,-.368],[1.202,-1.415],[1.726,.596],[-.023,1.188],[-6.946,9.76],[-.333,.444],[-.56,1.287],[1.107,.863],[.438,-.395],[5.133,-7.171],[.3,-.423],[1.273,-1.408],[2.2,1.171],[-.105,.197],[-5.348,7.451],[-1.34,1.9],[1.55,1.123],[2.98,-4.187],[.2,-.283],[.669,-.891],[.979,.23],[.17,.934],[-4.32,6.046],[0,0]],v:[[23.152,14.265],[23.152,14.265],[11.387,30.834],[3.446,39.158],[-14.469,42.324],[-29.49,32.847],[-37.41,15.555],[-37.109,7.033],[-36.085,-20.008],[-36.314,-28.124],[-34.842,-30.943],[-29.951,-28.395],[-29.245,-25.033],[-28.298,-11.975],[-25.898,-7.919],[-21.376,-8.219],[-19.764,-9.962],[.715,-38.734],[1.91,-40.165],[6.888,-39.794],[6.986,-35.305],[-7.133,-15.436],[-7.783,-14.492],[-7.199,-10.598],[-3.355,-10.348],[-2.105,-11.721],[18.725,-41.005],[19.531,-42.094],[24.437,-43.471],[27.362,-39.438],[26.146,-36.195],[5.327,-6.906],[4.464,-5.488],[5.387,-1.83],[9.168,-1.788],[10.311,-3.128],[25.697,-24.654],[26.645,-25.895],[31.676,-26.887],[33.542,-20.783],[33.185,-20.219],[17.314,2.245],[17.658,7.111],[22.458,5.811],[31.391,-6.755],[32.008,-7.593],[34.898,-8.527],[36.785,-6.509],[36.077,-3.893],[23.154,14.271]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[-2.092,-1],[-5.851,1.244],[-2.89,2.122],[-2.836,4.038],[-8.223,11.534],[1.8,3.179],[2.203,.713],[-.482,.692],[3.481,3.721],[1.699,.527],[.484,.17],[1.139,3.155],[2.122,1.241],[3.015,-1.109],[1.758,-2.785],[.644,.543],[3.548,-4.034],[.13,-.169],[1.792,-2.514],[4.079,-5.747],[0,0],[.082,.492],[.844,3.567],[3.743,.857],[2.2,-2.689],[-.104,-2.042],[.639,-12.849],[-1.281,-4.26],[-5.078,-4.319],[-.195,-.238],[0,0]],o:[[2.036,1.113],[5.3,2.515],[3.508,-.744],[3.984,-2.911],[8.184,-11.562],[2.279,-2.855],[-1.124,-2.024],[.544,-.765],[3.017,-4.106],[-1.184,-1.328],[-.386,-.124],[1.837,-2.807],[-.767,-2.335],[-2.755,-1.652],[-3.194,1.082],[-.671,-.678],[-4.034,-3.548],[-.141,.16],[-1.912,2.423],[-4.089,5.741],[0,0],[-.08,-.81],[-.575,-3.63],[-.905,-3.835],[-3.335,-.972],[-1.354,1.532],[.755,12.89],[-.219,4.4],[1.914,6.386],[.221,.214],[0,0],[0,0]],v:[[-26.227,43.472],[-20.111,46.795],[-3.436,49.195],[6.271,44.847],[16.572,34.353],[41.182,-.292],[41.975,-10.279],[36.799,-14.538],[38.319,-16.68],[37.519,-30.18],[33.112,-33.014],[31.862,-33.451],[32.969,-42.919],[28.486,-48.471],[19.361,-49.329],[12.486,-42.977],[10.62,-44.85],[-3.107,-43.971],[-3.514,-43.477],[-8.939,-35.964],[-21.189,-18.731],[-22.033,-17.546],[-22.214,-19.346],[-24.014,-30.219],[-31.486,-37.094],[-40.613,-34.262],[-42.563,-28.686],[-43.555,9.895],[-42.488,22.887],[-31.775,39.287],[-31.152,39.965],[-26.227,43.465]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[44.024,50.688],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 4 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[4]},{t:17,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.591],y:[1.232]},o:{x:[.333],y:[0]},t:3.182,s:[64.512]},{t:17,s:[78.762]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[-46.004]},{t:17,s:[-45.754]}],ix:4}},a:{a:0,k:[3.602,10.311,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.05,.08],[-.397,.235],[-.245,-.372],[-.243,-2.031],[2.88,-3.875],[.273,0]],o:[[-.461,0],[0,-.17],[6.552,-9.387],[-.235,-.397],[.383,-.227],[1.001,1.784],[.576,4.793],[-.156,.224],[0,0]],v:[[-2.516,10.057],[-3.351,9.221],[-3.201,8.745],[-1.542,-8.689],[-1.249,-9.834],[-.128,-9.576],[1.757,-3.797],[-1.831,9.704],[-2.516,10.061]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.601,10.311],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:4,ty:4,nm:"Layer 5 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[100]}],ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[0]}],ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.524],y:[1.943]},o:{x:[.333],y:[0]},t:0,s:[63.218]},{t:15,s:[81.718]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-46.437]},{t:15,s:[-45.687]}],ix:4}},a:{a:0,k:[3.592,13.05,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.719,5.523],[1.159,2.111],[-.394,.238],[-.245,-.379],[-.31,-2.601],[4.815,-6.892],[.273,0]],o:[[-.461,0],[0,-.17],[3.6,-5.154],[-.281,-2.392],[-.238,-.395],[.387,-.233],[1.281,2.285],[.55,4.109],[-.156,.224],[0,0]],v:[[-2.507,12.799],[-3.341,11.964],[-3.191,11.486],[1.147,-4.604],[-1.033,-11.421],[-.75,-12.566],[.383,-12.305],[2.792,-4.905],[-1.823,12.439],[-2.508,12.797]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.592,13.05],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:5,ty:4,nm:"Layer 6 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:15.909,s:[3]},{t:28,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.706],y:[1.553]},o:{x:[.333],y:[0]},t:15.909,s:[30.436]},{t:28,s:[24.186]}],ix:3},y:{a:1,k:[{i:{x:[.652],y:[1.489]},o:{x:[.333],y:[0]},t:15.909,s:[-81.209]},{t:28,s:[-93.959]}],ix:4}},a:{a:0,k:[9.646,4.948,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.461],[-.075,.128],[-1.692,1.15],[-4.764,-.772],[.06,-.457],[.457,.06],[3.634,-2.451],[1.022,-1.522],[.295,0]],o:[[-.461,-.001],[0,-.148],[1.123,-1.71],[3.99,-2.716],[.457,.06],[-.06,.457],[-4.324,-.717],[-1.519,1.027],[-.151,.253],[0,0]],v:[[-8.561,4.693],[-9.395,3.855],[-9.279,3.435],[-5.016,-.898],[8.617,-3.926],[9.335,-2.989],[8.398,-2.27],[-3.995,.431],[-7.842,4.29],[-8.561,4.698]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.645,4.948],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:6,ty:4,nm:"Layer 7 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:13.363,s:[0]},{t:26,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.624],y:[2.994]},o:{x:[.333],y:[0]},t:13.363,s:[30.021]},{t:26,s:[22.771]}],ix:3},y:{a:1,k:[{i:{x:[.624],y:[1.964]},o:{x:[.333],y:[0]},t:13.363,s:[-82.012]},{t:26,s:[-97.012]}],ix:4}},a:{a:0,k:[12.19,6.146,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.295,0],[0,.461],[-.076,.128],[-2.168,1.472],[-8.332,-1.099],[.06,-.457],[.457,.06],[4.573,-3.179],[1.34,-2]],o:[[-.461,-.001],[.001,-.149],[1.439,-2.19],[3.394,-2.379],[.457,.06],[-.06,.457],[-6.231,-.82],[-1.994,1.35],[-.151,.254]],v:[[-11.106,5.895],[-11.94,5.059],[-11.824,4.637],[-6.361,-.91],[11.161,-4.796],[11.88,-3.859],[10.943,-3.14],[-5.339,.413],[-10.387,5.486]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[12.19,6.146],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0}],markers:[]}};d9().loadAnimation(i),this.router.parseUrl(this.router.url).fragment||window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"about-us"}).subscribe(i=>{200==i.body.code&&i.body.result&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}navigateToLink(n){this.router.navigate([n])}}return e.\u0275fac=function(n){return new(n||e)(Me(ao),Me(xc),Me(cl),Me(dl))},e.\u0275cmp=Yn({type:e,selectors:[["app-services"]],decls:290,vars:26,consts:[[1,"service-banner"],[1,"container"],["id","canvas",1,"img-globe","floatimg"],[1,"row"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-start","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","textcolor2","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-flex","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","align-items-end","size90","textcolor2"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","text-white","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","text-white","size90"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"text-white"],[1,"featuredvideo","m80","bannerbgcolor"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"blocklist","section1"],[1,"fontsize12","text-white","semibold"],[1,"col-md-12"],[1,"col","custom-col","mb-lg-5","mb-md-4","mb-4"],["href","javascript:void(0)"],["alt","",1,"img-fluid",3,"src"],["id","services1","data-scroll-nav","0",1,"services","mtrem8","mbrem8"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","order-sm-1","order-1"],[1,"img-block"],["alt","",1,"w-100",3,"src"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-5","col-lg-5","mx-auto","col-md-6","order-sm-2","order-2"],[1,"d-flex","flex-column","h-100","service-content"],[1,"fontsize12","semibold"],[1,"size32","mb-1"],[1,"size18"],[1,"size18","textcolor3","serwidth"],[1,"points"],[1,"fontsize12","mb-0"],[1,"wght600"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/branding",1,"cstbtn","cstbtn128",3,"click"],[1,"text","text128"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],["id","services2","data-scroll-nav","1",1,"services","mtrem8","mbrem8"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-5","col-lg-5","mx-auto","col-md-6","order-md-1","order-sm-2","order-2"],[1,"d-flex","flex-column","justify-content-between","h-100","service-content","ps-md-0","ps-sm-auto","ps-auto"],[1,"size18","textcolor3"],["routerLink","/website",1,"cstbtn","cstbtn128",3,"click"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","offset-xl-1","offset-lg-1","order-md-2","order-sm-1","order-1"],[1,"mask"],["alt","",3,"src"],["id","services3","data-scroll-nav","2",1,"services","mtrem8","mbrem8"],[1,"d-flex","flex-column","justify-content-between","h-100","service-content"],[1,"float-start","cwd243","cwd2433"],["routerLink","/ecommerce",1,"cstbtn","cstbtn128",3,"click"],["id","services4","data-scroll-nav","3",1,"services","mtrem8","mbrem8"],[1,"size32"],[1,"float-start","cwd243","cwd2434"],["routerLink","/graphics",1,"cstbtn","cstbtn128",3,"click"],[1,"success-story","backeeedf0"],[1,"col-md-11","col-sm-11","col-11","mx-auto"],[1,"content","mbrem8"],[3,"options"],["carouselSlide","",3,"id"],[1,"section","faqsection","backeeedf0"],[1,"col-md-10","col-sm-11","col-11","m-auto"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,"textcolor1"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"d-block"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item","brdtp"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"accordion-item"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"col-md-9","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-lg-3","col-md-5","col-sm-5"],[1,"imgblk"],["alt","",1,"",3,"src"],[1,"col-lg-8","col-md-7","offset-lg-1","col-sm-7","mt-sm-0","mt-3"],[1,"slidecontent"],[1,"fontsize12","textcolor1"],[1,"size32","textcolor1","mt-0","mb30"],[1,"size18","textcolor3","d-md-block","d-sm-none","d-none"],[1,"col-md-12","d-md-none","d-sm-block","d-block","mt-sm-4","mt-3"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1),oe(2,"canvas",2),x(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h1",9),E(10,"We don't do "),M(),x(11,"h1",10),E(12,"We don't do"),M(),oe(13,"div",11),M(),x(14,"h1",12),E(15,"one size fits all"),M(),x(16,"h1",13),E(17,"one size fits all"),M()()()(),x(18,"div",14)(19,"ul",15)(20,"li")(21,"a",16),oe(22,"img",17),M()(),x(23,"li")(24,"a",18),oe(25,"img",19),M()(),x(26,"li")(27,"a",20),oe(28,"img",17),M()(),x(29,"li")(30,"a",21),oe(31,"img",22),M()()(),x(32,"div",23)(33,"p",24),E(34,"Our services are tailored to "),M(),x(35,"p",24),E(36,"the needs of your brand."),M()()()()()()(),x(37,"section",25)(38,"div",1)(39,"div",26)(40,"div",27)(41,"p",28),E(42,"OUR CLIENTS INCLUDE\u2026"),M(),x(43,"div",3),zr(44),x(45,"div",29)(46,"div",3)(47,"div",30)(48,"a",31),oe(49,"img",32),M()(),x(50,"div",30)(51,"a",31),oe(52,"img",32),M()(),x(53,"div",30)(54,"a",31),oe(55,"img",32),M()(),x(56,"div",30)(57,"a",31),oe(58,"img",32),M()(),x(59,"div",30)(60,"a",31),oe(61,"img",32),M()(),x(62,"div",30)(63,"a",31),oe(64,"img",32),M()(),x(65,"div",30)(66,"a",31),oe(67,"img",32),M()(),x(68,"div",30)(69,"a",31),oe(70,"img",32),M()(),x(71,"div",30)(72,"a",31),oe(73,"img",32),M()(),x(74,"div",30)(75,"a",31),oe(76,"img",32),M()(),x(77,"div",30)(78,"a",31),oe(79,"img",32),M()(),x(80,"div",30)(81,"a",31),oe(82,"img",32),M()(),x(83,"div",30)(84,"a",31),oe(85,"img",32),M()(),x(86,"div",30)(87,"a",31),oe(88,"img",32),M()()()(),Ur(),M()()()()(),x(89,"section",33)(90,"div",1)(91,"div",3)(92,"div",4)(93,"div",3)(94,"div",34)(95,"div",35),oe(96,"img",36),M()(),x(97,"div",37)(98,"div",38)(99,"div")(100,"p",39),E(101,"Our Services"),M(),x(102,"h1",40),E(103,"Premium Branding"),M(),x(104,"p",41),E(105,"Your Brand, Your Story, Perfectly Told"),M()(),x(106,"p",42),E(107,"Your brand is more than a logo\u2014it\u2019s a promise. With designs built on the timeless principles of the golden ratio, we help businesses create a story that feels both balanced and bold."),M(),x(108,"div",43)(109,"p",44)(110,"span",45),E(111," DESIGNING AND CONCEPTUALISING"),M(),E(112,": Custom Logo | Brand Guidelines | Brand Aesthetics | Luxury Packaging"),M()(),x(113,"div",46)(114,"div",47)(115,"p")(116,"a",48),Ct("click",function(){return i.navigateToLink("branding")}),x(117,"span",49),E(118,"Explore Branding Packages"),M(),x(119,"span",50),oe(120,"i",51),M()()()()()()()()()()()(),x(121,"section",52)(122,"div",1)(123,"div",3)(124,"div",4)(125,"div",3)(126,"div",53)(127,"div",54)(128,"div")(129,"h1",40),E(130,"Highly-Impactful Website"),M(),x(131,"p",41),E(132,"Designs That Perform On Every Screen"),M()(),x(133,"p",55),E(134,"We don\u2019t build websites; we create experiences. Our custom-built websites are fast, functional, and perfectly aligned with your audience and business goals \u2014because we don\u2019t believe in templates."),M(),x(135,"div",43)(136,"p",44)(137,"span",45),E(138," DESIGN AND DEVELOPMENT"),M(),E(139,": Static Website | Dynamic Website | Api Integration"),M()(),x(140,"div",46)(141,"div",47)(142,"p")(143,"a",56),Ct("click",function(){return i.navigateToLink("website")}),x(144,"span",49),E(145,"Explore Branding Services"),M(),x(146,"span",50),oe(147,"i",51),M()()()()()()(),x(148,"div",57)(149,"div",35),oe(150,"img",36),M()()()()()(),x(151,"div",58),oe(152,"img",59),M()(),x(153,"section",60)(154,"div",1)(155,"div",3)(156,"div",4)(157,"div",3)(158,"div",34)(159,"div",35),oe(160,"img",36),M()(),x(161,"div",37)(162,"div",61)(163,"div")(164,"h1",40),E(165,"Highly-Converting Ecommerce Website"),M(),x(166,"p",41),E(167,"Sell Globally With Custom Ecommerce Solutions"),M()(),x(168,"p",55),E(169,"A beautiful online store isn\u2019t enough\u2014you need one that converts. Whether it\u2019s Magento, Shopify, or Node.js, we create custom eCommerce platforms that perform, scale, and grow with you."),M(),x(170,"div",43)(171,"p",44)(172,"span",45),E(173,"DESIGNING AND DEVELOPMENT"),M(),E(174,": Shopify | Custom Magento 2.0+ | Custom eCommerce website on Node .JS & Angular"),M()(),x(175,"div",46)(176,"div",62)(177,"p")(178,"a",63),Ct("click",function(){return i.navigateToLink("ecommerce")}),x(179,"span",49),E(180,"Explore E-Commerce Solutions"),M(),x(181,"span",50),oe(182,"i",51),M()()()()()()()()()()()(),x(183,"section",64)(184,"div",1)(185,"div",3)(186,"div",4)(187,"div",3)(188,"div",53)(189,"div",54)(190,"div")(191,"h1",65),E(192,"High-End Graphic Design"),M()(),x(193,"p",55),E(194,"Need fresh designs every month? Our subscription plan gives you creative power on demand\u2014because good design should always be within reach."),M(),x(195,"div",43)(196,"p",44)(197,"span",45),E(198,"DESIGNING"),M(),E(199," : Catalog | Company Profile | Pitch-deck | Social Media Theme | Event Theme | Marketing Materials"),M()(),x(200,"div",46)(201,"div",66)(202,"p")(203,"a",67),Ct("click",function(){return i.navigateToLink("graphics")}),x(204,"span",49),E(205,"Explore Packages"),M(),x(206,"span",50),oe(207,"i",51),M()()()()()()(),x(208,"div",57)(209,"div",35),oe(210,"img",36),M()()()()()()(),x(211,"section",68)(212,"div",1)(213,"div",3)(214,"div",69),oe(215,"div",70),x(216,"owl-carousel-o",71),zr(217),tt(218,Sge,17,1,"ng-template",72),Ur(),M()()()()(),x(219,"section",73)(220,"div",58),oe(221,"img",59),M(),x(222,"div",1)(223,"div",3)(224,"div",74)(225,"div",3)(226,"div",75)(227,"div",76)(228,"h1",77),E(229," What "),oe(230,"br"),E(231," makes Pixtar "),oe(232,"br"),E(233," Special? "),oe(234,"br"),x(235,"span"),E(236," And other FAQs\u2026 "),M()()()(),x(237,"div",78)(238,"div",79)(239,"div",80)(240,"div",81)(241,"div",82)(242,"h2",83)(243,"button",84),E(244," Alright, no secrets \u2013 what makes Pixtar stand out? "),M()(),x(245,"div",85)(246,"div",86),E(247," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),M()()(),x(248,"div",87)(249,"h2",88)(250,"button",89),E(251," Where are you based? "),M()(),x(252,"div",90)(253,"div",86),E(254," Virtually, next door! We\u2019re proudly based in Dubai, UAE, but our team collaborates with clients worldwide, making distance no barrier to outstanding design! Our business hours are 9 am\u20136 pm GST / 1 am\u201310 am EST / 10 pm\u20137 am PST. But with our early-rising CEO and night-owl CTO, we\u2019re always able to sync up with clients from LA all the way to Australia\u2014and all the lovely places in between. "),M()()(),x(255,"div",87)(256,"h2",91)(257,"button",92),E(258," How are you different from a freelance designer? "),M()(),x(259,"div",93)(260,"div",86),E(261," At Pixtar, you get the expertise of an entire team, not just one individual. We bring together specialized skills in design, strategy, and development, providing a more comprehensive approach and smoother project delivery. "),M()()(),x(262,"div",87)(263,"h2",94)(264,"button",95),E(265," What other design magic do you offer? "),M()(),x(266,"div",96)(267,"div",86),E(268," Besides website design, we specialize in branding, UI/UX design, graphic design, and digital marketing assets. Whatever your design needs, Pixtar has the creative solution. "),M()()(),x(269,"div",87)(270,"h2",94)(271,"button",97),E(272," Who do you usually work with? "),M()(),x(273,"div",98)(274,"div",86),E(275," We collaborate with businesses of all sizes\u2014from startups to established brands\u2014across a range of industries, including Lifestyle, healthcare, technology, real estate, and more. "),M()()(),x(276,"div",87)(277,"h2",94)(278,"button",99),E(279," Which platforms do you use for building websites? "),M()(),x(280,"div",100)(281,"div",86),E(282," We work with popular platforms like Angular, Node.js, React, Shopify, Magento and Webflow, ensuring you get a website that\u2019s not only beautiful but also easy to manage and scalable. "),M()()(),x(283,"div",87)(284,"h2",94)(285,"button",101),E(286," I\u2019m in! When can we get started? "),M()(),x(287,"div",102)(288,"div",86),E(289," We\u2019re thrilled to have you onboard! Just reach out through our contact page, and we\u2019ll set up a kickoff meeting to dive into your project. "),M()()()()()()()()()()()()),2&n&&(se(22),xe("src","",i.baseUrl,"/img/home/social-media/instagram-white.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/facebook-white.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/linkedin-white.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/whatsapp-white.svg",ve),se(18),xe("src","",i.baseUrl,"/img/home/logos/dnour.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/crystal.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/miniaar.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/bni.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/angle.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/pakhis.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/drminnie.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/veddentta.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/autokoorosh.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/fractal.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/corporate.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/aetrio.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/wrae.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/logos/beyou.svg",ve),se(8),xe("src","",i.baseUrl,"/img/services/branding.jpg",ve),se(54),xe("src","",i.baseUrl,"/img/services/impactfull.jpg",ve),se(2),xe("src","",i.baseUrl,"/img/home/mask2.svg",ve),se(8),xe("src","",i.baseUrl,"/img/services/ecommerce.jpg",ve),se(50),xe("src","",i.baseUrl,"/img/services/graphic.jpg",ve),se(6),$e("options",i.desktopslider),se(2),$e("id",i.baseUrl),se(3),xe("src","",i.baseUrl,"/img/home/mask-transparent.svg",ve))},dependencies:[_c,Zd,bc],styles:['@media (max-width: 991px){section[_ngcontent-%COMP%]{padding-bottom:0}}.bannerbgcolor[_ngcontent-%COMP%], .service-banner[_ngcontent-%COMP%]{background-color:#1d1d1f}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}.img-globe[_ngcontent-%COMP%]{position:absolute;right:2%;top:26%;width:400px}@media (max-width: 1440px){.img-globe[_ngcontent-%COMP%]{width:300px}}@media (max-width: 1366px){.img-globe[_ngcontent-%COMP%]{right:3%}}@media (max-width: 1199px){.img-globe[_ngcontent-%COMP%]{right:2%;width:230px;top:30%}}@media (max-width: 991px){.img-globe[_ngcontent-%COMP%]{width:100%;top:95px;opacity:.5;object-fit:cover;left:0;right:0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{width:592px;padding:50px 10px;justify-content:space-around}@media (max-width: 1399px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{width:100%;padding:0}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:20px 0}}@media (max-width: 1199px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:10px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:0}}@media (max-width: 767px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1d1d1f;margin-top:0}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .fontsize18.textcolor3[_ngcontent-%COMP%]{font-weight:500}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .fontsize18.textcolor3[_ngcontent-%COMP%]{margin-top:15px 0px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .size18.textcolor3[_ngcontent-%COMP%]{margin-top:15px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1.size32[_ngcontent-%COMP%]{font-weight:500}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p.fontsize12.semibold[_ngcontent-%COMP%]{margin-bottom:15px}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d1d1f;line-height:normal}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin-bottom:5rem}@media (max-width: 1399px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin-bottom:2rem}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:15px 0}}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]   .fontsize12[_ngcontent-%COMP%]{letter-spacing:0;font-size:11px!important}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]{margin-top:20px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .serwidth[_ngcontent-%COMP%]{width:499px;line-height:29px;margin:30px 0}@media (max-width: 1399px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .serwidth[_ngcontent-%COMP%]{width:100%;margin:20px 0;line-height:normal}}.services[_ngcontent-%COMP%]   .img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 90px 62px -42px #00000040}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:30px}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}.banner-left-content[_ngcontent-%COMP%]{display:flex;width:393px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-4rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:3rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.down-arrow[_ngcontent-%COMP%]{bottom:13%}}@media (max-width: 767px){.down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.custom-col[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;text-align:center}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:15px;transition:all .5s;cursor:default!important}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:gray}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:57px;cursor:default!important}@media (max-width: 1199px){.custom-col[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%}}@media (max-width: 768px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media (max-width: 576px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}.cwd243[_ngcontent-%COMP%]{position:relative;width:243px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]:hover{outline:none;color:#1d1d1f!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#1d1d1f!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#6e6e73;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:52px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 1024px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}}.cwd2433[_ngcontent-%COMP%]{width:270px}.cwd2434[_ngcontent-%COMP%]{width:170px}#services1[_ngcontent-%COMP%], #services2[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:1}.mask[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;width:30%;bottom:10rem}@media (max-width: 991px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:12rem}}@media (max-width: 767px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}}@media (max-width: 600px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:20rem;width:75%}}@media (max-width: 480px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:0;width:100%}}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.backeeedf0[_ngcontent-%COMP%]{overflow:visible!important}.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;left:auto;width:21%;bottom:0}@media (max-width: 991px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:12rem}}@media (max-width: 767px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}}@media (max-width: 600px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:20rem;width:75%}}@media (max-width: 480px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:0;width:100%}}']}),e})(),O0=(()=>{class e{constructor(n){this.http=n,this.getStripSessionLink=i=>this.http.post(Et_backendUrl+"/api/home/stripe-payments",i,{observe:"response"}).pipe((0,Dr.K)(o=>(0,Vr._)(o))),this.savePaymentSuccess=i=>this.http.post(Et_backendUrl+"/api/home/save-stripe-payments",i,{observe:"response"}).pipe((0,Dr.K)(o=>(0,Vr._)(o)))}}return e.\u0275fac=function(n){return new(n||e)(Ft(ul))},e.\u0275prov=lt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Dge=["myVideo"];function Age(e,t){if(1&e){const n=or();x(0,"div",110)(1,"div",154)(2,"a",155)(3,"img",156),Ct("mouseenter",function(){const o=Dn(n).index;return Yt(Ze().onMouseEnter(o))})("mouseleave",function(){return Dn(n),Yt(Ze().onMouseLeave())}),M(),x(4,"div",157)(5,"p",158),E(6),M(),x(7,"p",159),oe(8,"span",160),M()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=Ze();se(2),dc("href",n.link,ve),se(1),qh("galleryimg",i,""),zl("src","",r.imagepath,"",n.image,"",ve),se(3),Cs(n.name),se(2),$e("innerHTML",n.desc,Ll)}}function Tge(e,t){if(1&e&&(x(0,"a",161),oe(1,"img",162),x(2,"div",157)(3,"p",158),E(4),M(),x(5,"p",159),oe(6,"span",160),M()()()),2&e){const n=Ze().$implicit,i=Ze();dc("href",n.link,ve),se(1),zl("src","",i.imagepath,"",n.project_images[0],"",ve),se(3),Cs(n.name),se(2),$e("innerHTML",n.desc,Ll)}}function kge(e,t){if(1&e&&(zr(0),tt(1,Tge,7,5,"ng-template",123),Ur()),2&e){const n=t.$implicit,i=t.index;se(1),$e("id",n+i)}}function Ige(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/dnour.svg",ve)}}function Rge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/crystal.svg",ve)}}function Nge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/miniaar.svg",ve)}}function Fge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/bni.svg",ve)}}function Lge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/angle.svg",ve)}}function Bge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/pakhis.svg",ve)}}function zge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/drminnie.svg",ve)}}function Uge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/veddentta.svg",ve)}}function jge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/autokoorosh.svg",ve)}}function Vge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/fractal.svg",ve)}}function Hge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/aetrio.svg",ve)}}function Gge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/wrae.svg",ve)}}function Wge(e,t){if(1&e&&(x(0,"div",163)(1,"a",164),oe(2,"img",165),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/beyou.svg",ve)}}function qge(e,t){if(1&e&&(x(0,"div",166)(1,"div",77)(2,"div",167)(3,"div",168),oe(4,"img",169),M()(),x(5,"div",170)(6,"div",171)(7,"p",172),E(8,"Hiral Krupesh . Founder & Creative Director . Carat Craft Jewellery"),M(),x(9,"h4",173),E(10,"I HIGHLY RECOMMEND PIXTAR IF YOU ARE LOOKING TO REVAMP AND ELEVATE YOUR BRAND"),M(),x(11,"p",174),E(12,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()(),x(13,"div",175)(14,"div",171)(15,"p",176),E(16,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()()()()),2&e){const n=Ze();se(4),xe("src","",n.baseUrl,"/img/home/crystal-story.png",ve)}}function Yge(e,t){1&e&&(x(0,"div",196)(1,"div"),E(2," Name is required. "),M()())}function Xge(e,t){if(1&e&&(x(0,"div",196)(1,"div"),E(2),M()()),2&e){const n=Ze(2);se(2),Ia(" ",n.hasEmailError("email","required")," ")}}function $ge(e,t){if(1&e){const n=or();x(0,"div",177)(1,"h5",178),E(2),M(),x(3,"button",179),Ct("click",function(){return Yt(Dn(n).$implicit.dismiss("Cross click"))}),x(4,"span",180),E(5," \xd7 "),M()()(),x(6,"div",181)(7,"div",182)(8,"div",1)(9,"div",2)(10,"div",183)(11,"div",128)(12,"form",184),Ct("ngSubmit",function(){return Dn(n),Yt(Ze().submitPayment())}),x(13,"div",185)(14,"div",186),oe(15,"input",187),x(16,"label",188),E(17,"What's your name?"),M(),tt(18,Yge,3,0,"div",189),M(),x(19,"div",186),oe(20,"input",190),x(21,"label",188),E(22,"What\u2019s your e-mail?"),M(),tt(23,Xge,3,1,"div",189),M(),x(24,"div",191)(25,"div",192),oe(26,"input",193),M(),x(27,"div",194)(28,"button",195),Ct("click",function(){return Dn(n),Yt(Ze().closePopUp())}),E(29,"Cancel"),M()()()()()()()()()()()}if(2&e){const n=Ze();se(2),Ia(" Complete Your Payment - ",n.paymentData.name," "),se(10),$e("formGroup",n.paymentForm),se(6),$e("ngIf",n.submitted&&n.hasError("name","required")),se(5),$e("ngIf",n.submitted&&n.hasEmailError("email","required"))}}const Kge=function(e){return{width:e}};let Qge=(()=>{class e{constructor(n,i,r,o,s,a,l,c,h,d,u,f,v){this.renderer=n,this._platformId=i,this.testimonialService=r,this.pageservice=o,this.metaTagService=s,this.titleService=a,this.blogService=l,this.formBuilder=c,this.http=h,this.projectservice=d,this.modalService=u,this.activeModal=f,this.payementservice=v,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:2},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.hasError=(y,_)=>this.paymentForm.controls[y].hasError(_),this.hasEmailError=(y,_)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(_),this.tabTitle="Try with us",this.baseUrl=Et_baseUrl+"/assets",this.imagepath=Et_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}onScroll(n){const i=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+i/10)}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",hl.required],email:["",hl.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(i=>{200==i.body.code&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(i=>{200==i.code&&i.result&&i.result.length>0&&i.result.forEach(r=>{r.status&&this.allprojects.push(r)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(n){let r=this.allprojects[n].project_images,o=this.imagepath,s=document.getElementsByClassName("galleryimg"+n);this.sliderInterval=setInterval(()=>{$(s).each(function(a){let l=r[(a+Math.floor(Math.random()*r.length))%r.length];$(s).attr("src",o+l)})},900)}openPopup(n){this.modalReference=this.modalService.open(n,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}getDismissReason(n){return n===za.ESC?"by pressing ESC":n===za.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${n}`}getStripPayemts(n,i,r){this.paymentData={name:n,amount:i},this.modalReference=this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Et_baseUrl,this.payementservice.getStripSessionLink(this.paymentData).subscribe(n=>{200==n.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(n.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}changeTabTitle(n){this.tabTitle=n}ngAfterViewInit(){const n=this.videoElement.nativeElement;n.muted=!0,n.loop=!0,n.play().catch(i=>{console.log("Autoplay failed, user interaction may be required:",i)})}playInFullscreenWithAudio(){const n=this.videoElement.nativeElement;n.muted=!1,n.removeAttribute("controls"),n.play().then(()=>{n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen&&n.mozRequestFullScreen()}).catch(i=>{console.log("Error entering fullscreen with audio: ",i)})}onFullscreenChange(){const n=this.videoElement.nativeElement;document.fullscreenElement===n||document.webkitFullscreenElement===n||document.msFullscreenElement===n||document.mozFullScreenElement===n?n.play().catch(i=>{console.log("Could not play in fullscreen mode:",i)}):(n.setAttribute("controls",""),n.muted=!0)}}return e.\u0275fac=function(n){return new(n||e)(Me(rs),Me(hc),Me(M0),Me(xc),Me(cl),Me(dl),Me(P0),Me(tm),Me(ul),Me(pm),Me(um),Me(su),Me(O0))},e.\u0275cmp=Yn({type:e,selectors:[["app-brading"]],viewQuery:function(n,i){if(1&n&&dp(Dge,5),2&n){let r;Sr(r=Er())&&(i.videoElement=r.first)}},hostBindings:function(n,i){1&n&&Ct("fullscreenchange",function(o){return i.onFullscreenChange(o)},0,Ff)("scroll",function(o){return i.onScroll(o)},!1,Nf)},decls:439,vars:19,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","#",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"col-md-12","col-sm-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand"],[1,"col-xxl-12","col-xl-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor1"],[1,"barcy","text-color"],[1,"textcolor2"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","container"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"h1","weight300","text-center"],[1,"textcolor1","size53"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","client","backeeedf0"],[1,"logos"],[1,"fontsize12","mb-0"],["carouselSlide",""],[1,"section","packages","pt-0","backeeedf0"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"packages-section"],[1,"wght500","text-center","mb-3","mt-0"],[1,"size24","textcolor2","text-center"],[1,"col-md-10","col-sm-11","col-11","mx-auto","mt-5"],[1,"row","justify-content-center"],[1,"col-xl-6","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1"],[1,"circle2"],[1,"size16","textcolor3"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"d-block"],[1,"box"],[1,"col-xl-6","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","p-3","shadow",2,"max-width","600px"],[1,"text-start","p-3"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link",3,"click"],["aria-hidden","true",1,"fa","fa-bolt"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link",3,"click"],["id","nav-tabContent",1,"tab-content","p-3"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-6"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-center","border-0","p-0","mb-2"],[1,"fa","fa-check","me-2"],[1,"cstprng-table-cta","position-relative","mtrem8","started"],[1,"cstbtn",3,"click"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-none"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],[1,"success-story","bannerdrk"],[1,"col-md-11","col-sm-11","col-11","mx-auto"],[1,"content","mbrem8"],["carouselSlide","",3,"id"],[1,"section","bannerdrk","faqsection"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-md-10","col-sm-11","col-11","m-auto"],[1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,""],[1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["style","z-index: 0;"],["payments",""],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["target","_self",3,"href"],[3,"src"],[1,"team-img","position-relative","overflow-hidden"],["href","#","target","_blank","rel","noopener noreferrer"],[3,"src","alt"],[1,"col-md-9","col-sm-11","col-11","mx-auto"],[1,"col-lg-3","col-md-5","col-sm-5"],[1,"imgblk"],["alt","",1,"mx-auto",3,"src"],[1,"col-lg-8","col-md-7","offset-lg-1","col-sm-7","mt-sm-0","mt-3"],[1,"slidecontent"],[1,"fontsize12","textcolor1","text-white"],[1,"size32","textcolor1","mt-0","mb30","text-white"],[1,"size18","textcolor3","d-md-block","d-sm-none","d-none","text-white"],[1,"col-md-12","d-md-none","d-sm-block","d-block","mt-sm-4","mt-3"],[1,"size18","textcolor3","text-white"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","content"],[1,"col-md-12"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],[1,"form-floating","mb-3"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["for","floatingInput",1,"mt-0"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Pay Now",1,"submit"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],[1,"error"]],template:function(n,i){if(1&n){const r=or();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),E(8,"Build a "),x(9,"span",8),E(10,"Brand "),M()(),x(11,"h1",7),E(12,"that feels just right."),M()()()()()(),x(13,"div",9)(14,"ul",10)(15,"li")(16,"a",11),oe(17,"img",12),M()(),x(18,"li")(19,"a",13),oe(20,"img",14),M()(),x(21,"li")(22,"a",15),oe(23,"img",12),M()(),x(24,"li")(25,"a",16),oe(26,"img",17),M()()(),x(27,"div",18)(28,"p"),E(29,"Crafted with the precision of "),M(),x(30,"p"),E(31,"the golden ratio and originality"),M()()(),x(32,"div",19)(33,"p")(34,"a",20)(35,"span",21),E(36," Know About Branding"),M(),x(37,"span",22),oe(38,"i",23),M()()()()()(),oe(39,"div",24),x(40,"section",25)(41,"div",1)(42,"div",2)(43,"div",26)(44,"div",27)(45,"video",28,29),Ct("click",function(){return i.playInFullscreenWithAudio()}),oe(47,"source",30)(48,"source",31),E(49," Your browser does not support the video tag. "),M()()()()()(),x(50,"section",32)(51,"div",1)(52,"div",2)(53,"div",33)(54,"div",34)(55,"h2",35)(56,"span",36),E(57," Your brand isn\u2019t just a"),M(),x(58,"span",37),E(59," Logo"),M(),E(60,". "),x(61,"span",38),E(62,"It\u2019s how the world sees you. At "),M(),x(63,"span",36),E(64," Pixtar"),M(),E(65,", "),x(66,"span",38),E(67," we blend art with strategy to create bespoke branding solutions "),M(),E(68," that "),x(69,"span",36),E(70,"make your story unforgettable."),M()()()()()()(),x(71,"section",39)(72,"div",40)(73,"div",2)(74,"div",33)(75,"div",41)(76,"h1",42),oe(77,"div",43),E(78," Recent Works "),M()()(),x(79,"div",33)(80,"div",2),tt(81,Age,9,8,"div",44),M()()()(),x(82,"div",45)(83,"div",46)(84,"div",41)(85,"h1",42),oe(86,"div",43),E(87," Recent Works "),M()()(),x(88,"owl-carousel-o",47),tt(89,kge,2,1,"ng-container",48),M()(),x(90,"div",49)(91,"div",2)(92,"div",50)(93,"div",51)(94,"div",52)(95,"div",53)(96,"p")(97,"a",54)(98,"span",55),E(99,"Book A Consultation"),M(),x(100,"span",22),oe(101,"i",23),M()()()()()()()()()(),x(102,"section",56)(103,"div",1)(104,"div",2)(105,"div",33)(106,"div",57)(107,"p",58)(108,"span",59),E(109,"Why Choose Pixtar?"),M()(),x(110,"div",60)(111,"div",2)(112,"div",61)(113,"div",62),oe(114,"img",63),x(115,"p",64),E(116,"Crafted With The Golden Ratio"),M(),x(117,"p",65),E(118,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()(),x(119,"div",66)(120,"div",62),oe(121,"img",63),x(122,"p",64),E(123,"Crafted With The Golden Ratio"),M(),x(124,"p",65),E(125,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()(),x(126,"div",61)(127,"div",62),oe(128,"img",63),x(129,"p",64),E(130,"Crafted With The Golden Ratio"),M(),x(131,"p",65),E(132,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()()()()()()()()(),x(133,"section",67)(134,"div",1)(135,"div",2)(136,"div",33)(137,"div",68)(138,"p",69),E(139,"OUR CLIENTS INCLUDE\u2026"),M(),x(140,"owl-carousel-o",47),zr(141),tt(142,Ige,3,1,"ng-template",70),tt(143,Rge,3,1,"ng-template",70),tt(144,Nge,3,1,"ng-template",70),tt(145,Fge,3,1,"ng-template",70),tt(146,Lge,3,1,"ng-template",70),tt(147,Bge,3,1,"ng-template",70),tt(148,zge,3,1,"ng-template",70),tt(149,Uge,3,1,"ng-template",70),tt(150,jge,3,1,"ng-template",70),tt(151,Vge,3,1,"ng-template",70),tt(152,Hge,3,1,"ng-template",70),tt(153,Gge,3,1,"ng-template",70),tt(154,Wge,3,1,"ng-template",70),Ur(),M()()()()()(),x(155,"section",71)(156,"div",1)(157,"div",2)(158,"div",72)(159,"div",73)(160,"h2",74)(161,"span",59),E(162,"What\u2019s Included in Our Branding Packages?"),M()(),x(163,"p",75),E(164,"Whether you\u2019re starting from scratch or need a brand overhaul, we\u2019ve got you covered."),M()()(),x(165,"div",76)(166,"div",77)(167,"div",78)(168,"div",79)(169,"div",80)(170,"div",81)(171,"div",82)(172,"div",83),oe(173,"div",84)(174,"div",85),M(),x(175,"div",21)(176,"p",86),E(177,"Slots available"),M()()()(),x(178,"h1",87),E(179,"Join "),M(),x(180,"h1",88),E(181,"Pixtar"),M(),x(182,"div",89)(183,"h4",90),E(184,"Book a 15-min intro Call"),M(),x(185,"p",86),E(186,"Learn more about how Pixtar "),x(187,"span",91),E(188," works and how it can help you."),M()()(),x(189,"div",92)(190,"h4",90),E(191,"Refer a friend & earn"),M(),x(192,"p",86),E(193,"Earn 5% monthly recurring "),x(194,"span",91),E(195," commission for each referral."),M()()()()()(),x(196,"div",93)(197,"div",94)(198,"h2",95),E(199),M(),x(200,"nav")(201,"div",96)(202,"button",97),Ct("click",function(){return i.changeTabTitle("Try with us")}),E(203," Explorer "),M(),x(204,"button",98),Ct("click",function(){return i.changeTabTitle("Most Suitable")}),oe(205,"i",99),E(206," Navigator "),M(),x(207,"button",100),Ct("click",function(){return i.changeTabTitle("Create a Brand")}),E(208," Pioneer "),M()()(),x(209,"div",101)(210,"div",102)(211,"div",103)(212,"div",104)(213,"h4",105),E(214,"AED 7,995"),M(),x(215,"h5",106),E(216,"Perfect for startups."),M()(),oe(217,"div",107),x(218,"div",108)(219,"h5",109),E(220,"What\u2019s included"),M(),x(221,"div",2)(222,"div",110)(223,"ul",111)(224,"li",112),oe(225,"i",113),E(226,"Logo design (3 Options) "),M(),x(227,"li",112),oe(228,"i",113),E(229,"Business card "),M(),x(230,"li",112),oe(231,"i",113),E(232,"Letterhead and Envelop "),M()()(),x(233,"div",110)(234,"ul",111)(235,"li",112),oe(236,"i",113),E(237,"1 Revisions (On shortlisted) "),M(),x(238,"li",112),oe(239,"i",113),E(240,"2 Color options "),M(),x(241,"li",112),oe(242,"i",113),E(243,"13 Days Delivery "),M()()()()(),x(244,"div",114)(245,"div",19)(246,"p")(247,"a",115),Ct("click",function(){Dn(r);const s=Go(438);return Yt(i.getStripPayemts("Explorer",7995,s))}),x(248,"span",21),E(249," Get Started"),M(),x(250,"span",22),oe(251,"i",23),M()()()(),x(252,"p",116),E(253,"Or "),x(254,"a",117),E(255,"book a call"),M()()()()(),x(256,"div",118)(257,"div",103)(258,"div",104)(259,"h4",105),E(260,"AED 13,995"),M(),x(261,"h5",106),E(262,"A full brand identity suite."),M()(),oe(263,"div",107),x(264,"div",108)(265,"h5",109),E(266,"What\u2019s included"),M(),x(267,"div",2)(268,"div",110)(269,"ul",111)(270,"li",112),oe(271,"i",113),E(272,"Logo design (3 Options) "),M(),x(273,"li",112),oe(274,"i",113),E(275,"Business card "),M(),x(276,"li",112),oe(277,"i",113),E(278,"Letterhead and Envelop "),M(),x(279,"li",112),oe(280,"i",113),E(281,"Brand Guidelines "),M()()(),x(282,"div",110)(283,"ul",111)(284,"li",112),oe(285,"i",113),E(286,"Packing Design (1 Product) "),M(),x(287,"li",112),oe(288,"i",113),E(289,"2 Revisions (On shortlisted) "),M(),x(290,"li",112),oe(291,"i",113),E(292,"5 Color options "),M(),x(293,"li",112),oe(294,"i",113),E(295,"10 Days Delivery "),M()()()()(),x(296,"div",114)(297,"div",19)(298,"p")(299,"a",115),Ct("click",function(){Dn(r);const s=Go(438);return Yt(i.getStripPayemts("Navigator",13995,s))}),x(300,"span",21),E(301," Get Started"),M(),x(302,"span",22),oe(303,"i",23),M()()()(),x(304,"p",116),E(305,"Or "),x(306,"a",117),E(307,"book a call"),M()()()()(),x(308,"div",119)(309,"div",103)(310,"div",104)(311,"h4",105),E(312,"AED 48,995"),M(),x(313,"h5",106),E(314,"The ultimate package with unlimited requests."),M()(),oe(315,"div",107),x(316,"div",108)(317,"h5",109),E(318,"What\u2019s included"),M(),x(319,"div",2)(320,"div",110)(321,"ul",111)(322,"li",112),oe(323,"i",113),E(324,"Logo design (Unlimited) "),M(),x(325,"li",112),oe(326,"i",113),E(327,"Business card "),M(),x(328,"li",112),oe(329,"i",113),E(330,"Letterhead and Envelop "),M(),x(331,"li",112),oe(332,"i",113),E(333,"Detailed Brand Guidelines "),M()()(),x(334,"div",110)(335,"ul",111)(336,"li",112),oe(337,"i",113),E(338,"Packing Design (5 Product) "),M(),x(339,"li",112),oe(340,"i",113),E(341,"Unlimited Revisions (Shortlisted) "),M(),x(342,"li",112),oe(343,"i",113),E(344,"Unlimited Color options "),M(),x(345,"li",112),oe(346,"i",113),E(347,"20 Days Delivery "),M()()()()(),x(348,"div",114)(349,"div",19)(350,"p")(351,"a",115),Ct("click",function(){Dn(r);const s=Go(438);return Yt(i.getStripPayemts("Pioneer",48995,s))}),x(352,"span",21),E(353," Get Started"),M(),x(354,"span",22),oe(355,"i",23),M()()()(),x(356,"p",116),E(357,"Or "),x(358,"a",117),E(359,"book a call"),M()()()()()()()()()()()()(),x(360,"section",120)(361,"div",1)(362,"div",77)(363,"div",121),oe(364,"div",122),x(365,"owl-carousel-o",47),zr(366),tt(367,qge,17,1,"ng-template",123),Ur(),M()()()()(),x(368,"section",124)(369,"div",1)(370,"div",2)(371,"div",125)(372,"div",2)(373,"div",126)(374,"div",127)(375,"h1",128),E(376," What "),oe(377,"br"),E(378," makes Pixtar "),oe(379,"br"),E(380," Special? "),oe(381,"br"),x(382,"span"),E(383," And other FAQs\u2026 "),M()()()(),x(384,"div",129)(385,"div",91)(386,"div",130)(387,"div",131)(388,"div",132)(389,"h2",133)(390,"button",134),E(391," Alright, no secrets \u2013 what makes Pixtar stand out? "),M()(),x(392,"div",135)(393,"div",136),E(394," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),M()()(),x(395,"div",132)(396,"h2",137)(397,"button",138),E(398," Where are you based? "),M()(),x(399,"div",139)(400,"div",136),E(401," Virtually, next door! We\u2019re proudly based in Dubai, UAE, but our team collaborates with clients worldwide, making distance no barrier to outstanding design! Our business hours are 9 am\u20136 pm GST / 1 am\u201310 am EST / 10 pm\u20137 am PST. But with our early-rising CEO and night-owl CTO, we\u2019re always able to sync up with clients from LA all the way to Australia\u2014and all the lovely places in between. "),M()()(),x(402,"div",132)(403,"h2",140)(404,"button",141),E(405," How are you different from a freelance designer? "),M()(),x(406,"div",142)(407,"div",136),E(408," At Pixtar, you get the expertise of an entire team, not just one individual. We bring together specialized skills in design, strategy, and development, providing a more comprehensive approach and smoother project delivery. "),M()()(),x(409,"div",132)(410,"h2",143)(411,"button",144),E(412," What other design magic do you offer? "),M()(),x(413,"div",145)(414,"div",136),E(415," Besides website design, we specialize in branding, UI/UX design, graphic design, and digital marketing assets. Whatever your design needs, Pixtar has the creative solution. "),M()()(),x(416,"div",132)(417,"h2",143)(418,"button",146),E(419," Who do you usually work with? "),M()(),x(420,"div",147)(421,"div",136),E(422," We collaborate with businesses of all sizes\u2014from startups to established brands\u2014across a range of industries, including Lifestyle, healthcare, technology, real estate, and more. "),M()()(),x(423,"div",132)(424,"h2",143)(425,"button",148),E(426," Which platforms do you use for building websites? "),M()(),x(427,"div",149)(428,"div",136),E(429," We work with popular platforms like Angular, Node.js, React, Shopify, Magento and Webflow, ensuring you get a website that\u2019s not only beautiful but also easy to manage and scalable. "),M()()(),x(430,"div",132)(431,"h2",143)(432,"button",150),E(433," I\u2019m in! When can we get started? "),M()(),x(434,"div",151)(435,"div",136),E(436," We\u2019re thrilled to have you onboard! Just reach out through our contact page, and we\u2019ll set up a kickoff meeting to dive into your project. "),M()()()()()()()()()()()(),tt(437,$ge,30,4,"ng-template",152,153,Ul)}2&n&&(se(17),xe("src","",i.baseUrl,"/img/home/social-media/instagram.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/facebook.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/linkedin.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/whatsapp.svg",ve),se(17),$e("ngStyle",al(17,Kge,i.sectionWidth+"%")),se(4),xe("src","",i.baseUrl,"/what is brandng pixtar 2.mp4",ve),se(1),xe("src","",i.baseUrl,"/what is brandng pixtar 2.mp4",ve),se(33),$e("ngForOf",i.allprojects),se(7),$e("options",i.recentoptions),se(1),$e("ngForOf",i.allprojects),se(25),xe("src","",i.baseUrl,"/img/home/art-icons/craft.png",ve),se(7),xe("src","",i.baseUrl,"/img/home/art-icons/solution.png",ve),se(7),xe("src","",i.baseUrl,"/img/home/art-icons/beyond.png",ve),se(12),$e("options",i.clientslider),se(59),Cs(i.tabTitle),se(166),$e("options",i.desktopslider),se(2),$e("id",i.baseUrl))},dependencies:[pa,Us,Yf,_c,a0,vp,r0,o0,xp,Jf,Zd,bc],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:400px;justify-content:start;align-items:center;left:8%!important;bottom:3%!important}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{left:3%!important}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:270px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:7.1rem}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:4rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1.5rem}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:50px 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:30px 10px 30px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]{cursor:pointer}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:170px}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #707070;border-radius:33px;position:relative;display:inline-block;padding:10px 15px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#5b5b5f;border:1px solid #707070}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;border-radius:50px;margin-bottom:0;height:100%}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px;font-weight:400}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:6rem;bottom:10px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:100%}@media (max-width: 480px){  video{width:100%}}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:95px;z-index:3}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-top:1px dashed #6e6e73;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#6e6e73;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdbtm[_ngcontent-%COMP%]{border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:10px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}']}),e})();const Zge=["myVideo"];function Jge(e,t){if(1&e){const n=or();x(0,"div",159)(1,"div",160)(2,"a",161)(3,"img",162),Ct("mouseenter",function(){const o=Dn(n).index;return Yt(Ze().onMouseEnter(o))})("mouseleave",function(){return Dn(n),Yt(Ze().onMouseLeave())}),M(),x(4,"div",163)(5,"p",164),E(6),M(),x(7,"p",165),oe(8,"span",166),M()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=Ze();se(2),dc("href",n.link,ve),se(1),qh("galleryimg",i,""),zl("src","",r.imagepath,"",n.image,"",ve),se(3),Cs(n.name),se(2),$e("innerHTML",n.desc,Ll)}}function e0e(e,t){if(1&e&&(x(0,"a",167),oe(1,"img",168),x(2,"div",163)(3,"p",164),E(4),M(),x(5,"p",165),oe(6,"span",166),M()()()),2&e){const n=Ze().$implicit,i=Ze();dc("href",n.link,ve),se(1),zl("src","",i.imagepath,"",n.project_images[0],"",ve),se(3),Cs(n.name),se(2),$e("innerHTML",n.desc,Ll)}}function t0e(e,t){if(1&e&&(zr(0),tt(1,e0e,7,5,"ng-template",128),Ur()),2&e){const n=t.$implicit,i=t.index;se(1),$e("id",n+i)}}function n0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/dnour.svg",ve)}}function i0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/crystal.svg",ve)}}function r0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/miniaar.svg",ve)}}function o0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/bni.svg",ve)}}function s0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/angle.svg",ve)}}function a0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/pakhis.svg",ve)}}function l0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/drminnie.svg",ve)}}function c0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/veddentta.svg",ve)}}function d0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/autokoorosh.svg",ve)}}function h0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/fractal.svg",ve)}}function u0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/aetrio.svg",ve)}}function p0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/wrae.svg",ve)}}function f0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/beyou.svg",ve)}}function m0e(e,t){if(1&e&&(x(0,"div",172)(1,"div",78)(2,"div",173)(3,"div",174),oe(4,"img",175),M()(),x(5,"div",176)(6,"div",177)(7,"p",178),E(8,"Hiral Krupesh . Founder & Creative Director . Carat Craft Jewellery"),M(),x(9,"h4",179),E(10,"I HIGHLY RECOMMEND PIXTAR IF YOU ARE LOOKING TO REVAMP AND ELEVATE YOUR BRAND"),M(),x(11,"p",180),E(12,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()(),x(13,"div",181)(14,"div",177)(15,"p",182),E(16,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()()()()),2&e){const n=Ze();se(4),xe("src","",n.baseUrl,"/img/home/hiral-story-2.png",ve)}}function g0e(e,t){1&e&&(x(0,"div",201)(1,"div"),E(2," Name is required. "),M()())}function v0e(e,t){if(1&e&&(x(0,"div",201)(1,"div"),E(2),M()()),2&e){const n=Ze(2);se(2),Ia(" ",n.hasEmailError("email","required")," ")}}function y0e(e,t){if(1&e){const n=or();x(0,"div",183)(1,"h4",184),E(2),M(),x(3,"button",185),Ct("click",function(){return Yt(Dn(n).$implicit.dismiss("Cross click"))}),x(4,"span",186),E(5," \xd7 "),M()()(),x(6,"div",187)(7,"div",188)(8,"div",1)(9,"div",2)(10,"div",111)(11,"div",133)(12,"form",189),Ct("ngSubmit",function(){return Dn(n),Yt(Ze().submitPayment())}),x(13,"div",190)(14,"div",191),oe(15,"input",192),x(16,"label",193),E(17,"What's your name?"),M(),tt(18,g0e,3,0,"div",194),M(),x(19,"div",191),oe(20,"input",195),x(21,"label",193),E(22,"What\u2019s your e-mail?"),M(),tt(23,v0e,3,1,"div",194),M(),x(24,"div",196)(25,"div",197),oe(26,"input",198),M(),x(27,"div",199)(28,"button",200),Ct("click",function(){return Dn(n),Yt(Ze().closePopUp())}),E(29,"Cancel"),M()()()()()()()()()()()}if(2&e){const n=Ze();se(2),Ia(" ",n.paymentData.name," Payments "),se(10),$e("formGroup",n.paymentForm),se(6),$e("ngIf",n.submitted&&n.hasError("name","required")),se(5),$e("ngIf",n.submitted&&n.hasEmailError("email","required"))}}const _0e=function(e){return{width:e}};let b0e=(()=>{class e{constructor(n,i,r,o,s,a,l,c,h,d,u,f,v){this.renderer=n,this._platformId=i,this.testimonialService=r,this.pageservice=o,this.metaTagService=s,this.titleService=a,this.blogService=l,this.formBuilder=c,this.http=h,this.projectservice=d,this.modalService=u,this.activeModal=f,this.payementservice=v,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:2},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.hasError=(y,_)=>this.paymentForm.controls[y].hasError(_),this.hasEmailError=(y,_)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(_),this.tabTitle="Try with us",this.baseUrl=Et_baseUrl+"/assets",this.imagepath=Et_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}onScroll(n){const i=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+i/10)}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",hl.required],email:["",hl.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(i=>{200==i.body.code&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(i=>{200==i.code&&i.result&&i.result.length>0&&i.result.forEach(r=>{r.status&&this.allprojects.push(r)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(n){let r=this.allprojects[n].project_images,o=this.imagepath,s=document.getElementsByClassName("galleryimg"+n);this.sliderInterval=setInterval(()=>{$(s).each(function(a){let l=r[(a+Math.floor(Math.random()*r.length))%r.length];$(s).attr("src",o+l)})},900)}openPopup(n){this.modalReference=this.modalService.open(n,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}getDismissReason(n){return n===za.ESC?"by pressing ESC":n===za.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${n}`}getStripPayemts(n,i,r){this.paymentData={name:n,amount:i},this.modalReference=this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Et_baseUrl,this.payementservice.getStripSessionLink(this.paymentData).subscribe(n=>{200==n.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(n.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}changeTabTitle(n){this.tabTitle=n}ngAfterViewInit(){const n=this.videoElement.nativeElement;n.muted=!0,n.loop=!0,n.play().catch(i=>{console.log("Autoplay failed, user interaction may be required:",i)})}playInFullscreenWithAudio(){const n=this.videoElement.nativeElement;n.muted=!1,n.removeAttribute("controls"),n.play().then(()=>{n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen&&n.mozRequestFullScreen()}).catch(i=>{console.log("Error entering fullscreen with audio: ",i)})}onFullscreenChange(){const n=this.videoElement.nativeElement;document.fullscreenElement===n||document.webkitFullscreenElement===n||document.msFullscreenElement===n||document.mozFullScreenElement===n?n.play().catch(i=>{console.log("Could not play in fullscreen mode:",i)}):(n.setAttribute("controls",""),n.muted=!0)}}return e.\u0275fac=function(n){return new(n||e)(Me(rs),Me(hc),Me(M0),Me(xc),Me(cl),Me(dl),Me(P0),Me(tm),Me(ul),Me(pm),Me(um),Me(su),Me(O0))},e.\u0275cmp=Yn({type:e,selectors:[["app-website"]],viewQuery:function(n,i){if(1&n&&dp(Zge,5),2&n){let r;Sr(r=Er())&&(i.videoElement=r.first)}},hostBindings:function(n,i){1&n&&Ct("scroll",function(o){return i.onScroll(o)},0,Nf)("fullscreenchange",function(o){return i.onFullscreenChange(o)},!1,Ff)},decls:515,vars:19,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","home#strategy",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"col-md-12","col-sm-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand"],[1,"col-md-11","col-sm-11","col-11","mx-md-0","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor2"],[1,"barcy","text-color"],[1,"textcolor1"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"col-xxl-12","col-xl-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","container"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"h1","weight300","text-center"],[1,"textcolor1","size53"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","client","bg1"],[1,"logos"],[1,"fontsize12","mb-0"],["carouselSlide",""],[1,"section","packages","pt-0"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"packages-section"],[1,"wght500","text-center","mb-3","mt-0"],[1,"size24","textcolor2","text-center"],[1,"col-md-10","col-sm-11","col-11","mx-auto","mt-5"],[1,"row","justify-content-center"],[1,"col-xl-6","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1"],[1,"circle2"],[1,"size16","textcolor3"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"d-block"],[1,"box"],[1,"col-xl-6","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","p-3","shadow",2,"max-width","600px"],[1,"text-center","p-3"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link",3,"click"],["aria-hidden","true",1,"fa","fa-bolt"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link",3,"click"],["id","nav-tabContent",1,"tab-content","p-3"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-12"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"list-group-item","d-flex","justify-content-start","align-items-center"],[1,"fa","fa-check"],[1,"ms-2"],[1,"cstprng-table-cta","position-relative","mtrem8","started"],[1,"cstbtn",3,"click"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-none"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],[1,"success-story","bannerdrk"],[1,"col-md-11","col-sm-11","col-11","mx-auto"],[1,"content","mbrem8"],["carouselSlide","",3,"id"],[1,"section","bannerdrk","faqsection"],[1,"col-md-10","col-sm-11","col-11","m-auto"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,""],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["style","z-index: 0;"],["payments",""],[1,"col-md-6"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["target","_self",3,"href"],[3,"src"],[1,"team-img","position-relative","overflow-hidden"],["href","#","target","_blank","rel","noopener noreferrer"],[3,"src","alt"],[1,"col-md-9","col-sm-11","col-11","mx-auto"],[1,"col-lg-3","col-md-5","col-sm-5"],[1,"imgblk"],["alt","",1,"",3,"src"],[1,"col-lg-8","col-md-7","offset-lg-1","col-sm-7","mt-sm-0","mt-3"],[1,"slidecontent"],[1,"fontsize12","textcolor1","text-white"],[1,"size32","textcolor1","mt-0","mb30","text-white"],[1,"size18","textcolor3","d-md-block","d-sm-none","d-none","text-white"],[1,"col-md-12","d-md-none","d-sm-block","d-block","mt-sm-4","mt-3"],[1,"size18","textcolor3","text-white"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","content"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],[1,"form-floating","mb-3"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["for","floatingInput",1,"mt-0"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Send",1,"submit"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],[1,"error"]],template:function(n,i){if(1&n){const r=or();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),E(8,"A Custom-Built "),x(9,"span",8),E(10,"Website "),M()(),x(11,"h1",7),E(12,"for Every Screen"),M()()()()()(),x(13,"div",9)(14,"ul",10)(15,"li")(16,"a",11),oe(17,"img",12),M()(),x(18,"li")(19,"a",13),oe(20,"img",14),M()(),x(21,"li")(22,"a",15),oe(23,"img",12),M()(),x(24,"li")(25,"a",16),oe(26,"img",17),M()()(),x(27,"div",18)(28,"p"),E(29,"Website is your virtual office so "),M(),x(30,"p"),E(31,"\u2014No Templates, Just Magic."),M()()(),x(32,"div",19)(33,"p")(34,"a",20)(35,"span",21),E(36," Know About Branding"),M(),x(37,"span",22),oe(38,"i",23),M()()()()()(),oe(39,"div",24),x(40,"section",25)(41,"div",1)(42,"div",2)(43,"div",26)(44,"div",27)(45,"video",28,29),Ct("click",function(){return i.playInFullscreenWithAudio()}),oe(47,"source",30)(48,"source",31),E(49," Your browser does not support the video tag. "),M()()()()()(),x(50,"section",32)(51,"div",1)(52,"div",2)(53,"div",33)(54,"div",34)(55,"h2",35)(56,"span",36),E(57,"We just don\u2019t build"),M(),x(58,"span",37),E(59," Websites"),M(),x(60,"span",38),E(61," ; we create experiences."),M(),x(62,"span",36),E(63,"Our "),M(),x(64,"span",38),E(65," custom-built websites are fast, functional"),M(),E(66,", "),x(67,"span",36),E(68,"& perfectly aligned with your business goals \u2014because "),M(),x(69,"span",38),E(70,"we don\u2019t believe in templates."),M()()()()()()(),x(71,"section",39)(72,"div",40)(73,"div",2)(74,"div",41)(75,"div",42)(76,"h1",43),oe(77,"div",44),E(78," Recent Works "),M()()(),x(79,"div",41)(80,"div",2),tt(81,Jge,9,8,"div",45),M()()()(),x(82,"div",46)(83,"div",47)(84,"div",42)(85,"h1",43),oe(86,"div",44),E(87," Recent Works "),M()()(),x(88,"owl-carousel-o",48),tt(89,t0e,2,1,"ng-container",49),M()(),x(90,"div",50)(91,"div",2)(92,"div",51)(93,"div",52)(94,"div",53)(95,"div",54)(96,"p")(97,"a",55)(98,"span",56),E(99,"Book A Consultation"),M(),x(100,"span",22),oe(101,"i",23),M()()()()()()()()()(),x(102,"section",57)(103,"div",1)(104,"div",2)(105,"div",41)(106,"div",58)(107,"p",59)(108,"span",60),E(109,"Why Choose Pixtar?"),M()(),x(110,"div",61)(111,"div",2)(112,"div",62)(113,"div",63),oe(114,"img",64),x(115,"p",65),E(116,"Crafted With The Golden Ratio"),M(),x(117,"p",66),E(118,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()(),x(119,"div",67)(120,"div",63),oe(121,"img",64),x(122,"p",65),E(123,"Custom Solutions. No Templates. Ever."),M(),x(124,"p",66),E(125,"Every brand is unique, and so is our approach. We build from scratch, ensuring your business is reflected in every detail."),M()()(),x(126,"div",62)(127,"div",63),oe(128,"img",64),x(129,"p",65),E(130,"Beyond The Limits, Always Transparent"),M(),x(131,"p",66),E(132,"We don\u2019t just deliver; we partner with you, going above and beyond with 100% transparency at every step of the way."),M()()()()()()()()()(),x(133,"section",68)(134,"div",1)(135,"div",2)(136,"div",41)(137,"div",69)(138,"p",70),E(139,"OUR CLIENTS INCLUDE\u2026"),M(),x(140,"owl-carousel-o",48),zr(141),tt(142,n0e,3,1,"ng-template",71),tt(143,i0e,3,1,"ng-template",71),tt(144,r0e,3,1,"ng-template",71),tt(145,o0e,3,1,"ng-template",71),tt(146,s0e,3,1,"ng-template",71),tt(147,a0e,3,1,"ng-template",71),tt(148,l0e,3,1,"ng-template",71),tt(149,c0e,3,1,"ng-template",71),tt(150,d0e,3,1,"ng-template",71),tt(151,h0e,3,1,"ng-template",71),tt(152,u0e,3,1,"ng-template",71),tt(153,p0e,3,1,"ng-template",71),tt(154,f0e,3,1,"ng-template",71),Ur(),M()()()()()(),x(155,"section",72)(156,"div",1)(157,"div",2)(158,"div",73)(159,"div",74)(160,"h2",75)(161,"span",60),E(162,"What\u2019s Included in Our Branding Packages?"),M()(),x(163,"p",76),E(164,"Whether you\u2019re starting from scratch or need a brand overhaul, we\u2019ve got you covered."),M()()(),x(165,"div",77)(166,"div",78)(167,"div",79)(168,"div",80)(169,"div",81)(170,"div",82)(171,"div",83)(172,"div",84),oe(173,"div",85)(174,"div",86),M(),x(175,"div",21)(176,"p",87),E(177,"Slots available"),M()()()(),x(178,"h1",88),E(179,"Join "),M(),x(180,"h1",89),E(181,"Pixtar"),M(),x(182,"div",90)(183,"h4",91),E(184,"Book a 15-min intro Call"),M(),x(185,"p",87),E(186,"Learn more about how Pixtar "),x(187,"span",92),E(188," works and how it can help you."),M()()(),x(189,"div",93)(190,"h4",91),E(191,"Refer a friend & earn"),M(),x(192,"p",87),E(193,"Earn 5% monthly recurring "),x(194,"span",92),E(195," commission for each referral."),M()()()()()(),x(196,"div",94)(197,"div",95)(198,"h2",96),E(199),M(),x(200,"nav")(201,"div",97)(202,"button",98),Ct("click",function(){return i.changeTabTitle("Try with us")}),E(203,"Explorer"),M(),x(204,"button",99),Ct("click",function(){return i.changeTabTitle("Most Suitable")}),oe(205,"i",100),E(206," Navigator"),M(),x(207,"button",101),Ct("click",function(){return i.changeTabTitle("Create a Brand")}),E(208,"Pioneer"),M()()(),x(209,"div",102)(210,"div",103)(211,"div",104)(212,"div",105)(213,"h4",106),E(214,"AED 9,995"),M(),x(215,"h5",107),E(216,"Static website, Perfect for startups. "),M()(),oe(217,"div",108),x(218,"div",109)(219,"h5",110),E(220,"What\u2019s included"),M(),x(221,"div",2)(222,"div",111)(223,"ul",112)(224,"li",113)(225,"div",114)(226,"div",115),E(227,"Tailored Ui/Ux Designing"),M()()(),x(228,"li",116),oe(229,"i",117),x(230,"span",118),E(231,"Custom Website Design upto 1 Theme Option"),M()(),x(232,"li",113)(233,"div",114)(234,"div",115),E(235,"Development"),M()()(),x(236,"li",116),oe(237,"i",117),x(238,"span",118),E(239,"Customized Front-End Development"),M()(),x(240,"li",116),oe(241,"i",117),x(242,"span",118),E(243,"Mobile, Tablet, & Desktop Responsive Design"),M()(),x(244,"li",116),oe(245,"i",117),x(246,"span",118),E(247,"Up to 8 Pages"),M()(),x(248,"li",116),oe(249,"i",117),x(250,"span",118),E(251,"Ability for Future Enhancements"),M()(),x(252,"li",116),oe(253,"i",117),x(254,"span",118),E(255,"Hosting Support"),M()(),x(256,"li",113)(257,"div",114)(258,"div",115),E(259,"Standout features"),M()()(),x(260,"li",116),oe(261,"i",117),x(262,"span",118),E(263,"Contact us Email Integration"),M()()()()()(),x(264,"div",119)(265,"div",19)(266,"p")(267,"a",120),Ct("click",function(){Dn(r);const s=Go(514);return Yt(i.getStripPayemts("Explorer",9995,s))}),x(268,"span",21),E(269," Get Started"),M(),x(270,"span",22),oe(271,"i",23),M()()()(),x(272,"p",121),E(273,"Or "),x(274,"a",122),E(275,"book a call"),M()()()()(),x(276,"div",123)(277,"div",104)(278,"div",105)(279,"h4",106),E(280,"AED 24,995"),M(),x(281,"h5",107),E(282,"Dynamic Website."),M()(),oe(283,"div",108),x(284,"div",109)(285,"h5",110),E(286,"What\u2019s included"),M(),x(287,"div",2)(288,"div",111)(289,"ul",112)(290,"li",113)(291,"div",114)(292,"div",115),E(293,"Tailored Ui/Ux Designing"),M()()(),x(294,"li",116),oe(295,"i",117),x(296,"span",118),E(297,"Custom Website Design upto 3 Theme Option"),M()(),x(298,"li",113)(299,"div",114)(300,"div",115),E(301,"Development"),M()()(),x(302,"li",116),oe(303,"i",117),x(304,"span",118),E(305,"Custom Front-End Development"),M()(),x(306,"li",116),oe(307,"i",117),x(308,"span",118),E(309,"Mobile, Tablet, and Desktop Responsive Design"),M()(),x(310,"li",116),oe(311,"i",117),x(312,"span",118),E(313,"Up to 20 Pages (Based on Final Requirements)"),M()(),x(314,"li",116),oe(315,"i",117),x(316,"span",118),E(317,"Ability for Future Enhancements"),M()(),x(318,"li",116),oe(319,"i",117),x(320,"span",118),E(321,"Hosting Support"),M()(),x(322,"li",113)(323,"div",114)(324,"div",115),E(325,"Standout features"),M()()(),x(326,"li",116),oe(327,"i",117),x(328,"span",118),E(329,"Admin Panel and User Management"),M()(),x(330,"li",116),oe(331,"i",117),x(332,"span",118),E(333,"SEO-Optimized Development"),M()(),x(334,"li",116),oe(335,"i",117),x(336,"span",118),E(337,"Google My Business Setup"),M()(),x(338,"li",116),oe(339,"i",117),x(340,"span",118),E(341,"Appointment Booking Integration"),M()(),x(342,"li",116),oe(343,"i",117),x(344,"span",118),E(345,"Contact Us Email Integration"),M()(),x(346,"li",116),oe(347,"i",117),x(348,"span",118),E(349,"Google Maps Integration"),M()()()()()(),x(350,"div",119)(351,"div",19)(352,"p")(353,"a",120),Ct("click",function(){Dn(r);const s=Go(514);return Yt(i.getStripPayemts("Navigator",24995,s))}),x(354,"span",21),E(355," Get Started"),M(),x(356,"span",22),oe(357,"i",23),M()()()(),x(358,"p",121),E(359,"Or "),x(360,"a",122),E(361,"book a call"),M()()()()(),x(362,"div",124)(363,"div",104)(364,"div",105)(365,"h4",106),E(366,"AED 59,995"),M(),x(367,"h5",107),E(368,"The ultimate package with unlimited requests."),M()(),oe(369,"div",108),x(370,"div",109)(371,"h5",110),E(372,"What\u2019s included"),M(),x(373,"div",2)(374,"div",111)(375,"ul",112)(376,"li",113)(377,"div",114)(378,"div",115),E(379,"Tailored Ui/Ux Designing"),M()()(),x(380,"li",116),oe(381,"i",117),x(382,"span",118),E(383,"Custom Website Design Upto 5 Theme Options"),M()(),x(384,"li",113)(385,"div",114)(386,"div",115),E(387,"Development & Standout Features"),M()()(),x(388,"li",116),oe(389,"i",117),x(390,"span",118),E(391,"Website Integration with CRM"),M()(),x(392,"li",116),oe(393,"i",117),x(394,"span",118),E(395,"Integration with other websites"),M()(),x(396,"li",116),oe(397,"i",117),x(398,"span",118),E(399,"Access to your Partners & Distributers to Create and Manage thier Account"),M()(),x(400,"li",116),oe(401,"i",117),x(402,"span",118),E(403,"User Pro\ufb01le Management"),M()(),x(404,"li",116),oe(405,"i",117),x(406,"span",118),E(407,"Unlimited Brochures Download options"),M()(),x(408,"li",116),oe(409,"i",117),x(410,"span",118),E(411,"WhatsApp Integration"),M()(),x(412,"li",116),oe(413,"i",117),x(414,"span",118),E(415,"Live Chat Integration"),M()(),x(416,"li",116),oe(417,"i",117),x(418,"span",118),E(419,"Google Reviews Integration"),M()(),x(420,"li",116),oe(421,"i",117),x(422,"span",118),E(423,"Social Media Live Updates Integration"),M()()()()()(),x(424,"div",119)(425,"div",19)(426,"p")(427,"a",120),Ct("click",function(){Dn(r);const s=Go(514);return Yt(i.getStripPayemts("Pioneer",59995,s))}),x(428,"span",21),E(429," Get Started"),M(),x(430,"span",22),oe(431,"i",23),M()()()(),x(432,"p",121),E(433,"Or "),x(434,"a",122),E(435,"book a call"),M()()()()()()()()()()()()(),x(436,"section",125)(437,"div",1)(438,"div",2)(439,"div",126),oe(440,"div",127),x(441,"owl-carousel-o",48),zr(442),tt(443,m0e,17,1,"ng-template",128),Ur(),M()()()()(),x(444,"section",129)(445,"div",1)(446,"div",2)(447,"div",130)(448,"div",2)(449,"div",131)(450,"div",132)(451,"h1",133),E(452," What "),oe(453,"br"),E(454," makes Pixtar "),oe(455,"br"),E(456," Special? "),oe(457,"br"),x(458,"span"),E(459," And other FAQs\u2026 "),M()()()(),x(460,"div",134)(461,"div",92)(462,"div",135)(463,"div",136)(464,"div",137)(465,"h2",138)(466,"button",139),E(467," Alright, no secrets \u2013 what makes Pixtar stand out? "),M()(),x(468,"div",140)(469,"div",141),E(470," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),M()()(),x(471,"div",137)(472,"h2",142)(473,"button",143),E(474," Where are you based? "),M()(),x(475,"div",144)(476,"div",141),E(477," Virtually, next door! We\u2019re proudly based in Dubai, UAE, but our team collaborates with clients worldwide, making distance no barrier to outstanding design! Our business hours are 9 am\u20136 pm GST / 1 am\u201310 am EST / 10 pm\u20137 am PST. But with our early-rising CEO and night-owl CTO, we\u2019re always able to sync up with clients from LA all the way to Australia\u2014and all the lovely places in between. "),M()()(),x(478,"div",137)(479,"h2",145)(480,"button",146),E(481," How are you different from a freelance designer? "),M()(),x(482,"div",147)(483,"div",141),E(484," At Pixtar, you get the expertise of an entire team, not just one individual. We bring together specialized skills in design, strategy, and development, providing a more comprehensive approach and smoother project delivery. "),M()()(),x(485,"div",137)(486,"h2",148)(487,"button",149),E(488," What other design magic do you offer? "),M()(),x(489,"div",150)(490,"div",141),E(491," Besides website design, we specialize in branding, UI/UX design, graphic design, and digital marketing assets. Whatever your design needs, Pixtar has the creative solution. "),M()()(),x(492,"div",137)(493,"h2",148)(494,"button",151),E(495," Who do you usually work with? "),M()(),x(496,"div",152)(497,"div",141),E(498," We collaborate with businesses of all sizes\u2014from startups to established brands\u2014across a range of industries, including Lifestyle, healthcare, technology, real estate, and more. "),M()()(),x(499,"div",137)(500,"h2",148)(501,"button",153),E(502," Which platforms do you use for building websites? "),M()(),x(503,"div",154)(504,"div",141),E(505," We work with popular platforms like Angular, Node.js, React, Shopify, Magento and Webflow, ensuring you get a website that\u2019s not only beautiful but also easy to manage and scalable. "),M()()(),x(506,"div",137)(507,"h2",148)(508,"button",155),E(509," I\u2019m in! When can we get started? "),M()(),x(510,"div",156)(511,"div",141),E(512," We\u2019re thrilled to have you onboard! Just reach out through our contact page, and we\u2019ll set up a kickoff meeting to dive into your project. "),M()()()()()()()()()()()(),tt(513,y0e,30,4,"ng-template",157,158,Ul)}2&n&&(se(17),xe("src","",i.baseUrl,"/img/home/social-media/instagram.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/facebook.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/linkedin.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/whatsapp.svg",ve),se(17),$e("ngStyle",al(17,_0e,i.sectionWidth+"%")),se(4),xe("src","",i.baseUrl,"/what is brandng pixtar 2.mp4",ve),se(1),xe("src","",i.baseUrl,"/what is brandng pixtar 2.mp4",ve),se(33),$e("ngForOf",i.allprojects),se(7),$e("options",i.recentoptions),se(1),$e("ngForOf",i.allprojects),se(25),xe("src","",i.baseUrl,"/img/home/art-icons/craft.png",ve),se(7),xe("src","",i.baseUrl,"/img/home/art-icons/solution.png",ve),se(7),xe("src","",i.baseUrl,"/img/home/art-icons/beyond.png",ve),se(12),$e("options",i.clientslider),se(59),Cs(i.tabTitle),se(242),$e("options",i.desktopslider),se(2),$e("id",i.baseUrl))},dependencies:[pa,Us,Yf,_c,a0,vp,r0,o0,xp,Jf,Zd,bc],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:95px;z-index:3}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:401px;justify-content:start;align-items:center;left:8%!important;bottom:3%!important}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:7.1rem}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:4rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1.5rem}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:50px 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:30px 10px 30px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:170px}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px 30px 100px;border-radius:50px;height:auto}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #707070;border-radius:33px;position:relative;display:inline-block;padding:10px 15px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#5b5b5f;border:1px solid #707070}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;border-radius:50px;margin-bottom:0;height:100%}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:none!important}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px;font-weight:400}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:6rem;bottom:10px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#444!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#ffffff80!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:100%}@media (max-width: 480px){  video{width:100%}}  .modal-body{padding:10px}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-top:1px dashed #6e6e73;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#6e6e73;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdbtm[_ngcontent-%COMP%]{border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:10px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}']}),e})();const x0e=["myVideo"];function w0e(e,t){if(1&e){const n=or();x(0,"div",159)(1,"div",160)(2,"a",161)(3,"img",162),Ct("mouseenter",function(){const o=Dn(n).index;return Yt(Ze().onMouseEnter(o))})("mouseleave",function(){return Dn(n),Yt(Ze().onMouseLeave())}),M(),x(4,"div",163)(5,"p",164),E(6),M(),x(7,"p",165),oe(8,"span",166),M()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=Ze();se(2),dc("href",n.link,ve),se(1),qh("galleryimg",i,""),zl("src","",r.imagepath,"",n.image,"",ve),se(3),Cs(n.name),se(2),$e("innerHTML",n.desc,Ll)}}function C0e(e,t){if(1&e&&(x(0,"a",167),oe(1,"img",168),x(2,"div",163)(3,"p",164),E(4),M(),x(5,"p",165),oe(6,"span",166),M()()()),2&e){const n=Ze().$implicit,i=Ze();dc("href",n.link,ve),se(1),zl("src","",i.imagepath,"",n.project_images[0],"",ve),se(3),Cs(n.name),se(2),$e("innerHTML",n.desc,Ll)}}function M0e(e,t){if(1&e&&(zr(0),tt(1,C0e,7,5,"ng-template",128),Ur()),2&e){const n=t.$implicit,i=t.index;se(1),$e("id",n+i)}}function P0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/dnour.svg",ve)}}function O0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/crystal.svg",ve)}}function S0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/miniaar.svg",ve)}}function E0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/bni.svg",ve)}}function D0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/angle.svg",ve)}}function A0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/pakhis.svg",ve)}}function T0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/drminnie.svg",ve)}}function k0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/veddentta.svg",ve)}}function I0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/autokoorosh.svg",ve)}}function R0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/fractal.svg",ve)}}function N0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/aetrio.svg",ve)}}function F0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/wrae.svg",ve)}}function L0e(e,t){if(1&e&&(x(0,"div",169)(1,"a",170),oe(2,"img",171),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/img/home/logos/beyou.svg",ve)}}function B0e(e,t){if(1&e&&(x(0,"div",172)(1,"div",79)(2,"div",173)(3,"div",174),oe(4,"img",175),M()(),x(5,"div",176)(6,"div",177)(7,"p",178),E(8,"Hiral Krupesh . Founder & Creative Director . Carat Craft Jewellery"),M(),x(9,"h4",179),E(10,"I HIGHLY RECOMMEND PIXTAR IF YOU ARE LOOKING TO REVAMP AND ELEVATE YOUR BRAND"),M(),x(11,"p",180),E(12,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()(),x(13,"div",181)(14,"div",177)(15,"p",182),E(16,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()()()()),2&e){const n=Ze();se(4),xe("src","",n.baseUrl,"/img/home/hiral-story.png",ve)}}function z0e(e,t){1&e&&(x(0,"div",201)(1,"div"),E(2," Name is required. "),M()())}function U0e(e,t){if(1&e&&(x(0,"div",201)(1,"div"),E(2),M()()),2&e){const n=Ze(2);se(2),Ia(" ",n.hasEmailError("email","required")," ")}}function j0e(e,t){if(1&e){const n=or();x(0,"div",183)(1,"h5",184),E(2),M(),x(3,"button",185),Ct("click",function(){return Yt(Dn(n).$implicit.dismiss("Cross click"))}),x(4,"span",186),E(5," \xd7 "),M()()(),x(6,"div",187)(7,"div",188)(8,"div",1)(9,"div",3)(10,"div",112)(11,"div",133)(12,"form",189),Ct("ngSubmit",function(){return Dn(n),Yt(Ze().submitPayment())}),x(13,"div",190)(14,"div",191),oe(15,"input",192),x(16,"label",193),E(17,"What's your name?"),M(),tt(18,z0e,3,0,"div",194),M(),x(19,"div",191),oe(20,"input",195),x(21,"label",193),E(22,"What\u2019s your e-mail?"),M(),tt(23,U0e,3,1,"div",194),M(),x(24,"div",196)(25,"div",197),oe(26,"input",198),M(),x(27,"div",199)(28,"button",200),Ct("click",function(){return Dn(n),Yt(Ze().closePopUp())}),E(29,"Cancel"),M()()()()()()()()()()()}if(2&e){const n=Ze();se(2),Ia(" Complete Your Payment - ",n.paymentData.name," "),se(10),$e("formGroup",n.paymentForm),se(6),$e("ngIf",n.submitted&&n.hasError("name","required")),se(5),$e("ngIf",n.submitted&&n.hasEmailError("email","required"))}}const V0e=function(e){return{width:e}};let H0e=(()=>{class e{constructor(n,i,r,o,s,a,l,c,h,d,u,f,v){this.renderer=n,this._platformId=i,this.testimonialService=r,this.pageservice=o,this.metaTagService=s,this.titleService=a,this.blogService=l,this.formBuilder=c,this.http=h,this.projectservice=d,this.modalService=u,this.activeModal=f,this.payementservice=v,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:2},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.tabTitle="Start your eCommerce",this.hasError=(y,_)=>this.paymentForm.controls[y].hasError(_),this.hasEmailError=(y,_)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(_),this.baseUrl=Et_baseUrl+"/assets",this.imagepath=Et_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}onScroll(n){const i=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+i/10)}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",hl.required],email:["",hl.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(i=>{200==i.body.code&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(i=>{200==i.code&&i.result&&i.result.length>0&&i.result.forEach(r=>{r.status&&this.allprojects.push(r)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(n){let r=this.allprojects[n].project_images,o=this.imagepath,s=document.getElementsByClassName("galleryimg"+n);this.sliderInterval=setInterval(()=>{$(s).each(function(a){let l=r[(a+Math.floor(Math.random()*r.length))%r.length];$(s).attr("src",o+l)})},900)}openPopup(n){this.modalReference=this.modalService.open(n,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}getDismissReason(n){return n===za.ESC?"by pressing ESC":n===za.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${n}`}changeTabTitle(n){this.tabTitle=n}getStripPayemts(n,i,r){this.paymentData={name:n,amount:i},this.modalReference=this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Et_baseUrl,this.payementservice.getStripSessionLink(this.paymentData).subscribe(n=>{200==n.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(n.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}ngAfterViewInit(){const n=this.videoElement.nativeElement;n.muted=!0,n.loop=!0,n.play().catch(i=>{console.log("Autoplay failed, user interaction may be required:",i)})}playInFullscreenWithAudio(){const n=this.videoElement.nativeElement;n.muted=!1,n.removeAttribute("controls"),n.play().then(()=>{n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen&&n.mozRequestFullScreen()}).catch(i=>{console.log("Error entering fullscreen with audio: ",i)})}onFullscreenChange(){const n=this.videoElement.nativeElement;document.fullscreenElement===n||document.webkitFullscreenElement===n||document.msFullscreenElement===n||document.mozFullScreenElement===n?n.play().catch(i=>{console.log("Could not play in fullscreen mode:",i)}):(n.setAttribute("controls",""),n.muted=!0)}}return e.\u0275fac=function(n){return new(n||e)(Me(rs),Me(hc),Me(M0),Me(xc),Me(cl),Me(dl),Me(P0),Me(tm),Me(ul),Me(pm),Me(um),Me(su),Me(O0))},e.\u0275cmp=Yn({type:e,selectors:[["app-ecommerce"]],viewQuery:function(n,i){if(1&n&&dp(x0e,5),2&n){let r;Sr(r=Er())&&(i.videoElement=r.first)}},hostBindings:function(n,i){1&n&&Ct("scroll",function(o){return i.onScroll(o)},0,Nf)("fullscreenchange",function(o){return i.onFullscreenChange(o)},!1,Ff)},decls:517,vars:19,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],["id","canvas",1,"img-globe","floatimg"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","home#strategy",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor2"],[1,"textcolor1"],[1,"barcy","text-color"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto","m-auto"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","container"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"h1","weight300","text-center"],[1,"textcolor1","size53"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","client","bg1"],[1,"logos"],[1,"fontsize12","mb-0"],["carouselSlide",""],[1,"section","packages","pt-0"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"packages-section"],[1,"wght500","text-center","mb-3","mt-0"],[1,"size24","textcolor2","text-center"],[1,"col-md-10","col-sm-11","col-11","mx-auto","mt-5"],[1,"row","justify-content-center"],[1,"col-xl-6","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1"],[1,"circle2"],[1,"size16","textcolor3"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"d-block"],[1,"box"],[1,"col-xl-6","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","p-3","shadow",2,"max-width","600px"],[1,"text-center","p-3"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link",3,"click"],["aria-hidden","true",1,"fa","fa-bolt"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link",3,"click"],["id","nav-tabContent",1,"tab-content","p-3"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-12"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"list-group-item","d-flex","justify-content-start","align-items-center"],[1,"fa","fa-check"],[1,"ms-2"],[1,"cstprng-table-cta","position-relative","mtrem8","started"],[1,"cstbtn",3,"click"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-none"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],[1,"success-story","bannerdrk"],[1,"content","mbrem8"],["carouselSlide","",3,"id"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"section","bannerdrk","faqsection"],[1,"col-md-10","col-sm-11","col-11","m-auto"],[1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,""],[1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["style","z-index: 0;"],["payments",""],[1,"col-md-6"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["target","_self",3,"href"],[3,"src"],[1,"team-img","position-relative","overflow-hidden"],["href","#","target","_blank","rel","noopener noreferrer"],[3,"src","alt"],[1,"col-md-9","col-sm-11","col-11","mx-auto"],[1,"col-lg-3","col-md-5","col-sm-5"],[1,"imgblk"],["alt","",1,"",3,"src"],[1,"col-lg-8","col-md-7","offset-lg-1","col-sm-7","mt-sm-0","mt-3"],[1,"slidecontent"],[1,"fontsize12","textcolor1","text-white"],[1,"size32","textcolor1","mt-0","mb30","text-white"],[1,"size18","textcolor3","d-md-block","d-sm-none","d-none","text-white"],[1,"col-md-12","d-md-none","d-sm-block","d-block","mt-sm-4","mt-3"],[1,"size18","textcolor3","text-white"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","content"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],[1,"form-floating","mb-3"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["for","floatingInput",1,"mt-0"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Pay Now",1,"submit"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],[1,"error"]],template:function(n,i){if(1&n){const r=or();x(0,"section",0)(1,"div",1),oe(2,"canvas",2),x(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),E(9,"Sell Globally with "),M(),x(10,"h1",8),E(11,"Custom"),x(12,"span",9),E(13,"eCommerce"),M()()()()()()(),x(14,"div",10)(15,"ul",11)(16,"li")(17,"a",12),oe(18,"img",13),M()(),x(19,"li")(20,"a",14),oe(21,"img",15),M()(),x(22,"li")(23,"a",16),oe(24,"img",13),M()(),x(25,"li")(26,"a",17),oe(27,"img",18),M()()(),x(28,"div",19)(29,"p"),E(30,"We know what it takes to make "),M(),x(31,"p"),E(32,"A successful eCommerce Store"),M()()(),x(33,"div",20)(34,"p")(35,"a",21)(36,"span",22),E(37," Know About Branding"),M(),x(38,"span",23),oe(39,"i",24),M()()()()()(),oe(40,"div",25),x(41,"section",26)(42,"div",1)(43,"div",3)(44,"div",27)(45,"div",28)(46,"video",29,30),Ct("click",function(){return i.playInFullscreenWithAudio()}),oe(48,"source",31)(49,"source",32),E(50," Your browser does not support the video tag. "),M()()()()()(),x(51,"section",33)(52,"div",1)(53,"div",3)(54,"div",34)(55,"div",35)(56,"h2",36)(57,"span",37),E(58,"A beautiful online store isn\u2019t enough "),M(),x(59,"span",38),E(60," \u2014you need one that converts. "),M(),E(61,", "),x(62,"span",37),E(63,"Whether it\u2019s Magento, Shopify, or Node.js, "),M(),x(64,"span",38),E(65,"we create custom "),x(66,"span",39),E(67," eCommerce"),M(),E(68,". platforms that perform, scale, and grow with you."),M()()()()()()(),x(69,"section",40)(70,"div",41)(71,"div",3)(72,"div",34)(73,"div",42)(74,"h1",43),oe(75,"div",44),E(76," Recent Works "),M()()(),x(77,"div",45)(78,"div",3),tt(79,w0e,9,8,"div",46),M()()()(),x(80,"div",47)(81,"div",48)(82,"div",42)(83,"h1",43),oe(84,"div",44),E(85," Recent Works "),M()()(),x(86,"owl-carousel-o",49),tt(87,M0e,2,1,"ng-container",50),M()(),x(88,"div",51)(89,"div",3)(90,"div",52)(91,"div",53)(92,"div",54)(93,"div",55)(94,"p")(95,"a",56)(96,"span",57),E(97,"Book A Consultation"),M(),x(98,"span",23),oe(99,"i",24),M()()()()()()()()()(),x(100,"section",58)(101,"div",1)(102,"div",3)(103,"div",34)(104,"div",59)(105,"p",60)(106,"span",61),E(107,"Why Choose Pixtar?"),M()(),x(108,"div",62)(109,"div",3)(110,"div",63)(111,"div",64),oe(112,"img",65),x(113,"p",66),E(114,"Crafted With The Golden Ratio"),M(),x(115,"p",67),E(116,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()(),x(117,"div",68)(118,"div",64),oe(119,"img",65),x(120,"p",66),E(121,"Custom Solutions. No Templates. Ever."),M(),x(122,"p",67),E(123,"Every brand is unique, and so is our approach. We build from scratch, ensuring your business is reflected in every detail."),M()()(),x(124,"div",63)(125,"div",64),oe(126,"img",65),x(127,"p",66),E(128,"Beyond The Limits, Always Transparent"),M(),x(129,"p",67),E(130,"We don\u2019t just deliver; we partner with you, going above and beyond with 100% transparency at every step of the way."),M()()()()()()()()()(),x(131,"section",69)(132,"div",1)(133,"div",3)(134,"div",34)(135,"div",70)(136,"p",71),E(137,"OUR CLIENTS INCLUDE\u2026"),M(),x(138,"owl-carousel-o",49),zr(139),tt(140,P0e,3,1,"ng-template",72),tt(141,O0e,3,1,"ng-template",72),tt(142,S0e,3,1,"ng-template",72),tt(143,E0e,3,1,"ng-template",72),tt(144,D0e,3,1,"ng-template",72),tt(145,A0e,3,1,"ng-template",72),tt(146,T0e,3,1,"ng-template",72),tt(147,k0e,3,1,"ng-template",72),tt(148,I0e,3,1,"ng-template",72),tt(149,R0e,3,1,"ng-template",72),tt(150,N0e,3,1,"ng-template",72),tt(151,F0e,3,1,"ng-template",72),tt(152,L0e,3,1,"ng-template",72),Ur(),M()()()()()(),x(153,"section",73)(154,"div",1)(155,"div",3)(156,"div",74)(157,"div",75)(158,"h2",76)(159,"span",61),E(160,"What\u2019s Included in Our Branding Packages?"),M()(),x(161,"p",77),E(162,"Whether you\u2019re starting from scratch or need a brand overhaul, we\u2019ve got you covered."),M()()(),x(163,"div",78)(164,"div",79)(165,"div",80)(166,"div",81)(167,"div",82)(168,"div",83)(169,"div",84)(170,"div",85),oe(171,"div",86)(172,"div",87),M(),x(173,"div",22)(174,"p",88),E(175,"Slots available"),M()()()(),x(176,"h1",89),E(177,"Join "),M(),x(178,"h1",90),E(179,"Pixtar"),M(),x(180,"div",91)(181,"h4",92),E(182,"Book a 15-min intro Call"),M(),x(183,"p",88),E(184,"Learn more about how Pixtar "),x(185,"span",93),E(186," works and how it can help you."),M()()(),x(187,"div",94)(188,"h4",92),E(189,"Refer a friend & earn"),M(),x(190,"p",88),E(191,"Earn 5% monthly recurring "),x(192,"span",93),E(193," commission for each referral."),M()()()()()(),x(194,"div",95)(195,"div",96)(196,"h2",97),E(197),M(),x(198,"nav")(199,"div",98)(200,"button",99),Ct("click",function(){return i.changeTabTitle("Start your eCommerce")}),E(201," Shopify "),M(),x(202,"button",100),Ct("click",function(){return i.changeTabTitle("Grow eCommerce Globally")}),oe(203,"i",101),E(204," Magento "),M(),x(205,"button",102),Ct("click",function(){return i.changeTabTitle("Premium eCommerce")}),E(206," Custom Commerce "),M()()(),x(207,"div",103)(208,"div",104)(209,"div",105)(210,"div",106)(211,"h4",107),E(212,"AED 14,995"),M(),x(213,"h5",108),E(214,"Perfect for startups."),M()(),oe(215,"div",109),x(216,"div",110)(217,"h5",111),E(218,"What\u2019s included"),M(),x(219,"div",3)(220,"div",112)(221,"ul",113)(222,"li",114)(223,"div",115)(224,"div",116),E(225,"Tailored Ui/Ux Designing"),M()()(),x(226,"li",117),oe(227,"i",118),x(228,"span",119),E(229,"Custom Website Design 1 Theme Option"),M()(),x(230,"li",114)(231,"div",115)(232,"div",116),E(233,"Development"),M()()(),x(234,"li",117),oe(235,"i",118),x(236,"span",119),E(237,"Customized Front-End Development"),M()(),x(238,"li",117),oe(239,"i",118),x(240,"span",119),E(241,"Mobile, Tablet, & Desktop Responsive Design"),M()(),x(242,"li",117),oe(243,"i",118),x(244,"span",119),E(245,"Unlimited Products Listing"),M()(),x(246,"li",117),oe(247,"i",118),x(248,"span",119),E(249,"Ability for Future Enhancements"),M()(),x(250,"li",117),oe(251,"i",118),x(252,"span",119),E(253,"Hosting Support"),M()(),x(254,"li",114)(255,"div",115)(256,"div",116),E(257,"Standout features"),M()()(),x(258,"li",117),oe(259,"i",118),x(260,"span",119),E(261,"Contact us Email Integration"),M()(),x(262,"li",117),oe(263,"i",118),x(264,"span",119),E(265,"Payment Gateway Integration"),M()()()()()(),x(266,"div",120)(267,"div",20)(268,"p")(269,"a",121),Ct("click",function(){Dn(r);const s=Go(516);return Yt(i.getStripPayemts("Shopify",14995,s))}),x(270,"span",22),E(271," Get Started"),M(),x(272,"span",23),oe(273,"i",24),M()()()(),x(274,"p",122),E(275,"Or "),x(276,"a",123),E(277,"book a call"),M()()()()(),x(278,"div",124)(279,"div",105)(280,"div",106)(281,"h4",107),E(282,"AED 24,995"),M(),x(283,"h5",108),E(284,"A full brand identity suite."),M()(),oe(285,"div",109),x(286,"div",110)(287,"h5",111),E(288,"What\u2019s included"),M(),x(289,"div",3)(290,"div",112)(291,"ul",113)(292,"li",114)(293,"div",115)(294,"div",116),E(295,"Tailored Ui/Ux Designing"),M()()(),x(296,"li",117),oe(297,"i",118),x(298,"span",119),E(299,"Custom Website Design upto 3 Theme Option"),M()(),x(300,"li",114)(301,"div",115)(302,"div",116),E(303,"Development"),M()()(),x(304,"li",117),oe(305,"i",118),x(306,"span",119),E(307,"Custom Front-End Development"),M()(),x(308,"li",117),oe(309,"i",118),x(310,"span",119),E(311,"Mobile, Tablet, and Desktop Responsive Design"),M()(),x(312,"li",117),oe(313,"i",118),x(314,"span",119),E(315,"Up to 20 Pages (Based on Final Requirements)"),M()(),x(316,"li",117),oe(317,"i",118),x(318,"span",119),E(319,"Ability for Future Enhancements"),M()(),x(320,"li",117),oe(321,"i",118),x(322,"span",119),E(323,"Hosting Support"),M()(),x(324,"li",114)(325,"div",115)(326,"div",116),E(327,"Standout features"),M()()(),x(328,"li",117),oe(329,"i",118),x(330,"span",119),E(331,"Admin Panel and User Management"),M()(),x(332,"li",117),oe(333,"i",118),x(334,"span",119),E(335,"SEO-Optimized Development"),M()(),x(336,"li",117),oe(337,"i",118),x(338,"span",119),E(339,"Google My Business Setup"),M()(),x(340,"li",117),oe(341,"i",118),x(342,"span",119),E(343,"Appointment Booking Integration"),M()(),x(344,"li",117),oe(345,"i",118),x(346,"span",119),E(347,"Contact Us Email Integration"),M()(),x(348,"li",117),oe(349,"i",118),x(350,"span",119),E(351,"Google Maps Integration"),M()()()()()(),x(352,"div",120)(353,"div",20)(354,"p")(355,"a",121),Ct("click",function(){Dn(r);const s=Go(516);return Yt(i.getStripPayemts("Magento",24995,s))}),x(356,"span",22),E(357," Get Started"),M(),x(358,"span",23),oe(359,"i",24),M()()()(),x(360,"p",122),E(361,"Or "),x(362,"a",123),E(363,"book a call"),M()()()()(),x(364,"div",125)(365,"div",105)(366,"div",106)(367,"h4",107),E(368,"AED 59,995"),M(),x(369,"h5",108),E(370,"The ultimate package with unlimited requests."),M()(),oe(371,"div",109),x(372,"div",110)(373,"h5",111),E(374,"What\u2019s included"),M(),x(375,"div",3)(376,"div",112)(377,"ul",113)(378,"li",114)(379,"div",115)(380,"div",116),E(381,"Tailored Ui/Ux Designing"),M()()(),x(382,"li",117),oe(383,"i",118),x(384,"span",119),E(385,"Custom Website Design Upto 5 Theme Options"),M()(),x(386,"li",114)(387,"div",115)(388,"div",116),E(389,"Development & Standout Features"),M()()(),x(390,"li",117),oe(391,"i",118),x(392,"span",119),E(393,"Website Integration with CRM"),M()(),x(394,"li",117),oe(395,"i",118),x(396,"span",119),E(397,"Integration with other websites"),M()(),x(398,"li",117),oe(399,"i",118),x(400,"span",119),E(401,"Access to your Partners & Distributers to Create and Manage thier Account"),M()(),x(402,"li",117),oe(403,"i",118),x(404,"span",119),E(405,"User Pro\ufb01le Management"),M()(),x(406,"li",117),oe(407,"i",118),x(408,"span",119),E(409,"Unlimited Brochures Download options"),M()(),x(410,"li",117),oe(411,"i",118),x(412,"span",119),E(413,"WhatsApp Integration"),M()(),x(414,"li",117),oe(415,"i",118),x(416,"span",119),E(417,"Live Chat Integration"),M()(),x(418,"li",117),oe(419,"i",118),x(420,"span",119),E(421,"Google Reviews Integration"),M()(),x(422,"li",117),oe(423,"i",118),x(424,"span",119),E(425,"Social Media Live Updates Integration"),M()()()()()(),x(426,"div",120)(427,"div",20)(428,"p")(429,"a",121),Ct("click",function(){Dn(r);const s=Go(516);return Yt(i.getStripPayemts("Custom Commerce",59995,s))}),x(430,"span",22),E(431," Get Started"),M(),x(432,"span",23),oe(433,"i",24),M()()()(),x(434,"p",122),E(435,"Or "),x(436,"a",123),E(437,"book a call"),M()()()()()()()()()()()()(),x(438,"section",126)(439,"div",1)(440,"div",3)(441,"div",34),oe(442,"div",127),x(443,"owl-carousel-o",49),zr(444),tt(445,B0e,17,1,"ng-template",128),Ur(),M()()()()(),x(446,"section",129)(447,"div",1)(448,"div",3)(449,"div",130)(450,"div",3)(451,"div",131)(452,"div",132)(453,"h1",133),E(454," What "),oe(455,"br"),E(456," makes Pixtar "),oe(457,"br"),E(458," Special? "),oe(459,"br"),x(460,"span"),E(461," And other FAQs\u2026 "),M()()()(),x(462,"div",134)(463,"div",93)(464,"div",135)(465,"div",136)(466,"div",137)(467,"h2",138)(468,"button",139),E(469," Alright, no secrets \u2013 what makes Pixtar stand out? "),M()(),x(470,"div",140)(471,"div",141),E(472," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),M()()(),x(473,"div",137)(474,"h2",142)(475,"button",143),E(476," Where are you based? "),M()(),x(477,"div",144)(478,"div",141),E(479," Virtually, next door! We\u2019re proudly based in Dubai, UAE, but our team collaborates with clients worldwide, making distance no barrier to outstanding design! Our business hours are 9 am\u20136 pm GST / 1 am\u201310 am EST / 10 pm\u20137 am PST. But with our early-rising CEO and night-owl CTO, we\u2019re always able to sync up with clients from LA all the way to Australia\u2014and all the lovely places in between. "),M()()(),x(480,"div",137)(481,"h2",145)(482,"button",146),E(483," How are you different from a freelance designer? "),M()(),x(484,"div",147)(485,"div",141),E(486," At Pixtar, you get the expertise of an entire team, not just one individual. We bring together specialized skills in design, strategy, and development, providing a more comprehensive approach and smoother project delivery. "),M()()(),x(487,"div",137)(488,"h2",148)(489,"button",149),E(490," What other design magic do you offer? "),M()(),x(491,"div",150)(492,"div",141),E(493," Besides website design, we specialize in branding, UI/UX design, graphic design, and digital marketing assets. Whatever your design needs, Pixtar has the creative solution. "),M()()(),x(494,"div",137)(495,"h2",148)(496,"button",151),E(497," Who do you usually work with? "),M()(),x(498,"div",152)(499,"div",141),E(500," We collaborate with businesses of all sizes\u2014from startups to established brands\u2014across a range of industries, including Lifestyle, healthcare, technology, real estate, and more. "),M()()(),x(501,"div",137)(502,"h2",148)(503,"button",153),E(504," Which platforms do you use for building websites? "),M()(),x(505,"div",154)(506,"div",141),E(507," We work with popular platforms like Angular, Node.js, React, Shopify, Magento and Webflow, ensuring you get a website that\u2019s not only beautiful but also easy to manage and scalable. "),M()()(),x(508,"div",137)(509,"h2",148)(510,"button",155),E(511," I\u2019m in! When can we get started? "),M()(),x(512,"div",156)(513,"div",141),E(514," We\u2019re thrilled to have you onboard! Just reach out through our contact page, and we\u2019ll set up a kickoff meeting to dive into your project. "),M()()()()()()()()()()()(),tt(515,j0e,30,4,"ng-template",157,158,Ul)}2&n&&(se(18),xe("src","",i.baseUrl,"/img/home/social-media/instagram.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/facebook.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/linkedin.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/whatsapp.svg",ve),se(17),$e("ngStyle",al(17,V0e,i.sectionWidth+"%")),se(4),xe("src","",i.baseUrl,"/pixtar logo animation 6.MP4",ve),se(1),xe("src","",i.baseUrl,"/pixtar logo animation 6.MP4",ve),se(30),$e("ngForOf",i.allprojects),se(7),$e("options",i.recentoptions),se(1),$e("ngForOf",i.allprojects),se(25),xe("src","",i.baseUrl,"/img/home/art-icons/craft.png",ve),se(7),xe("src","",i.baseUrl,"/img/home/art-icons/solution.png",ve),se(7),xe("src","",i.baseUrl,"/img/home/art-icons/beyond.png",ve),se(12),$e("options",i.clientslider),se(59),Cs(i.tabTitle),se(246),$e("options",i.desktopslider),se(2),$e("id",i.baseUrl))},dependencies:[pa,Us,Yf,_c,a0,vp,r0,o0,xp,Jf,Zd,bc],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:2%;top:28%;width:500px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:3%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:2%;width:230px;top:30%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:100%;top:95px;opacity:.5;object-fit:cover;left:0;right:0}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:404px;justify-content:start;align-items:center;left:8%!important;bottom:3%!important}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:7.1rem}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:4rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1.5rem}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:50px 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:30px 10px 30px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:170px}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px 30px 100px;border-radius:50px;height:auto}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #707070;border-radius:33px;position:relative;display:inline-block;padding:10px 15px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#5b5b5f;border:1px solid #707070}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;border-radius:50px;margin-bottom:0;height:100%}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:none!important}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px;font-weight:400}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:6rem;bottom:10px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#444!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#ffffff80!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:100%}@media (max-width: 480px){  video{width:100%}}  .modal-body{padding:10px}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-top:1px dashed #6e6e73;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#6e6e73;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdbtm[_ngcontent-%COMP%]{border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:10px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:95px;z-index:3}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}']}),e})();const G0e=["myVideo"];function W0e(e,t){if(1&e){const n=or();x(0,"div",110)(1,"div",173)(2,"a",174)(3,"img",175),Ct("mouseenter",function(){const o=Dn(n).index;return Yt(Ze().onMouseEnter(o))})("mouseleave",function(){return Dn(n),Yt(Ze().onMouseLeave())}),M(),x(4,"div",176)(5,"p",177),E(6),M(),x(7,"p",178),oe(8,"span",179),M()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=Ze();se(2),dc("href",n.link,ve),se(1),qh("galleryimg",i,""),zl("src","",r.imagepath,"",n.image,"",ve),se(3),Cs(n.name),se(2),$e("innerHTML",n.desc,Ll)}}function q0e(e,t){if(1&e&&(x(0,"a",180),oe(1,"img",181),x(2,"div",176)(3,"p",177),E(4),M(),x(5,"p",178),oe(6,"span",179),M()()()),2&e){const n=Ze().$implicit,i=Ze();dc("href",n.link,ve),se(1),zl("src","",i.imagepath,"",n.project_images[0],"",ve),se(3),Cs(n.name),se(2),$e("innerHTML",n.desc,Ll)}}function Y0e(e,t){if(1&e&&(zr(0),tt(1,q0e,7,5,"ng-template",124),Ur()),2&e){const n=t.$implicit,i=t.index;se(1),$e("id",n+i)}}function X0e(e,t){if(1&e&&(x(0,"div",182)(1,"div",77)(2,"div",183)(3,"div",184),oe(4,"img",185),M()(),x(5,"div",186)(6,"div",187)(7,"p",188),E(8,"Hiral Krupesh . Founder & Creative Director . Carat Craft Jewellery"),M(),x(9,"h4",189),E(10,"I HIGHLY RECOMMEND PIXTAR IF YOU ARE LOOKING TO REVAMP AND ELEVATE YOUR BRAND"),M(),x(11,"p",190),E(12,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()(),x(13,"div",191)(14,"div",187)(15,"p",192),E(16,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()()()()),2&e){const n=Ze();se(4),xe("src","",n.baseUrl,"/img/home/hiral-krupesh.png",ve)}}function $0e(e,t){1&e&&(x(0,"div",212)(1,"div"),E(2," Name is required. "),M()())}function K0e(e,t){if(1&e&&(x(0,"div",212)(1,"div"),E(2),M()()),2&e){const n=Ze(2);se(2),Ia(" ",n.hasEmailError("email","required")," ")}}function Q0e(e,t){if(1&e){const n=or();x(0,"div",193)(1,"h5",194),E(2),M(),x(3,"button",195),Ct("click",function(){return Yt(Dn(n).$implicit.dismiss("Cross click"))}),x(4,"span",196),E(5," \xd7 "),M()()(),x(6,"div",197)(7,"div",198)(8,"div",1)(9,"div",2)(10,"div",199)(11,"div",129)(12,"form",200),Ct("ngSubmit",function(){return Dn(n),Yt(Ze().submitPayment())}),x(13,"div",201)(14,"div",202),oe(15,"input",203),x(16,"label",204),E(17,"What's your name?"),M(),tt(18,$0e,3,0,"div",205),M(),x(19,"div",202),oe(20,"input",206),x(21,"label",204),E(22,"What\u2019s your e-mail?"),M(),tt(23,K0e,3,1,"div",205),M(),x(24,"div",207)(25,"div",208),oe(26,"input",209),M(),x(27,"div",210)(28,"button",211),Ct("click",function(){return Dn(n),Yt(Ze().closePopUp())}),E(29,"Cancel"),M()()()()()()()()()()()}if(2&e){const n=Ze();se(2),Ia(" Complete Your Payment - ",n.paymentData.name," "),se(10),$e("formGroup",n.paymentForm),se(6),$e("ngIf",n.submitted&&n.hasError("name","required")),se(5),$e("ngIf",n.submitted&&n.hasEmailError("email","required"))}}const Z0e=function(e){return{width:e}};let J0e=(()=>{class e{constructor(n,i,r,o,s,a,l,c,h,d,u,f,v){this.renderer=n,this._platformId=i,this.testimonialService=r,this.pageservice=o,this.metaTagService=s,this.titleService=a,this.blogService=l,this.formBuilder=c,this.http=h,this.projectservice=d,this.modalService=u,this.activeModal=f,this.payementservice=v,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:3},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.tabTitle="For Startups",this.hasError=(y,_)=>this.paymentForm.controls[y].hasError(_),this.hasEmailError=(y,_)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(_),this.baseUrl=Et_baseUrl+"/assets",this.imagepath=Et_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}onScroll(n){const i=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+i/10)}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",hl.required],email:["",hl.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(i=>{200==i.body.code&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(i=>{200==i.code&&i.result&&i.result.length>0&&i.result.forEach(r=>{r.status&&this.allprojects.push(r)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(n){let r=this.allprojects[n].project_images,o=this.imagepath,s=document.getElementsByClassName("galleryimg"+n);this.sliderInterval=setInterval(()=>{$(s).each(function(a){let l=r[(a+Math.floor(Math.random()*r.length))%r.length];$(s).attr("src",o+l)})},900)}changeTabTitle(n){this.tabTitle=n}openPopup(n){this.modalReference=this.modalService.open(n,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}getDismissReason(n){return n===za.ESC?"by pressing ESC":n===za.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${n}`}getStripPayemts(n,i,r){this.paymentData={name:n,amount:i},this.modalReference=this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Et_baseUrl,this.payementservice.getStripSessionLink(this.paymentData).subscribe(n=>{200==n.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(n.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}ngAfterViewInit(){const n=this.videoElement.nativeElement;n.muted=!0,n.loop=!0,n.play().catch(i=>{console.log("Autoplay failed, user interaction may be required:",i)})}playInFullscreenWithAudio(){const n=this.videoElement.nativeElement;n.muted=!1,n.removeAttribute("controls"),n.play().then(()=>{n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen&&n.mozRequestFullScreen()}).catch(i=>{console.log("Error entering fullscreen with audio: ",i)})}onFullscreenChange(){const n=this.videoElement.nativeElement;document.fullscreenElement===n||document.webkitFullscreenElement===n||document.msFullscreenElement===n||document.mozFullScreenElement===n?n.play().catch(i=>{console.log("Could not play in fullscreen mode:",i)}):(n.setAttribute("controls",""),n.muted=!0)}}return e.\u0275fac=function(n){return new(n||e)(Me(rs),Me(hc),Me(M0),Me(xc),Me(cl),Me(dl),Me(P0),Me(tm),Me(ul),Me(pm),Me(um),Me(su),Me(O0))},e.\u0275cmp=Yn({type:e,selectors:[["app-graphics"]],viewQuery:function(n,i){if(1&n&&dp(G0e,5),2&n){let r;Sr(r=Er())&&(i.videoElement=r.first)}},hostBindings:function(n,i){1&n&&Ct("scroll",function(o){return i.onScroll(o)},0,Nf)("fullscreenchange",function(o){return i.onFullscreenChange(o)},!1,Ff)},decls:468,vars:18,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow","bnrstart"],["href","graphics#package",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor1"],[1,"textcolor2"],[1,"barcy","text-color"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"col-xxl-12","col-xl-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","container"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"head-section"],[1,"wght500","text-center","mb-3","mt-0"],[1,"textcolor1","size53"],[1,"size24","textcolor2","text-center"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","home#strategy",1,"cstbtn"],[1,"h1","weight300","text-center","para"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","packages","pt-0","backeeedf0"],[1,"packages-section"],["id","package",1,"col-md-10","col-sm-11","col-11","mx-auto","mt-5"],[1,"row","justify-content-center"],[1,"col-xl-6","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1"],[1,"circle2"],[1,"size16","textcolor3"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"d-block"],[1,"box"],[1,"col-xl-6","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","p-3","shadow",2,"max-width","600px"],[1,"text-start","p-3"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link",3,"click"],["aria-hidden","true",1,"fa","fa-bolt"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link",3,"click"],["id","nav-tabContent",1,"tab-content","p-3"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-6"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-center","border-0","p-0","mb-2"],[1,"fa","fa-check","me-2"],[1,"cstprng-table-cta","position-relative","mtrem8","started"],[1,"cstbtn",3,"click"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-none"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],[1,"col-lg-5","col-md-7","col-sm-11","col-11","mx-auto"],[1,"subscription-section","section"],[1,"success-story","bannerdrk"],[1,"content","mbrem8"],["carouselSlide","",3,"id"],[1,"section","bannerdrk","faqsection"],[1,"col-md-10","col-sm-11","col-11","m-auto"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,""],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingFour","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFive",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingFive","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingSix","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSeven",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingSeven","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingEight",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseEight","aria-expanded","false","aria-controls","collapseEight",1,"accordion-button","collapsed","brdbtm"],["id","collapseEight","aria-labelledby","headingEight","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingNine",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseNine","aria-expanded","false","aria-controls","collapseNine",1,"accordion-button","collapsed","brdbtm"],["id","collapseNine","aria-labelledby","headingNine","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingTen",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTen","aria-expanded","false","aria-controls","collapseTen",1,"accordion-button","collapsed","brdbtm"],["id","collapseTen","aria-labelledby","headingTen","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingEleven",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseEleven","aria-expanded","false","aria-controls","collapseEleven",1,"accordion-button","collapsed","brdbtm"],["id","collapseEleven","aria-labelledby","headingEleven","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingTweleve",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTweleve","aria-expanded","false","aria-controls","collapseTweleve",1,"accordion-button","collapsed","brdbtm"],["id","collapseTweleve","aria-labelledby","headingTweleve","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["style","z-index: 0;"],["payments",""],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["target","_self",3,"href"],[3,"src"],[1,"col-md-9","col-sm-11","col-11","mx-auto"],[1,"col-lg-3","col-md-5","col-sm-5"],[1,"imgblk"],["alt","",1,"",3,"src"],[1,"col-lg-8","col-md-7","offset-lg-1","col-sm-7","mt-sm-0","mt-3"],[1,"slidecontent"],[1,"fontsize12","textcolor1","text-white"],[1,"size32","textcolor1","mt-0","mb30","text-white"],[1,"size18","textcolor3","d-md-block","d-sm-none","d-none","text-white"],[1,"col-md-12","d-md-none","d-sm-block","d-block","mt-sm-4","mt-3"],[1,"size18","textcolor3","text-white"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","content"],[1,"col-md-12"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],[1,"form-floating","mb-3"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["for","floatingInput",1,"mt-0"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Pay Now",1,"submit"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],[1,"error"]],template:function(n,i){if(1&n){const r=or();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7)(8,"span",8),E(9,"Graphic "),M(),E(10,"Designs on Demand."),M(),x(11,"h1",7),E(12,"Your Way, Every Day."),M()()()()()(),x(13,"div",9)(14,"ul",10)(15,"li")(16,"a",11),oe(17,"img",12),M()(),x(18,"li")(19,"a",13),oe(20,"img",14),M()(),x(21,"li")(22,"a",15),oe(23,"img",12),M()(),x(24,"li")(25,"a",16),oe(26,"img",17),M()()(),x(27,"div",18)(28,"p"),E(29,"Design subscriptions for everyone."),M(),x(30,"p"),E(31,"Pause or cancel anytime."),M()()(),x(32,"div",19)(33,"p")(34,"a",20)(35,"span",21),E(36," Know About Branding"),M(),x(37,"span",22),oe(38,"i",23),M()()()()()(),oe(39,"div",24),x(40,"section",25)(41,"div",1)(42,"div",2)(43,"div",26)(44,"div",27)(45,"video",28,29),Ct("click",function(){return i.playInFullscreenWithAudio()}),oe(47,"source",30)(48,"source",31),E(49," Your browser does not support the video tag. "),M()()()()()(),x(50,"section",32)(51,"div",1)(52,"div",2)(53,"div",33)(54,"div",34)(55,"h2",35)(56,"span",36),E(57," Imagine never having to search for a designer again."),M(),x(58,"span",37),E(59,"With Pixtar\u2019s "),M(),x(60,"span",38),E(61," Graphic design "),M(),x(62,"span",37),E(63,"subscription,"),M(),x(64,"span",36),E(65," you get premium designs on demand"),M(),x(66,"span",37),E(67," \u2014crafted with care, precision, and zero templates."),M()()()()()()(),x(68,"section",39)(69,"div",40)(70,"div",2)(71,"div",41)(72,"div",42)(73,"h1",43),oe(74,"div",44),E(75," Recent Works "),M()()(),x(76,"div",41)(77,"div",2),tt(78,W0e,9,8,"div",45),M()()()(),x(79,"div",46)(80,"div",47)(81,"div",42)(82,"h1",43),oe(83,"div",44),E(84," Recent Works "),M()()(),x(85,"owl-carousel-o",48),tt(86,Y0e,2,1,"ng-container",49),M()(),x(87,"div",50)(88,"div",2)(89,"div",51)(90,"div",52)(91,"div",53)(92,"div",54)(93,"p")(94,"a",55)(95,"span",56),E(96,"Book A Consultation"),M(),x(97,"span",22),oe(98,"i",23),M()()()()()()()()()(),x(99,"section",57)(100,"div",1)(101,"div",2)(102,"div",33)(103,"div",58)(104,"div",59)(105,"div",60)(106,"h2",61)(107,"span",62),E(108,"A Simple, Stress-Free Design Process"),M()(),x(109,"p",63),E(110,"Say goodbye to hourly rates and unreliable freelancers. With Pixtar\u2019s subscription, you get unlimited, high-quality graphic design\u2014crafted from scratch, no templates, no limits."),M()(),x(111,"div",64)(112,"p")(113,"a",65)(114,"span",21),E(115," Subscribe Now"),M(),x(116,"span",22),oe(117,"i",23),M()()()()(),x(118,"p",66)(119,"span",62),E(120,"What Makes Us Different?"),M()(),x(121,"div",67)(122,"div",2)(123,"div",68)(124,"div",69),oe(125,"img",70),x(126,"p",71),E(127,"Subscribe To Pixtar"),M(),x(128,"p",72),E(129,"Pick a plan that fits your needs. The more credits, the more flexibility."),M()()(),x(130,"div",73)(131,"div",69),oe(132,"img",70),x(133,"p",71),E(134,"Request A Design"),M(),x(135,"p",72),E(136,"Got a project in mind? Send your request and we\u2019ll start crafting."),M()()(),x(137,"div",68)(138,"div",69),oe(139,"img",70),x(140,"p",71),E(141,"We Design, You Relax"),M(),x(142,"p",72),E(143,"We\u2019ll fine-tune the designs until you love them."),M()()()()()()()()()(),x(144,"section",74)(145,"div",1)(146,"div",2)(147,"div",59)(148,"div",75)(149,"h2",61)(150,"span",62),E(151,"Plans Designed to Fit Every Need"),M()(),x(152,"p",63),E(153,"Whether you\u2019re a startup, a growing business, or an enterprise, we\u2019ve got a plan for you. Each credit gives you access to premium design services\u2014crafted to perfection using the golden ratio"),M()()(),x(154,"div",76)(155,"div",77)(156,"div",78)(157,"div",79)(158,"div",80)(159,"div",81)(160,"div",82)(161,"div",83),oe(162,"div",84)(163,"div",85),M(),x(164,"div",21)(165,"p",86),E(166,"Slots available"),M()()()(),x(167,"h1",87),E(168,"Join "),M(),x(169,"h1",88),E(170,"Pixtar"),M(),x(171,"div",89)(172,"h4",90),E(173,"Book a 15-min intro Call"),M(),x(174,"p",86),E(175,"Learn more about how Pixtar "),x(176,"span",91),E(177," works and how it can help you."),M()()(),x(178,"div",92)(179,"h4",90),E(180,"Refer a friend & earn"),M(),x(181,"p",86),E(182,"Earn 5% monthly recurring "),x(183,"span",91),E(184," commission for each referral."),M()()()()()(),x(185,"div",93)(186,"div",94)(187,"h2",95),E(188),M(),x(189,"nav")(190,"div",96)(191,"button",97),Ct("click",function(){return i.changeTabTitle("For Starups")}),E(192," Explorer "),M(),x(193,"button",98),Ct("click",function(){return i.changeTabTitle("For Growing Businesses.")}),oe(194,"i",99),E(195," Pro "),M(),x(196,"button",100),Ct("click",function(){return i.changeTabTitle("For Agencies & Large Teams")}),E(197," Enterprise "),M()()(),x(198,"div",101)(199,"div",102)(200,"div",103)(201,"div",104)(202,"h4",105),E(203,"AED 6,995"),M(),x(204,"h5",106),E(205,"One request at a time, Pause or cancel anytime."),M()(),oe(206,"div",107),x(207,"div",108)(208,"h5",109),E(209,"What\u2019s included"),M(),x(210,"div",2)(211,"div",110)(212,"ul",111)(213,"li",112),oe(214,"i",113),E(215,"One requests at a time "),M(),x(216,"li",112),oe(217,"i",113),E(218,"Average 48 hour delivery "),M(),x(219,"li",112),oe(220,"i",113),E(221,"Unlimited brands "),M()()(),x(222,"div",110)(223,"ul",111)(224,"li",112),oe(225,"i",113),E(226,"Adobe .Ai .Ps .Xd "),M(),x(227,"li",112),oe(228,"i",113),E(229,"Dedicated Account Manager "),M(),x(230,"li",112),oe(231,"i",113),E(232,"Pause or cancel anytime "),M()()()()(),x(233,"div",114)(234,"div",64)(235,"p")(236,"a",115),Ct("click",function(){Dn(r);const s=Go(467);return Yt(i.getStripPayemts("Explorer",6995,s))}),x(237,"span",21),E(238," Get Started"),M(),x(239,"span",22),oe(240,"i",23),M()()()(),x(241,"p",116),E(242,"Or "),x(243,"a",117),E(244,"book a call"),M()()()()(),x(245,"div",118)(246,"div",103)(247,"div",104)(248,"h4",105),E(249,"AED 11,995"),M(),x(250,"h5",106),E(251,"Double the requests. Pause or cancel anytime."),M()(),oe(252,"div",107),x(253,"div",108)(254,"h5",109),E(255,"What\u2019s included"),M(),x(256,"div",2)(257,"div",110)(258,"ul",111)(259,"li",112),oe(260,"i",113),E(261,"Two requests at a time "),M(),x(262,"li",112),oe(263,"i",113),E(264,"Average 48 hour delivery "),M(),x(265,"li",112),oe(266,"i",113),E(267,"Unlimited brands "),M(),x(268,"li",112),oe(269,"i",113),E(270,"XD UI design "),M()()(),x(271,"div",110)(272,"ul",111)(273,"li",112),oe(274,"i",113),E(275,"15 stock photos "),M(),x(276,"li",112),oe(277,"i",113),E(278,"Unlimited users "),M(),x(279,"li",112),oe(280,"i",113),E(281,"Dedicated Account Manager "),M(),x(282,"li",112),oe(283,"i",113),E(284,"Pause or cancel anytime "),M()()()()(),x(285,"div",114)(286,"div",64)(287,"p")(288,"a",115),Ct("click",function(){Dn(r);const s=Go(467);return Yt(i.getStripPayemts("Pro",11995,s))}),x(289,"span",21),E(290," Get Started"),M(),x(291,"span",22),oe(292,"i",23),M()()()(),x(293,"p",116),E(294,"Or "),x(295,"a",117),E(296,"book a call"),M()()()()(),x(297,"div",119)(298,"div",103)(299,"div",104)(300,"h4",105),E(301,"AED 24,995"),M(),x(302,"h5",106),E(303,"For Agencies and Large Teams."),M()(),oe(304,"div",107),x(305,"div",108)(306,"h5",109),E(307,"What\u2019s included"),M(),x(308,"div",2)(309,"div",110)(310,"ul",111)(311,"li",112),oe(312,"i",113),E(313,"10 requests at a time "),M(),x(314,"li",112),oe(315,"i",113),E(316,"Same-day turnaround "),M(),x(317,"li",112),oe(318,"i",113),E(319,"Unlimited brands "),M(),x(320,"li",112),oe(321,"i",113),E(322,"XD UI design "),M()()(),x(323,"div",110)(324,"ul",111)(325,"li",112),oe(326,"i",113),E(327,"Unlimited stock photos "),M(),x(328,"li",112),oe(329,"i",113),E(330,"Unlimited users "),M(),x(331,"li",112),oe(332,"i",113),E(333,"Dedicated Creative Director & Slack Support. "),M(),x(334,"li",112),oe(335,"i",113),E(336,"Pause or cancel anytime "),M()()()()(),x(337,"div",114)(338,"div",64)(339,"p")(340,"a",115),Ct("click",function(){Dn(r);const s=Go(467);return Yt(i.getStripPayemts("Enterprise",24995,s))}),x(341,"span",21),E(342," Get Started"),M(),x(343,"span",22),oe(344,"i",23),M()()()(),x(345,"p",116),E(346,"Or "),x(347,"a",117),E(348,"book a call"),M()()()()()()()()()(),x(349,"div",120)(350,"div",121)(351,"h2",61)(352,"span",62),E(353,"Your Subscription, Your Way"),M()(),x(354,"p",63),E(355," Got a busy month and need more credits? No problem. You can top-up anytime or upgrade your plan on the fly "),M()()()()()(),x(356,"section",122)(357,"div",1)(358,"div",2)(359,"div",33),oe(360,"div",123),x(361,"owl-carousel-o",48),zr(362),tt(363,X0e,17,1,"ng-template",124),Ur(),M()()()()(),x(364,"section",125)(365,"div",1)(366,"div",2)(367,"div",126)(368,"div",2)(369,"div",127)(370,"div",128)(371,"h1",129),E(372," Frequently "),oe(373,"br"),E(374," Asked "),oe(375,"br"),E(376," Questions\u2026 "),oe(377,"br"),M()()(),x(378,"div",130)(379,"div",91)(380,"div",131)(381,"div",132)(382,"div",133)(383,"h2",134)(384,"button",135),E(385," Why not just hire a full-time designer? "),M()(),x(386,"div",136)(387,"div",137),E(388," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),M()()(),x(389,"div",133)(390,"h2",138)(391,"button",139),E(392," Is there a limit to my design requests? "),M()(),x(393,"div",140)(394,"div",137),E(395," Nope! Once you\u2019re subscribed, feel free to add as many design requests to your queue as you need\u2014they\u2019ll be delivered one at a time. "),M()()(),x(396,"div",133)(397,"h2",141)(398,"button",142),E(399," How fast can I expect my designs? "),M()(),x(400,"div",143)(401,"div",137),E(402," Most requests are turned around within 48 hours. Typical requests like banners, brochures, flyers, event themes, and social templates usually take about two days, though bigger projects may take a little longer. If your request is on the larger side, you can expect steady progress every 24 hours until it\u2019s complete. "),M()()(),x(403,"div",133)(404,"h2",144)(405,"button",145),E(406," Who\u2019s doing the design work? "),M()(),x(407,"div",146)(408,"div",137),E(409," Surprise! Pixtar is a tight-knit team of nine, and our founder is hands-on with every project. This means you\u2019ll work directly with Pixtar\u2019s founder. For specialized requests, like animations or custom illustrations, we collaborate with our trusted partner designers. "),M()()(),x(410,"div",133)(411,"h2",147)(412,"button",148),E(413," How does the pause feature work? "),M()(),x(414,"div",149)(415,"div",137),E(416," We get it\u2014sometimes you don\u2019t have a full month\u2019s worth of design needs. With the pause feature, you can stop your subscription anytime. Here\u2019s how it works: Billing runs on a 31-day cycle. Let\u2019s say you\u2019ve used the service for 21 days, then decide to pause. This leaves you with 10 days of service, which you can pick up anytime in the future. "),M()()(),x(417,"div",133)(418,"h2",150)(419,"button",151),E(420," What about larger projects? "),M()(),x(421,"div",152)(422,"div",137),E(423," No problem! Larger requests, like full website or app designs, are delivered in parts. We break them down on our end and deliver portions every 24\u201348 hours until everything\u2019s complete. "),M()()(),x(424,"div",133)(425,"h2",153)(426,"button",154),E(427," Which design tools do you use? "),M()(),x(428,"div",155)(429,"div",137),E(430," We work primarily with Adobe Illustrator, Photoshop, and XD to create your designs. "),M()()(),x(431,"div",133)(432,"h2",156)(433,"button",157),E(434," How do I send design requests? "),M()(),x(435,"div",158)(436,"div",137),E(437," We make it easy! You can request designs in Trello by adding a card, sharing Google Docs or wireframes, or even by sending a quick Loom video (perfect if you\u2019d rather talk through your ideas than write them out). If it can be shared or linked in Trello, it\u2019s fair game. "),M()()(),x(438,"div",133)(439,"h2",159)(440,"button",160),E(441," What if the design isn\u2019t quite right? "),M()(),x(442,"div",161)(443,"div",137),E(444," No problem! We\u2019ll work with you to revise the design until it\u2019s exactly what you\u2019re looking for. "),M()()(),x(445,"div",133)(446,"h2",162)(447,"button",163),E(448," Are there any types of design you don\u2019t cover? "),M()(),x(449,"div",164)(450,"div",137),E(451," Yes, there are a few: 3D modeling, animated graphics (like GIFs), document design (medical forms, for example), complex packaging, extensive print designs (such as magazines or books), and Adobe InDesign documents aren\u2019t included in our offerings. "),M()()(),x(452,"div",133)(453,"h2",165)(454,"button",166),E(455," What if I only need a single design? "),M()(),x(456,"div",167)(457,"div",137),E(458," That\u2019s totally fine! You can pause your subscription whenever you\u2019re done and resume when you have new design needs\u2014no wasted time. "),M()()(),x(459,"div",133)(460,"h2",168)(461,"button",169),E(462," Are refunds available if I\u2019m not satisfied with the service? "),M()(),x(463,"div",170)(464,"div",137),E(465," Due to the high-quality nature of the work, we don\u2019t offer refunds. "),M()()()()()()()()()()()(),tt(466,Q0e,30,4,"ng-template",171,172,Ul)}2&n&&(se(17),xe("src","",i.baseUrl,"/img/home/social-media/instagram.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/facebook.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/social-media/linkedin.svg",ve),se(3),xe("src","",i.baseUrl,"/img/home/whatsapp.svg",ve),se(17),$e("ngStyle",al(16,Z0e,i.sectionWidth+"%")),se(4),xe("src","",i.baseUrl,"/what is brandng pixtar 2.mp4",ve),se(1),xe("src","",i.baseUrl,"/what is brandng pixtar 2.mp4",ve),se(30),$e("ngForOf",i.allprojects),se(7),$e("options",i.recentoptions),se(1),$e("ngForOf",i.allprojects),se(39),xe("src","",i.baseUrl,"/img/home/art-icons/craft.png",ve),se(7),xe("src","",i.baseUrl,"/img/home/art-icons/solution.png",ve),se(7),xe("src","",i.baseUrl,"/img/home/art-icons/beyond.png",ve),se(49),Cs(i.tabTitle),se(173),$e("options",i.desktopslider),se(2),$e("id",i.baseUrl))},dependencies:[pa,Us,Yf,_c,a0,vp,r0,o0,xp,Jf,Zd,bc],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:427px;justify-content:start;align-items:center;left:8%!important;bottom:3%!important}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:7.1rem}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:4rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1.5rem}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:50px 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:30px 10px 30px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:116px;z-index:2}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.choosesection[_ngcontent-%COMP%]   .head-section[_ngcontent-%COMP%]{margin-bottom:80px}.choosesection[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{padding-top:80px}.subscription-section[_ngcontent-%COMP%]{background-color:transparent!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #707070;border-radius:33px;position:relative;display:inline-block;padding:10px 15px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#5b5b5f;border:1px solid #707070}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;border-radius:50px;margin-bottom:0;height:100%}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]   .cstprng-table-cta[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:2}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px;font-weight:400}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:6rem;bottom:10px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-top:1px dashed #6e6e73;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#6e6e73;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdbtm[_ngcontent-%COMP%]{border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:10px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:52px}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:100%}@media (max-width: 480px){  video{width:100%}}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:95px;z-index:3}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}']}),e})();var Yo=g(5861),eve=Object.create,dC=Object.defineProperty,tve=Object.getOwnPropertyDescriptor,nve=Object.getOwnPropertyNames,ive=Object.getPrototypeOf,rve=Object.prototype.hasOwnProperty,va=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Vs=(e,t,n)=>(n=null!=e?eve(ive(e)):{},((e,t,n,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of nve(t))!rve.call(e,r)&&undefined!==r&&dC(e,r,{get:()=>t[r],enumerable:!(i=tve(t,r))||i.enumerable});return e})(!t&&e&&e.__esModule?n:dC(n,"default",{value:e,enumerable:!0}),e)),Ua=(e,t,n)=>(((e,t,n)=>{t in e?dC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),lve=va((e,t)=>{var n,i;n=e,i=function(){return n.importState=function(r){var o=new n;return o.importState(r),o},n;function n(){return function(r){var o=0,s=0,a=0,l=1;0==r.length&&(r=[+new Date]);var c=i();o=c(" "),s=c(" "),a=c(" ");for(var h=0;h<r.length;h++)(o-=c(r[h]))<0&&(o+=1),(s-=c(r[h]))<0&&(s+=1),(a-=c(r[h]))<0&&(a+=1);c=null;var d=function(){var u=2091639*o+2.3283064365386963e-10*l;return o=s,s=a,a=u-(l=0|u)};return d.next=d,d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.version="Alea 0.9",d.args=r,d.exportState=function(){return[o,s,a,l]},d.importState=function(u){o=+u[0]||0,s=+u[1]||0,a=+u[2]||0,l=+u[3]||0},d}(Array.prototype.slice.call(arguments))}function i(){var r=4022871197,o=function(s){s=s.toString();for(var a=0;a<s.length;a++){var l=.02519603282416938*(r+=s.charCodeAt(a));l-=r=l>>>0,r=(l*=r)>>>0,r+=4294967296*(l-=r)}return 2.3283064365386963e-10*(r>>>0)};return o.version="Mash 0.9",o}},"object"==typeof e?t.exports=i():"function"==typeof define&&define.amd?define(i):n.Alea=i()}),O7=va((e,t)=>{var n,i;n=e,i=function(n){n.SVD=function(i,r,o,s,a){if(r=void 0===r||r,o=void 0===o||o,a=1e-64/(s=s||Math.pow(2,-52)),!i)throw new TypeError("Matrix a is not defined");var l,c,h,d,u,f,v,y,_,w,O,S,D=i[0].length,U=i.length;if(U<D)throw new TypeError("Invalid matrix: m < n");for(var Y=[],q=[],K=[],Z="f"===r?U:D,te=w=v=0;te<U;te++)q[te]=new Array(Z).fill(0);for(te=0;te<D;te++)K[te]=new Array(D).fill(0);var ie,ce=new Array(D).fill(0);for(te=0;te<U;te++)for(l=0;l<D;l++)q[te][l]=i[te][l];for(te=0;te<D;te++){for(Y[te]=v,_=0,h=te+1,l=te;l<U;l++)_+=Math.pow(q[l][te],2);if(_<a)v=0;else for(y=(f=q[te][te])*(v=f<0?Math.sqrt(_):-Math.sqrt(_))-_,q[te][te]=f-v,l=h;l<D;l++){for(_=0,c=te;c<U;c++)_+=q[c][te]*q[c][l];for(f=_/y,c=te;c<U;c++)q[c][l]=q[c][l]+f*q[c][te]}for(ce[te]=v,_=0,l=h;l<D;l++)_+=Math.pow(q[te][l],2);if(_<a)v=0;else{for(y=(f=q[te][te+1])*(v=f<0?Math.sqrt(_):-Math.sqrt(_))-_,q[te][te+1]=f-v,l=h;l<D;l++)Y[l]=q[te][l]/y;for(l=h;l<U;l++){for(_=0,c=h;c<D;c++)_+=q[l][c]*q[te][c];for(c=h;c<D;c++)q[l][c]=q[l][c]+_*Y[c]}}w<(O=Math.abs(ce[te])+Math.abs(Y[te]))&&(w=O)}if(o)for(te=D-1;0<=te;te--){if(0!==v){for(y=q[te][te+1]*v,l=h;l<D;l++)K[l][te]=q[te][l]/y;for(l=h;l<D;l++){for(_=0,c=h;c<D;c++)_+=q[te][c]*K[c][l];for(c=h;c<D;c++)K[c][l]=K[c][l]+_*K[c][te]}}for(l=h;l<D;l++)K[te][l]=0,K[l][te]=0;K[te][te]=1,v=Y[te],h=te}if(r){if("f"===r)for(te=D;te<U;te++){for(l=D;l<U;l++)q[te][l]=0;q[te][te]=1}for(te=D-1;0<=te;te--){for(v=ce[te],l=h=te+1;l<Z;l++)q[te][l]=0;if(0!==v){for(y=q[te][te]*v,l=h;l<Z;l++){for(_=0,c=h;c<U;c++)_+=q[c][te]*q[c][l];for(f=_/y,c=te;c<U;c++)q[c][l]=q[c][l]+f*q[c][te]}for(l=te;l<U;l++)q[l][te]=q[l][te]/v}else for(l=te;l<U;l++)q[l][te]=0;q[te][te]=q[te][te]+1}}for(s*=w,c=D-1;0<=c;c--)for(var de=0;de<50;de++){for(ie=!1,h=c;0<=h;h--){if(Math.abs(Y[h])<=s){ie=!0;break}if(Math.abs(ce[h-1])<=s)break}if(!ie)for(u=0,d=h-(_=1),te=h;te<c+1&&(f=_*Y[te],Y[te]=u*Y[te],!(Math.abs(f)<=s));te++)if(v=ce[te],ce[te]=Math.sqrt(f*f+v*v),u=v/(y=ce[te]),_=-f/y,r)for(l=0;l<U;l++)q[l][d]=(O=q[l][d])*u+(S=q[l][te])*_,q[l][te]=-O*_+S*u;if(S=ce[c],h===c){if(S<0&&(ce[c]=-S,o))for(l=0;l<D;l++)K[l][c]=-K[l][c];break}for(w=ce[h],f=(((O=ce[c-1])-S)*(O+S)+((v=Y[c-1])-(y=Y[c]))*(v+y))/(2*y*O),v=Math.sqrt(f*f+1),f=((w-S)*(w+S)+y*(O/(f<0?f-v:f+v)-y))/w,te=h+(_=u=1);te<c+1;te++){if(O=ce[te],y=_*(v=Y[te]),v*=u,S=Math.sqrt(f*f+y*y),f=w*(u=f/(Y[te-1]=S))+v*(_=y/S),v=-w*_+v*u,y=O*_,O*=u,o)for(l=0;l<D;l++)K[l][te-1]=(w=K[l][te-1])*u+(S=K[l][te])*_,K[l][te]=-w*_+S*u;if(S=Math.sqrt(f*f+y*y),f=(u=f/(ce[te-1]=S))*v+(_=y/S)*O,w=-_*v+u*O,r)for(l=0;l<U;l++)q[l][te-1]=(O=q[l][te-1])*u+(S=q[l][te])*_,q[l][te]=-O*_+S*u}Y[h]=0,Y[c]=f,ce[c]=w}for(te=0;te<D;te++)ce[te]<s&&(ce[te]=0);return{u:q,q:ce,v:K}},n.VERSION="1.1.1",Object.defineProperty(n,"__esModule",{value:!0})},"object"==typeof e&&typeof t<"u"?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i((n=typeof globalThis<"u"?globalThis:n||self).SVDJS={})}),cve=va((e,t)=>{var n,i;n=e,i=function(){var n=function(r,o){if(void 0===r&&(r=[]),void 0===o&&(o=i),this.data=r,this.length=this.data.length,this.compare=o,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)};function i(r,o){return r<o?-1:r>o?1:0}return n.prototype.push=function(r){this.data.push(r),this.length++,this._up(this.length-1)},n.prototype.pop=function(){if(0!==this.length){var r=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),r}},n.prototype.peek=function(){return this.data[0]},n.prototype._up=function(r){for(var s=this.data,a=this.compare,l=s[r];r>0;){var c=r-1>>1,h=s[c];if(a(l,h)>=0)break;s[r]=h,r=c}s[r]=l},n.prototype._down=function(r){for(var s=this.data,a=this.compare,l=this.length>>1,c=s[r];r<l;){var h=1+(r<<1),d=s[h],u=h+1;if(u<this.length&&a(s[u],d)<0&&(h=u,d=s[u]),a(d,c)>=0)break;s[r]=d,r=h}s[r]=c},n},"object"==typeof e&&typeof t<"u"?t.exports=i():"function"==typeof define&&define.amd?define(i):(n=n||self).TinyQueue=i()}),dve=va((e,t)=>{var n=cve();function i(c,h,d){h=h||1;for(var u,f,v,y,_=0;_<c[0].length;_++){var w=c[0][_];(!_||w[0]<u)&&(u=w[0]),(!_||w[1]<f)&&(f=w[1]),(!_||w[0]>v)&&(v=w[0]),(!_||w[1]>y)&&(y=w[1])}var O=v-u,S=y-f,D=Math.min(O,S),U=D/2;if(0===D){var Y=[u,f];return Y.distance=0,Y}for(var q=new n(void 0,r),K=u;K<v;K+=D)for(var Z=f;Z<y;Z+=D)q.push(new o(K+U,Z+U,U,c));var te=function a(c){for(var h=0,d=0,u=0,f=c[0],v=0,y=f.length,_=y-1;v<y;_=v++){var w=f[v],O=f[_],S=w[0]*O[1]-O[0]*w[1];d+=(w[0]+O[0])*S,u+=(w[1]+O[1])*S,h+=3*S}return 0===h?new o(f[0][0],f[0][1],0,c):new o(d/h,u/h,0,c)}(c),ie=new o(u+O/2,f+S/2,0,c);ie.d>te.d&&(te=ie);for(var ce=q.length;q.length;){var de=q.pop();de.d>te.d&&(te=de,d&&console.log("found best %d after %d probes",Math.round(1e4*de.d)/1e4,ce)),!(de.max-te.d<=h)&&(q.push(new o(de.x-(U=de.h/2),de.y-U,U,c)),q.push(new o(de.x+U,de.y-U,U,c)),q.push(new o(de.x-U,de.y+U,U,c)),q.push(new o(de.x+U,de.y+U,U,c)),ce+=4)}d&&(console.log("num probes: "+ce),console.log("best distance: "+te.d));var ue=[te.x,te.y];return ue.distance=te.d,ue}function r(c,h){return h.max-c.max}function o(c,h,d,u){this.x=c,this.y=h,this.h=d,this.d=function s(c,h,d){for(var u=!1,f=1/0,v=0;v<d.length;v++)for(var y=d[v],_=0,w=y.length,O=w-1;_<w;O=_++){var S=y[_],D=y[O];S[1]>h!=D[1]>h&&c<(D[0]-S[0])*(h-S[1])/(D[1]-S[1])+S[0]&&(u=!u),f=Math.min(f,l(c,h,S,D))}return 0===f?0:(u?1:-1)*Math.sqrt(f)}(c,h,u),this.max=this.d+this.h*Math.SQRT2}function l(c,h,d,u){var f=d[0],v=d[1],y=u[0]-f,_=u[1]-v;if(0!==y||0!==_){var w=((c-f)*y+(h-v)*_)/(y*y+_*_);w>1?(f=u[0],v=u[1]):w>0&&(f+=y*w,v+=_*w)}return(y=c-f)*y+(_=h-v)*_}n.default&&(n=n.default),t.exports=i,t.exports.default=i}),hve=va((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function n(i){if(null===i||!0===i||!1===i)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)},t.exports=e.default}),uve=va((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function n(i){var r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),i.getTime()-r.getTime()},t.exports=e.default}),pve=va(e=>{(function(){var t=function(){this.init()};t.prototype={init:function(){var d=this||n;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator=typeof window<"u"&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var u=this||n;if(d=parseFloat(d),u.ctx||h(),typeof d<"u"&&d>=0&&d<=1){if(u._volume=d,u._muted)return u;u.usingWebAudio&&u.masterGain.gain.setValueAtTime(d,n.ctx.currentTime);for(var f=0;f<u._howls.length;f++)if(!u._howls[f]._webAudio)for(var v=u._howls[f]._getSoundIds(),y=0;y<v.length;y++){var _=u._howls[f]._soundById(v[y]);_&&_._node&&(_._node.volume=_._volume*d)}return u}return u._volume},mute:function(d){var u=this||n;u.ctx||h(),u._muted=d,u.usingWebAudio&&u.masterGain.gain.setValueAtTime(d?0:u._volume,n.ctx.currentTime);for(var f=0;f<u._howls.length;f++)if(!u._howls[f]._webAudio)for(var v=u._howls[f]._getSoundIds(),y=0;y<v.length;y++){var _=u._howls[f]._soundById(v[y]);_&&_._node&&(_._node.muted=!!d||_._muted)}return u},stop:function(){for(var d=this||n,u=0;u<d._howls.length;u++)d._howls[u].stop();return d},unload:function(){for(var d=this||n,u=d._howls.length-1;u>=0;u--)d._howls[u].unload();return d.usingWebAudio&&d.ctx&&typeof d.ctx.close<"u"&&(d.ctx.close(),d.ctx=null,h()),d},codecs:function(d){return(this||n)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||n;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(d._canPlayEvent="canplay")}catch{d.noAudio=!0}else d.noAudio=!0;try{(new Audio).muted&&(d.noAudio=!0)}catch{}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||n,u=null;try{u=typeof Audio<"u"?new Audio:null}catch{return d}if(!u||"function"!=typeof u.canPlayType)return d;var f=u.canPlayType("audio/mpeg;").replace(/^no$/,""),v=d._navigator?d._navigator.userAgent:"",y=v.match(/OPR\/([0-6].)/g),_=y&&parseInt(y[0].split("/")[1],10)<33,w=-1!==v.indexOf("Safari")&&-1===v.indexOf("Chrome"),O=v.match(/Version\/(.*?) /),S=w&&O&&parseInt(O[1],10)<15;return d._codecs={mp3:!(_||!f&&!u.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!f,opus:!!u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(u.canPlayType('audio/wav; codecs="1"')||u.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!u.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!u.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/m4a;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(u.canPlayType("audio/x-m4b;")||u.canPlayType("audio/m4b;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(u.canPlayType("audio/x-mp4;")||u.canPlayType("audio/mp4;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(S||!u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(S||!u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!u.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(u.canPlayType("audio/x-flac;")||u.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||n;if(!d._audioUnlocked&&d.ctx){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&44100!==d.ctx.sampleRate&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var u=function(f){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,d._releaseHtml5Audio(v)}catch{d.noAudio=!0;break}for(var y=0;y<d._howls.length;y++)if(!d._howls[y]._webAudio)for(var _=d._howls[y]._getSoundIds(),w=0;w<_.length;w++){var O=d._howls[y]._soundById(_[w]);O&&O._node&&!O._node._unlocked&&(O._node._unlocked=!0,O._node.load())}d._autoResume();var S=d.ctx.createBufferSource();S.buffer=d._scratchBuffer,S.connect(d.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),"function"==typeof d.ctx.resume&&d.ctx.resume(),S.onended=function(){S.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",u,!0),document.removeEventListener("touchend",u,!0),document.removeEventListener("click",u,!0),document.removeEventListener("keydown",u,!0);for(var D=0;D<d._howls.length;D++)d._howls[D]._emit("unlock")}};return document.addEventListener("touchstart",u,!0),document.addEventListener("touchend",u,!0),document.addEventListener("click",u,!0),document.addEventListener("keydown",u,!0),d}},_obtainHtml5Audio:function(){var d=this||n;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var u=(new Audio).play();return u&&typeof Promise<"u"&&(u instanceof Promise||"function"==typeof u.then)&&u.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var u=this||n;return d._unlocked&&u._html5AudioPool.push(d),u},_autoSuspend:function(){var d=this;if(d.autoSuspend&&d.ctx&&!(typeof d.ctx.suspend>"u")&&n.usingWebAudio){for(var u=0;u<d._howls.length;u++)if(d._howls[u]._webAudio)for(var f=0;f<d._howls[u]._sounds.length;f++)if(!d._howls[u]._sounds[f]._paused)return d;return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var v=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(v,v)}},3e4),d}},_autoResume:function(){var d=this;if(d.ctx&&!(typeof d.ctx.resume>"u")&&n.usingWebAudio)return"running"===d.state&&"interrupted"!==d.ctx.state&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):"suspended"===d.state||"running"===d.state&&"interrupted"===d.ctx.state?(d.ctx.resume().then(function(){d.state="running";for(var u=0;u<d._howls.length;u++)d._howls[u]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):"suspending"===d.state&&(d._resumeAfterSuspend=!0),d}};var n=new t,i=function(d){d.src&&0!==d.src.length?this.init(d):console.error("An array of source files must be passed with any new Howl.")};i.prototype={init:function(d){var u=this;return n.ctx||h(),u._autoplay=d.autoplay||!1,u._format="string"!=typeof d.format?d.format:[d.format],u._html5=d.html5||!1,u._muted=d.mute||!1,u._loop=d.loop||!1,u._pool=d.pool||5,u._preload="boolean"!=typeof d.preload&&"metadata"!==d.preload||d.preload,u._rate=d.rate||1,u._sprite=d.sprite||{},u._src="string"!=typeof d.src?d.src:[d.src],u._volume=void 0!==d.volume?d.volume:1,u._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:!(!d.xhr||!d.xhr.withCredentials)&&d.xhr.withCredentials},u._duration=0,u._state="unloaded",u._sounds=[],u._endTimers={},u._queue=[],u._playLock=!1,u._onend=d.onend?[{fn:d.onend}]:[],u._onfade=d.onfade?[{fn:d.onfade}]:[],u._onload=d.onload?[{fn:d.onload}]:[],u._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],u._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],u._onpause=d.onpause?[{fn:d.onpause}]:[],u._onplay=d.onplay?[{fn:d.onplay}]:[],u._onstop=d.onstop?[{fn:d.onstop}]:[],u._onmute=d.onmute?[{fn:d.onmute}]:[],u._onvolume=d.onvolume?[{fn:d.onvolume}]:[],u._onrate=d.onrate?[{fn:d.onrate}]:[],u._onseek=d.onseek?[{fn:d.onseek}]:[],u._onunlock=d.onunlock?[{fn:d.onunlock}]:[],u._onresume=[],u._webAudio=n.usingWebAudio&&!u._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(u),u._autoplay&&u._queue.push({event:"play",action:function(){u.play()}}),u._preload&&"none"!==u._preload&&u.load(),u},load:function(){var d=this,u=null;if(n.noAudio)d._emit("loaderror",null,"No audio support.");else{"string"==typeof d._src&&(d._src=[d._src]);for(var f=0;f<d._src.length;f++){var v,y;if(d._format&&d._format[f])v=d._format[f];else{if("string"!=typeof(y=d._src[f])){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(v=/^data:audio\/([^;,]+);/i.exec(y))||(v=/\.([^.]+)$/.exec(y.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&n.codecs(v)){u=d._src[f];break}}if(u)return d._src=u,d._state="loading","https:"===window.location.protocol&&"http:"===u.slice(0,5)&&(d._html5=!0,d._webAudio=!1),new r(d),d._webAudio&&s(d),d;d._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(d,u){var f=this,v=null;if("number"==typeof d)v=d,d=null;else{if("string"==typeof d&&"loaded"===f._state&&!f._sprite[d])return null;if(typeof d>"u"&&(d="__default",!f._playLock)){for(var y=0,_=0;_<f._sounds.length;_++)f._sounds[_]._paused&&!f._sounds[_]._ended&&(y++,v=f._sounds[_]._id);1===y?d=null:v=null}}var w=v?f._soundById(v):f._inactiveSound();if(!w)return null;if(v&&!d&&(d=w._sprite||"__default"),"loaded"!==f._state){w._sprite=d,w._ended=!1;var O=w._id;return f._queue.push({event:"play",action:function(){f.play(O)}}),O}if(v&&!w._paused)return u||f._loadQueue("play"),w._id;f._webAudio&&n._autoResume();var S=Math.max(0,w._seek>0?w._seek:f._sprite[d][0]/1e3),D=Math.max(0,(f._sprite[d][0]+f._sprite[d][1])/1e3-S),U=1e3*D/Math.abs(w._rate),Y=f._sprite[d][0]/1e3,q=(f._sprite[d][0]+f._sprite[d][1])/1e3;w._sprite=d,w._ended=!1;var K=function(){w._paused=!1,w._seek=S,w._start=Y,w._stop=q,w._loop=!(!w._loop&&!f._sprite[d][2])};if(!(S>=q)){var Z=w._node;if(f._webAudio){var te=function(){f._playLock=!1,K(),f._refreshBuffer(w),Z.gain.setValueAtTime(w._muted||f._muted?0:w._volume,n.ctx.currentTime),w._playStart=n.ctx.currentTime,typeof Z.bufferSource.start>"u"?Z.bufferSource.noteGrainOn(0,S,w._loop?86400:D):Z.bufferSource.start(0,S,w._loop?86400:D),U!==1/0&&(f._endTimers[w._id]=setTimeout(f._ended.bind(f,w),U)),u||setTimeout(function(){f._emit("play",w._id),f._loadQueue()},0)};"running"===n.state&&"interrupted"!==n.ctx.state?te():(f._playLock=!0,f.once("resume",te),f._clearTimer(w._id))}else{var ie=function(){Z.currentTime=S,Z.muted=w._muted||f._muted||n._muted||Z.muted,Z.volume=w._volume*n.volume(),Z.playbackRate=w._rate;try{var ue=Z.play();if(ue&&typeof Promise<"u"&&(ue instanceof Promise||"function"==typeof ue.then)?(f._playLock=!0,K(),ue.then(function(){f._playLock=!1,Z._unlocked=!0,u?f._loadQueue():f._emit("play",w._id)}).catch(function(){f._playLock=!1,f._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),w._ended=!0,w._paused=!0})):u||(f._playLock=!1,K(),f._emit("play",w._id)),Z.playbackRate=w._rate,Z.paused)return void f._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==d||w._loop?f._endTimers[w._id]=setTimeout(f._ended.bind(f,w),U):(f._endTimers[w._id]=function(){f._ended(w),Z.removeEventListener("ended",f._endTimers[w._id],!1)},Z.addEventListener("ended",f._endTimers[w._id],!1))}catch(Ce){f._emit("playerror",w._id,Ce)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===Z.src&&(Z.src=f._src,Z.load());var ce=window&&window.ejecta||!Z.readyState&&n._navigator.isCocoonJS;if(Z.readyState>=3||ce)ie();else{f._playLock=!0,f._state="loading";var de=function(){f._state="loaded",ie(),Z.removeEventListener(n._canPlayEvent,de,!1)};Z.addEventListener(n._canPlayEvent,de,!1),f._clearTimer(w._id)}}return w._id}f._ended(w)},pause:function(d){var u=this;if("loaded"!==u._state||u._playLock)return u._queue.push({event:"pause",action:function(){u.pause(d)}}),u;for(var f=u._getSoundIds(d),v=0;v<f.length;v++){u._clearTimer(f[v]);var y=u._soundById(f[v]);if(y&&!y._paused&&(y._seek=u.seek(f[v]),y._rateSeek=0,y._paused=!0,u._stopFade(f[v]),y._node))if(u._webAudio){if(!y._node.bufferSource)continue;typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),u._cleanBuffer(y._node)}else(!isNaN(y._node.duration)||y._node.duration===1/0)&&y._node.pause();arguments[1]||u._emit("pause",y?y._id:null)}return u},stop:function(d,u){var f=this;if("loaded"!==f._state||f._playLock)return f._queue.push({event:"stop",action:function(){f.stop(d)}}),f;for(var v=f._getSoundIds(d),y=0;y<v.length;y++){f._clearTimer(v[y]);var _=f._soundById(v[y]);_&&(_._seek=_._start||0,_._rateSeek=0,_._paused=!0,_._ended=!0,f._stopFade(v[y]),_._node&&(f._webAudio?_._node.bufferSource&&(typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),f._cleanBuffer(_._node)):(!isNaN(_._node.duration)||_._node.duration===1/0)&&(_._node.currentTime=_._start||0,_._node.pause(),_._node.duration===1/0&&f._clearSound(_._node))),u||f._emit("stop",_._id))}return f},mute:function(d,u){var f=this;if("loaded"!==f._state||f._playLock)return f._queue.push({event:"mute",action:function(){f.mute(d,u)}}),f;if(typeof u>"u"){if("boolean"!=typeof d)return f._muted;f._muted=d}for(var v=f._getSoundIds(u),y=0;y<v.length;y++){var _=f._soundById(v[y]);_&&(_._muted=d,_._interval&&f._stopFade(_._id),f._webAudio&&_._node?_._node.gain.setValueAtTime(d?0:_._volume,n.ctx.currentTime):_._node&&(_._node.muted=!!n._muted||d),f._emit("mute",_._id))}return f},volume:function(){var f,v,w,d=this,u=arguments;if(0===u.length)return d._volume;if(1===u.length||2===u.length&&typeof u[1]>"u"){var y=d._getSoundIds(),_=y.indexOf(u[0]);_>=0?v=parseInt(u[0],10):f=parseFloat(u[0])}else u.length>=2&&(f=parseFloat(u[0]),v=parseInt(u[1],10));if(!(typeof f<"u"&&f>=0&&f<=1))return(w=v?d._soundById(v):d._sounds[0])?w._volume:0;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,u)}}),d;typeof v>"u"&&(d._volume=f),v=d._getSoundIds(v);for(var O=0;O<v.length;O++)(w=d._soundById(v[O]))&&(w._volume=f,u[2]||d._stopFade(v[O]),d._webAudio&&w._node&&!w._muted?w._node.gain.setValueAtTime(f,n.ctx.currentTime):w._node&&!w._muted&&(w._node.volume=f*n.volume()),d._emit("volume",w._id));return d},fade:function(d,u,f,v){var y=this;if("loaded"!==y._state||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(d,u,f,v)}}),y;d=Math.min(Math.max(0,parseFloat(d)),1),u=Math.min(Math.max(0,parseFloat(u)),1),f=parseFloat(f),y.volume(d,v);for(var _=y._getSoundIds(v),w=0;w<_.length;w++){var O=y._soundById(_[w]);if(O){if(v||y._stopFade(_[w]),y._webAudio&&!O._muted){var S=n.ctx.currentTime,D=S+f/1e3;O._volume=d,O._node.gain.setValueAtTime(d,S),O._node.gain.linearRampToValueAtTime(u,D)}y._startFadeInterval(O,d,u,f,_[w],typeof v>"u")}}return y},_startFadeInterval:function(d,u,f,v,y,_){var w=this,O=u,S=f-u,D=Math.abs(S/.01),U=Math.max(4,D>0?v/D:v),Y=Date.now();d._fadeTo=f,d._interval=setInterval(function(){var q=(Date.now()-Y)/v;Y=Date.now(),O+=S*q,O=Math.round(100*O)/100,O=S<0?Math.max(f,O):Math.min(f,O),w._webAudio?d._volume=O:w.volume(O,d._id,!0),_&&(w._volume=O),(f<u&&O<=f||f>u&&O>=f)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,w.volume(f,d._id),w._emit("fade",d._id))},U)},_stopFade:function(d){var u=this,f=u._soundById(d);return f&&f._interval&&(u._webAudio&&f._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(f._interval),f._interval=null,u.volume(f._fadeTo,d),f._fadeTo=null,u._emit("fade",d)),u},loop:function(){var f,v,y,d=this,u=arguments;if(0===u.length)return d._loop;if(1===u.length){if("boolean"!=typeof u[0])return!!(y=d._soundById(parseInt(u[0],10)))&&y._loop;d._loop=f=u[0]}else 2===u.length&&(f=u[0],v=parseInt(u[1],10));for(var _=d._getSoundIds(v),w=0;w<_.length;w++)(y=d._soundById(_[w]))&&(y._loop=f,d._webAudio&&y._node&&y._node.bufferSource&&(y._node.bufferSource.loop=f,f&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop,d.playing(_[w])&&(d.pause(_[w],!0),d.play(_[w],!0)))));return d},rate:function(){var f,v,w,d=this,u=arguments;if(0===u.length)v=d._sounds[0]._id;else if(1===u.length){var y=d._getSoundIds(),_=y.indexOf(u[0]);_>=0?v=parseInt(u[0],10):f=parseFloat(u[0])}else 2===u.length&&(f=parseFloat(u[0]),v=parseInt(u[1],10));if("number"!=typeof f)return(w=d._soundById(v))?w._rate:d._rate;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,u)}}),d;typeof v>"u"&&(d._rate=f),v=d._getSoundIds(v);for(var O=0;O<v.length;O++)if(w=d._soundById(v[O])){d.playing(v[O])&&(w._rateSeek=d.seek(v[O]),w._playStart=d._webAudio?n.ctx.currentTime:w._playStart),w._rate=f,d._webAudio&&w._node&&w._node.bufferSource?w._node.bufferSource.playbackRate.setValueAtTime(f,n.ctx.currentTime):w._node&&(w._node.playbackRate=f);var S=d.seek(v[O]),D=(d._sprite[w._sprite][0]+d._sprite[w._sprite][1])/1e3-S,U=1e3*D/Math.abs(w._rate);(d._endTimers[v[O]]||!w._paused)&&(d._clearTimer(v[O]),d._endTimers[v[O]]=setTimeout(d._ended.bind(d,w),U)),d._emit("rate",w._id)}return d},seek:function(){var f,v,d=this,u=arguments;if(0===u.length)d._sounds.length&&(v=d._sounds[0]._id);else if(1===u.length){var y=d._getSoundIds(),_=y.indexOf(u[0]);_>=0?v=parseInt(u[0],10):d._sounds.length&&(v=d._sounds[0]._id,f=parseFloat(u[0]))}else 2===u.length&&(f=parseFloat(u[0]),v=parseInt(u[1],10));if(typeof v>"u")return 0;if("number"==typeof f&&("loaded"!==d._state||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,u)}}),d;var w=d._soundById(v);if(w){if(!("number"==typeof f&&f>=0)){if(d._webAudio){var U=d.playing(v)?n.ctx.currentTime-w._playStart:0,Y=w._rateSeek?w._rateSeek-w._seek:0;return w._seek+(Y+U*Math.abs(w._rate))}return w._node.currentTime}var O=d.playing(v);O&&d.pause(v,!0),w._seek=f,w._ended=!1,d._clearTimer(v),!d._webAudio&&w._node&&!isNaN(w._node.duration)&&(w._node.currentTime=f);var S=function(){O&&d.play(v,!0),d._emit("seek",v)};if(O&&!d._webAudio){var D=function(){d._playLock?setTimeout(D,0):S()};setTimeout(D,0)}else S()}return d},playing:function(d){var u=this;if("number"==typeof d){var f=u._soundById(d);return!!f&&!f._paused}for(var v=0;v<u._sounds.length;v++)if(!u._sounds[v]._paused)return!0;return!1},duration:function(d){var u=this,f=u._duration,v=u._soundById(d);return v&&(f=u._sprite[v._sprite][1]/1e3),f},state:function(){return this._state},unload:function(){for(var d=this,u=d._sounds,f=0;f<u.length;f++)u[f]._paused||d.stop(u[f]._id),d._webAudio||(d._clearSound(u[f]._node),u[f]._node.removeEventListener("error",u[f]._errorFn,!1),u[f]._node.removeEventListener(n._canPlayEvent,u[f]._loadFn,!1),u[f]._node.removeEventListener("ended",u[f]._endFn,!1),n._releaseHtml5Audio(u[f]._node)),delete u[f]._node,d._clearTimer(u[f]._id);var v=n._howls.indexOf(d);v>=0&&n._howls.splice(v,1);var y=!0;for(f=0;f<n._howls.length;f++)if(n._howls[f]._src===d._src||d._src.indexOf(n._howls[f]._src)>=0){y=!1;break}return o&&y&&delete o[d._src],n.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,u,f,v){return"function"==typeof u&&this["_on"+d].push(v?{id:f,fn:u,once:v}:{id:f,fn:u}),this},off:function(d,u,f){var v=this,y=v["_on"+d],_=0;if("number"==typeof u&&(f=u,u=null),u||f)for(_=0;_<y.length;_++){var w=f===y[_].id;if(u===y[_].fn&&w||!u&&w){y.splice(_,1);break}}else if(d)v["_on"+d]=[];else{var O=Object.keys(v);for(_=0;_<O.length;_++)0===O[_].indexOf("_on")&&Array.isArray(v[O[_]])&&(v[O[_]]=[])}return v},once:function(d,u,f){return this.on(d,u,f,1),this},_emit:function(d,u,f){for(var v=this,y=v["_on"+d],_=y.length-1;_>=0;_--)(!y[_].id||y[_].id===u||"load"===d)&&(setTimeout(function(w){w.call(this,u,f)}.bind(v,y[_].fn),0),y[_].once&&v.off(d,y[_].fn,y[_].id));return v._loadQueue(d),v},_loadQueue:function(d){var u=this;if(u._queue.length>0){var f=u._queue[0];f.event===d&&(u._queue.shift(),u._loadQueue()),d||f.action()}return u},_ended:function(d){var u=this,f=d._sprite;if(!u._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(u._ended.bind(u,d),100),u;var v=!(!d._loop&&!u._sprite[f][2]);if(u._emit("end",d._id),!u._webAudio&&v&&u.stop(d._id,!0).play(d._id),u._webAudio&&v){u._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=n.ctx.currentTime;var y=1e3*(d._stop-d._start)/Math.abs(d._rate);u._endTimers[d._id]=setTimeout(u._ended.bind(u,d),y)}return u._webAudio&&!v&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,u._clearTimer(d._id),u._cleanBuffer(d._node),n._autoSuspend()),!u._webAudio&&!v&&u.stop(d._id,!0),u},_clearTimer:function(d){var u=this;if(u._endTimers[d]){if("function"!=typeof u._endTimers[d])clearTimeout(u._endTimers[d]);else{var f=u._soundById(d);f&&f._node&&f._node.removeEventListener("ended",u._endTimers[d],!1)}delete u._endTimers[d]}return u},_soundById:function(d){for(var u=this,f=0;f<u._sounds.length;f++)if(d===u._sounds[f]._id)return u._sounds[f];return null},_inactiveSound:function(){var d=this;d._drain();for(var u=0;u<d._sounds.length;u++)if(d._sounds[u]._ended)return d._sounds[u].reset();return new r(d)},_drain:function(){var d=this,u=d._pool,f=0,v=0;if(!(d._sounds.length<u)){for(v=0;v<d._sounds.length;v++)d._sounds[v]._ended&&f++;for(v=d._sounds.length-1;v>=0;v--){if(f<=u)return;d._sounds[v]._ended&&(d._webAudio&&d._sounds[v]._node&&d._sounds[v]._node.disconnect(0),d._sounds.splice(v,1),f--)}}},_getSoundIds:function(d){if(typeof d>"u"){for(var f=[],v=0;v<this._sounds.length;v++)f.push(this._sounds[v]._id);return f}return[d]},_refreshBuffer:function(d){return d._node.bufferSource=n.ctx.createBufferSource(),d._node.bufferSource.buffer=o[this._src],d._node.bufferSource.connect(d._panner?d._panner:d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,n.ctx.currentTime),this},_cleanBuffer:function(d){var f=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),f))try{d.bufferSource.buffer=n._scratchBuffer}catch{}return d.bufferSource=null,this},_clearSound:function(d){/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent)||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(d){this._parent=d,this.init()};r.prototype={init:function(){var d=this,u=d._parent;return d._muted=u._muted,d._loop=u._loop,d._volume=u._volume,d._rate=u._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++n._counter,u._sounds.push(d),d.create(),d},create:function(){var d=this,u=d._parent,f=n._muted||d._muted||d._parent._muted?0:d._volume;return u._webAudio?(d._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),d._node.gain.setValueAtTime(f,n.ctx.currentTime),d._node.paused=!0,d._node.connect(n.masterGain)):n.noAudio||(d._node=n._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(n._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=u._src,d._node.preload=!0===u._preload?"auto":u._preload,d._node.volume=f*n.volume(),d._node.load()),d},reset:function(){var d=this,u=d._parent;return d._muted=u._muted,d._loop=u._loop,d._volume=u._volume,d._rate=u._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++n._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,u=d._parent;u._duration=Math.ceil(10*d._node.duration)/10,0===Object.keys(u._sprite).length&&(u._sprite={__default:[0,1e3*u._duration]}),"loaded"!==u._state&&(u._state="loaded",u._emit("load"),u._loadQueue()),d._node.removeEventListener(n._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,u=d._parent;u._duration===1/0&&(u._duration=Math.ceil(10*d._node.duration)/10,u._sprite.__default[1]===1/0&&(u._sprite.__default[1]=1e3*u._duration),u._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var o={},s=function(d){var u=d._src;if(o[u])return d._duration=o[u].duration,void c(d);if(/^data:[^;]+;base64,/.test(u)){for(var f=atob(u.split(",")[1]),v=new Uint8Array(f.length),y=0;y<f.length;++y)v[y]=f.charCodeAt(y);l(v.buffer,d)}else{var _=new XMLHttpRequest;_.open(d._xhr.method,u,!0),_.withCredentials=d._xhr.withCredentials,_.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(w){_.setRequestHeader(w,d._xhr.headers[w])}),_.onload=function(){var w=(_.status+"")[0];"0"===w||"2"===w||"3"===w?l(_.response,d):d._emit("loaderror",null,"Failed loading audio file with status: "+_.status+".")},_.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete o[u],d.load())},a(_)}},a=function(d){try{d.send()}catch{d.onerror()}},l=function(d,u){var f=function(){u._emit("loaderror",null,"Decoding audio data failed.")},v=function(y){y&&u._sounds.length>0?(o[u._src]=y,c(u,y)):f()};typeof Promise<"u"&&1===n.ctx.decodeAudioData.length?n.ctx.decodeAudioData(d).then(v).catch(f):n.ctx.decodeAudioData(d,v,f)},c=function(d,u){u&&!d._duration&&(d._duration=u.duration),0===Object.keys(d._sprite).length&&(d._sprite={__default:[0,1e3*d._duration]}),"loaded"!==d._state&&(d._state="loaded",d._emit("load"),d._loadQueue())},h=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),u=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),f=u?parseInt(u[1],10):null;if(d&&f&&f<9){var v=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!v&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:n,Howl:i}}),typeof e<"u"&&(e.Howler=n,e.Howl=i),typeof global<"u"?(global.HowlerGlobal=t,global.Howler=n,global.Howl=i,global.Sound=r):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=i,window.Sound=r)})(),function(){var n;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var r=i._howls.length-1;r>=0;r--)i._howls[r].stereo(n);return i},HowlerGlobal.prototype.pos=function(n,i,r){var o=this;return o.ctx&&o.ctx.listener?"number"!=typeof n?o._pos:(o._pos=[n,i="number"!=typeof i?o._pos[1]:i,r="number"!=typeof r?o._pos[2]:r],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]),o):o},HowlerGlobal.prototype.orientation=function(n,i,r,o,s,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var c=l._orientation;return"number"!=typeof n?c:(l._orientation=[n,i="number"!=typeof i?c[1]:i,r="number"!=typeof r?c[2]:r,o="number"!=typeof o?c[3]:o,s="number"!=typeof s?c[4]:s,a="number"!=typeof a?c[5]:a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,i,r,o,s,a),l)},Howl.prototype.init=(n=Howl.prototype.init,function(i){var r=this;return r._orientation=i.orientation||[1,0,0],r._stereo=i.stereo||null,r._pos=i.pos||null,r._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},r._onstereo=i.onstereo?[{fn:i.onstereo}]:[],r._onpos=i.onpos?[{fn:i.onpos}]:[],r._onorientation=i.onorientation?[{fn:i.onorientation}]:[],n.call(this,i)}),Howl.prototype.stereo=function(n,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(n,i)}}),r;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u"){if("number"!=typeof n)return r._stereo;r._stereo=n,r._pos=[n,0,0]}for(var s=r._getSoundIds(i),a=0;a<s.length;a++){var l=r._soundById(s[a]);if(l){if("number"!=typeof n)return l._stereo;l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&t(l,o),"spatial"===o?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),r._emit("stereo",l._id)}}return r},Howl.prototype.pos=function(n,i,r,o){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(n,i,r,o)}}),s;if(i="number"!=typeof i?0:i,r="number"!=typeof r?-.5:r,typeof o>"u"){if("number"!=typeof n)return s._pos;s._pos=[n,i,r]}for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var c=s._soundById(a[l]);if(c){if("number"!=typeof n)return c._pos;c._pos=[n,i,r],c._node&&((!c._panner||c._panner.pan)&&t(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(n,i,r)),s._emit("pos",c._id)}}return s},Howl.prototype.orientation=function(n,i,r,o){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(n,i,r,o)}}),s;if(i="number"!=typeof i?s._orientation[1]:i,r="number"!=typeof r?s._orientation[2]:r,typeof o>"u"){if("number"!=typeof n)return s._orientation;s._orientation=[n,i,r]}for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var c=s._soundById(a[l]);if(c){if("number"!=typeof n)return c._orientation;c._orientation=[n,i,r],c._node&&(c._panner||(c._pos||(c._pos=s._pos||[0,0,-.5]),t(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(n,i,r)),s._emit("orientation",c._id)}}return s},Howl.prototype.pannerAttr=function(){var r,o,s,n=this,i=arguments;if(!n._webAudio)return n;if(0===i.length)return n._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(s=n._soundById(parseInt(i[0],10)))?s._pannerAttr:n._pannerAttr;r=i[0],typeof o>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),n._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:n._panningModel})}else 2===i.length&&(r=i[0],o=parseInt(i[1],10));for(var a=n._getSoundIds(o),l=0;l<a.length;l++)if(s=n._soundById(a[l])){var c=s._pannerAttr;c={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:c.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:c.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:c.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:c.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:c.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:c.panningModel};var h=s._panner;h?(h.coneInnerAngle=c.coneInnerAngle,h.coneOuterAngle=c.coneOuterAngle,h.coneOuterGain=c.coneOuterGain,h.distanceModel=c.distanceModel,h.maxDistance=c.maxDistance,h.refDistance=c.refDistance,h.rolloffFactor=c.rolloffFactor,h.panningModel=c.panningModel):(s._pos||(s._pos=n._pos||[0,0,-.5]),t(s,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var i=this,r=i._parent;i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,n.call(this),i._stereo?r.stereo(i._stereo):i._pos&&r.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var i=this,r=i._parent;return i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,i._stereo?r.stereo(i._stereo):i._pos?r.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,r._refreshBuffer(i)),n.call(this)}}(Sound.prototype.reset);var t=function(n,i){"spatial"===(i=i||"spatial")?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}}()}),fve=va((e,t)=>{t.exports=function n(i){for(var r=new Array(i),o=0;o<i;++o)r[o]=o;return r}}),mve=va((e,t)=>{function n(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}t.exports=function(r){return null!=r&&(n(r)||function i(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&n(r.slice(0,0))}(r)||!!r._isBuffer)}}),Jy=va((e,t)=>{var n=fve(),i=mve(),r=typeof Float64Array<"u";function o(d,u){return d[0]-u[0]}function s(){var f,d=this.stride,u=new Array(d.length);for(f=0;f<u.length;++f)u[f]=[Math.abs(d[f]),f];u.sort(o);var v=new Array(u.length);for(f=0;f<v.length;++f)v[f]=u[f][1];return v}function a(d,u){var f=["View",u,"d",d].join("");u<0&&(f="View_Nil"+d);var v="generic"===d;if(-1===u){var y="function "+f+"(a){this.data=a;};var proto="+f+".prototype;proto.dtype='"+d+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+f+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+f+"(a){return new "+f+"(a);}";return new Function(y)()}if(0===u)return y="function "+f+"(a,d) {this.data = a;this.offset = d};var proto="+f+".prototype;proto.dtype='"+d+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+f+"_copy() {return new "+f+"(this.data,this.offset)};proto.pick=function "+f+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+f+"_get(){return "+(v?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+f+"_set(v){return "+(v?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+f+"(a,b,c,d){return new "+f+"(a,d)}",new Function("TrivialArray",y)(c[d][0]);y=["'use strict'"];var _=n(u),w=_.map(function(ie){return"i"+ie}),O="this.offset+"+_.map(function(ie){return"this.stride["+ie+"]*i"+ie}).join("+"),S=_.map(function(ie){return"b"+ie}).join(","),D=_.map(function(ie){return"c"+ie}).join(",");y.push("function "+f+"(a,"+S+","+D+",d){this.data=a","this.shape=["+S+"]","this.stride=["+D+"]","this.offset=d|0}","var proto="+f+".prototype","proto.dtype='"+d+"'","proto.dimension="+u),y.push("Object.defineProperty(proto,'size',{get:function "+f+"_size(){return "+_.map(function(ie){return"this.shape["+ie+"]"}).join("*"),"}})"),1===u?y.push("proto.order=[0]"):(y.push("Object.defineProperty(proto,'order',{get:"),u<4?(y.push("function "+f+"_order(){"),2===u?y.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===u&&y.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):y.push("ORDER})")),y.push("proto.set=function "+f+"_set("+w.join(",")+",v){"),y.push(v?"return this.data.set("+O+",v)}":"return this.data["+O+"]=v}"),y.push("proto.get=function "+f+"_get("+w.join(",")+"){"),y.push(v?"return this.data.get("+O+")}":"return this.data["+O+"]}"),y.push("proto.index=function "+f+"_index(",w.join(),"){return "+O+"}"),y.push("proto.hi=function "+f+"_hi("+w.join(",")+"){return new "+f+"(this.data,"+_.map(function(ie){return["(typeof i",ie,"!=='number'||i",ie,"<0)?this.shape[",ie,"]:i",ie,"|0"].join("")}).join(",")+","+_.map(function(ie){return"this.stride["+ie+"]"}).join(",")+",this.offset)}");var U=_.map(function(ie){return"a"+ie+"=this.shape["+ie+"]"}),Y=_.map(function(ie){return"c"+ie+"=this.stride["+ie+"]"});y.push("proto.lo=function "+f+"_lo("+w.join(",")+"){var b=this.offset,d=0,"+U.join(",")+","+Y.join(","));for(var q=0;q<u;++q)y.push("if(typeof i"+q+"==='number'&&i"+q+">=0){d=i"+q+"|0;b+=c"+q+"*d;a"+q+"-=d}");for(y.push("return new "+f+"(this.data,"+_.map(function(ie){return"a"+ie}).join(",")+","+_.map(function(ie){return"c"+ie}).join(",")+",b)}"),y.push("proto.step=function "+f+"_step("+w.join(",")+"){var "+_.map(function(ie){return"a"+ie+"=this.shape["+ie+"]"}).join(",")+","+_.map(function(ie){return"b"+ie+"=this.stride["+ie+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),q=0;q<u;++q)y.push("if(typeof i"+q+"==='number'){d=i"+q+"|0;if(d<0){c+=b"+q+"*(a"+q+"-1);a"+q+"=ceil(-a"+q+"/d)}else{a"+q+"=ceil(a"+q+"/d)}b"+q+"*=d}");y.push("return new "+f+"(this.data,"+_.map(function(ie){return"a"+ie}).join(",")+","+_.map(function(ie){return"b"+ie}).join(",")+",c)}");var K=new Array(u),Z=new Array(u);for(q=0;q<u;++q)K[q]="a[i"+q+"]",Z[q]="b[i"+q+"]";for(y.push("proto.transpose=function "+f+"_transpose("+w+"){"+w.map(function(ie,ce){return ie+"=("+ie+"===undefined?"+ce+":"+ie+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+f+"(this.data,"+K.join(",")+","+Z.join(",")+",this.offset)}"),y.push("proto.pick=function "+f+"_pick("+w+"){var a=[],b=[],c=this.offset"),q=0;q<u;++q)y.push("if(typeof i"+q+"==='number'&&i"+q+">=0){c=(c+this.stride["+q+"]*i"+q+")|0}else{a.push(this.shape["+q+"]);b.push(this.stride["+q+"])}");return y.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),y.push("return function construct_"+f+"(data,shape,stride,offset){return new "+f+"(data,"+_.map(function(ie){return"shape["+ie+"]"}).join(",")+","+_.map(function(ie){return"stride["+ie+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",y.join("\n"))(c[d],s)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function h(d,u,f,v){if(void 0===d)return(0,c.array[0])([]);"number"==typeof d&&(d=[d]),void 0===u&&(u=[d.length]);var y=u.length;if(void 0===f){f=new Array(y);for(var _=y-1,w=1;_>=0;--_)f[_]=w,w*=u[_]}if(void 0===v)for(v=0,_=0;_<y;++_)f[_]<0&&(v-=(u[_]-1)*f[_]);for(var O=function l(d){if(i(d))return"buffer";if(r)switch(Object.prototype.toString.call(d)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(d)?"array":"generic"}(d),S=c[O];S.length<=y+1;)S.push(a(O,S.length-1));return(0,S[y+1])(d,u,f,v)}}),gve=va((e,t)=>{t.exports=function r(o,s,a){return 0===o.length?o:s?(a||o.sort(s),function n(o,s){for(var a=1,l=o.length,c=o[0],h=o[0],d=1;d<l;++d)if(h=c,s(c=o[d],h)){if(d===a){a++;continue}o[a++]=c}return o.length=a,o}(o,s)):(a||o.sort(),function i(o){for(var s=1,a=o.length,l=o[0],c=o[0],h=1;h<a;++h,c=l)if(c=l,(l=o[h])!==c){if(h===s){s++;continue}o[s++]=l}return o.length=s,o}(o))}}),vve=va((e,t)=>{var n=gve();function i(c,h,d){var S,D,u=c.length,f=h.arrayArgs.length,v=h.indexArgs.length>0,y=[],_=[],w=0,O=0;for(S=0;S<u;++S)_.push(["i",S,"=0"].join(""));for(D=0;D<f;++D)for(S=0;S<u;++S)O=w,w=c[S],_.push(0===S?["d",D,"s",S,"=t",D,"p",w].join(""):["d",D,"s",S,"=(t",D,"p",w,"-s",O,"*t",D,"p",O,")"].join(""));for(_.length>0&&y.push("var "+_.join(",")),S=u-1;S>=0;--S)y.push(["for(i",S,"=0;i",S,"<s",w=c[S],";++i",S,"){"].join(""));for(y.push(d),S=0;S<u;++S){for(O=w,w=c[S],D=0;D<f;++D)y.push(["p",D,"+=d",D,"s",S].join(""));v&&(S>0&&y.push(["index[",O,"]-=s",O].join("")),y.push(["++index[",w,"]"].join(""))),y.push("}")}return y.join("\n")}function s(c,h,d){for(var u=c.body,f=[],v=[],y=0;y<c.args.length;++y){var _=c.args[y];if(!(_.count<=0)){var w=new RegExp(_.name,"g"),O="",S=h.arrayArgs.indexOf(y);switch(h.argTypes[y]){case"offset":var D=h.offsetArgIndex.indexOf(y);S=h.offsetArgs[D].array,O="+q"+D;case"array":O="p"+S+O;var Y="l"+y,q="a"+S;if(0===h.arrayBlockIndices[S])1===_.count?"generic"===d[S]?_.lvalue?(f.push(["var ",Y,"=",q,".get(",O,")"].join("")),u=u.replace(w,Y),v.push([q,".set(",O,",",Y,")"].join(""))):u=u.replace(w,[q,".get(",O,")"].join("")):u=u.replace(w,[q,"[",O,"]"].join("")):"generic"===d[S]?(f.push(["var ",Y,"=",q,".get(",O,")"].join("")),u=u.replace(w,Y),_.lvalue&&v.push([q,".set(",O,",",Y,")"].join(""))):(f.push(["var ",Y,"=",q,"[",O,"]"].join("")),u=u.replace(w,Y),_.lvalue&&v.push([q,"[",O,"]=",Y].join("")));else{for(var K=[_.name],Z=[O],te=0;te<Math.abs(h.arrayBlockIndices[S]);te++)K.push("\\s*\\[([^\\]]+)\\]"),Z.push("$"+(te+1)+"*t"+S+"b"+te);if(w=new RegExp(K.join(""),"g"),O=Z.join("+"),"generic"===d[S])throw new Error("cwise: Generic arrays not supported in combination with blocks!");u=u.replace(w,[q,"[",O,"]"].join(""))}break;case"scalar":u=u.replace(w,"Y"+h.scalarArgs.indexOf(y));break;case"index":u=u.replace(w,"index");break;case"shape":u=u.replace(w,"shape")}}}return[f.join("\n"),u,v.join("\n")].join("\n").trim()}function a(c){for(var h=new Array(c.length),d=!0,u=0;u<c.length;++u){var f=c[u],v=f.match(/\d+/);v=v?v[0]:"",h[u]=0===f.charAt(0)?"u"+f.charAt(1)+v:f.charAt(0)+v,u>0&&(d=d&&h[u]===h[u-1])}return d?h[0]:h.join("")}t.exports=function l(c,h){for(var d=h[1].length-Math.abs(c.arrayBlockIndices[0])|0,u=new Array(c.arrayArgs.length),f=new Array(c.arrayArgs.length),v=0;v<c.arrayArgs.length;++v)f[v]=h[2*v],u[v]=h[2*v+1];var y=[],_=[],w=[],O=[],S=[];for(v=0;v<c.arrayArgs.length;++v){c.arrayBlockIndices[v]<0?(w.push(0),O.push(d),y.push(d),_.push(d+c.arrayBlockIndices[v])):(w.push(c.arrayBlockIndices[v]),O.push(c.arrayBlockIndices[v]+d),y.push(0),_.push(c.arrayBlockIndices[v]));for(var D=[],U=0;U<u[v].length;U++)w[v]<=u[v][U]&&u[v][U]<O[v]&&D.push(u[v][U]-w[v]);S.push(D)}var Y=["SS"],q=["'use strict'"],K=[];for(U=0;U<d;++U)K.push(["s",U,"=SS[",U,"]"].join(""));for(v=0;v<c.arrayArgs.length;++v){for(Y.push("a"+v),Y.push("t"+v),Y.push("p"+v),U=0;U<d;++U)K.push(["t",v,"p",U,"=t",v,"[",w[v]+U,"]"].join(""));for(U=0;U<Math.abs(c.arrayBlockIndices[v]);++U)K.push(["t",v,"b",U,"=t",v,"[",y[v]+U,"]"].join(""))}for(v=0;v<c.scalarArgs.length;++v)Y.push("Y"+v);if(c.shapeArgs.length>0&&K.push("shape=SS.slice(0)"),c.indexArgs.length>0){var Z=new Array(d);for(v=0;v<d;++v)Z[v]="0";K.push(["index=[",Z.join(","),"]"].join(""))}for(v=0;v<c.offsetArgs.length;++v){var te=c.offsetArgs[v],ie=[];for(U=0;U<te.offset.length;++U)0!==te.offset[U]&&ie.push(1===te.offset[U]?["t",te.array,"p",U].join(""):[te.offset[U],"*t",te.array,"p",U].join(""));K.push(0===ie.length?"q"+v+"=0":["q",v,"=",ie.join("+")].join(""))}var ce=n([].concat(c.pre.thisVars).concat(c.body.thisVars).concat(c.post.thisVars));for((K=K.concat(ce)).length>0&&q.push("var "+K.join(",")),v=0;v<c.arrayArgs.length;++v)q.push("p"+v+"|=0");c.pre.body.length>3&&q.push(s(c.pre,c,f));var de=s(c.body,c,f),ue=function o(c){for(var h=0,d=c[0].length;h<d;){for(var u=1;u<c.length;++u)if(c[u][h]!==c[0][h])return h;++h}return h}(S);q.push(ue<d?function r(c,h,d,u){for(var f=h.length,v=d.arrayArgs.length,y=d.blockSize,_=d.indexArgs.length>0,w=[],O=0;O<v;++O)w.push(["var offset",O,"=p",O].join(""));for(O=c;O<f;++O)w.push(["for(var j"+O+"=SS[",h[O],"]|0;j",O,">0;){"].join("")),w.push(["if(j",O,"<",y,"){"].join("")),w.push(["s",h[O],"=j",O].join("")),w.push(["j",O,"=0"].join("")),w.push(["}else{s",h[O],"=",y].join("")),w.push(["j",O,"-=",y,"}"].join("")),_&&w.push(["index[",h[O],"]=j",O].join(""));for(O=0;O<v;++O){for(var S=["offset"+O],D=c;D<f;++D)S.push(["j",D,"*t",O,"p",h[D]].join(""));w.push(["p",O,"=(",S.join("+"),")"].join(""))}for(w.push(i(h,d,u)),O=c;O<f;++O)w.push("}");return w.join("\n")}(ue,S[0],c,de):i(S[0],c,de)),c.post.body.length>3&&q.push(s(c.post,c,f)),c.debug&&console.log("-----Generated cwise routine for ",h,":\n"+q.join("\n")+"\n----------");var Ce=[c.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",ue,a(f)].join("");return new Function(["function ",Ce,"(",Y.join(","),"){",q.join("\n"),"} return ",Ce].join(""))()}}),yve=va((e,t)=>{var n=vve();t.exports=function i(r){var o=["'use strict'","var CACHED={}"],s=[];o.push(["return function ",r.funcName+"_cwise_thunk","(",r.shimArgs.join(","),"){"].join(""));for(var l=[],c=[],h=[["array",r.arrayArgs[0],".shape.slice(",Math.max(0,r.arrayBlockIndices[0]),r.arrayBlockIndices[0]<0?","+r.arrayBlockIndices[0]+")":")"].join("")],d=[],u=[],f=0;f<r.arrayArgs.length;++f){var v=r.arrayArgs[f];s.push(["t",v,"=array",v,".dtype,","r",v,"=array",v,".order"].join("")),l.push("t"+v),l.push("r"+v),c.push("t"+v),c.push("r"+v+".join()"),h.push("array"+v+".data"),h.push("array"+v+".stride"),h.push("array"+v+".offset|0"),f>0&&(d.push("array"+r.arrayArgs[0]+".shape.length===array"+v+".shape.length+"+(Math.abs(r.arrayBlockIndices[0])-Math.abs(r.arrayBlockIndices[f]))),u.push("array"+r.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[0])+"]===array"+v+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[f])+"]"))}for(r.arrayArgs.length>1&&(o.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),o.push("for(var shapeIndex=array"+r.arrayArgs[0]+".shape.length-"+Math.abs(r.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),o.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),o.push("}")),f=0;f<r.scalarArgs.length;++f)h.push("scalar"+r.scalarArgs[f]);return s.push(["type=[",c.join(","),"].join()"].join("")),s.push("proc=CACHED[type]"),o.push("var "+s.join(",")),o.push(["if(!proc){","CACHED[type]=proc=compile([",l.join(","),"])}","return proc(",h.join(","),")}"].join("")),r.debug&&console.log("-----Generated thunk:\n"+o.join("\n")+"\n----------"),new Function("compile",o.join("\n"))(n.bind(void 0,r))}}),_ve=va((e,t)=>{var n=yve();function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function r(o){var s=new i;s.pre=o.pre,s.body=o.body,s.post=o.post;var a=o.args.slice(0);s.argTypes=a;for(var l=0;l<a.length;++l){var c=a[l];if("array"===c||"object"==typeof c&&c.blockIndices){if(s.argTypes[l]="array",s.arrayArgs.push(l),s.arrayBlockIndices.push(c.blockIndices?c.blockIndices:0),s.shimArgs.push("array"+l),l<s.pre.args.length&&s.pre.args[l].count>0)throw new Error("cwise: pre() block may not reference array args");if(l<s.post.args.length&&s.post.args[l].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===c)s.scalarArgs.push(l),s.shimArgs.push("scalar"+l);else if("index"===c){if(s.indexArgs.push(l),l<s.pre.args.length&&s.pre.args[l].count>0)throw new Error("cwise: pre() block may not reference array index");if(l<s.body.args.length&&s.body.args[l].lvalue)throw new Error("cwise: body() block may not write to array index");if(l<s.post.args.length&&s.post.args[l].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===c){if(s.shapeArgs.push(l),l<s.pre.args.length&&s.pre.args[l].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(l<s.body.args.length&&s.body.args[l].lvalue)throw new Error("cwise: body() block may not write to array shape");if(l<s.post.args.length&&s.post.args[l].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof c||!c.offset)throw new Error("cwise: Unknown argument type "+a[l]);s.argTypes[l]="offset",s.offsetArgs.push({array:c.array,offset:c.offset}),s.offsetArgIndex.push(l)}}if(s.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(s.pre.args.length>a.length)throw new Error("cwise: Too many arguments in pre() block");if(s.body.args.length>a.length)throw new Error("cwise: Too many arguments in body() block");if(s.post.args.length>a.length)throw new Error("cwise: Too many arguments in post() block");return s.debug=!!o.printCode||!!o.debug,s.funcName=o.funcName||"cwise",s.blockSize=o.blockSize||64,n(s)}}),e_=va(e=>{var t=_ve(),n={body:"",args:[],thisVars:[],localVars:[]};function i(u){if(!u)return n;for(var f=0;f<u.args.length;++f){var v=u.args[f];u.args[f]=0===f?{name:v,lvalue:!0,rvalue:!!u.rvalue,count:u.count||1}:{name:v,lvalue:!1,rvalue:!0,count:1}}return u.thisVars||(u.thisVars=[]),u.localVars||(u.localVars=[]),u}function o(u){for(var f=[],v=0;v<u.args.length;++v)f.push("a"+v);return new Function("P",["return function ",u.funcName,"_ndarrayops(",f.join(","),") {P(",f.join(","),");return a0}"].join(""))(function r(u){return t({args:u.args,pre:i(u.pre),body:i(u.body),post:i(u.proc),funcName:u.funcName})}(u))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var u in s){var f=s[u];e[u]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+f+"c"},funcName:u}),e[u+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+f+"=b"},rvalue:!0,funcName:u+"eq"}),e[u+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+f+"s"},funcName:u+"s"}),e[u+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+f+"=s"},rvalue:!0,funcName:u+"seq"})}}();var a={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var u in a){var f=a[u];e[u]=o({args:["array","array"],body:{args:["a","b"],body:"a="+f+"b"},funcName:u}),e[u+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+f+"a"},rvalue:!0,count:2,funcName:u+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var u in l){var f=l[u];e[u]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+f+"c"},funcName:u}),e[u+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+f+"s"},funcName:u+"s"}),e[u+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+f+"b"},rvalue:!0,count:2,funcName:u+"eq"}),e[u+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+f+"s"},rvalue:!0,count:2,funcName:u+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var u=0;u<c.length;++u){var f=c[u];e[f]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:f}),e[f+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var u=0;u<h.length;++u){var f=h[u];e[f]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:f}),e[f+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:f+"s"}),e[f+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"eq"}),e[f+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"seq"})}}();var d=["atan2","pow"];(function(){for(var u=0;u<d.length;++u){var f=d[u];e[f+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:f+"op"}),e[f+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:f+"ops"}),e[f+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"opeq"}),e[f+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"opseq"})}})(),e.any=t({args:["array"],pre:n,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})}),bve=va((e,t)=>{t.exports=function(n,i){for(var r=n.split("."),o=i.split("."),s=0;s<3;s++){var a=Number(r[s]),l=Number(o[s]);if(a>l)return 1;if(l>a)return-1;if(!isNaN(a)&&isNaN(l))return 1;if(isNaN(a)&&!isNaN(l))return-1}return 0}}),S0="149",lu=1e3,Xo=1001,Zr=1003,Ri=1006,D0=1008,ya=1009,cu=1014,ja=1015,vm=1016,ym=1020,Xl=1023,_m=1026,bm=1027,A0=2400,T0=2401,nh=3e3,wi=3001,du=3200,ih="srgb",mC="srgb-linear",ta=class{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let i=n.indexOf(t);-1!==i&&n.splice(i,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let i=0,r=n.length;i<r;i++)n[i].call(this,e);e.target=null}}},_a=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],pU=1234567,i_=Math.PI/180,r_=180/Math.PI;function Mc(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(_a[255&e]+_a[e>>8&255]+_a[e>>16&255]+_a[e>>24&255]+"-"+_a[255&t]+_a[t>>8&255]+"-"+_a[t>>16&15|64]+_a[t>>24&255]+"-"+_a[63&n|128]+_a[n>>8&255]+"-"+_a[n>>16&255]+_a[n>>24&255]+_a[255&i]+_a[i>>8&255]+_a[i>>16&255]+_a[i>>24&255]).toLowerCase()}function cs(e,t,n){return Math.max(t,Math.min(n,e))}function lA(e,t){return(e%t+t)%t}function o_(e,t,n){return(1-n)*e+n*t}function cA(e){return 0==(e&e-1)&&0!==e}function fU(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function gC(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function hu(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Jr(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Ln=Object.freeze({__proto__:null,DEG2RAD:i_,RAD2DEG:r_,ceilPowerOfTwo:fU,clamp:cs,damp:function v1e(e,t,n,i){return o_(e,t,1-Math.exp(-n*i))},degToRad:function P1e(e){return e*i_},denormalize:hu,euclideanModulo:lA,floorPowerOfTwo:gC,generateUUID:Mc,inverseLerp:function g1e(e,t,n){return e!==t?(n-e)/(t-e):0},isPowerOfTwo:cA,lerp:o_,mapLinear:function m1e(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},normalize:Jr,pingpong:function y1e(e,t=1){return t-Math.abs(lA(e,2*t)-t)},radToDeg:function O1e(e){return e*r_},randFloat:function w1e(e,t){return e+Math.random()*(t-e)},randFloatSpread:function C1e(e){return e*(.5-Math.random())},randInt:function x1e(e,t){return e+Math.floor(Math.random()*(t-e+1))},seededRandom:function M1e(e){void 0!==e&&(pU=e);let t=pU+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},setQuaternionFromProperEuler:function S1e(e,t,n,i,r){let o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+i)/2),h=s((t+i)/2),d=o((t-i)/2),u=s((t-i)/2),f=o((i-t)/2),v=s((i-t)/2);switch(r){case"XYX":e.set(a*h,l*d,l*u,a*c);break;case"YZY":e.set(l*u,a*h,l*d,a*c);break;case"ZXZ":e.set(l*d,l*u,a*h,a*c);break;case"XZX":e.set(a*h,l*v,l*f,a*c);break;case"YXY":e.set(l*f,a*h,l*v,a*c);break;case"ZYZ":e.set(l*v,l*f,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},smootherstep:function b1e(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},smoothstep:function _1e(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}}),Fe=class{constructor(e=0,t=0){Fe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},$o=class{constructor(){$o.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,i,r,o,s,a,l){let c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],h=n[7],d=n[2],u=n[5],f=n[8],v=i[0],y=i[3],_=i[6],w=i[1],O=i[4],S=i[7],D=i[2],U=i[5],Y=i[8];return r[0]=o*v+s*w+a*D,r[3]=o*y+s*O+a*U,r[6]=o*_+s*S+a*Y,r[1]=l*v+c*w+h*D,r[4]=l*y+c*O+h*U,r[7]=l*_+c*S+h*Y,r[2]=d*v+u*w+f*D,r[5]=d*y+u*O+f*U,r[8]=d*_+u*S+f*Y,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*r*c+n*s*a+i*r*l-i*o*a}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],h=c*o-s*l,d=s*a-c*r,u=l*r-o*a,f=t*h+n*d+i*u;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);let v=1/f;return e[0]=h*v,e[1]=(i*l-c*n)*v,e[2]=(s*n-i*o)*v,e[3]=d*v,e[4]=(c*t-i*a)*v,e[5]=(i*r-s*t)*v,e[6]=u*v,e[7]=(n*a-l*t)*v,e[8]=(o*t-n*r)*v,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,o,s){let a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-i*l,i*a,-i*(-l*o+a*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(dA.makeScale(e,t)),this}rotate(e){return this.premultiply(dA.makeRotation(-e)),this}translate(e,t){return this.premultiply(dA.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}},dA=new $o;function mU(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var E1e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function vC(e,t){return new E1e[e](t)}function yC(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function xm(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function _C(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var hA={[ih]:{[mC]:xm},[mC]:{[ih]:_C}},Va={legacyMode:!0,get workingColorSpace(){return mC},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(hA[t]&&void 0!==hA[t][n]){let i=hA[t][n];return e.r=i(e.r),e.g=i(e.g),e.b=i(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},gU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Es={r:0,g:0,b:0},hd={h:0,s:0,l:0},bC={h:0,s:0,l:0};function uA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function xC(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var qn=class{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ih){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Va.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=Va.workingColorSpace){return this.r=e,this.g=t,this.b=n,Va.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=Va.workingColorSpace){if(e=lA(e,1),t=cs(t,0,1),n=cs(n,0,1),0===t)this.r=this.g=this.b=n;else{let r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=uA(o,r,e+1/3),this.g=uA(o,r,e),this.b=uA(o,r,e-1/3)}return Va.toWorkingColorSpace(this,i),this}setStyle(e,t=ih){function n(r){void 0!==r&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r,s=i[2];switch(i[1]){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,Va.toWorkingColorSpace(this,t),n(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,Va.toWorkingColorSpace(this,t),n(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){let a=parseFloat(r[1])/360,l=parseFloat(r[2])/100,c=parseFloat(r[3])/100;return n(r[4]),this.setHSL(a,l,c,t)}}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){let r=i[1],o=r.length;if(3===o)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,Va.toWorkingColorSpace(this,t),this;if(6===o)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,Va.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=ih){let n=gU[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=xm(e.r),this.g=xm(e.g),this.b=xm(e.b),this}copyLinearToSRGB(e){return this.r=_C(e.r),this.g=_C(e.g),this.b=_C(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ih){return Va.fromWorkingColorSpace(xC(this,Es),e),cs(255*Es.r,0,255)<<16^cs(255*Es.g,0,255)<<8^cs(255*Es.b,0,255)<<0}getHexString(e=ih){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Va.workingColorSpace){Va.fromWorkingColorSpace(xC(this,Es),t);let a,l,n=Es.r,i=Es.g,r=Es.b,o=Math.max(n,i,r),s=Math.min(n,i,r),c=(s+o)/2;if(s===o)a=0,l=0;else{let h=o-s;switch(l=c<=.5?h/(o+s):h/(2-o-s),o){case n:a=(i-r)/h+(i<r?6:0);break;case i:a=(r-n)/h+2;break;case r:a=(n-i)/h+4}a/=6}return e.h=a,e.s=l,e.l=c,e}getRGB(e,t=Va.workingColorSpace){return Va.fromWorkingColorSpace(xC(this,Es),t),e.r=Es.r,e.g=Es.g,e.b=Es.b,e}getStyle(e=ih){return Va.fromWorkingColorSpace(xC(this,Es),e),e!==ih?`color(${e} ${Es.r} ${Es.g} ${Es.b})`:`rgb(${255*Es.r|0},${255*Es.g|0},${255*Es.b|0})`}offsetHSL(e,t,n){return this.getHSL(hd),hd.h+=e,hd.s+=t,hd.l+=n,this.setHSL(hd.h,hd.s,hd.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(hd),e.getHSL(bC);let n=o_(hd.h,bC.h,t),i=o_(hd.s,bC.s,t),r=o_(hd.l,bC.l,t);return this.setHSL(n,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};qn.NAMES=gU;var k0,vU=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===k0&&(k0=yC("canvas")),k0.width=e.width,k0.height=e.height;let n=k0.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=k0}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=yC("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=255*xm(r[o]/255);return n.putImageData(i,0,0),t}if(e.data){let t=e.data.slice(0);for(let n=0;n<t.length;n++)t[n]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*xm(t[n]/255)):xm(t[n]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},yU=class{constructor(e=null){this.isSource=!0,this.uuid=Mc(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];let n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let r;if(Array.isArray(i)){r=[];for(let o=0,s=i.length;o<s;o++)r.push(pA(i[o].isDataTexture?i[o].image:i[o]))}else r=pA(i);n.url=r}return t||(e.images[this.uuid]=n),n}};function pA(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?vU.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var D1e=0,Ds=class extends ta{constructor(e=Ds.DEFAULT_IMAGE,t=Ds.DEFAULT_MAPPING,n=Xo,i=Xo,r=Ri,o=D0,s=Xl,a=ya,l=Ds.DEFAULT_ANISOTROPY,c=nh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:D1e++}),this.uuid=Mc(),this.name="",this.source=new yU(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $o,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];let n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case lu:e.x=e.x-Math.floor(e.x);break;case Xo:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case lu:e.y=e.y-Math.floor(e.y);break;case Xo:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}};Ds.DEFAULT_IMAGE=null,Ds.DEFAULT_MAPPING=300,Ds.DEFAULT_ANISOTROPY=1;var Ci=class{constructor(e=0,t=0,n=0,i=1){Ci.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r,o=e.elements,s=o[0],a=o[4],l=o[8],c=o[1],h=o[5],d=o[9],u=o[2],f=o[6],v=o[10];if(Math.abs(a-c)<.01&&Math.abs(l-u)<.01&&Math.abs(d-f)<.01){if(Math.abs(a+c)<.1&&Math.abs(l+u)<.1&&Math.abs(d+f)<.1&&Math.abs(s+h+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let _=(s+1)/2,w=(h+1)/2,O=(v+1)/2,S=(a+c)/4,D=(l+u)/4,U=(d+f)/4;return _>w&&_>O?_<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(_),i=S/n,r=D/n):w>O?w<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(w),n=S/i,r=U/i):O<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(O),n=D/r,i=U/r),this.set(n,i,r,t),this}let y=Math.sqrt((f-d)*(f-d)+(l-u)*(l-u)+(c-a)*(c-a));return Math.abs(y)<.001&&(y=1),this.x=(f-d)/y,this.y=(l-u)/y,this.z=(c-a)/y,this.w=Math.acos((s+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Ar=class extends ta{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ci(0,0,e,t),this.scissorTest=!1,this.viewport=new Ci(0,0,e,t),this.texture=new Ds({width:e,height:t,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ri,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new yU(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},_U=class extends Ds{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Zr,this.minFilter=Zr,this.wrapR=Xo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},T1e=class extends Ar{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;let r=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=r.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},hi=class{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],h=n[i+3],d=r[o+0],u=r[o+1],f=r[o+2],v=r[o+3];if(0===s)return e[t+0]=a,e[t+1]=l,e[t+2]=c,void(e[t+3]=h);if(1===s)return e[t+0]=d,e[t+1]=u,e[t+2]=f,void(e[t+3]=v);if(h!==v||a!==d||l!==u||c!==f){let y=1-s,_=a*d+l*u+c*f+h*v,w=_>=0?1:-1,O=1-_*_;if(O>Number.EPSILON){let D=Math.sqrt(O),U=Math.atan2(D,_*w);y=Math.sin(y*U)/D,s=Math.sin(s*U)/D}let S=s*w;if(a=a*y+d*S,l=l*y+u*S,c=c*y+f*S,h=h*y+v*S,y===1-s){let D=1/Math.sqrt(a*a+l*l+c*c+h*h);a*=D,l*=D,c*=D,h*=D}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,i,r,o){let s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],h=r[o],d=r[o+1],u=r[o+2],f=r[o+3];return e[t]=s*f+c*h+a*u-l*d,e[t+1]=a*f+c*d+l*h-s*u,e[t+2]=l*f+c*u+s*d-a*h,e[t+3]=c*f-s*h-a*d-l*u,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let n=e._x,i=e._y,r=e._z,o=e._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),h=s(r/2),d=a(n/2),u=a(i/2),f=a(r/2);switch(o){case"XYZ":this._x=d*c*h+l*u*f,this._y=l*u*h-d*c*f,this._z=l*c*f+d*u*h,this._w=l*c*h-d*u*f;break;case"YXZ":this._x=d*c*h+l*u*f,this._y=l*u*h-d*c*f,this._z=l*c*f-d*u*h,this._w=l*c*h+d*u*f;break;case"ZXY":this._x=d*c*h-l*u*f,this._y=l*u*h+d*c*f,this._z=l*c*f+d*u*h,this._w=l*c*h-d*u*f;break;case"ZYX":this._x=d*c*h-l*u*f,this._y=l*u*h+d*c*f,this._z=l*c*f-d*u*h,this._w=l*c*h+d*u*f;break;case"YZX":this._x=d*c*h+l*u*f,this._y=l*u*h+d*c*f,this._z=l*c*f-d*u*h,this._w=l*c*h-d*u*f;break;case"XZY":this._x=d*c*h-l*u*f,this._y=l*u*h-d*c*f,this._z=l*c*f+d*u*h,this._w=l*c*h+d*u*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],h=t[10],d=n+s+h;if(d>0){let u=.5/Math.sqrt(d+1);this._w=.25/u,this._x=(c-a)*u,this._y=(r-l)*u,this._z=(o-i)*u}else if(n>s&&n>h){let u=2*Math.sqrt(1+n-s-h);this._w=(c-a)/u,this._x=.25*u,this._y=(i+o)/u,this._z=(r+l)/u}else if(s>h){let u=2*Math.sqrt(1+s-n-h);this._w=(r-l)/u,this._x=(i+o)/u,this._y=.25*u,this._z=(a+c)/u}else{let u=2*Math.sqrt(1+h-n-s);this._w=(o-i)/u,this._x=(r+l)/u,this._y=(a+c)/u,this._z=.25*u}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(cs(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(0===n)return this;let i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,i=e._y,r=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+i*l-r*a,this._y=i*c+o*a+r*s-n*l,this._z=r*c+o*l+n*a-i*s,this._w=o*c-n*s-i*a-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);let n=this._x,i=this._y,r=this._z,o=this._w,s=o*e._w+n*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;let a=1-s*s;if(a<=Number.EPSILON){let u=1-t;return this._w=u*o+t*this._w,this._x=u*n+t*this._x,this._y=u*i+t*this._y,this._z=u*r+t*this._z,this.normalize(),this._onChangeCallback(),this}let l=Math.sqrt(a),c=Math.atan2(l,s),h=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=o*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(r),n*Math.cos(r),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},ne=class{constructor(e=0,t=0,n=0){ne.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(bU.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(bU.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(e){let t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*i-s*n,c=a*n+s*t-r*i,h=a*i+r*n-o*t,d=-r*t-o*n-s*i;return this.x=l*a+d*-r+c*-s-h*-o,this.y=c*a+d*-o+h*-r-l*-s,this.z=h*a+d*-s+l*-o-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,i=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(e){let t=e.lengthSq();if(0===t)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return fA.copy(this).projectOnVector(e),this.sub(fA)}reflect(e){return this.sub(fA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(cs(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},fA=new ne,bU=new hi,Ko=class{constructor(e=new ne(1/0,1/0,1/0),t=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.length;a<l;a+=3){let c=e[a],h=e[a+1],d=e[a+2];c<t&&(t=c),h<n&&(n=h),d<i&&(i=d),c>r&&(r=c),h>o&&(o=h),d>s&&(s=d)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.count;a<l;a++){let c=e.getX(a),h=e.getY(a),d=e.getZ(a);c<t&&(t=c),h<n&&(n=h),d<i&&(i=d),c>r&&(r=c),h>o&&(o=h),d>s&&(s=d)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=wm.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){let r=n.attributes.position;for(let o=0,s=r.count;o<s;o++)wm.fromBufferAttribute(r,o).applyMatrix4(e.matrixWorld),this.expandByPoint(wm)}else null===n.boundingBox&&n.computeBoundingBox(),mA.copy(n.boundingBox),mA.applyMatrix4(e.matrixWorld),this.union(mA);let i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,wm),wm.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(s_),wC.subVectors(this.max,s_),I0.subVectors(e.a,s_),R0.subVectors(e.b,s_),N0.subVectors(e.c,s_),Dp.subVectors(R0,I0),Ap.subVectors(N0,R0),Cm.subVectors(I0,N0);let t=[0,-Dp.z,Dp.y,0,-Ap.z,Ap.y,0,-Cm.z,Cm.y,Dp.z,0,-Dp.x,Ap.z,0,-Ap.x,Cm.z,0,-Cm.x,-Dp.y,Dp.x,0,-Ap.y,Ap.x,0,-Cm.y,Cm.x,0];return!(!gA(t,I0,R0,N0,wC)||(t=[1,0,0,0,1,0,0,0,1],!gA(t,I0,R0,N0,wC)))&&(CC.crossVectors(Dp,Ap),t=[CC.x,CC.y,CC.z],gA(t,I0,R0,N0,wC))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return wm.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(wm).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(uu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),uu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),uu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),uu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),uu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),uu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),uu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),uu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(uu)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},uu=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],wm=new ne,mA=new Ko,I0=new ne,R0=new ne,N0=new ne,Dp=new ne,Ap=new ne,Cm=new ne,s_=new ne,wC=new ne,CC=new ne,Mm=new ne;function gA(e,t,n,i,r){for(let o=0,s=e.length-3;o<=s;o+=3){Mm.fromArray(e,o);let a=r.x*Math.abs(Mm.x)+r.y*Math.abs(Mm.y)+r.z*Math.abs(Mm.z),l=t.dot(Mm),c=n.dot(Mm),h=i.dot(Mm);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>a)return!1}return!0}var k1e=new Ko,a_=new ne,vA=new ne,ml=class{constructor(e=new ne,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;void 0!==t?n.copy(t):k1e.setFromPoints(e).getCenter(n);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;a_.subVectors(e,this.center);let t=a_.lengthSq();if(t>this.radius*this.radius){let n=Math.sqrt(t),i=.5*(n-this.radius);this.center.addScaledVector(a_,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(vA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(a_.copy(e.center).add(vA)),this.expandByPoint(a_.copy(e.center).sub(vA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}},pu=new ne,yA=new ne,MC=new ne,Tp=new ne,_A=new ne,PC=new ne,bA=new ne,F0=class{constructor(e=new ne,t=new ne(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,pu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=pu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(pu.copy(this.direction).multiplyScalar(t).add(this.origin),pu.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){yA.copy(e).add(t).multiplyScalar(.5),MC.copy(t).sub(e).normalize(),Tp.copy(this.origin).sub(yA);let h,d,u,f,r=.5*e.distanceTo(t),o=-this.direction.dot(MC),s=Tp.dot(this.direction),a=-Tp.dot(MC),l=Tp.lengthSq(),c=Math.abs(1-o*o);if(c>0)if(h=o*a-s,d=o*s-a,f=r*c,h>=0)if(d>=-f)if(d<=f){let v=1/c;h*=v,d*=v,u=h*(h+o*d+2*s)+d*(o*h+d+2*a)+l}else d=r,h=Math.max(0,-(o*d+s)),u=-h*h+d*(d+2*a)+l;else d=-r,h=Math.max(0,-(o*d+s)),u=-h*h+d*(d+2*a)+l;else d<=-f?(h=Math.max(0,-(-o*r+s)),d=h>0?-r:Math.min(Math.max(-r,-a),r),u=-h*h+d*(d+2*a)+l):d<=f?(h=0,d=Math.min(Math.max(-r,-a),r),u=d*(d+2*a)+l):(h=Math.max(0,-(o*r+s)),d=h>0?r:Math.min(Math.max(-r,-a),r),u=-h*h+d*(d+2*a)+l);else d=o>0?-r:r,h=Math.max(0,-(o*d+s)),u=-h*h+d*(d+2*a)+l;return n&&n.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(MC).multiplyScalar(d).add(yA),u}intersectSphere(e,t){pu.subVectors(e.center,this.origin);let n=pu.dot(this.direction),i=pu.dot(pu)-n*n,r=e.radius*e.radius;if(i>r)return null;let o=Math.sqrt(r-i),s=n-o,a=n+o;return s<0&&a<0?null:this.at(s<0?a:s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,o,s,a,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(r=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(r=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||r>i||((r>n||isNaN(n))&&(n=r),(o<i||isNaN(i))&&(i=o),h>=0?(s=(e.min.z-d.z)*h,a=(e.max.z-d.z)*h):(s=(e.max.z-d.z)*h,a=(e.min.z-d.z)*h),n>a||s>i)||((s>n||n!=n)&&(n=s),(a<i||i!=i)&&(i=a),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return null!==this.intersectBox(e,pu)}intersectTriangle(e,t,n,i,r){_A.subVectors(t,e),PC.subVectors(n,e),bA.crossVectors(_A,PC);let s,o=this.direction.dot(bA);if(o>0){if(i)return null;s=1}else{if(!(o<0))return null;s=-1,o=-o}Tp.subVectors(this.origin,e);let a=s*this.direction.dot(PC.crossVectors(Tp,PC));if(a<0)return null;let l=s*this.direction.dot(_A.cross(Tp));if(l<0||a+l>o)return null;let c=-s*Tp.dot(bA);return c<0?null:this.at(c/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}},Ut=class{constructor(){Ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,i,r,o,s,a,l,c,h,d,u,f,v,y){let _=this.elements;return _[0]=e,_[4]=t,_[8]=n,_[12]=i,_[1]=r,_[5]=o,_[9]=s,_[13]=a,_[2]=l,_[6]=c,_[10]=h,_[14]=d,_[3]=u,_[7]=f,_[11]=v,_[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ut).fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,i=1/L0.setFromMatrixColumn(e,0).length(),r=1/L0.setFromMatrixColumn(e,1).length(),o=1/L0.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),h=Math.sin(r);if("XYZ"===e.order){let d=o*c,u=o*h,f=s*c,v=s*h;t[0]=a*c,t[4]=-a*h,t[8]=l,t[1]=u+f*l,t[5]=d-v*l,t[9]=-s*a,t[2]=v-d*l,t[6]=f+u*l,t[10]=o*a}else if("YXZ"===e.order){let d=a*c,u=a*h,f=l*c,v=l*h;t[0]=d+v*s,t[4]=f*s-u,t[8]=o*l,t[1]=o*h,t[5]=o*c,t[9]=-s,t[2]=u*s-f,t[6]=v+d*s,t[10]=o*a}else if("ZXY"===e.order){let d=a*c,u=a*h,f=l*c,v=l*h;t[0]=d-v*s,t[4]=-o*h,t[8]=f+u*s,t[1]=u+f*s,t[5]=o*c,t[9]=v-d*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){let d=o*c,u=o*h,f=s*c,v=s*h;t[0]=a*c,t[4]=f*l-u,t[8]=d*l+v,t[1]=a*h,t[5]=v*l+d,t[9]=u*l-f,t[2]=-l,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){let d=o*a,u=o*l,f=s*a,v=s*l;t[0]=a*c,t[4]=v-d*h,t[8]=f*h+u,t[1]=h,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=u*h+f,t[10]=d-v*h}else if("XZY"===e.order){let d=o*a,u=o*l,f=s*a,v=s*l;t[0]=a*c,t[4]=-h,t[8]=l*c,t[1]=d*h+v,t[5]=o*c,t[9]=u*h-f,t[2]=f*h-u,t[6]=s*c,t[10]=v*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(I1e,e,R1e)}lookAt(e,t,n){let i=this.elements;return $l.subVectors(e,t),0===$l.lengthSq()&&($l.z=1),$l.normalize(),kp.crossVectors(n,$l),0===kp.lengthSq()&&(1===Math.abs(n.z)?$l.x+=1e-4:$l.z+=1e-4,$l.normalize(),kp.crossVectors(n,$l)),kp.normalize(),OC.crossVectors($l,kp),i[0]=kp.x,i[4]=OC.x,i[8]=$l.x,i[1]=kp.y,i[5]=OC.y,i[9]=$l.y,i[2]=kp.z,i[6]=OC.z,i[10]=$l.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],h=n[5],d=n[9],u=n[13],f=n[2],v=n[6],y=n[10],_=n[14],w=n[3],O=n[7],S=n[11],D=n[15],U=i[0],Y=i[4],q=i[8],K=i[12],Z=i[1],te=i[5],ie=i[9],ce=i[13],de=i[2],ue=i[6],Ce=i[10],we=i[14],_e=i[3],ye=i[7],Re=i[11],Be=i[15];return r[0]=o*U+s*Z+a*de+l*_e,r[4]=o*Y+s*te+a*ue+l*ye,r[8]=o*q+s*ie+a*Ce+l*Re,r[12]=o*K+s*ce+a*we+l*Be,r[1]=c*U+h*Z+d*de+u*_e,r[5]=c*Y+h*te+d*ue+u*ye,r[9]=c*q+h*ie+d*Ce+u*Re,r[13]=c*K+h*ce+d*we+u*Be,r[2]=f*U+v*Z+y*de+_*_e,r[6]=f*Y+v*te+y*ue+_*ye,r[10]=f*q+v*ie+y*Ce+_*Re,r[14]=f*K+v*ce+y*we+_*Be,r[3]=w*U+O*Z+S*de+D*_e,r[7]=w*Y+O*te+S*ue+D*ye,r[11]=w*q+O*ie+S*Ce+D*Re,r[15]=w*K+O*ce+S*we+D*Be,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],h=e[6],d=e[10],u=e[14];return e[3]*(+r*a*h-i*l*h-r*s*d+n*l*d+i*s*u-n*a*u)+e[7]*(+t*a*u-t*l*d+r*o*d-i*o*u+i*l*c-r*a*c)+e[11]*(+t*l*h-t*s*u-r*o*h+n*o*u+r*s*c-n*l*c)+e[15]*(-i*s*c-t*a*h+t*s*d+i*o*h-n*o*d+n*a*c)}transpose(){let t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],h=e[9],d=e[10],u=e[11],f=e[12],v=e[13],y=e[14],_=e[15],w=h*y*l-v*d*l+v*a*u-s*y*u-h*a*_+s*d*_,O=f*d*l-c*y*l-f*a*u+o*y*u+c*a*_-o*d*_,S=c*v*l-f*h*l+f*s*u-o*v*u-c*s*_+o*h*_,D=f*h*a-c*v*a-f*s*d+o*v*d+c*s*y-o*h*y,U=t*w+n*O+i*S+r*D;if(0===U)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let Y=1/U;return e[0]=w*Y,e[1]=(v*d*r-h*y*r-v*i*u+n*y*u+h*i*_-n*d*_)*Y,e[2]=(s*y*r-v*a*r+v*i*l-n*y*l-s*i*_+n*a*_)*Y,e[3]=(h*a*r-s*d*r-h*i*l+n*d*l+s*i*u-n*a*u)*Y,e[4]=O*Y,e[5]=(c*y*r-f*d*r+f*i*u-t*y*u-c*i*_+t*d*_)*Y,e[6]=(f*a*r-o*y*r-f*i*l+t*y*l+o*i*_-t*a*_)*Y,e[7]=(o*d*r-c*a*r+c*i*l-t*d*l-o*i*u+t*a*u)*Y,e[8]=S*Y,e[9]=(f*h*r-c*v*r-f*n*u+t*v*u+c*n*_-t*h*_)*Y,e[10]=(o*v*r-f*s*r+f*n*l-t*v*l-o*n*_+t*s*_)*Y,e[11]=(c*s*r-o*h*r-c*n*l+t*h*l+o*n*u-t*s*u)*Y,e[12]=D*Y,e[13]=(c*v*i-f*h*i+f*n*d-t*v*d-c*n*y+t*h*y)*Y,e[14]=(f*s*i-o*v*i-f*n*a+t*v*a+o*n*y-t*s*y)*Y,e[15]=(o*h*i-c*s*i+c*n*a-t*h*a-o*n*d+t*s*d)*Y,this}scale(e){let t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){let e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,s=e.y,a=e.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,o){return this.set(1,n,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){let i=this.elements,r=t._x,o=t._y,s=t._z,a=t._w,l=r+r,c=o+o,h=s+s,d=r*l,u=r*c,f=r*h,v=o*c,y=o*h,_=s*h,w=a*l,O=a*c,S=a*h,D=n.x,U=n.y,Y=n.z;return i[0]=(1-(v+_))*D,i[1]=(u+S)*D,i[2]=(f-O)*D,i[3]=0,i[4]=(u-S)*U,i[5]=(1-(d+_))*U,i[6]=(y+w)*U,i[7]=0,i[8]=(f+O)*Y,i[9]=(y-w)*Y,i[10]=(1-(d+v))*Y,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){let i=this.elements,r=L0.set(i[0],i[1],i[2]).length(),o=L0.set(i[4],i[5],i[6]).length(),s=L0.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],ud.copy(this);let a=1/r,l=1/o,c=1/s;return ud.elements[0]*=a,ud.elements[1]*=a,ud.elements[2]*=a,ud.elements[4]*=l,ud.elements[5]*=l,ud.elements[6]*=l,ud.elements[8]*=c,ud.elements[9]*=c,ud.elements[10]*=c,t.setFromRotationMatrix(ud),n.x=r,n.y=o,n.z=s,this}makePerspective(e,t,n,i,r,o){let s=this.elements,l=2*r/(n-i),c=(t+e)/(t-e),h=(n+i)/(n-i),d=-(o+r)/(o-r),u=-2*o*r/(o-r);return s[0]=2*r/(t-e),s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=l,s[9]=h,s[13]=0,s[2]=0,s[6]=0,s[10]=d,s[14]=u,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,o){let s=this.elements,a=1/(t-e),l=1/(n-i),c=1/(o-r),h=(t+e)*a,d=(n+i)*l,u=(o+r)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-h,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-d,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-u,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},L0=new ne,ud=new Ut,I1e=new ne(0,0,0),R1e=new ne(1,1,1),kp=new ne,OC=new ne,$l=new ne,xU=new Ut,wU=new hi,Gs=class{constructor(e=0,t=0,n=0,i=Gs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let i=e.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],c=i[9],h=i[2],d=i[6],u=i[10];switch(t){case"XYZ":this._y=Math.asin(cs(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,u),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-cs(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,u),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-h,r),this._z=0);break;case"ZXY":this._x=Math.asin(cs(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,u),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(a,r));break;case"ZYX":this._y=Math.asin(-cs(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,u),this._z=Math.atan2(a,r)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(cs(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,r)):(this._x=0,this._y=Math.atan2(s,u));break;case"XZY":this._z=Math.asin(-cs(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-c,u),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return xU.makeRotationFromQuaternion(e),this.setFromRotationMatrix(xU,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return wU.setFromEuler(this),this.setFromQuaternion(wU,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};Gs.DEFAULT_ORDER="XYZ";var xA=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}},N1e=0,CU=new ne,B0=new hi,fu=new Ut,SC=new ne,l_=new ne,F1e=new ne,L1e=new hi,MU=new ne(1,0,0),PU=new ne(0,1,0),OU=new ne(0,0,1),B1e={type:"added"},SU={type:"removed"},Tr=class extends ta{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:N1e++}),this.uuid=Mc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tr.DEFAULT_UP.clone();let e=new ne,t=new Gs,n=new hi,i=new ne(1,1,1);t._onChange(function r(){n.setFromEuler(t,!1)}),n._onChange(function o(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ut},normalMatrix:{value:new $o}}),this.matrix=new Ut,this.matrixWorld=new Ut,this.matrixAutoUpdate=Tr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new xA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return B0.setFromAxisAngle(e,t),this.quaternion.multiply(B0),this}rotateOnWorldAxis(e,t){return B0.setFromAxisAngle(e,t),this.quaternion.premultiply(B0),this}rotateX(e){return this.rotateOnAxis(MU,e)}rotateY(e){return this.rotateOnAxis(PU,e)}rotateZ(e){return this.rotateOnAxis(OU,e)}translateOnAxis(e,t){return CU.copy(e).applyQuaternion(this.quaternion),this.position.add(CU.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(MU,e)}translateY(e){return this.translateOnAxis(PU,e)}translateZ(e){return this.translateOnAxis(OU,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fu.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?SC.copy(e):SC.set(e,t,n);let i=this.parent;this.updateWorldMatrix(!0,!1),l_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fu.lookAt(l_,SC,this.up):fu.lookAt(SC,l_,this.up),this.quaternion.setFromRotationMatrix(fu),i&&(fu.extractRotation(i.matrixWorld),B0.setFromRotationMatrix(fu),this.quaternion.premultiply(B0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(B1e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}let t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(SU)),this}removeFromParent(){let e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(SU)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),fu.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),fu.multiply(e.parent.matrixWorld)),e.applyMatrix4(fu),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){let r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let i=0,r=this.children.length;i<r;i++){let o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(n=n.concat(o))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(l_,e,F1e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(l_,L1e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,i=t.length;n<i;n++){let r=t[n];(!0===r.matrixWorldAutoUpdate||!0===e)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){let i=this.children;for(let r=0,o=i.length;r<o;r++){let s=i[r];!0===s.matrixWorldAutoUpdate&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};function r(s,a){return void 0===s[a.uuid]&&(s[a.uuid]=a.toJSON(e)),a.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);let s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){let a=s.shapes;if(Array.isArray(a))for(let l=0,c=a.length;l<c;l++)r(e.shapes,a[l]);else r(e.shapes,a)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){let s=[];for(let a=0,l=this.material.length;a<l;a++)s.push(r(e.materials,this.material[a]));i.material=s}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++)i.animations.push(r(e.animations,this.animations[s]))}if(t){let s=o(e.geometries),a=o(e.materials),l=o(e.textures),c=o(e.images),h=o(e.shapes),d=o(e.skeletons),u=o(e.animations),f=o(e.nodes);s.length>0&&(n.geometries=s),a.length>0&&(n.materials=a),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),h.length>0&&(n.shapes=h),d.length>0&&(n.skeletons=d),u.length>0&&(n.animations=u),f.length>0&&(n.nodes=f)}return n.object=i,n;function o(s){let a=[];for(let l in s){let c=s[l];delete c.metadata,a.push(c)}return a}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++)this.add(e.children[n].clone());return this}};Tr.DEFAULT_UP=new ne(0,1,0),Tr.DEFAULT_MATRIX_AUTO_UPDATE=!0,Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var pd=new ne,mu=new ne,wA=new ne,gu=new ne,z0=new ne,U0=new ne,EU=new ne,CA=new ne,MA=new ne,PA=new ne,ba=class{constructor(e=new ne,t=new ne,n=new ne){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),pd.subVectors(e,t),i.cross(pd);let r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){pd.subVectors(i,t),mu.subVectors(n,t),wA.subVectors(e,t);let o=pd.dot(pd),s=pd.dot(mu),a=pd.dot(wA),l=mu.dot(mu),c=mu.dot(wA),h=o*l-s*s;if(0===h)return r.set(-2,-1,-1);let d=1/h,u=(l*a-s*c)*d,f=(o*c-s*a)*d;return r.set(1-u-f,f,u)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,gu),gu.x>=0&&gu.y>=0&&gu.x+gu.y<=1}static getUV(e,t,n,i,r,o,s,a){return this.getBarycoord(e,t,n,i,gu),a.set(0,0),a.addScaledVector(r,gu.x),a.addScaledVector(o,gu.y),a.addScaledVector(s,gu.z),a}static isFrontFacing(e,t,n,i){return pd.subVectors(n,t),mu.subVectors(e,t),pd.cross(mu).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return pd.subVectors(this.c,this.b),mu.subVectors(this.a,this.b),.5*pd.cross(mu).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ba.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ba.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return ba.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return ba.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ba.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let o,s,n=this.a,i=this.b,r=this.c;z0.subVectors(i,n),U0.subVectors(r,n),CA.subVectors(e,n);let a=z0.dot(CA),l=U0.dot(CA);if(a<=0&&l<=0)return t.copy(n);MA.subVectors(e,i);let c=z0.dot(MA),h=U0.dot(MA);if(c>=0&&h<=c)return t.copy(i);let d=a*h-c*l;if(d<=0&&a>=0&&c<=0)return o=a/(a-c),t.copy(n).addScaledVector(z0,o);PA.subVectors(e,r);let u=z0.dot(PA),f=U0.dot(PA);if(f>=0&&u<=f)return t.copy(r);let v=u*l-a*f;if(v<=0&&l>=0&&f<=0)return s=l/(l-f),t.copy(n).addScaledVector(U0,s);let y=c*f-u*h;if(y<=0&&h-c>=0&&u-f>=0)return EU.subVectors(r,i),s=(h-c)/(h-c+(u-f)),t.copy(i).addScaledVector(EU,s);let _=1/(y+v+d);return o=v*_,s=d*_,t.copy(n).addScaledVector(z0,o).addScaledVector(U0,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},z1e=0,c_=class extends ta{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:z1e++}),this.uuid=Mc(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(let t in e){let n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){let t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});let n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(r){let o=[];for(let s in r){let a=r[s];delete a.metadata,o.push(a)}return o}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){let r=i(e.textures),o=i(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(null!==t){let i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}},d_=class extends c_{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new qn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},ds=new ne,EC=new Fe,ti=class{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)EC.fromBufferAttribute(this,t),EC.applyMatrix3(e),this.setXY(t,EC.x,EC.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)ds.fromBufferAttribute(this,t),ds.applyMatrix3(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)ds.fromBufferAttribute(this,t),ds.applyMatrix4(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ds.fromBufferAttribute(this,t),ds.applyNormalMatrix(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ds.fromBufferAttribute(this,t),ds.transformDirection(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=hu(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=hu(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=hu(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=hu(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Jr(t,this.array),n=Jr(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Jr(t,this.array),n=Jr(n,this.array),i=Jr(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Jr(t,this.array),n=Jr(n,this.array),i=Jr(i,this.array),r=Jr(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},DU=class extends ti{constructor(e,t,n){super(new Uint16Array(e),t,n)}},j0=class extends ti{constructor(e,t,n){super(new Uint32Array(e),t,n)}},wn=class extends ti{constructor(e,t,n){super(new Float32Array(e),t,n)}},U1e=0,Pc=new Ut,OA=new Tr,V0=new ne,Kl=new Ko,h_=new Ko,Ws=new ne,Vn=class extends ta{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:U1e++}),this.uuid=Mc(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(mU(e)?j0:DU)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(void 0!==n){let r=(new $o).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}let i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pc.makeRotationFromQuaternion(e),this.applyMatrix4(Pc),this}rotateX(e){return Pc.makeRotationX(e),this.applyMatrix4(Pc),this}rotateY(e){return Pc.makeRotationY(e),this.applyMatrix4(Pc),this}rotateZ(e){return Pc.makeRotationZ(e),this.applyMatrix4(Pc),this}translate(e,t,n){return Pc.makeTranslation(e,t,n),this.applyMatrix4(Pc),this}scale(e,t,n){return Pc.makeScale(e,t,n),this.applyMatrix4(Pc),this}lookAt(e){return OA.lookAt(e),OA.updateMatrix(),this.applyMatrix4(OA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(V0).negate(),this.translate(V0.x,V0.y,V0.z),this}setFromPoints(e){let t=[];for(let n=0,i=e.length;n<i;n++){let r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new wn(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Ko);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++)Kl.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(Ws.addVectors(this.boundingBox.min,Kl.min),this.boundingBox.expandByPoint(Ws),Ws.addVectors(this.boundingBox.max,Kl.max),this.boundingBox.expandByPoint(Ws)):(this.boundingBox.expandByPoint(Kl.min),this.boundingBox.expandByPoint(Kl.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ml);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ne,1/0);if(e){let n=this.boundingSphere.center;if(Kl.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++)h_.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(Ws.addVectors(Kl.min,h_.min),Kl.expandByPoint(Ws),Ws.addVectors(Kl.max,h_.max),Kl.expandByPoint(Ws)):(Kl.expandByPoint(h_.min),Kl.expandByPoint(h_.max));Kl.getCenter(n);let i=0;for(let r=0,o=e.count;r<o;r++)Ws.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(Ws));if(t)for(let r=0,o=t.length;r<o;r++){let s=t[r],a=this.morphTargetsRelative;for(let l=0,c=s.count;l<c;l++)Ws.fromBufferAttribute(s,l),a&&(V0.fromBufferAttribute(e,l),Ws.add(V0)),i=Math.max(i,n.distanceToSquared(Ws))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");let n=e.array,i=t.position.array,r=t.normal.array,o=t.uv.array,s=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ti(new Float32Array(4*s),4));let a=this.getAttribute("tangent").array,l=[],c=[];for(let Z=0;Z<s;Z++)l[Z]=new ne,c[Z]=new ne;let h=new ne,d=new ne,u=new ne,f=new Fe,v=new Fe,y=new Fe,_=new ne,w=new ne;function O(Z,te,ie){h.fromArray(i,3*Z),d.fromArray(i,3*te),u.fromArray(i,3*ie),f.fromArray(o,2*Z),v.fromArray(o,2*te),y.fromArray(o,2*ie),d.sub(h),u.sub(h),v.sub(f),y.sub(f);let ce=1/(v.x*y.y-y.x*v.y);!isFinite(ce)||(_.copy(d).multiplyScalar(y.y).addScaledVector(u,-v.y).multiplyScalar(ce),w.copy(u).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(ce),l[Z].add(_),l[te].add(_),l[ie].add(_),c[Z].add(w),c[te].add(w),c[ie].add(w))}let S=this.groups;0===S.length&&(S=[{start:0,count:n.length}]);for(let Z=0,te=S.length;Z<te;++Z){let ie=S[Z],ce=ie.start;for(let ue=ce,Ce=ce+ie.count;ue<Ce;ue+=3)O(n[ue+0],n[ue+1],n[ue+2])}let D=new ne,U=new ne,Y=new ne,q=new ne;function K(Z){Y.fromArray(r,3*Z),q.copy(Y);let te=l[Z];D.copy(te),D.sub(Y.multiplyScalar(Y.dot(te))).normalize(),U.crossVectors(q,te);let ie=U.dot(c[Z])<0?-1:1;a[4*Z]=D.x,a[4*Z+1]=D.y,a[4*Z+2]=D.z,a[4*Z+3]=ie}for(let Z=0,te=S.length;Z<te;++Z){let ie=S[Z],ce=ie.start;for(let ue=ce,Ce=ce+ie.count;ue<Ce;ue+=3)K(n[ue+0]),K(n[ue+1]),K(n[ue+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new ti(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let d=0,u=n.count;d<u;d++)n.setXYZ(d,0,0,0);let i=new ne,r=new ne,o=new ne,s=new ne,a=new ne,l=new ne,c=new ne,h=new ne;if(e)for(let d=0,u=e.count;d<u;d+=3){let f=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,f),r.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),c.subVectors(o,r),h.subVectors(i,r),c.cross(h),s.fromBufferAttribute(n,f),a.fromBufferAttribute(n,v),l.fromBufferAttribute(n,y),s.add(c),a.add(c),l.add(c),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(v,a.x,a.y,a.z),n.setXYZ(y,l.x,l.y,l.z)}else for(let d=0,u=t.count;d<u;d+=3)i.fromBufferAttribute(t,d+0),r.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),c.subVectors(o,r),h.subVectors(i,r),c.cross(h),n.setXYZ(d+0,c.x,c.y,c.z),n.setXYZ(d+1,c.x,c.y,c.z),n.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ws.fromBufferAttribute(e,t),Ws.normalize(),e.setXYZ(t,Ws.x,Ws.y,Ws.z)}toNonIndexed(){function e(s,a){let l=s.array,c=s.itemSize,h=s.normalized,d=new l.constructor(a.length*c),u=0,f=0;for(let v=0,y=a.length;v<y;v++){u=s.isInterleavedBufferAttribute?a[v]*s.data.stride+s.offset:a[v]*c;for(let _=0;_<c;_++)d[f++]=l[u++]}return new ti(d,c,h)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new Vn,n=this.index.array,i=this.attributes;for(let s in i){let l=e(i[s],n);t.setAttribute(s,l)}let r=this.morphAttributes;for(let s in r){let a=[],l=r[s];for(let c=0,h=l.length;c<h;c++){let u=e(l[c],n);a.push(u)}t.morphAttributes[s]=a}t.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let s=0,a=o.length;s<a;s++){let l=o[s];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){let a=this.parameters;for(let l in a)void 0!==a[l]&&(e[l]=a[l]);return e}e.data={attributes:{}};let t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let a in n)e.data.attributes[a]=n[a].toJSON(e.data);let i={},r=!1;for(let a in this.morphAttributes){let l=this.morphAttributes[a],c=[];for(let h=0,d=l.length;h<d;h++)c.push(l[h].toJSON(e.data));c.length>0&&(i[a]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;null!==n&&this.setIndex(n.clone(t));let i=e.attributes;for(let l in i)this.setAttribute(l,i[l].clone(t));let r=e.morphAttributes;for(let l in r){let c=[],h=r[l];for(let d=0,u=h.length;d<u;d++)c.push(h[d].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let l=0,c=o.length;l<c;l++){let h=o[l];this.addGroup(h.start,h.count,h.materialIndex)}let s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());let a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},AU=new Ut,H0=new F0,SA=new ml,u_=new ne,p_=new ne,f_=new ne,EA=new ne,DC=new ne,AC=new Fe,TC=new Fe,kC=new Fe,DA=new ne,IC=new ne,Ha=class extends Tr{constructor(e=new Vn,t=new d_){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++){let o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}getVertexPosition(e,t){let n=this.geometry,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(n.attributes.position,e);let s=this.morphTargetInfluences;if(r&&s){DC.set(0,0,0);for(let a=0,l=r.length;a<l;a++){let c=s[a],h=r[a];0!==c&&(EA.fromBufferAttribute(h,e),DC.addScaledVector(o?EA:EA.sub(t),c))}t.add(DC)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){let n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i||(null===n.boundingSphere&&n.computeBoundingSphere(),SA.copy(n.boundingSphere),SA.applyMatrix4(r),!1===e.ray.intersectsSphere(SA))||(AU.copy(r).invert(),H0.copy(e.ray).applyMatrix4(AU),null!==n.boundingBox&&!1===H0.intersectsBox(n.boundingBox)))return;let o,s=n.index,a=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,h=n.groups,d=n.drawRange;if(null!==s)if(Array.isArray(i))for(let u=0,f=h.length;u<f;u++){let v=h[u],y=i[v.materialIndex];for(let O=Math.max(v.start,d.start),S=Math.min(s.count,Math.min(v.start+v.count,d.start+d.count));O<S;O+=3){let D=s.getX(O),U=s.getX(O+1),Y=s.getX(O+2);o=RC(this,y,e,H0,l,c,D,U,Y),o&&(o.faceIndex=Math.floor(O/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else for(let v=Math.max(0,d.start),y=Math.min(s.count,d.start+d.count);v<y;v+=3){let _=s.getX(v),w=s.getX(v+1),O=s.getX(v+2);o=RC(this,i,e,H0,l,c,_,w,O),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}else if(void 0!==a)if(Array.isArray(i))for(let u=0,f=h.length;u<f;u++){let v=h[u],y=i[v.materialIndex];for(let O=Math.max(v.start,d.start),S=Math.min(a.count,Math.min(v.start+v.count,d.start+d.count));O<S;O+=3)o=RC(this,y,e,H0,l,c,O,O+1,O+2),o&&(o.faceIndex=Math.floor(O/3),o.face.materialIndex=v.materialIndex,t.push(o))}else for(let v=Math.max(0,d.start),y=Math.min(a.count,d.start+d.count);v<y;v+=3)o=RC(this,i,e,H0,l,c,v,v+1,v+2),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}};function RC(e,t,n,i,r,o,s,a,l){e.getVertexPosition(s,u_),e.getVertexPosition(a,p_),e.getVertexPosition(l,f_);let c=function j1e(e,t,n,i,r,o,s,a){let l;if(l=1===t.side?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,0===t.side,a),null===l)return null;IC.copy(a),IC.applyMatrix4(e.matrixWorld);let c=n.ray.origin.distanceTo(IC);return c<n.near||c>n.far?null:{distance:c,point:IC.clone(),object:e}}(e,t,n,i,u_,p_,f_,DA);if(c){r&&(AC.fromBufferAttribute(r,s),TC.fromBufferAttribute(r,a),kC.fromBufferAttribute(r,l),c.uv=ba.getUV(DA,u_,p_,f_,AC,TC,kC,new Fe)),o&&(AC.fromBufferAttribute(o,s),TC.fromBufferAttribute(o,a),kC.fromBufferAttribute(o,l),c.uv2=ba.getUV(DA,u_,p_,f_,AC,TC,kC,new Fe));let h={a:s,b:a,c:l,normal:new ne,materialIndex:0};ba.getNormal(u_,p_,f_,h.normal),c.face=h}return c}var rh=class extends Vn{constructor(e=1,t=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};let s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);let a=[],l=[],c=[],h=[],d=0,u=0;function f(v,y,_,w,O,S,D,U,Y,q,K){let Z=S/Y,te=D/q,ie=S/2,ce=D/2,de=U/2,ue=Y+1,Ce=q+1,we=0,_e=0,ye=new ne;for(let Re=0;Re<Ce;Re++){let Be=Re*te-ce;for(let Ie=0;Ie<ue;Ie++)ye[v]=(Ie*Z-ie)*w,ye[y]=Be*O,ye[_]=de,l.push(ye.x,ye.y,ye.z),ye[v]=0,ye[y]=0,ye[_]=U>0?1:-1,c.push(ye.x,ye.y,ye.z),h.push(Ie/Y),h.push(1-Re/q),we+=1}for(let Re=0;Re<q;Re++)for(let Be=0;Be<Y;Be++){let De=d+Be+ue*(Re+1),Ve=d+(Be+1)+ue*(Re+1),ke=d+(Be+1)+ue*Re;a.push(d+Be+ue*Re,De,ke),a.push(De,Ve,ke),_e+=6}s.addGroup(u,_e,K),u+=_e,d+=we}f("z","y","x",-1,-1,n,t,e,o,r,0),f("z","y","x",1,-1,n,t,-e,o,r,1),f("x","z","y",1,1,e,n,t,i,o,2),f("x","z","y",1,-1,e,n,-t,i,o,3),f("x","y","z",1,-1,e,t,n,i,r,4),f("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new wn(l,3)),this.setAttribute("normal",new wn(c,3)),this.setAttribute("uv",new wn(h,2))}static fromJSON(e){return new rh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function G0(e){let t={};for(let n in e){t[n]={};for(let i in e[n]){let r=e[n][i];t[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return t}function Ga(e){let t={};for(let n=0;n<e.length;n++){let i=G0(e[n]);for(let r in i)t[r]=i[r]}return t}function TU(e){return null===e.getRenderTarget()&&e.outputEncoding===wi?ih:mC}var W0={clone:G0,merge:Ga},Hr=class extends c_{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=G0(e.uniforms),this.uniformsGroups=function V1e(e){let t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let r=this.uniforms[i].value;t.uniforms[i]=r&&r.isTexture?{type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?{type:"c",value:r.getHex()}:r&&r.isVector2?{type:"v2",value:r.toArray()}:r&&r.isVector3?{type:"v3",value:r.toArray()}:r&&r.isVector4?{type:"v4",value:r.toArray()}:r&&r.isMatrix3?{type:"m3",value:r.toArray()}:r&&r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let n={};for(let i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}},q0=class extends Tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ut,this.projectionMatrix=new Ut,this.projectionMatrixInverse=new Ut}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}},xa=class extends q0{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=2*r_*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(.5*i_*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*r_*Math.atan(Math.tan(.5*i_*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(.5*i_*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){let a=o.fullWidth,l=o.fullHeight;r+=o.offsetX*i/a,t-=o.offsetY*n/l,i*=o.width/a,n*=o.height/l}let s=this.filmOffset;0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},W1e=class extends Tr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;let i=new xa(-90,1,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);let r=new xa(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(-1,0,0),this.add(r);let o=new xa(-90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);let s=new xa(-90,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(0,-1,0),this.add(s);let a=new xa(-90,1,e,t);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(0,0,1),this.add(a);let l=new xa(-90,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();let n=this.renderTarget,[i,r,o,s,a,l]=this.children,c=e.getRenderTarget(),h=e.toneMapping,d=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;let u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,a),n.texture.generateMipmaps=u,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}},AA=class extends Ds{constructor(e,t,n,i,r,o,s,a,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:301,n,i,r,o,s,a,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},q1e=class extends Ar{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1};this.texture=new AA([n,n,n,n,n,n],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ri}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new rh(5,5,5),r=new Hr({name:"CubemapFromEquirect",uniforms:G0(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=t;let o=new Ha(i,r),s=t.minFilter;return t.minFilter===D0&&(t.minFilter=Ri),new W1e(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){let r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)}},TA=new ne,Y1e=new ne,X1e=new $o,Ql=class{constructor(e=new ne(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let i=TA.subVectors(n,t).cross(Y1e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let n=e.delta(TA),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;let r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(n).multiplyScalar(r).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||X1e.getNormalMatrix(e),i=this.coplanarPoint(TA).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}},$0=new ml,NC=new ne,kA=class{constructor(e=new Ql,t=new Ql,n=new Ql,i=new Ql,r=new Ql,o=new Ql){this.planes=[e,t,n,i,r,o]}set(e,t,n,i,r,o){let s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],h=n[7],d=n[8],u=n[9],f=n[10],v=n[11],y=n[12],_=n[13],w=n[14],O=n[15];return t[0].setComponents(s-i,h-a,v-d,O-y).normalize(),t[1].setComponents(s+i,h+a,v+d,O+y).normalize(),t[2].setComponents(s+r,h+l,v+u,O+_).normalize(),t[3].setComponents(s-r,h-l,v-u,O-_).normalize(),t[4].setComponents(s-o,h-c,v-f,O-w).normalize(),t[5].setComponents(s+o,h+c,v+f,O+w).normalize(),this}intersectsObject(e){let t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),$0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere($0)}intersectsSprite(e){return $0.center.set(0,0,0),$0.radius=.7071067811865476,$0.applyMatrix4(e.matrixWorld),this.intersectsSphere($0)}intersectsSphere(e){let t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let i=t[n];if(NC.x=i.normal.x>0?e.max.x:e.min.x,NC.y=i.normal.y>0?e.max.y:e.min.y,NC.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(NC)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}};function kU(){let e=null,t=!1,n=null,i=null;function r(o,s){n(o,s),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function $1e(e,t){let n=t.isWebGL2,i=new WeakMap;return{get:function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);let h=i.get(c);h&&(e.deleteBuffer(h.buffer),i.delete(c))},update:function l(c,h){if(c.isGLBufferAttribute){let u=i.get(c);return void((!u||u.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);let d=i.get(c);void 0===d?i.set(c,function r(c,h){let v,d=c.array,u=c.usage,f=e.createBuffer();if(e.bindBuffer(h,f),e.bufferData(h,d,u),c.onUploadCallback(),d instanceof Float32Array)v=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");v=5131}else v=5123;else if(d instanceof Int16Array)v=5122;else if(d instanceof Uint32Array)v=5125;else if(d instanceof Int32Array)v=5124;else if(d instanceof Int8Array)v=5120;else if(d instanceof Uint8Array)v=5121;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);v=5121}return{buffer:f,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,h)):d.version<c.version&&(function o(c,h,d){let u=h.array,f=h.updateRange;e.bindBuffer(d,c),-1===f.count?e.bufferSubData(d,0,u):(n?e.bufferSubData(d,f.offset*u.BYTES_PER_ELEMENT,u,f.offset,f.count):e.bufferSubData(d,f.offset*u.BYTES_PER_ELEMENT,u.subarray(f.offset,f.offset+f.count)),f.count=-1),h.onUploadCallback()}(d.buffer,c,h),d.version=c.version)}}}var FC=class extends Vn{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};let r=e/2,o=t/2,s=Math.floor(n),a=Math.floor(i),l=s+1,c=a+1,h=e/s,d=t/a,u=[],f=[],v=[],y=[];for(let _=0;_<c;_++){let w=_*d-o;for(let O=0;O<l;O++)f.push(O*h-r,-w,0),v.push(0,0,1),y.push(O/s),y.push(1-_/a)}for(let _=0;_<a;_++)for(let w=0;w<s;w++){let S=w+l*(_+1),D=w+1+l*(_+1),U=w+1+l*_;u.push(w+l*_,S,U),u.push(S,D,U)}this.setIndex(u),this.setAttribute("position",new wn(f,3)),this.setAttribute("normal",new wn(v,3)),this.setAttribute("uv",new wn(y,2))}static fromJSON(e){return new FC(e.width,e.height,e.widthSegments,e.heightSegments)}},Ei={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},rn={common:{diffuse:{value:new qn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new $o},uv2Transform:{value:new $o},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $o}},sprite:{diffuse:{value:new qn(16777215)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $o}}},oh={basic:{uniforms:Ga([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.fog]),vertexShader:Ei.meshbasic_vert,fragmentShader:Ei.meshbasic_frag},lambert:{uniforms:Ga([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new qn(0)}}]),vertexShader:Ei.meshlambert_vert,fragmentShader:Ei.meshlambert_frag},phong:{uniforms:Ga([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new qn(0)},specular:{value:new qn(1118481)},shininess:{value:30}}]),vertexShader:Ei.meshphong_vert,fragmentShader:Ei.meshphong_frag},standard:{uniforms:Ga([rn.common,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.roughnessmap,rn.metalnessmap,rn.fog,rn.lights,{emissive:{value:new qn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ei.meshphysical_vert,fragmentShader:Ei.meshphysical_frag},toon:{uniforms:Ga([rn.common,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.gradientmap,rn.fog,rn.lights,{emissive:{value:new qn(0)}}]),vertexShader:Ei.meshtoon_vert,fragmentShader:Ei.meshtoon_frag},matcap:{uniforms:Ga([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,{matcap:{value:null}}]),vertexShader:Ei.meshmatcap_vert,fragmentShader:Ei.meshmatcap_frag},points:{uniforms:Ga([rn.points,rn.fog]),vertexShader:Ei.points_vert,fragmentShader:Ei.points_frag},dashed:{uniforms:Ga([rn.common,rn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ei.linedashed_vert,fragmentShader:Ei.linedashed_frag},depth:{uniforms:Ga([rn.common,rn.displacementmap]),vertexShader:Ei.depth_vert,fragmentShader:Ei.depth_frag},normal:{uniforms:Ga([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,{opacity:{value:1}}]),vertexShader:Ei.meshnormal_vert,fragmentShader:Ei.meshnormal_frag},sprite:{uniforms:Ga([rn.sprite,rn.fog]),vertexShader:Ei.sprite_vert,fragmentShader:Ei.sprite_frag},background:{uniforms:{uvTransform:{value:new $o},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ei.background_vert,fragmentShader:Ei.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ei.backgroundCube_vert,fragmentShader:Ei.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ei.cube_vert,fragmentShader:Ei.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ei.equirect_vert,fragmentShader:Ei.equirect_frag},distanceRGBA:{uniforms:Ga([rn.common,rn.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ei.distanceRGBA_vert,fragmentShader:Ei.distanceRGBA_frag},shadow:{uniforms:Ga([rn.lights,rn.fog,{color:{value:new qn(0)},opacity:{value:1}}]),vertexShader:Ei.shadow_vert,fragmentShader:Ei.shadow_frag}};oh.physical={uniforms:Ga([oh.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Fe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new qn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Fe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new qn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new qn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ei.meshphysical_vert,fragmentShader:Ei.meshphysical_frag};var LC={r:0,b:0,g:0};function Ebe(e,t,n,i,r,o,s){let c,h,a=new qn(0),l=!0===o?0:1,d=null,u=0,f=null;function y(_,w){_.getRGB(LC,TU(e)),i.buffers.color.setClear(LC.r,LC.g,LC.b,w,s)}return{getClearColor:function(){return a},setClearColor:function(_,w=1){a.set(_),l=w,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,y(a,l)},render:function v(_,w){let O=!1,S=!0===w.isScene?w.background:null;S&&S.isTexture&&(S=(w.backgroundBlurriness>0?n:t).get(S));let D=e.xr,U=D.getSession&&D.getSession();U&&"additive"===U.environmentBlendMode&&(S=null),null===S?y(a,l):S&&S.isColor&&(y(S,1),O=!0),(e.autoClear||O)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),S&&(S.isCubeTexture||306===S.mapping)?(void 0===h&&(h=new Ha(new rh(1,1,1),new Hr({name:"BackgroundCubeMaterial",uniforms:G0(oh.backgroundCube.uniforms),vertexShader:oh.backgroundCube.vertexShader,fragmentShader:oh.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(Y,q,K){this.matrixWorld.copyPosition(K.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=S,h.material.uniforms.flipEnvMap.value=S.isCubeTexture&&!1===S.isRenderTargetTexture?-1:1,h.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,h.material.toneMapped=S.encoding!==wi,(d!==S||u!==S.version||f!==e.toneMapping)&&(h.material.needsUpdate=!0,d=S,u=S.version,f=e.toneMapping),h.layers.enableAll(),_.unshift(h,h.geometry,h.material,0,0,null)):S&&S.isTexture&&(void 0===c&&(c=new Ha(new FC(2,2),new Hr({name:"BackgroundMaterial",uniforms:G0(oh.background.uniforms),vertexShader:oh.background.vertexShader,fragmentShader:oh.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=S.encoding!==wi,!0===S.matrixAutoUpdate&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||u!==S.version||f!==e.toneMapping)&&(c.material.needsUpdate=!0,d=S,u=S.version,f=e.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}}}function Dbe(e,t,n,i){let r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},l=_(null),c=l,h=!1;function f(ue){return i.isWebGL2?e.bindVertexArray(ue):o.bindVertexArrayOES(ue)}function v(ue){return i.isWebGL2?e.deleteVertexArray(ue):o.deleteVertexArrayOES(ue)}function _(ue){let Ce=[],we=[],_e=[];for(let ye=0;ye<r;ye++)Ce[ye]=0,we[ye]=0,_e[ye]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ce,enabledAttributes:we,attributeDivisors:_e,object:ue,attributes:{},index:null}}function S(){let ue=c.newAttributes;for(let Ce=0,we=ue.length;Ce<we;Ce++)ue[Ce]=0}function D(ue){U(ue,0)}function U(ue,Ce){let _e=c.enabledAttributes,ye=c.attributeDivisors;c.newAttributes[ue]=1,0===_e[ue]&&(e.enableVertexAttribArray(ue),_e[ue]=1),ye[ue]!==Ce&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ue,Ce),ye[ue]=Ce)}function Y(){let ue=c.newAttributes,Ce=c.enabledAttributes;for(let we=0,_e=Ce.length;we<_e;we++)Ce[we]!==ue[we]&&(e.disableVertexAttribArray(we),Ce[we]=0)}function q(ue,Ce,we,_e,ye,Re){!0!==i.isWebGL2||5124!==we&&5125!==we?e.vertexAttribPointer(ue,Ce,we,_e,ye,Re):e.vertexAttribIPointer(ue,Ce,we,ye,Re)}function ce(){de(),h=!0,c!==l&&(c=l,f(c.object))}function de(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function d(ue,Ce,we,_e,ye){let Re=!1;if(s){let Be=function y(ue,Ce,we){let _e=!0===we.wireframe,ye=a[ue.id];void 0===ye&&(ye={},a[ue.id]=ye);let Re=ye[Ce.id];void 0===Re&&(Re={},ye[Ce.id]=Re);let Be=Re[_e];return void 0===Be&&(Be=_(function u(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}()),Re[_e]=Be),Be}(_e,we,Ce);c!==Be&&(c=Be,f(c.object)),Re=function w(ue,Ce,we,_e){let ye=c.attributes,Re=Ce.attributes,Be=0,Ie=we.getAttributes();for(let De in Ie)if(Ie[De].location>=0){let Ve=ye[De],ke=Re[De];if(void 0===ke&&("instanceMatrix"===De&&ue.instanceMatrix&&(ke=ue.instanceMatrix),"instanceColor"===De&&ue.instanceColor&&(ke=ue.instanceColor)),void 0===Ve||Ve.attribute!==ke||ke&&Ve.data!==ke.data)return!0;Be++}return c.attributesNum!==Be||c.index!==_e}(ue,_e,we,ye),Re&&function O(ue,Ce,we,_e){let ye={},Re=Ce.attributes,Be=0,Ie=we.getAttributes();for(let De in Ie)if(Ie[De].location>=0){let Ve=Re[De];void 0===Ve&&("instanceMatrix"===De&&ue.instanceMatrix&&(Ve=ue.instanceMatrix),"instanceColor"===De&&ue.instanceColor&&(Ve=ue.instanceColor));let ke={};ke.attribute=Ve,Ve&&Ve.data&&(ke.data=Ve.data),ye[De]=ke,Be++}c.attributes=ye,c.attributesNum=Be,c.index=_e}(ue,_e,we,ye)}else{let Be=!0===Ce.wireframe;(c.geometry!==_e.id||c.program!==we.id||c.wireframe!==Be)&&(c.geometry=_e.id,c.program=we.id,c.wireframe=Be,Re=!0)}null!==ye&&n.update(ye,34963),(Re||h)&&(h=!1,function K(ue,Ce,we,_e){if(!1===i.isWebGL2&&(ue.isInstancedMesh||_e.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;S();let ye=_e.attributes,Re=we.getAttributes(),Be=Ce.defaultAttributeValues;for(let Ie in Re){let De=Re[Ie];if(De.location>=0){let Ve=ye[Ie];if(void 0===Ve&&("instanceMatrix"===Ie&&ue.instanceMatrix&&(Ve=ue.instanceMatrix),"instanceColor"===Ie&&ue.instanceColor&&(Ve=ue.instanceColor)),void 0!==Ve){let ke=Ve.normalized,He=Ve.itemSize,ze=n.get(Ve);if(void 0===ze)continue;let it=ze.buffer,We=ze.type,ut=ze.bytesPerElement;if(Ve.isInterleavedBufferAttribute){let Ke=Ve.data,Nt=Ke.stride,Pt=Ve.offset;if(Ke.isInstancedInterleavedBuffer){for(let bt=0;bt<De.locationSize;bt++)U(De.location+bt,Ke.meshPerAttribute);!0!==ue.isInstancedMesh&&void 0===_e._maxInstanceCount&&(_e._maxInstanceCount=Ke.meshPerAttribute*Ke.count)}else for(let bt=0;bt<De.locationSize;bt++)D(De.location+bt);e.bindBuffer(34962,it);for(let bt=0;bt<De.locationSize;bt++)q(De.location+bt,He/De.locationSize,We,ke,Nt*ut,(Pt+He/De.locationSize*bt)*ut)}else{if(Ve.isInstancedBufferAttribute){for(let Ke=0;Ke<De.locationSize;Ke++)U(De.location+Ke,Ve.meshPerAttribute);!0!==ue.isInstancedMesh&&void 0===_e._maxInstanceCount&&(_e._maxInstanceCount=Ve.meshPerAttribute*Ve.count)}else for(let Ke=0;Ke<De.locationSize;Ke++)D(De.location+Ke);e.bindBuffer(34962,it);for(let Ke=0;Ke<De.locationSize;Ke++)q(De.location+Ke,He/De.locationSize,We,ke,He*ut,He/De.locationSize*Ke*ut)}}else if(void 0!==Be){let ke=Be[Ie];if(void 0!==ke)switch(ke.length){case 2:e.vertexAttrib2fv(De.location,ke);break;case 3:e.vertexAttrib3fv(De.location,ke);break;case 4:e.vertexAttrib4fv(De.location,ke);break;default:e.vertexAttrib1fv(De.location,ke)}}}}Y()}(ue,Ce,we,_e),null!==ye&&e.bindBuffer(34963,n.get(ye).buffer))},reset:ce,resetDefaultState:de,dispose:function Z(){ce();for(let ue in a){let Ce=a[ue];for(let we in Ce){let _e=Ce[we];for(let ye in _e)v(_e[ye].object),delete _e[ye];delete Ce[we]}delete a[ue]}},releaseStatesOfGeometry:function te(ue){if(void 0===a[ue.id])return;let Ce=a[ue.id];for(let we in Ce){let _e=Ce[we];for(let ye in _e)v(_e[ye].object),delete _e[ye];delete Ce[we]}delete a[ue.id]},releaseStatesOfProgram:function ie(ue){for(let Ce in a){let we=a[Ce];if(void 0===we[ue.id])continue;let _e=we[ue.id];for(let ye in _e)v(_e[ye].object),delete _e[ye];delete we[ue.id]}},initAttributes:S,enableAttribute:D,disableUnusedAttributes:Y}}function Abe(e,t,n,i){let o,r=i.isWebGL2;this.setMode=function s(c){o=c},this.render=function a(c,h){e.drawArrays(o,c,h),n.update(h,o,1)},this.renderInstances=function l(c,h,d){if(0===d)return;let u,f;if(r)u=e,f="drawArraysInstanced";else if(u=t.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===u)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[f](o,c,h,d),n.update(h,o,d)}}function Tbe(e,t,n){let i;function o(q){if("highp"===q){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";q="mediump"}return"mediump"===q&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);let c=s||t.has("WEBGL_draw_buffers"),h=!0===n.logarithmicDepthBuffer,d=e.getParameter(34930),u=e.getParameter(35660),f=e.getParameter(3379),v=e.getParameter(34076),y=e.getParameter(34921),_=e.getParameter(36347),w=e.getParameter(36348),O=e.getParameter(36349),S=u>0,D=s||t.has("OES_texture_float");return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){let q=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(q.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:u,maxTextureSize:f,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:_,maxVaryings:w,maxFragmentUniforms:O,vertexTextures:S,floatFragmentTextures:D,floatVertexTextures:S&&D,maxSamples:s?e.getParameter(36183):0}}function kbe(e){let t=this,n=null,i=0,r=!1,o=!1,s=new Ql,a=new $o,l={value:null,needsUpdate:!1};function h(d,u,f,v){let y=null!==d?d.length:0,_=null;if(0!==y){if(_=l.value,!0!==v||null===_){let w=f+4*y,O=u.matrixWorldInverse;a.getNormalMatrix(O),(null===_||_.length<w)&&(_=new Float32Array(w));for(let S=0,D=f;S!==y;++S,D+=4)s.copy(d[S]).applyMatrix4(O,a),s.normal.toArray(_,D),_[D+3]=s.constant}l.value=_,l.needsUpdate=!0}return t.numPlanes=y,t.numIntersection=0,_}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,u){let f=0!==d.length||u||0!==i||r;return r=u,i=d.length,f},this.beginShadows=function(){o=!0,h(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,u){n=h(d,u,0)},this.setState=function(d,u,f){let v=d.clippingPlanes,y=d.clipIntersection,_=d.clipShadows,w=e.get(d);if(!r||null===v||0===v.length||o&&!_)o?h(null):function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}();else{let O=o?0:i,S=4*O,D=w.clippingState||null;l.value=D,D=h(v,u,S,f);for(let U=0;U!==S;++U)D[U]=n[U];w.clippingState=D,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=O}}}function Ibe(e){let t=new WeakMap;function n(s,a){return 303===a?s.mapping=301:304===a&&(s.mapping=302),s}function r(s){let a=s.target;a.removeEventListener("dispose",r);let l=t.get(a);void 0!==l&&(t.delete(a),l.dispose())}return{get:function i(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){let a=s.mapping;if(303===a||304===a){if(t.has(s))return n(t.get(s).texture,s.mapping);{let l=s.image;if(l&&l.height>0){let c=new q1e(l.height/2);return c.fromEquirectangularTexture(e,s),t.set(s,c),s.addEventListener("dispose",r),n(c.texture,s.mapping)}return null}}}return s},dispose:function o(){t=new WeakMap}}}var IA=class extends q0{constructor(e=-1,t=1,n=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,o=n+e,s=i+t,a=i-t;if(null!==this.view&&this.view.enabled){let l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,o=r+l*this.view.width,s-=c*this.view.offsetY,a=s-c*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}},IU=[.125,.215,.35,.446,.526,.582],RA=new IA,RU=new qn,NA=null,Om=(1+Math.sqrt(5))/2,Q0=1/Om,NU=[new ne(1,1,1),new ne(-1,1,1),new ne(1,1,-1),new ne(-1,1,-1),new ne(0,Om,Q0),new ne(0,Om,-Q0),new ne(Q0,0,Om),new ne(-Q0,0,Om),new ne(Om,Q0,0),new ne(-Om,Q0,0)],FU=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){NA=this._renderer.getRenderTarget(),this._setSize(256);let r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=zU(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=BU(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(NA),e.scissorTest=!1,BC(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),NA=this._renderer.getRenderTarget();let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Ri,minFilter:Ri,generateMipmaps:!1,type:vm,format:Xl,encoding:nh,depthBuffer:!1},i=LU(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=LU(e,t,n);let{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function Rbe(e){let t=[],n=[],i=[],r=e,o=e-4+1+IU.length;for(let s=0;s<o;s++){let a=Math.pow(2,r);n.push(a);let l=1/a;s>e-4?l=IU[s-e+4-1]:0===s&&(l=0),i.push(l);let c=1/(a-2),h=-c,d=1+c,u=[h,h,d,h,d,d,h,h,d,d,h,d],f=6,v=6,y=3,_=2,w=1,O=new Float32Array(y*v*f),S=new Float32Array(_*v*f),D=new Float32Array(w*v*f);for(let Y=0;Y<f;Y++){let q=Y%3*2/3-1,K=Y>2?0:-1;O.set([q,K,0,q+2/3,K,0,q+2/3,K+1,0,q,K,0,q+2/3,K+1,0,q,K+1,0],y*v*Y),S.set(u,_*v*Y),D.set([Y,Y,Y,Y,Y,Y],w*v*Y)}let U=new Vn;U.setAttribute("position",new ti(O,y)),U.setAttribute("uv",new ti(S,_)),U.setAttribute("faceIndex",new ti(D,w)),t.push(U),r>4&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}(r)),this._blurMaterial=function Nbe(e,t,n){let i=new Float32Array(20),r=new ne(0,1,0);return new Hr({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(r,e,t)}return i}_compileMaterial(e){let t=new Ha(this._lodPlanes[0],e);this._renderer.compile(t,RA)}_sceneToCubeUV(e,t,n,i){let r=new xa(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,l=a.autoClear,c=a.toneMapping;a.getClearColor(RU),a.toneMapping=0,a.autoClear=!1;let h=new d_({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new Ha(new rh,h),u=!1,f=e.background;f?f.isColor&&(h.color.copy(f),e.background=null,u=!0):(h.color.copy(RU),u=!0);for(let v=0;v<6;v++){let y=v%3;0===y?(r.up.set(0,o[v],0),r.lookAt(s[v],0,0)):1===y?(r.up.set(0,0,o[v]),r.lookAt(0,s[v],0)):(r.up.set(0,o[v],0),r.lookAt(0,0,s[v]));let _=this._cubeSize;BC(i,y*_,v>2?_:0,_,_),a.setRenderTarget(i),u&&a.render(d,r),a.render(e,r)}d.geometry.dispose(),d.material.dispose(),a.toneMapping=c,a.autoClear=l,e.background=f}_textureToCubeUV(e,t){let n=this._renderer,i=301===e.mapping||302===e.mapping;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=zU()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=BU());let r=i?this._cubemapMaterial:this._equirectMaterial,o=new Ha(this._lodPlanes[0],r);r.uniforms.envMap.value=e;let a=this._cubeSize;BC(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,RA)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){let r=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]);this._blur(e,i-1,i,r,NU[(i-1)%NU.length])}t.autoClear=n}_blur(e,t,n,i,r){let o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,o,s){let a=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");let h=new Ha(this._lodPlanes[i],l),d=l.uniforms,u=this._sizeLods[n]-1,f=isFinite(r)?Math.PI/(2*u):2*Math.PI/39,v=r/f,y=isFinite(r)?1+Math.floor(3*v):20;y>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${y} samples when the maximum is set to 20`);let _=[],w=0;for(let Y=0;Y<20;++Y){let q=Y/v,K=Math.exp(-q*q/2);_.push(K),0===Y?w+=K:Y<y&&(w+=2*K)}for(let Y=0;Y<_.length;Y++)_[Y]=_[Y]/w;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=_,d.latitudinal.value="latitudinal"===o,s&&(d.poleAxis.value=s);let{_lodMax:O}=this;d.dTheta.value=f,d.mipInt.value=O-n;let S=this._sizeLods[i];BC(t,3*S*(i>O-4?i-O+4:0),4*(this._cubeSize-S),3*S,2*S),a.setRenderTarget(t),a.render(h,RA)}};function LU(e,t,n){let i=new Ar(e,t,n);return i.texture.mapping=306,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function BC(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function BU(){return new Hr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function zU(){return new Hr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Fbe(e){let t=new WeakMap,n=null;function o(a){let l=a.target;l.removeEventListener("dispose",o);let c=t.get(l);void 0!==c&&(t.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){let l=a.mapping,c=303===l||304===l,h=301===l||302===l;if(c||h){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let d=t.get(a);return null===n&&(n=new FU(e)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),t.set(a,d),d.texture}if(t.has(a))return t.get(a).texture;{let d=a.image;if(c&&d&&d.height>0||h&&d&&function r(a){let l=0;for(let h=0;h<6;h++)void 0!==a[h]&&l++;return 6===l}(d)){null===n&&(n=new FU(e));let u=c?n.fromEquirectangular(a):n.fromCubemap(a);return t.set(a,u),a.addEventListener("dispose",o),u.texture}return null}}}return a},dispose:function s(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Lbe(e){let t={};function n(i){if(void 0!==t[i])return t[i];let r;switch(i){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(i)}return t[i]=r,r}return{has:function(i){return null!==n(i)},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){let r=n(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Bbe(e,t,n,i){let r={},o=new WeakMap;function s(d){let u=d.target;null!==u.index&&t.remove(u.index);for(let v in u.attributes)t.remove(u.attributes[v]);u.removeEventListener("dispose",s),delete r[u.id];let f=o.get(u);f&&(t.remove(f),o.delete(u)),i.releaseStatesOfGeometry(u),!0===u.isInstancedBufferGeometry&&delete u._maxInstanceCount,n.memory.geometries--}function c(d){let u=[],f=d.index,v=d.attributes.position,y=0;if(null!==f){let O=f.array;y=f.version;for(let S=0,D=O.length;S<D;S+=3){let U=O[S+0],Y=O[S+1],q=O[S+2];u.push(U,Y,Y,q,q,U)}}else{y=v.version;for(let S=0,D=v.array.length/3-1;S<D;S+=3){let U=S+0,Y=S+1,q=S+2;u.push(U,Y,Y,q,q,U)}}let _=new(mU(u)?j0:DU)(u,1);_.version=y;let w=o.get(d);w&&t.remove(w),o.set(d,_)}return{get:function a(d,u){return!0===r[u.id]||(u.addEventListener("dispose",s),r[u.id]=!0,n.memory.geometries++),u},update:function l(d){let u=d.attributes;for(let v in u)t.update(u[v],34962);let f=d.morphAttributes;for(let v in f){let y=f[v];for(let _=0,w=y.length;_<w;_++)t.update(y[_],34962)}},getWireframeAttribute:function h(d){let u=o.get(d);if(u){let f=d.index;null!==f&&u.version<f.version&&c(d)}else c(d);return o.get(d)}}}function zbe(e,t,n,i){let o,a,l,r=i.isWebGL2;this.setMode=function s(u){o=u},this.setIndex=function c(u){a=u.type,l=u.bytesPerElement},this.render=function h(u,f){e.drawElements(o,f,a,u*l),n.update(f,o,1)},this.renderInstances=function d(u,f,v){if(0===v)return;let y,_;if(r)y=e,_="drawElementsInstanced";else if(y=t.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",null===y)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");y[_](o,f,a,u*l,v),n.update(f,o,v)}}function Ube(e){let n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function i(o,s,a){switch(n.calls++,s){case 4:n.triangles+=a*(o/3);break;case 1:n.lines+=a*(o/2);break;case 3:n.lines+=a*(o-1);break;case 2:n.lines+=a*o;break;case 0:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function jbe(e,t){return e[0]-t[0]}function Vbe(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Hbe(e,t,n){let i={},r=new Float32Array(8),o=new WeakMap,s=new Ci,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,h,d,u){let f=c.morphTargetInfluences;if(!0===t.isWebGL2){let v=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,y=void 0!==v?v.length:0,_=o.get(h);if(void 0===_||_.count!==y){let S=function(){ue.dispose(),o.delete(h),h.removeEventListener("dispose",S)};void 0!==_&&_.texture.dispose();let D=void 0!==h.morphAttributes.position,U=void 0!==h.morphAttributes.normal,Y=void 0!==h.morphAttributes.color,q=h.morphAttributes.position||[],K=h.morphAttributes.normal||[],Z=h.morphAttributes.color||[],te=0;!0===D&&(te=1),!0===U&&(te=2),!0===Y&&(te=3);let ie=h.attributes.position.count*te,ce=1;ie>t.maxTextureSize&&(ce=Math.ceil(ie/t.maxTextureSize),ie=t.maxTextureSize);let de=new Float32Array(ie*ce*4*y),ue=new _U(de,ie,ce,y);ue.type=ja,ue.needsUpdate=!0;let Ce=4*te;for(let we=0;we<y;we++){let _e=q[we],ye=K[we],Re=Z[we],Be=ie*ce*4*we;for(let Ie=0;Ie<_e.count;Ie++){let De=Ie*Ce;!0===D&&(s.fromBufferAttribute(_e,Ie),de[Be+De+0]=s.x,de[Be+De+1]=s.y,de[Be+De+2]=s.z,de[Be+De+3]=0),!0===U&&(s.fromBufferAttribute(ye,Ie),de[Be+De+4]=s.x,de[Be+De+5]=s.y,de[Be+De+6]=s.z,de[Be+De+7]=0),!0===Y&&(s.fromBufferAttribute(Re,Ie),de[Be+De+8]=s.x,de[Be+De+9]=s.y,de[Be+De+10]=s.z,de[Be+De+11]=4===Re.itemSize?s.w:1)}}_={count:y,texture:ue,size:new Fe(ie,ce)},o.set(h,_),h.addEventListener("dispose",S)}let w=0;for(let S=0;S<f.length;S++)w+=f[S];let O=h.morphTargetsRelative?1:1-w;u.getUniforms().setValue(e,"morphTargetBaseInfluence",O),u.getUniforms().setValue(e,"morphTargetInfluences",f),u.getUniforms().setValue(e,"morphTargetsTexture",_.texture,n),u.getUniforms().setValue(e,"morphTargetsTextureSize",_.size)}else{let v=void 0===f?0:f.length,y=i[h.id];if(void 0===y||y.length!==v){y=[];for(let D=0;D<v;D++)y[D]=[D,0];i[h.id]=y}for(let D=0;D<v;D++){let U=y[D];U[0]=D,U[1]=f[D]}y.sort(Vbe);for(let D=0;D<8;D++)D<v&&y[D][1]?(a[D][0]=y[D][0],a[D][1]=y[D][1]):(a[D][0]=Number.MAX_SAFE_INTEGER,a[D][1]=0);a.sort(jbe);let _=h.morphAttributes.position,w=h.morphAttributes.normal,O=0;for(let D=0;D<8;D++){let U=a[D],Y=U[0],q=U[1];Y!==Number.MAX_SAFE_INTEGER&&q?(_&&h.getAttribute("morphTarget"+D)!==_[Y]&&h.setAttribute("morphTarget"+D,_[Y]),w&&h.getAttribute("morphNormal"+D)!==w[Y]&&h.setAttribute("morphNormal"+D,w[Y]),r[D]=q,O+=q):(_&&!0===h.hasAttribute("morphTarget"+D)&&h.deleteAttribute("morphTarget"+D),w&&!0===h.hasAttribute("morphNormal"+D)&&h.deleteAttribute("morphNormal"+D),r[D]=0)}let S=h.morphTargetsRelative?1:1-O;u.getUniforms().setValue(e,"morphTargetBaseInfluence",S),u.getUniforms().setValue(e,"morphTargetInfluences",r)}}}}function Gbe(e,t,n,i){let r=new WeakMap;function a(l){let c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),null!==c.instanceColor&&n.remove(c.instanceColor)}return{update:function o(l){let c=i.render.frame,d=t.get(l,l.geometry);return r.get(d)!==c&&(t.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),null!==l.instanceColor&&n.update(l.instanceColor,34962)),d},dispose:function s(){r=new WeakMap}}}var UU=new Ds,jU=new _U,VU=new class extends Ds{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Zr,this.minFilter=Zr,this.wrapR=Xo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},HU=new AA,GU=[],WU=[],qU=new Float32Array(16),YU=new Float32Array(9),XU=new Float32Array(4);function Z0(e,t,n){let i=e[0];if(i<=0||i>0)return e;let r=t*n,o=GU[r];if(void 0===o&&(o=new Float32Array(r),GU[r]=o),0!==t){i.toArray(o,0);for(let s=1,a=0;s!==t;++s)a+=n,e[s].toArray(o,a)}return o}function As(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Ts(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function zC(e,t){let n=WU[t];void 0===n&&(n=new Int32Array(t),WU[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Wbe(e,t){let n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function qbe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(As(n,t))return;e.uniform2fv(this.addr,t),Ts(n,t)}}function Ybe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(As(n,t))return;e.uniform3fv(this.addr,t),Ts(n,t)}}function Xbe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(As(n,t))return;e.uniform4fv(this.addr,t),Ts(n,t)}}function $be(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(As(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ts(n,t)}else{if(As(n,i))return;XU.set(i),e.uniformMatrix2fv(this.addr,!1,XU),Ts(n,i)}}function Kbe(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(As(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ts(n,t)}else{if(As(n,i))return;YU.set(i),e.uniformMatrix3fv(this.addr,!1,YU),Ts(n,i)}}function Qbe(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(As(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ts(n,t)}else{if(As(n,i))return;qU.set(i),e.uniformMatrix4fv(this.addr,!1,qU),Ts(n,i)}}function Zbe(e,t){let n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Jbe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(As(n,t))return;e.uniform2iv(this.addr,t),Ts(n,t)}}function exe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(As(n,t))return;e.uniform3iv(this.addr,t),Ts(n,t)}}function txe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(As(n,t))return;e.uniform4iv(this.addr,t),Ts(n,t)}}function nxe(e,t){let n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function ixe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(As(n,t))return;e.uniform2uiv(this.addr,t),Ts(n,t)}}function rxe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(As(n,t))return;e.uniform3uiv(this.addr,t),Ts(n,t)}}function oxe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(As(n,t))return;e.uniform4uiv(this.addr,t),Ts(n,t)}}function sxe(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||UU,r)}function axe(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||VU,r)}function lxe(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||HU,r)}function cxe(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||jU,r)}function hxe(e,t){e.uniform1fv(this.addr,t)}function uxe(e,t){let n=Z0(t,this.size,2);e.uniform2fv(this.addr,n)}function pxe(e,t){let n=Z0(t,this.size,3);e.uniform3fv(this.addr,n)}function fxe(e,t){let n=Z0(t,this.size,4);e.uniform4fv(this.addr,n)}function mxe(e,t){let n=Z0(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function gxe(e,t){let n=Z0(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function vxe(e,t){let n=Z0(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function yxe(e,t){e.uniform1iv(this.addr,t)}function _xe(e,t){e.uniform2iv(this.addr,t)}function bxe(e,t){e.uniform3iv(this.addr,t)}function xxe(e,t){e.uniform4iv(this.addr,t)}function wxe(e,t){e.uniform1uiv(this.addr,t)}function Cxe(e,t){e.uniform2uiv(this.addr,t)}function Mxe(e,t){e.uniform3uiv(this.addr,t)}function Pxe(e,t){e.uniform4uiv(this.addr,t)}function Oxe(e,t,n){let i=this.cache,r=t.length,o=zC(n,r);As(i,o)||(e.uniform1iv(this.addr,o),Ts(i,o));for(let s=0;s!==r;++s)n.setTexture2D(t[s]||UU,o[s])}function Sxe(e,t,n){let i=this.cache,r=t.length,o=zC(n,r);As(i,o)||(e.uniform1iv(this.addr,o),Ts(i,o));for(let s=0;s!==r;++s)n.setTexture3D(t[s]||VU,o[s])}function Exe(e,t,n){let i=this.cache,r=t.length,o=zC(n,r);As(i,o)||(e.uniform1iv(this.addr,o),Ts(i,o));for(let s=0;s!==r;++s)n.setTextureCube(t[s]||HU,o[s])}function Dxe(e,t,n){let i=this.cache,r=t.length,o=zC(n,r);As(i,o)||(e.uniform1iv(this.addr,o),Ts(i,o));for(let s=0;s!==r;++s)n.setTexture2DArray(t[s]||jU,o[s])}var Txe=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function dxe(e){switch(e){case 5126:return Wbe;case 35664:return qbe;case 35665:return Ybe;case 35666:return Xbe;case 35674:return $be;case 35675:return Kbe;case 35676:return Qbe;case 5124:case 35670:return Zbe;case 35667:case 35671:return Jbe;case 35668:case 35672:return exe;case 35669:case 35673:return txe;case 5125:return nxe;case 36294:return ixe;case 36295:return rxe;case 36296:return oxe;case 35678:case 36198:case 36298:case 36306:case 35682:return sxe;case 35679:case 36299:case 36307:return axe;case 35680:case 36300:case 36308:case 36293:return lxe;case 36289:case 36303:case 36311:case 36292:return cxe}}(t.type)}},kxe=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function Axe(e){switch(e){case 5126:return hxe;case 35664:return uxe;case 35665:return pxe;case 35666:return fxe;case 35674:return mxe;case 35675:return gxe;case 35676:return vxe;case 5124:case 35670:return yxe;case 35667:case 35671:return _xe;case 35668:case 35672:return bxe;case 35669:case 35673:return xxe;case 5125:return wxe;case 36294:return Cxe;case 36295:return Mxe;case 36296:return Pxe;case 35678:case 36198:case 36298:case 36306:case 35682:return Oxe;case 35679:case 36299:case 36307:return Sxe;case 35680:case 36300:case 36308:case 36293:return Exe;case 36289:case 36303:case 36311:case 36292:return Dxe}}(t.type)}},Ixe=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let i=this.seq;for(let r=0,o=i.length;r!==o;++r){let s=i[r];s.setValue(e,t[s.id],n)}}},LA=/(\w+)(\])?(\[|\.)?/g;function $U(e,t){e.seq.push(t),e.map[t.id]=t}function Rxe(e,t,n){let i=e.name,r=i.length;for(LA.lastIndex=0;;){let o=LA.exec(i),s=LA.lastIndex,a=o[1],c=o[3];if("]"===o[2]&&(a|=0),void 0===c||"["===c&&s+2===r){$U(n,void 0===c?new Txe(a,e,t):new kxe(a,e,t));break}{let h=n.map[a];void 0===h&&(h=new Ixe(a),$U(n,h)),n=h}}}var UC=class{constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){let r=e.getActiveUniform(t,i);Rxe(r,e.getUniformLocation(t,r.name),this)}}setValue(e,t,n,i){let r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){let i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){let s=t[r],a=n[s.id];!1!==a.needsUpdate&&s.setValue(e,a.value,i)}}static seqWithValue(e,t){let n=[];for(let i=0,r=e.length;i!==r;++i){let o=e[i];o.id in t&&n.push(o)}return n}};function KU(e,t,n){let i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}var Nxe=0;function QU(e,t,n){let i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";let o=/ERROR: 0:(\d+)/.exec(r);if(o){let s=parseInt(o[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function Fxe(e,t){let n=e.split("\n"),i=[],r=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let s=r;s<o;s++){let a=s+1;i.push(`${a===t?">":" "} ${a}: ${n[s]}`)}return i.join("\n")}(e.getShaderSource(t),s)}return r}function Bxe(e,t){let n=function Lxe(e){switch(e){case nh:return["Linear","( value )"];case wi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function zxe(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function m_(e){return""!==e}function ZU(e,t){let n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function JU(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Hxe=/^[ \t]*#include +<([\w\d./]+)>/gm;function BA(e){return e.replace(Hxe,Gxe)}function Gxe(e,t){let n=Ei[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return BA(n)}var Wxe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ej(e){return e.replace(Wxe,qxe)}function qxe(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function tj(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Zxe(e,t,n,i){let _,w,r=e.getContext(),o=n.defines,s=n.vertexShader,a=n.fragmentShader,l=function Yxe(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function Xxe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function $xe(e){let t="ENVMAP_MODE_REFLECTION";return e.envMap&&302===e.envMapMode&&(t="ENVMAP_MODE_REFRACTION"),t}(n),d=function Kxe(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),u=function Qxe(e){let t=e.envMapCubeUVHeight;if(null===t)return null;let n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),f=n.isWebGL2?"":function Uxe(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(m_).join("\n")}(n),v=function jxe(e){let t=[];for(let n in e){let i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(o),y=r.createProgram(),O=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(_=[v].filter(m_).join("\n"),_.length>0&&(_+="\n"),w=[f,v].filter(m_).join("\n"),w.length>0&&(w+="\n")):(_=[tj(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(m_).join("\n"),w=[f,tj(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",u?"#define CUBEUV_TEXEL_WIDTH "+u.texelWidth:"",u?"#define CUBEUV_TEXEL_HEIGHT "+u.texelHeight:"",u?"#define CUBEUV_MAX_MIP "+u.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Ei.tonemapping_pars_fragment:"",0!==n.toneMapping?zxe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ei.encodings_pars_fragment,Bxe("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(m_).join("\n")),s=BA(s),s=ZU(s,n),s=JU(s,n),a=BA(a),a=ZU(a,n),a=JU(a,n),s=ej(s),a=ej(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(O="#version 300 es\n",_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+_,w=["#define varying in","300 es"===n.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+w);let q,K,D=O+w+a,U=KU(r,35633,O+_+s),Y=KU(r,35632,D);if(r.attachShader(y,U),r.attachShader(y,Y),void 0!==n.index0AttributeName?r.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),e.debug.checkShaderErrors){let Z=r.getProgramInfoLog(y).trim(),te=r.getShaderInfoLog(U).trim(),ie=r.getShaderInfoLog(Y).trim(),ce=!0,de=!0;if(!1===r.getProgramParameter(y,35714)){ce=!1;let ue=QU(r,U,"vertex"),Ce=QU(r,Y,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+"\n\nProgram Info Log: "+Z+"\n"+ue+"\n"+Ce)}else""!==Z?console.warn("THREE.WebGLProgram: Program Info Log:",Z):(""===te||""===ie)&&(de=!1);de&&(this.diagnostics={runnable:ce,programLog:Z,vertexShader:{log:te,prefix:_},fragmentShader:{log:ie,prefix:w}})}return r.deleteShader(U),r.deleteShader(Y),this.getUniforms=function(){return void 0===q&&(q=new UC(r,y)),q},this.getAttributes=function(){return void 0===K&&(K=function Vxe(e,t){let n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){let o=e.getActiveAttrib(t,r),s=o.name,a=1;35674===o.type&&(a=2),35675===o.type&&(a=3),35676===o.type&&(a=4),n[s]={type:o.type,location:e.getAttribLocation(t,s),locationSize:a}}return n}(r,y)),K},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=Nxe++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=U,this.fragmentShader=Y,this}var Jxe=0;function nwe(e,t,n,i,r,o,s){let a=new xA,l=new class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let n=e.fragmentShader,i=this._getShaderStage(e.vertexShader),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new class{constructor(e){this.id=Jxe++,this.code=e,this.usedTimes=0}}(e),t.set(e,n)),n}},c=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,u=r.vertexTextures,f=r.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function y(K,Z,te,ie,ce){let de=ie.fog,ue=ce.geometry,we=(K.isMeshStandardMaterial?n:t).get(K.envMap||(K.isMeshStandardMaterial?ie.environment:null)),_e=we&&306===we.mapping?we.image.height:null,ye=v[K.type];null!==K.precision&&(f=r.getMaxPrecision(K.precision),f!==K.precision&&console.warn("THREE.WebGLProgram.getParameters:",K.precision,"not supported, using",f,"instead."));let De,Ve,ke,He,Re=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,Be=void 0!==Re?Re.length:0,Ie=0;if(void 0!==ue.morphAttributes.position&&(Ie=1),void 0!==ue.morphAttributes.normal&&(Ie=2),void 0!==ue.morphAttributes.color&&(Ie=3),ye){let Ke=oh[ye];De=Ke.vertexShader,Ve=Ke.fragmentShader}else De=K.vertexShader,Ve=K.fragmentShader,l.update(K),ke=l.getVertexShaderID(K),He=l.getFragmentShaderID(K);let ze=e.getRenderTarget(),We=K.clearcoat>0,ut=K.iridescence>0;return{isWebGL2:h,shaderID:ye,shaderName:K.type,vertexShader:De,fragmentShader:Ve,defines:K.defines,customVertexShaderID:ke,customFragmentShaderID:He,isRawShaderMaterial:!0===K.isRawShaderMaterial,glslVersion:K.glslVersion,precision:f,instancing:!0===ce.isInstancedMesh,instancingColor:!0===ce.isInstancedMesh&&null!==ce.instanceColor,supportsVertexTextures:u,outputEncoding:null===ze?e.outputEncoding:!0===ze.isXRRenderTarget?ze.texture.encoding:nh,map:!!K.map,matcap:!!K.matcap,envMap:!!we,envMapMode:we&&we.mapping,envMapCubeUVHeight:_e,lightMap:!!K.lightMap,aoMap:!!K.aoMap,emissiveMap:!!K.emissiveMap,bumpMap:!!K.bumpMap,normalMap:!!K.normalMap,objectSpaceNormalMap:1===K.normalMapType,tangentSpaceNormalMap:0===K.normalMapType,decodeVideoTexture:!!K.map&&!0===K.map.isVideoTexture&&K.map.encoding===wi,clearcoat:We,clearcoatMap:We&&!!K.clearcoatMap,clearcoatRoughnessMap:We&&!!K.clearcoatRoughnessMap,clearcoatNormalMap:We&&!!K.clearcoatNormalMap,iridescence:ut,iridescenceMap:ut&&!!K.iridescenceMap,iridescenceThicknessMap:ut&&!!K.iridescenceThicknessMap,displacementMap:!!K.displacementMap,roughnessMap:!!K.roughnessMap,metalnessMap:!!K.metalnessMap,specularMap:!!K.specularMap,specularIntensityMap:!!K.specularIntensityMap,specularColorMap:!!K.specularColorMap,opaque:!1===K.transparent&&1===K.blending,alphaMap:!!K.alphaMap,alphaTest:K.alphaTest>0,gradientMap:!!K.gradientMap,sheen:K.sheen>0,sheenColorMap:!!K.sheenColorMap,sheenRoughnessMap:!!K.sheenRoughnessMap,transmission:K.transmission>0,transmissionMap:!!K.transmissionMap,thicknessMap:!!K.thicknessMap,combine:K.combine,vertexTangents:!!K.normalMap&&!!ue.attributes.tangent,vertexColors:K.vertexColors,vertexAlphas:!0===K.vertexColors&&!!ue.attributes.color&&4===ue.attributes.color.itemSize,vertexUvs:!!(K.map||K.bumpMap||K.normalMap||K.specularMap||K.alphaMap||K.emissiveMap||K.roughnessMap||K.metalnessMap||K.clearcoatMap||K.clearcoatRoughnessMap||K.clearcoatNormalMap||K.iridescenceMap||K.iridescenceThicknessMap||K.displacementMap||K.transmissionMap||K.thicknessMap||K.specularIntensityMap||K.specularColorMap||K.sheenColorMap||K.sheenRoughnessMap),uvsVertexOnly:!(K.map||K.bumpMap||K.normalMap||K.specularMap||K.alphaMap||K.emissiveMap||K.roughnessMap||K.metalnessMap||K.clearcoatNormalMap||K.iridescenceMap||K.iridescenceThicknessMap||K.transmission>0||K.transmissionMap||K.thicknessMap||K.specularIntensityMap||K.specularColorMap||K.sheen>0||K.sheenColorMap||K.sheenRoughnessMap||!K.displacementMap),fog:!!de,useFog:!0===K.fog,fogExp2:de&&de.isFogExp2,flatShading:!!K.flatShading,sizeAttenuation:K.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===ce.isSkinnedMesh,morphTargets:void 0!==ue.morphAttributes.position,morphNormals:void 0!==ue.morphAttributes.normal,morphColors:void 0!==ue.morphAttributes.color,morphTargetsCount:Be,morphTextureStride:Ie,numDirLights:Z.directional.length,numPointLights:Z.point.length,numSpotLights:Z.spot.length,numSpotLightMaps:Z.spotLightMap.length,numRectAreaLights:Z.rectArea.length,numHemiLights:Z.hemi.length,numDirLightShadows:Z.directionalShadowMap.length,numPointLightShadows:Z.pointShadowMap.length,numSpotLightShadows:Z.spotShadowMap.length,numSpotLightShadowsWithMaps:Z.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:K.dithering,shadowMapEnabled:e.shadowMap.enabled&&te.length>0,shadowMapType:e.shadowMap.type,toneMapping:K.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:K.premultipliedAlpha,doubleSided:2===K.side,flipSided:1===K.side,useDepthPacking:!!K.depthPacking,depthPacking:K.depthPacking||0,index0AttributeName:K.index0AttributeName,extensionDerivatives:K.extensions&&K.extensions.derivatives,extensionFragDepth:K.extensions&&K.extensions.fragDepth,extensionDrawBuffers:K.extensions&&K.extensions.drawBuffers,extensionShaderTextureLOD:K.extensions&&K.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:K.customProgramCacheKey()}},getProgramCacheKey:function _(K){let Z=[];if(K.shaderID?Z.push(K.shaderID):(Z.push(K.customVertexShaderID),Z.push(K.customFragmentShaderID)),void 0!==K.defines)for(let te in K.defines)Z.push(te),Z.push(K.defines[te]);return!1===K.isRawShaderMaterial&&(function w(K,Z){K.push(Z.precision),K.push(Z.outputEncoding),K.push(Z.envMapMode),K.push(Z.envMapCubeUVHeight),K.push(Z.combine),K.push(Z.vertexUvs),K.push(Z.fogExp2),K.push(Z.sizeAttenuation),K.push(Z.morphTargetsCount),K.push(Z.morphAttributeCount),K.push(Z.numDirLights),K.push(Z.numPointLights),K.push(Z.numSpotLights),K.push(Z.numSpotLightMaps),K.push(Z.numHemiLights),K.push(Z.numRectAreaLights),K.push(Z.numDirLightShadows),K.push(Z.numPointLightShadows),K.push(Z.numSpotLightShadows),K.push(Z.numSpotLightShadowsWithMaps),K.push(Z.shadowMapType),K.push(Z.toneMapping),K.push(Z.numClippingPlanes),K.push(Z.numClipIntersection),K.push(Z.depthPacking)}(Z,K),function O(K,Z){a.disableAll(),Z.isWebGL2&&a.enable(0),Z.supportsVertexTextures&&a.enable(1),Z.instancing&&a.enable(2),Z.instancingColor&&a.enable(3),Z.map&&a.enable(4),Z.matcap&&a.enable(5),Z.envMap&&a.enable(6),Z.lightMap&&a.enable(7),Z.aoMap&&a.enable(8),Z.emissiveMap&&a.enable(9),Z.bumpMap&&a.enable(10),Z.normalMap&&a.enable(11),Z.objectSpaceNormalMap&&a.enable(12),Z.tangentSpaceNormalMap&&a.enable(13),Z.clearcoat&&a.enable(14),Z.clearcoatMap&&a.enable(15),Z.clearcoatRoughnessMap&&a.enable(16),Z.clearcoatNormalMap&&a.enable(17),Z.iridescence&&a.enable(18),Z.iridescenceMap&&a.enable(19),Z.iridescenceThicknessMap&&a.enable(20),Z.displacementMap&&a.enable(21),Z.specularMap&&a.enable(22),Z.roughnessMap&&a.enable(23),Z.metalnessMap&&a.enable(24),Z.gradientMap&&a.enable(25),Z.alphaMap&&a.enable(26),Z.alphaTest&&a.enable(27),Z.vertexColors&&a.enable(28),Z.vertexAlphas&&a.enable(29),Z.vertexUvs&&a.enable(30),Z.vertexTangents&&a.enable(31),Z.uvsVertexOnly&&a.enable(32),K.push(a.mask),a.disableAll(),Z.fog&&a.enable(0),Z.useFog&&a.enable(1),Z.flatShading&&a.enable(2),Z.logarithmicDepthBuffer&&a.enable(3),Z.skinning&&a.enable(4),Z.morphTargets&&a.enable(5),Z.morphNormals&&a.enable(6),Z.morphColors&&a.enable(7),Z.premultipliedAlpha&&a.enable(8),Z.shadowMapEnabled&&a.enable(9),Z.physicallyCorrectLights&&a.enable(10),Z.doubleSided&&a.enable(11),Z.flipSided&&a.enable(12),Z.useDepthPacking&&a.enable(13),Z.dithering&&a.enable(14),Z.specularIntensityMap&&a.enable(15),Z.specularColorMap&&a.enable(16),Z.transmission&&a.enable(17),Z.transmissionMap&&a.enable(18),Z.thicknessMap&&a.enable(19),Z.sheen&&a.enable(20),Z.sheenColorMap&&a.enable(21),Z.sheenRoughnessMap&&a.enable(22),Z.decodeVideoTexture&&a.enable(23),Z.opaque&&a.enable(24),K.push(a.mask)}(Z,K),Z.push(e.outputEncoding)),Z.push(K.customProgramCacheKey),Z.join()},getUniforms:function S(K){let te,Z=v[K.type];return te=Z?W0.clone(oh[Z].uniforms):K.uniforms,te},acquireProgram:function D(K,Z){let te;for(let ie=0,ce=c.length;ie<ce;ie++){let de=c[ie];if(de.cacheKey===Z){te=de,++te.usedTimes;break}}return void 0===te&&(te=new Zxe(e,Z,K,o),c.push(te)),te},releaseProgram:function U(K){if(0==--K.usedTimes){let Z=c.indexOf(K);c[Z]=c[c.length-1],c.pop(),K.destroy()}},releaseShaderCache:function Y(K){l.remove(K)},programs:c,dispose:function q(){l.dispose()}}}function iwe(){let e=new WeakMap;return{get:function t(o){let s=e.get(o);return void 0===s&&(s={},e.set(o,s)),s},remove:function n(o){e.delete(o)},update:function i(o,s,a){e.get(o)[s]=a},dispose:function r(){e=new WeakMap}}}function rwe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function nj(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ij(){let e=[],t=0,n=[],i=[],r=[];function s(d,u,f,v,y,_){let w=e[t];return void 0===w?(w={id:d.id,object:d,geometry:u,material:f,groupOrder:v,renderOrder:d.renderOrder,z:y,group:_},e[t]=w):(w.id=d.id,w.object=d,w.geometry=u,w.material=f,w.groupOrder=v,w.renderOrder=d.renderOrder,w.z=y,w.group=_),t++,w}return{opaque:n,transmissive:i,transparent:r,init:function o(){t=0,n.length=0,i.length=0,r.length=0},push:function a(d,u,f,v,y,_){let w=s(d,u,f,v,y,_);f.transmission>0?i.push(w):!0===f.transparent?r.push(w):n.push(w)},unshift:function l(d,u,f,v,y,_){let w=s(d,u,f,v,y,_);f.transmission>0?i.unshift(w):!0===f.transparent?r.unshift(w):n.unshift(w)},finish:function h(){for(let d=t,u=e.length;d<u;d++){let f=e[d];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(d,u){n.length>1&&n.sort(d||rwe),i.length>1&&i.sort(u||nj),r.length>1&&r.sort(u||nj)}}}function owe(){let e=new WeakMap;return{get:function t(i,r){let s,o=e.get(i);return void 0===o?(s=new ij,e.set(i,[s])):r>=o.length?(s=new ij,o.push(s)):s=o[r],s},dispose:function n(){e=new WeakMap}}}function swe(){let e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new ne,color:new qn};break;case"SpotLight":n={position:new ne,direction:new ne,color:new qn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ne,color:new qn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ne,skyColor:new qn,groundColor:new qn};break;case"RectAreaLight":n={color:new qn,position:new ne,halfWidth:new ne,halfHeight:new ne}}return e[t.id]=n,n}}}var lwe=0;function cwe(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function dwe(e,t){let n=new swe,i=function awe(){let e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)r.probe.push(new ne);let o=new ne,s=new Ut,a=new Ut;return{setup:function l(h,d){let u=0,f=0,v=0;for(let ie=0;ie<9;ie++)r.probe[ie].set(0,0,0);let y=0,_=0,w=0,O=0,S=0,D=0,U=0,Y=0,q=0,K=0;h.sort(cwe);let Z=!0!==d?Math.PI:1;for(let ie=0,ce=h.length;ie<ce;ie++){let de=h[ie],ue=de.color,Ce=de.intensity,we=de.distance,_e=de.shadow&&de.shadow.map?de.shadow.map.texture:null;if(de.isAmbientLight)u+=ue.r*Ce*Z,f+=ue.g*Ce*Z,v+=ue.b*Ce*Z;else if(de.isLightProbe)for(let ye=0;ye<9;ye++)r.probe[ye].addScaledVector(de.sh.coefficients[ye],Ce);else if(de.isDirectionalLight){let ye=n.get(de);if(ye.color.copy(de.color).multiplyScalar(de.intensity*Z),de.castShadow){let Re=de.shadow,Be=i.get(de);Be.shadowBias=Re.bias,Be.shadowNormalBias=Re.normalBias,Be.shadowRadius=Re.radius,Be.shadowMapSize=Re.mapSize,r.directionalShadow[y]=Be,r.directionalShadowMap[y]=_e,r.directionalShadowMatrix[y]=de.shadow.matrix,D++}r.directional[y]=ye,y++}else if(de.isSpotLight){let ye=n.get(de);ye.position.setFromMatrixPosition(de.matrixWorld),ye.color.copy(ue).multiplyScalar(Ce*Z),ye.distance=we,ye.coneCos=Math.cos(de.angle),ye.penumbraCos=Math.cos(de.angle*(1-de.penumbra)),ye.decay=de.decay,r.spot[w]=ye;let Re=de.shadow;if(de.map&&(r.spotLightMap[q]=de.map,q++,Re.updateMatrices(de),de.castShadow&&K++),r.spotLightMatrix[w]=Re.matrix,de.castShadow){let Be=i.get(de);Be.shadowBias=Re.bias,Be.shadowNormalBias=Re.normalBias,Be.shadowRadius=Re.radius,Be.shadowMapSize=Re.mapSize,r.spotShadow[w]=Be,r.spotShadowMap[w]=_e,Y++}w++}else if(de.isRectAreaLight){let ye=n.get(de);ye.color.copy(ue).multiplyScalar(Ce),ye.halfWidth.set(.5*de.width,0,0),ye.halfHeight.set(0,.5*de.height,0),r.rectArea[O]=ye,O++}else if(de.isPointLight){let ye=n.get(de);if(ye.color.copy(de.color).multiplyScalar(de.intensity*Z),ye.distance=de.distance,ye.decay=de.decay,de.castShadow){let Re=de.shadow,Be=i.get(de);Be.shadowBias=Re.bias,Be.shadowNormalBias=Re.normalBias,Be.shadowRadius=Re.radius,Be.shadowMapSize=Re.mapSize,Be.shadowCameraNear=Re.camera.near,Be.shadowCameraFar=Re.camera.far,r.pointShadow[_]=Be,r.pointShadowMap[_]=_e,r.pointShadowMatrix[_]=de.shadow.matrix,U++}r.point[_]=ye,_++}else if(de.isHemisphereLight){let ye=n.get(de);ye.skyColor.copy(de.color).multiplyScalar(Ce*Z),ye.groundColor.copy(de.groundColor).multiplyScalar(Ce*Z),r.hemi[S]=ye,S++}}O>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=rn.LTC_FLOAT_1,r.rectAreaLTC2=rn.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=rn.LTC_HALF_1,r.rectAreaLTC2=rn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=u,r.ambient[1]=f,r.ambient[2]=v;let te=r.hash;(te.directionalLength!==y||te.pointLength!==_||te.spotLength!==w||te.rectAreaLength!==O||te.hemiLength!==S||te.numDirectionalShadows!==D||te.numPointShadows!==U||te.numSpotShadows!==Y||te.numSpotMaps!==q)&&(r.directional.length=y,r.spot.length=w,r.rectArea.length=O,r.point.length=_,r.hemi.length=S,r.directionalShadow.length=D,r.directionalShadowMap.length=D,r.pointShadow.length=U,r.pointShadowMap.length=U,r.spotShadow.length=Y,r.spotShadowMap.length=Y,r.directionalShadowMatrix.length=D,r.pointShadowMatrix.length=U,r.spotLightMatrix.length=Y+q-K,r.spotLightMap.length=q,r.numSpotLightShadowsWithMaps=K,te.directionalLength=y,te.pointLength=_,te.spotLength=w,te.rectAreaLength=O,te.hemiLength=S,te.numDirectionalShadows=D,te.numPointShadows=U,te.numSpotShadows=Y,te.numSpotMaps=q,r.version=lwe++)},setupView:function c(h,d){let u=0,f=0,v=0,y=0,_=0,w=d.matrixWorldInverse;for(let O=0,S=h.length;O<S;O++){let D=h[O];if(D.isDirectionalLight){let U=r.directional[u];U.direction.setFromMatrixPosition(D.matrixWorld),o.setFromMatrixPosition(D.target.matrixWorld),U.direction.sub(o),U.direction.transformDirection(w),u++}else if(D.isSpotLight){let U=r.spot[v];U.position.setFromMatrixPosition(D.matrixWorld),U.position.applyMatrix4(w),U.direction.setFromMatrixPosition(D.matrixWorld),o.setFromMatrixPosition(D.target.matrixWorld),U.direction.sub(o),U.direction.transformDirection(w),v++}else if(D.isRectAreaLight){let U=r.rectArea[y];U.position.setFromMatrixPosition(D.matrixWorld),U.position.applyMatrix4(w),a.identity(),s.copy(D.matrixWorld),s.premultiply(w),a.extractRotation(s),U.halfWidth.set(.5*D.width,0,0),U.halfHeight.set(0,.5*D.height,0),U.halfWidth.applyMatrix4(a),U.halfHeight.applyMatrix4(a),y++}else if(D.isPointLight){let U=r.point[f];U.position.setFromMatrixPosition(D.matrixWorld),U.position.applyMatrix4(w),f++}else if(D.isHemisphereLight){let U=r.hemi[_];U.direction.setFromMatrixPosition(D.matrixWorld),U.direction.transformDirection(w),_++}}},state:r}}function rj(e,t){let n=new dwe(e,t),i=[],r=[];return{init:function o(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function l(h){n.setup(i,h)},setupLightsView:function c(h){n.setupView(i,h)},pushLight:function s(h){i.push(h)},pushShadow:function a(h){r.push(h)}}}function hwe(e,t){let n=new WeakMap;return{get:function i(o,s=0){let l,a=n.get(o);return void 0===a?(l=new rj(e,t),n.set(o,[l])):s>=a.length?(l=new rj(e,t),a.push(l)):l=a[s],l},dispose:function r(){n=new WeakMap}}}var oj=class extends c_{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=du,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},uwe=class extends c_{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ne,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};function mwe(e,t,n){let i=new kA,r=new Fe,o=new Fe,s=new Ci,a=new oj({depthPacking:3201}),l=new uwe,c={},h=n.maxTextureSize,d={0:1,1:0,2:2},u=new Hr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fe},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=u.clone();f.defines.HORIZONTAL_PASS=1;let v=new Vn;v.setAttribute("position",new ti(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let y=new Ha(v,u),_=this;function w(D,U){let Y=t.update(y);u.defines.VSM_SAMPLES!==D.blurSamples&&(u.defines.VSM_SAMPLES=D.blurSamples,f.defines.VSM_SAMPLES=D.blurSamples,u.needsUpdate=!0,f.needsUpdate=!0),null===D.mapPass&&(D.mapPass=new Ar(r.x,r.y)),u.uniforms.shadow_pass.value=D.map.texture,u.uniforms.resolution.value=D.mapSize,u.uniforms.radius.value=D.radius,e.setRenderTarget(D.mapPass),e.clear(),e.renderBufferDirect(U,null,Y,u,y,null),f.uniforms.shadow_pass.value=D.mapPass.texture,f.uniforms.resolution.value=D.mapSize,f.uniforms.radius.value=D.radius,e.setRenderTarget(D.map),e.clear(),e.renderBufferDirect(U,null,Y,f,y,null)}function O(D,U,Y,q,K,Z){let te=null,ie=!0===Y.isPointLight?D.customDistanceMaterial:D.customDepthMaterial;if(void 0!==ie)te=ie;else if(te=!0===Y.isPointLight?l:a,e.localClippingEnabled&&!0===U.clipShadows&&Array.isArray(U.clippingPlanes)&&0!==U.clippingPlanes.length||U.displacementMap&&0!==U.displacementScale||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0){let ce=te.uuid,de=U.uuid,ue=c[ce];void 0===ue&&(ue={},c[ce]=ue);let Ce=ue[de];void 0===Ce&&(Ce=te.clone(),ue[de]=Ce),te=Ce}return te.visible=U.visible,te.wireframe=U.wireframe,te.side=3===Z?null!==U.shadowSide?U.shadowSide:U.side:null!==U.shadowSide?U.shadowSide:d[U.side],te.alphaMap=U.alphaMap,te.alphaTest=U.alphaTest,te.map=U.map,te.clipShadows=U.clipShadows,te.clippingPlanes=U.clippingPlanes,te.clipIntersection=U.clipIntersection,te.displacementMap=U.displacementMap,te.displacementScale=U.displacementScale,te.displacementBias=U.displacementBias,te.wireframeLinewidth=U.wireframeLinewidth,te.linewidth=U.linewidth,!0===Y.isPointLight&&!0===te.isMeshDistanceMaterial&&(te.referencePosition.setFromMatrixPosition(Y.matrixWorld),te.nearDistance=q,te.farDistance=K),te}function S(D,U,Y,q,K){if(!1===D.visible)return;if(D.layers.test(U.layers)&&(D.isMesh||D.isLine||D.isPoints)&&(D.castShadow||D.receiveShadow&&3===K)&&(!D.frustumCulled||i.intersectsObject(D))){D.modelViewMatrix.multiplyMatrices(Y.matrixWorldInverse,D.matrixWorld);let te=t.update(D),ie=D.material;if(Array.isArray(ie)){let ce=te.groups;for(let de=0,ue=ce.length;de<ue;de++){let Ce=ce[de],we=ie[Ce.materialIndex];if(we&&we.visible){let _e=O(D,we,q,Y.near,Y.far,K);e.renderBufferDirect(Y,null,te,_e,D,Ce)}}}else if(ie.visible){let ce=O(D,ie,q,Y.near,Y.far,K);e.renderBufferDirect(Y,null,te,ce,D,null)}}let Z=D.children;for(let te=0,ie=Z.length;te<ie;te++)S(Z[te],U,Y,q,K)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(D,U,Y){if(!1===_.enabled||!1===_.autoUpdate&&!1===_.needsUpdate||0===D.length)return;let q=e.getRenderTarget(),K=e.getActiveCubeFace(),Z=e.getActiveMipmapLevel(),te=e.state;te.setBlending(0),te.buffers.color.setClear(1,1,1,1),te.buffers.depth.setTest(!0),te.setScissorTest(!1);for(let ie=0,ce=D.length;ie<ce;ie++){let de=D[ie],ue=de.shadow;if(void 0===ue){console.warn("THREE.WebGLShadowMap:",de,"has no shadow.");continue}if(!1===ue.autoUpdate&&!1===ue.needsUpdate)continue;r.copy(ue.mapSize);let Ce=ue.getFrameExtents();r.multiply(Ce),o.copy(ue.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(o.x=Math.floor(h/Ce.x),r.x=o.x*Ce.x,ue.mapSize.x=o.x),r.y>h&&(o.y=Math.floor(h/Ce.y),r.y=o.y*Ce.y,ue.mapSize.y=o.y)),null===ue.map&&(ue.map=new Ar(r.x,r.y,3!==this.type?{minFilter:Zr,magFilter:Zr}:{}),ue.map.texture.name=de.name+".shadowMap",ue.camera.updateProjectionMatrix()),e.setRenderTarget(ue.map),e.clear();let we=ue.getViewportCount();for(let _e=0;_e<we;_e++){let ye=ue.getViewport(_e);s.set(o.x*ye.x,o.y*ye.y,o.x*ye.z,o.y*ye.w),te.viewport(s),ue.updateMatrices(de,_e),i=ue.getFrustum(),S(U,Y,ue.camera,de,this.type)}!0!==ue.isPointLightShadow&&3===this.type&&w(ue,Y),ue.needsUpdate=!1}_.needsUpdate=!1,e.setRenderTarget(q,K,Z)}}function gwe(e,t,n){let i=n.isWebGL2,a=new function r(){let Xe=!1,Mt=new Ci,Xt=null,ln=new Ci(0,0,0,0);return{setMask:function(oi){Xt!==oi&&!Xe&&(e.colorMask(oi,oi,oi,oi),Xt=oi)},setLocked:function(oi){Xe=oi},setClear:function(oi,gr,So,Sa,sg){!0===sg&&(oi*=Sa,gr*=Sa,So*=Sa),Mt.set(oi,gr,So,Sa),!1===ln.equals(Mt)&&(e.clearColor(oi,gr,So,Sa),ln.copy(Mt))},reset:function(){Xe=!1,Xt=null,ln.set(-1,0,0,0)}}},l=new function o(){let Xe=!1,Mt=null,Xt=null,ln=null;return{setTest:function(oi){oi?it(2929):We(2929)},setMask:function(oi){Mt!==oi&&!Xe&&(e.depthMask(oi),Mt=oi)},setFunc:function(oi){if(Xt!==oi){switch(oi){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}Xt=oi}},setLocked:function(oi){Xe=oi},setClear:function(oi){ln!==oi&&(e.clearDepth(oi),ln=oi)},reset:function(){Xe=!1,Mt=null,Xt=null,ln=null}}},c=new function s(){let Xe=!1,Mt=null,Xt=null,ln=null,oi=null,gr=null,So=null,Sa=null,sg=null;return{setTest:function(bo){Xe||(bo?it(2960):We(2960))},setMask:function(bo){Mt!==bo&&!Xe&&(e.stencilMask(bo),Mt=bo)},setFunc:function(bo,Vu,Uc){(Xt!==bo||ln!==Vu||oi!==Uc)&&(e.stencilFunc(bo,Vu,Uc),Xt=bo,ln=Vu,oi=Uc)},setOp:function(bo,Vu,Uc){(gr!==bo||So!==Vu||Sa!==Uc)&&(e.stencilOp(bo,Vu,Uc),gr=bo,So=Vu,Sa=Uc)},setLocked:function(bo){Xe=bo},setClear:function(bo){sg!==bo&&(e.clearStencil(bo),sg=bo)},reset:function(){Xe=!1,Mt=null,Xt=null,ln=null,oi=null,gr=null,So=null,Sa=null,sg=null}}},h=new WeakMap,d=new WeakMap,u={},f={},v=new WeakMap,y=[],_=null,w=!1,O=null,S=null,D=null,U=null,Y=null,q=null,K=null,Z=!1,te=null,ie=null,ce=null,de=null,ue=null,Ce=e.getParameter(35661),we=!1,_e=0,ye=e.getParameter(7938);-1!==ye.indexOf("WebGL")?(_e=parseFloat(/^WebGL (\d)/.exec(ye)[1]),we=_e>=1):-1!==ye.indexOf("OpenGL ES")&&(_e=parseFloat(/^OpenGL ES (\d)/.exec(ye)[1]),we=_e>=2);let Re=null,Be={},Ie=e.getParameter(3088),De=e.getParameter(2978),Ve=(new Ci).fromArray(Ie),ke=(new Ci).fromArray(De);function He(Xe,Mt,Xt){let ln=new Uint8Array(4),oi=e.createTexture();e.bindTexture(Xe,oi),e.texParameteri(Xe,10241,9728),e.texParameteri(Xe,10240,9728);for(let gr=0;gr<Xt;gr++)e.texImage2D(Mt+gr,0,6408,1,1,0,6408,5121,ln);return oi}let ze={};function it(Xe){!0!==u[Xe]&&(e.enable(Xe),u[Xe]=!0)}function We(Xe){!1!==u[Xe]&&(e.disable(Xe),u[Xe]=!1)}ze[3553]=He(3553,3553,1),ze[34067]=He(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),it(2929),l.setFunc(3),mn(!1),Cn(1),it(2884),hn(0);let Pt={100:32774,101:32778,102:32779};if(i)Pt[103]=32775,Pt[104]=32776;else{let Xe=t.get("EXT_blend_minmax");null!==Xe&&(Pt[103]=Xe.MIN_EXT,Pt[104]=Xe.MAX_EXT)}let bt={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function hn(Xe,Mt,Xt,ln,oi,gr,So,Sa){if(0!==Xe){if(!1===w&&(it(3042),w=!0),5===Xe)oi=oi||Mt,gr=gr||Xt,So=So||ln,(Mt!==S||oi!==Y)&&(e.blendEquationSeparate(Pt[Mt],Pt[oi]),S=Mt,Y=oi),(Xt!==D||ln!==U||gr!==q||So!==K)&&(e.blendFuncSeparate(bt[Xt],bt[ln],bt[gr],bt[So]),D=Xt,U=ln,q=gr,K=So),O=Xe,Z=!1;else if(Xe!==O||Sa!==Z){if((100!==S||100!==Y)&&(e.blendEquation(32774),S=100,Y=100),Sa)switch(Xe){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xe)}else switch(Xe){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xe)}D=null,U=null,q=null,K=null,O=Xe,Z=Sa}}else!0===w&&(We(3042),w=!1)}function mn(Xe){te!==Xe&&(e.frontFace(Xe?2304:2305),te=Xe)}function Cn(Xe){0!==Xe?(it(2884),Xe!==ie&&e.cullFace(1===Xe?1029:2===Xe?1028:1032)):We(2884),ie=Xe}function Zt(Xe,Mt,Xt){Xe?(it(32823),(de!==Mt||ue!==Xt)&&(e.polygonOffset(Mt,Xt),de=Mt,ue=Xt)):We(32823)}return{buffers:{color:a,depth:l,stencil:c},enable:it,disable:We,bindFramebuffer:function ut(Xe,Mt){return f[Xe]!==Mt&&(e.bindFramebuffer(Xe,Mt),f[Xe]=Mt,i&&(36009===Xe&&(f[36160]=Mt),36160===Xe&&(f[36009]=Mt)),!0)},drawBuffers:function Ke(Xe,Mt){let Xt=y,ln=!1;if(Xe)if(Xt=v.get(Mt),void 0===Xt&&(Xt=[],v.set(Mt,Xt)),Xe.isWebGLMultipleRenderTargets){let oi=Xe.texture;if(Xt.length!==oi.length||36064!==Xt[0]){for(let gr=0,So=oi.length;gr<So;gr++)Xt[gr]=36064+gr;Xt.length=oi.length,ln=!0}}else 36064!==Xt[0]&&(Xt[0]=36064,ln=!0);else 1029!==Xt[0]&&(Xt[0]=1029,ln=!0);ln&&(n.isWebGL2?e.drawBuffers(Xt):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Xt))},useProgram:function Nt(Xe){return _!==Xe&&(e.useProgram(Xe),_=Xe,!0)},setBlending:hn,setMaterial:function dn(Xe,Mt){2===Xe.side?We(2884):it(2884);let Xt=1===Xe.side;Mt&&(Xt=!Xt),mn(Xt),1===Xe.blending&&!1===Xe.transparent?hn(0):hn(Xe.blending,Xe.blendEquation,Xe.blendSrc,Xe.blendDst,Xe.blendEquationAlpha,Xe.blendSrcAlpha,Xe.blendDstAlpha,Xe.premultipliedAlpha),l.setFunc(Xe.depthFunc),l.setTest(Xe.depthTest),l.setMask(Xe.depthWrite),a.setMask(Xe.colorWrite);let ln=Xe.stencilWrite;c.setTest(ln),ln&&(c.setMask(Xe.stencilWriteMask),c.setFunc(Xe.stencilFunc,Xe.stencilRef,Xe.stencilFuncMask),c.setOp(Xe.stencilFail,Xe.stencilZFail,Xe.stencilZPass)),Zt(Xe.polygonOffset,Xe.polygonOffsetFactor,Xe.polygonOffsetUnits),!0===Xe.alphaToCoverage?it(32926):We(32926)},setFlipSided:mn,setCullFace:Cn,setLineWidth:function tn(Xe){Xe!==ce&&(we&&e.lineWidth(Xe),ce=Xe)},setPolygonOffset:Zt,setScissorTest:function Rn(Xe){Xe?it(3089):We(3089)},activeTexture:function Jn(Xe){void 0===Xe&&(Xe=33984+Ce-1),Re!==Xe&&(e.activeTexture(Xe),Re=Xe)},bindTexture:function Ee(Xe,Mt,Xt){void 0===Xt&&(Xt=null===Re?33984+Ce-1:Re);let ln=Be[Xt];void 0===ln&&(ln={type:void 0,texture:void 0},Be[Xt]=ln),(ln.type!==Xe||ln.texture!==Mt)&&(Re!==Xt&&(e.activeTexture(Xt),Re=Xt),e.bindTexture(Xe,Mt||ze[Xe]),ln.type=Xe,ln.texture=Mt)},unbindTexture:function be(){let Xe=Be[Re];void 0!==Xe&&void 0!==Xe.type&&(e.bindTexture(Xe.type,null),Xe.type=void 0,Xe.texture=void 0)},compressedTexImage2D:function st(){try{e.compressedTexImage2D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},compressedTexImage3D:function Gt(){try{e.compressedTexImage3D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},texImage2D:function zn(){try{e.texImage2D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},texImage3D:function In(){try{e.texImage3D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},updateUBOMapping:function ar(Xe,Mt){let Xt=d.get(Mt);void 0===Xt&&(Xt=new WeakMap,d.set(Mt,Xt));let ln=Xt.get(Xe);void 0===ln&&(ln=e.getUniformBlockIndex(Mt,Xe.name),Xt.set(Xe,ln))},uniformBlockBinding:function ho(Xe,Mt){let Xt=d.get(Mt).get(Xe);h.get(Mt)!==Xt&&(e.uniformBlockBinding(Mt,Xt,Xe.__bindingPointIndex),h.set(Mt,Xt))},texStorage2D:function Lt(){try{e.texStorage2D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},texStorage3D:function kn(){try{e.texStorage3D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},texSubImage2D:function Rt(){try{e.texSubImage2D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},texSubImage3D:function Jt(){try{e.texSubImage3D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},compressedTexSubImage2D:function Nn(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},compressedTexSubImage3D:function Mn(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}},scissor:function li(Xe){!1===Ve.equals(Xe)&&(e.scissor(Xe.x,Xe.y,Xe.z,Xe.w),Ve.copy(Xe))},viewport:function Kn(Xe){!1===ke.equals(Xe)&&(e.viewport(Xe.x,Xe.y,Xe.z,Xe.w),ke.copy(Xe))},reset:function gs(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},Re=null,Be={},f={},v=new WeakMap,y=[],_=null,w=!1,O=null,S=null,D=null,U=null,Y=null,q=null,K=null,Z=!1,te=null,ie=null,ce=null,de=null,ue=null,Ve.set(0,0,e.canvas.width,e.canvas.height),ke.set(0,0,e.canvas.width,e.canvas.height),a.reset(),l.reset(),c.reset()}}}function vwe(e,t,n,i,r,o,s){let y,a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,u=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap,_=new WeakMap,w=!1;try{w=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function O(Ee,be){return w?new OffscreenCanvas(Ee,be):yC("canvas")}function S(Ee,be,st,Gt){let Rt=1;if((Ee.width>Gt||Ee.height>Gt)&&(Rt=Gt/Math.max(Ee.width,Ee.height)),Rt<1||!0===be){if(typeof HTMLImageElement<"u"&&Ee instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ee instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ee instanceof ImageBitmap){let Jt=be?gC:Math.floor,Nn=Jt(Rt*Ee.width),Mn=Jt(Rt*Ee.height);void 0===y&&(y=O(Nn,Mn));let Lt=st?O(Nn,Mn):y;return Lt.width=Nn,Lt.height=Mn,Lt.getContext("2d").drawImage(Ee,0,0,Nn,Mn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ee.width+"x"+Ee.height+") to ("+Nn+"x"+Mn+")."),Lt}return"data"in Ee&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ee.width+"x"+Ee.height+")."),Ee}return Ee}function D(Ee){return cA(Ee.width)&&cA(Ee.height)}function Y(Ee,be){return Ee.generateMipmaps&&be&&Ee.minFilter!==Zr&&Ee.minFilter!==Ri}function q(Ee){e.generateMipmap(Ee)}function K(Ee,be,st,Gt,Rt=!1){if(!1===a)return be;if(null!==Ee){if(void 0!==e[Ee])return e[Ee];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ee+"'")}let Jt=be;return 6403===be&&(5126===st&&(Jt=33326),5131===st&&(Jt=33325),5121===st&&(Jt=33321)),33319===be&&(5126===st&&(Jt=33328),5131===st&&(Jt=33327),5121===st&&(Jt=33323)),6408===be&&(5126===st&&(Jt=34836),5131===st&&(Jt=34842),5121===st&&(Jt=Gt===wi&&!1===Rt?35907:32856),32819===st&&(Jt=32854),32820===st&&(Jt=32855)),(33325===Jt||33326===Jt||33327===Jt||33328===Jt||34842===Jt||34836===Jt)&&t.get("EXT_color_buffer_float"),Jt}function Z(Ee,be,st){return!0===Y(Ee,st)||Ee.isFramebufferTexture&&Ee.minFilter!==Zr&&Ee.minFilter!==Ri?Math.log2(Math.max(be.width,be.height))+1:void 0!==Ee.mipmaps&&Ee.mipmaps.length>0?Ee.mipmaps.length:Ee.isCompressedTexture&&Array.isArray(Ee.image)?be.mipmaps.length:1}function te(Ee){return Ee===Zr||1004===Ee||1005===Ee?9728:9729}function ie(Ee){let be=Ee.target;be.removeEventListener("dispose",ie),function de(Ee){let be=i.get(Ee);if(void 0===be.__webglInit)return;let st=Ee.source,Gt=_.get(st);if(Gt){let Rt=Gt[be.__cacheKey];Rt.usedTimes--,0===Rt.usedTimes&&ue(Ee),0===Object.keys(Gt).length&&_.delete(st)}i.remove(Ee)}(be),be.isVideoTexture&&v.delete(be)}function ce(Ee){let be=Ee.target;be.removeEventListener("dispose",ce),function Ce(Ee){let be=Ee.texture,st=i.get(Ee),Gt=i.get(be);if(void 0!==Gt.__webglTexture&&(e.deleteTexture(Gt.__webglTexture),s.memory.textures--),Ee.depthTexture&&Ee.depthTexture.dispose(),Ee.isWebGLCubeRenderTarget)for(let Rt=0;Rt<6;Rt++)e.deleteFramebuffer(st.__webglFramebuffer[Rt]),st.__webglDepthbuffer&&e.deleteRenderbuffer(st.__webglDepthbuffer[Rt]);else{if(e.deleteFramebuffer(st.__webglFramebuffer),st.__webglDepthbuffer&&e.deleteRenderbuffer(st.__webglDepthbuffer),st.__webglMultisampledFramebuffer&&e.deleteFramebuffer(st.__webglMultisampledFramebuffer),st.__webglColorRenderbuffer)for(let Rt=0;Rt<st.__webglColorRenderbuffer.length;Rt++)st.__webglColorRenderbuffer[Rt]&&e.deleteRenderbuffer(st.__webglColorRenderbuffer[Rt]);st.__webglDepthRenderbuffer&&e.deleteRenderbuffer(st.__webglDepthRenderbuffer)}if(Ee.isWebGLMultipleRenderTargets)for(let Rt=0,Jt=be.length;Rt<Jt;Rt++){let Nn=i.get(be[Rt]);Nn.__webglTexture&&(e.deleteTexture(Nn.__webglTexture),s.memory.textures--),i.remove(be[Rt])}i.remove(be),i.remove(Ee)}(be)}function ue(Ee){let be=i.get(Ee);e.deleteTexture(be.__webglTexture),delete _.get(Ee.source)[be.__cacheKey],s.memory.textures--}let we=0;function Be(Ee,be){let st=i.get(Ee);if(Ee.isVideoTexture&&function Rn(Ee){let be=s.render.frame;v.get(Ee)!==be&&(v.set(Ee,be),Ee.update())}(Ee),!1===Ee.isRenderTargetTexture&&Ee.version>0&&st.__version!==Ee.version){let Gt=Ee.image;if(null===Gt)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Gt.complete)return void We(st,Ee,be);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,st.__webglTexture,33984+be)}let ke={[lu]:10497,[Xo]:33071,1002:33648},He={[Zr]:9728,1004:9984,1005:9986,[Ri]:9729,1007:9985,[D0]:9987};function ze(Ee,be,st){if(st?(e.texParameteri(Ee,10242,ke[be.wrapS]),e.texParameteri(Ee,10243,ke[be.wrapT]),(32879===Ee||35866===Ee)&&e.texParameteri(Ee,32882,ke[be.wrapR]),e.texParameteri(Ee,10240,He[be.magFilter]),e.texParameteri(Ee,10241,He[be.minFilter])):(e.texParameteri(Ee,10242,33071),e.texParameteri(Ee,10243,33071),(32879===Ee||35866===Ee)&&e.texParameteri(Ee,32882,33071),(be.wrapS!==Xo||be.wrapT!==Xo)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(Ee,10240,te(be.magFilter)),e.texParameteri(Ee,10241,te(be.minFilter)),be.minFilter!==Zr&&be.minFilter!==Ri&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){let Gt=t.get("EXT_texture_filter_anisotropic");if(be.magFilter===Zr||1005!==be.minFilter&&be.minFilter!==D0||be.type===ja&&!1===t.has("OES_texture_float_linear")||!1===a&&be.type===vm&&!1===t.has("OES_texture_half_float_linear"))return;(be.anisotropy>1||i.get(be).__currentAnisotropy)&&(e.texParameterf(Ee,Gt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(be.anisotropy,r.getMaxAnisotropy())),i.get(be).__currentAnisotropy=be.anisotropy)}}function it(Ee,be){let st=!1;void 0===Ee.__webglInit&&(Ee.__webglInit=!0,be.addEventListener("dispose",ie));let Gt=be.source,Rt=_.get(Gt);void 0===Rt&&(Rt={},_.set(Gt,Rt));let Jt=function Re(Ee){let be=[];return be.push(Ee.wrapS),be.push(Ee.wrapT),be.push(Ee.wrapR||0),be.push(Ee.magFilter),be.push(Ee.minFilter),be.push(Ee.anisotropy),be.push(Ee.internalFormat),be.push(Ee.format),be.push(Ee.type),be.push(Ee.generateMipmaps),be.push(Ee.premultiplyAlpha),be.push(Ee.flipY),be.push(Ee.unpackAlignment),be.push(Ee.encoding),be.join()}(be);if(Jt!==Ee.__cacheKey){void 0===Rt[Jt]&&(Rt[Jt]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,st=!0),Rt[Jt].usedTimes++;let Nn=Rt[Ee.__cacheKey];void 0!==Nn&&(Rt[Ee.__cacheKey].usedTimes--,0===Nn.usedTimes&&ue(be)),Ee.__cacheKey=Jt,Ee.__webglTexture=Rt[Jt].texture}return st}function We(Ee,be,st){let Gt=3553;(be.isDataArrayTexture||be.isCompressedArrayTexture)&&(Gt=35866),be.isData3DTexture&&(Gt=32879);let Rt=it(Ee,be),Jt=be.source;n.bindTexture(Gt,Ee.__webglTexture,33984+st);let Nn=i.get(Jt);if(Jt.version!==Nn.__version||!0===Rt){n.activeTexture(33984+st),e.pixelStorei(37440,be.flipY),e.pixelStorei(37441,be.premultiplyAlpha),e.pixelStorei(3317,be.unpackAlignment),e.pixelStorei(37443,0);let Mn=function U(Ee){return!a&&(Ee.wrapS!==Xo||Ee.wrapT!==Xo||Ee.minFilter!==Zr&&Ee.minFilter!==Ri)}(be)&&!1===D(be.image),Lt=S(be.image,Mn,!1,h);Lt=Jn(be,Lt);let kn=D(Lt)||a,zn=o.convert(be.format,be.encoding),In=o.convert(be.type),li=K(be.internalFormat,zn,In,be.encoding,be.isVideoTexture);ze(Gt,be,kn);let Kn,ar=be.mipmaps,ho=a&&!0!==be.isVideoTexture,gs=void 0===Nn.__version||!0===Rt,Xe=Z(be,Lt,kn);if(be.isDepthTexture)li=6402,a?li=be.type===ja?36012:be.type===cu?33190:be.type===ym?35056:33189:be.type===ja&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),be.format===_m&&6402===li&&1012!==be.type&&be.type!==cu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),be.type=cu,In=o.convert(be.type)),be.format===bm&&6402===li&&(li=34041,be.type!==ym&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),be.type=ym,In=o.convert(be.type))),gs&&(ho?n.texStorage2D(3553,1,li,Lt.width,Lt.height):n.texImage2D(3553,0,li,Lt.width,Lt.height,0,zn,In,null));else if(be.isDataTexture)if(ar.length>0&&kn){ho&&gs&&n.texStorage2D(3553,Xe,li,ar[0].width,ar[0].height);for(let Mt=0,Xt=ar.length;Mt<Xt;Mt++)Kn=ar[Mt],ho?n.texSubImage2D(3553,Mt,0,0,Kn.width,Kn.height,zn,In,Kn.data):n.texImage2D(3553,Mt,li,Kn.width,Kn.height,0,zn,In,Kn.data);be.generateMipmaps=!1}else ho?(gs&&n.texStorage2D(3553,Xe,li,Lt.width,Lt.height),n.texSubImage2D(3553,0,0,0,Lt.width,Lt.height,zn,In,Lt.data)):n.texImage2D(3553,0,li,Lt.width,Lt.height,0,zn,In,Lt.data);else if(be.isCompressedTexture)if(be.isCompressedArrayTexture){ho&&gs&&n.texStorage3D(35866,Xe,li,ar[0].width,ar[0].height,Lt.depth);for(let Mt=0,Xt=ar.length;Mt<Xt;Mt++)Kn=ar[Mt],be.format!==Xl?null!==zn?ho?n.compressedTexSubImage3D(35866,Mt,0,0,0,Kn.width,Kn.height,Lt.depth,zn,Kn.data,0,0):n.compressedTexImage3D(35866,Mt,li,Kn.width,Kn.height,Lt.depth,0,Kn.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ho?n.texSubImage3D(35866,Mt,0,0,0,Kn.width,Kn.height,Lt.depth,zn,In,Kn.data):n.texImage3D(35866,Mt,li,Kn.width,Kn.height,Lt.depth,0,zn,In,Kn.data)}else{ho&&gs&&n.texStorage2D(3553,Xe,li,ar[0].width,ar[0].height);for(let Mt=0,Xt=ar.length;Mt<Xt;Mt++)Kn=ar[Mt],be.format!==Xl?null!==zn?ho?n.compressedTexSubImage2D(3553,Mt,0,0,Kn.width,Kn.height,zn,Kn.data):n.compressedTexImage2D(3553,Mt,li,Kn.width,Kn.height,0,Kn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ho?n.texSubImage2D(3553,Mt,0,0,Kn.width,Kn.height,zn,In,Kn.data):n.texImage2D(3553,Mt,li,Kn.width,Kn.height,0,zn,In,Kn.data)}else if(be.isDataArrayTexture)ho?(gs&&n.texStorage3D(35866,Xe,li,Lt.width,Lt.height,Lt.depth),n.texSubImage3D(35866,0,0,0,0,Lt.width,Lt.height,Lt.depth,zn,In,Lt.data)):n.texImage3D(35866,0,li,Lt.width,Lt.height,Lt.depth,0,zn,In,Lt.data);else if(be.isData3DTexture)ho?(gs&&n.texStorage3D(32879,Xe,li,Lt.width,Lt.height,Lt.depth),n.texSubImage3D(32879,0,0,0,0,Lt.width,Lt.height,Lt.depth,zn,In,Lt.data)):n.texImage3D(32879,0,li,Lt.width,Lt.height,Lt.depth,0,zn,In,Lt.data);else if(be.isFramebufferTexture){if(gs)if(ho)n.texStorage2D(3553,Xe,li,Lt.width,Lt.height);else{let Mt=Lt.width,Xt=Lt.height;for(let ln=0;ln<Xe;ln++)n.texImage2D(3553,ln,li,Mt,Xt,0,zn,In,null),Mt>>=1,Xt>>=1}}else if(ar.length>0&&kn){ho&&gs&&n.texStorage2D(3553,Xe,li,ar[0].width,ar[0].height);for(let Mt=0,Xt=ar.length;Mt<Xt;Mt++)Kn=ar[Mt],ho?n.texSubImage2D(3553,Mt,0,0,zn,In,Kn):n.texImage2D(3553,Mt,li,zn,In,Kn);be.generateMipmaps=!1}else ho?(gs&&n.texStorage2D(3553,Xe,li,Lt.width,Lt.height),n.texSubImage2D(3553,0,0,0,zn,In,Lt)):n.texImage2D(3553,0,li,zn,In,Lt);Y(be,kn)&&q(Gt),Nn.__version=Jt.version,be.onUpdate&&be.onUpdate(be)}Ee.__version=be.version}function Ke(Ee,be,st,Gt,Rt){let Jt=o.convert(st.format,st.encoding),Nn=o.convert(st.type),Mn=K(st.internalFormat,Jt,Nn,st.encoding);i.get(be).__hasExternalTextures||(32879===Rt||35866===Rt?n.texImage3D(Rt,0,Mn,be.width,be.height,be.depth,0,Jt,Nn,null):n.texImage2D(Rt,0,Mn,be.width,be.height,0,Jt,Nn,null)),n.bindFramebuffer(36160,Ee),Zt(be)?u.framebufferTexture2DMultisampleEXT(36160,Gt,Rt,i.get(st).__webglTexture,0,tn(be)):(3553===Rt||Rt>=34069&&Rt<=34074)&&e.framebufferTexture2D(36160,Gt,Rt,i.get(st).__webglTexture,0),n.bindFramebuffer(36160,null)}function Nt(Ee,be,st){if(e.bindRenderbuffer(36161,Ee),be.depthBuffer&&!be.stencilBuffer){let Gt=33189;if(st||Zt(be)){let Rt=be.depthTexture;Rt&&Rt.isDepthTexture&&(Rt.type===ja?Gt=36012:Rt.type===cu&&(Gt=33190));let Jt=tn(be);Zt(be)?u.renderbufferStorageMultisampleEXT(36161,Jt,Gt,be.width,be.height):e.renderbufferStorageMultisample(36161,Jt,Gt,be.width,be.height)}else e.renderbufferStorage(36161,Gt,be.width,be.height);e.framebufferRenderbuffer(36160,36096,36161,Ee)}else if(be.depthBuffer&&be.stencilBuffer){let Gt=tn(be);st&&!1===Zt(be)?e.renderbufferStorageMultisample(36161,Gt,35056,be.width,be.height):Zt(be)?u.renderbufferStorageMultisampleEXT(36161,Gt,35056,be.width,be.height):e.renderbufferStorage(36161,34041,be.width,be.height),e.framebufferRenderbuffer(36160,33306,36161,Ee)}else{let Gt=!0===be.isWebGLMultipleRenderTargets?be.texture:[be.texture];for(let Rt=0;Rt<Gt.length;Rt++){let Jt=Gt[Rt],Nn=o.convert(Jt.format,Jt.encoding),Mn=o.convert(Jt.type),Lt=K(Jt.internalFormat,Nn,Mn,Jt.encoding),kn=tn(be);st&&!1===Zt(be)?e.renderbufferStorageMultisample(36161,kn,Lt,be.width,be.height):Zt(be)?u.renderbufferStorageMultisampleEXT(36161,kn,Lt,be.width,be.height):e.renderbufferStorage(36161,Lt,be.width,be.height)}}e.bindRenderbuffer(36161,null)}function bt(Ee){let be=i.get(Ee),st=!0===Ee.isWebGLCubeRenderTarget;if(Ee.depthTexture&&!be.__autoAllocateDepthBuffer){if(st)throw new Error("target.depthTexture not supported in Cube render targets");!function Pt(Ee,be){if(be&&be.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Ee),!be.depthTexture||!be.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(be.depthTexture).__webglTexture||be.depthTexture.image.width!==be.width||be.depthTexture.image.height!==be.height)&&(be.depthTexture.image.width=be.width,be.depthTexture.image.height=be.height,be.depthTexture.needsUpdate=!0),Be(be.depthTexture,0);let st=i.get(be.depthTexture).__webglTexture,Gt=tn(be);if(be.depthTexture.format===_m)Zt(be)?u.framebufferTexture2DMultisampleEXT(36160,36096,3553,st,0,Gt):e.framebufferTexture2D(36160,36096,3553,st,0);else{if(be.depthTexture.format!==bm)throw new Error("Unknown depthTexture format");Zt(be)?u.framebufferTexture2DMultisampleEXT(36160,33306,3553,st,0,Gt):e.framebufferTexture2D(36160,33306,3553,st,0)}}(be.__webglFramebuffer,Ee)}else if(st){be.__webglDepthbuffer=[];for(let Gt=0;Gt<6;Gt++)n.bindFramebuffer(36160,be.__webglFramebuffer[Gt]),be.__webglDepthbuffer[Gt]=e.createRenderbuffer(),Nt(be.__webglDepthbuffer[Gt],Ee,!1)}else n.bindFramebuffer(36160,be.__webglFramebuffer),be.__webglDepthbuffer=e.createRenderbuffer(),Nt(be.__webglDepthbuffer,Ee,!1);n.bindFramebuffer(36160,null)}function tn(Ee){return Math.min(d,Ee.samples)}function Zt(Ee){let be=i.get(Ee);return a&&Ee.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==be.__useRenderToTexture}function Jn(Ee,be){let st=Ee.encoding,Gt=Ee.format,Rt=Ee.type;return!0===Ee.isCompressedTexture||!0===Ee.isVideoTexture||1035===Ee.format||st!==nh&&(st===wi?!1===a?!0===t.has("EXT_sRGB")&&Gt===Xl?(Ee.format=1035,Ee.minFilter=Ri,Ee.generateMipmaps=!1):be=vU.sRGBToLinear(be):(Gt!==Xl||Rt!==ya)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",st)),be}this.allocateTextureUnit=function ye(){let Ee=we;return Ee>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Ee+" texture units while this GPU supports only "+l),we+=1,Ee},this.resetTextureUnits=function _e(){we=0},this.setTexture2D=Be,this.setTexture2DArray=function Ie(Ee,be){let st=i.get(Ee);Ee.version>0&&st.__version!==Ee.version?We(st,Ee,be):n.bindTexture(35866,st.__webglTexture,33984+be)},this.setTexture3D=function De(Ee,be){let st=i.get(Ee);Ee.version>0&&st.__version!==Ee.version?We(st,Ee,be):n.bindTexture(32879,st.__webglTexture,33984+be)},this.setTextureCube=function Ve(Ee,be){let st=i.get(Ee);Ee.version>0&&st.__version!==Ee.version?function ut(Ee,be,st){if(6!==be.image.length)return;let Gt=it(Ee,be),Rt=be.source;n.bindTexture(34067,Ee.__webglTexture,33984+st);let Jt=i.get(Rt);if(Rt.version!==Jt.__version||!0===Gt){n.activeTexture(33984+st),e.pixelStorei(37440,be.flipY),e.pixelStorei(37441,be.premultiplyAlpha),e.pixelStorei(3317,be.unpackAlignment),e.pixelStorei(37443,0);let Nn=be.isCompressedTexture||be.image[0].isCompressedTexture,Mn=be.image[0]&&be.image[0].isDataTexture,Lt=[];for(let Mt=0;Mt<6;Mt++)Lt[Mt]=Nn||Mn?Mn?be.image[Mt].image:be.image[Mt]:S(be.image[Mt],!1,!0,c),Lt[Mt]=Jn(be,Lt[Mt]);let Xe,kn=Lt[0],zn=D(kn)||a,In=o.convert(be.format,be.encoding),li=o.convert(be.type),Kn=K(be.internalFormat,In,li,be.encoding),ar=a&&!0!==be.isVideoTexture,ho=void 0===Jt.__version||!0===Gt,gs=Z(be,kn,zn);if(ze(34067,be,zn),Nn){ar&&ho&&n.texStorage2D(34067,gs,Kn,kn.width,kn.height);for(let Mt=0;Mt<6;Mt++){Xe=Lt[Mt].mipmaps;for(let Xt=0;Xt<Xe.length;Xt++){let ln=Xe[Xt];be.format!==Xl?null!==In?ar?n.compressedTexSubImage2D(34069+Mt,Xt,0,0,ln.width,ln.height,In,ln.data):n.compressedTexImage2D(34069+Mt,Xt,Kn,ln.width,ln.height,0,ln.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ar?n.texSubImage2D(34069+Mt,Xt,0,0,ln.width,ln.height,In,li,ln.data):n.texImage2D(34069+Mt,Xt,Kn,ln.width,ln.height,0,In,li,ln.data)}}}else{Xe=be.mipmaps,ar&&ho&&(Xe.length>0&&gs++,n.texStorage2D(34067,gs,Kn,Lt[0].width,Lt[0].height));for(let Mt=0;Mt<6;Mt++)if(Mn){ar?n.texSubImage2D(34069+Mt,0,0,0,Lt[Mt].width,Lt[Mt].height,In,li,Lt[Mt].data):n.texImage2D(34069+Mt,0,Kn,Lt[Mt].width,Lt[Mt].height,0,In,li,Lt[Mt].data);for(let Xt=0;Xt<Xe.length;Xt++){let ln=Xe[Xt].image[Mt].image;ar?n.texSubImage2D(34069+Mt,Xt+1,0,0,ln.width,ln.height,In,li,ln.data):n.texImage2D(34069+Mt,Xt+1,Kn,ln.width,ln.height,0,In,li,ln.data)}}else{ar?n.texSubImage2D(34069+Mt,0,0,0,In,li,Lt[Mt]):n.texImage2D(34069+Mt,0,Kn,In,li,Lt[Mt]);for(let Xt=0;Xt<Xe.length;Xt++){let ln=Xe[Xt];ar?n.texSubImage2D(34069+Mt,Xt+1,0,0,In,li,ln.image[Mt]):n.texImage2D(34069+Mt,Xt+1,Kn,In,li,ln.image[Mt])}}}Y(be,zn)&&q(34067),Jt.__version=Rt.version,be.onUpdate&&be.onUpdate(be)}Ee.__version=be.version}(st,Ee,be):n.bindTexture(34067,st.__webglTexture,33984+be)},this.rebindTextures=function hn(Ee,be,st){let Gt=i.get(Ee);void 0!==be&&Ke(Gt.__webglFramebuffer,Ee,Ee.texture,36064,3553),void 0!==st&&bt(Ee)},this.setupRenderTarget=function dn(Ee){let be=Ee.texture,st=i.get(Ee),Gt=i.get(be);Ee.addEventListener("dispose",ce),!0!==Ee.isWebGLMultipleRenderTargets&&(void 0===Gt.__webglTexture&&(Gt.__webglTexture=e.createTexture()),Gt.__version=be.version,s.memory.textures++);let Rt=!0===Ee.isWebGLCubeRenderTarget,Jt=!0===Ee.isWebGLMultipleRenderTargets,Nn=D(Ee)||a;if(Rt){st.__webglFramebuffer=[];for(let Mn=0;Mn<6;Mn++)st.__webglFramebuffer[Mn]=e.createFramebuffer()}else{if(st.__webglFramebuffer=e.createFramebuffer(),Jt)if(r.drawBuffers){let Mn=Ee.texture;for(let Lt=0,kn=Mn.length;Lt<kn;Lt++){let zn=i.get(Mn[Lt]);void 0===zn.__webglTexture&&(zn.__webglTexture=e.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Ee.samples>0&&!1===Zt(Ee)){let Mn=Jt?be:[be];st.__webglMultisampledFramebuffer=e.createFramebuffer(),st.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,st.__webglMultisampledFramebuffer);for(let Lt=0;Lt<Mn.length;Lt++){let kn=Mn[Lt];st.__webglColorRenderbuffer[Lt]=e.createRenderbuffer(),e.bindRenderbuffer(36161,st.__webglColorRenderbuffer[Lt]);let zn=o.convert(kn.format,kn.encoding),In=o.convert(kn.type),li=K(kn.internalFormat,zn,In,kn.encoding,!0===Ee.isXRRenderTarget),Kn=tn(Ee);e.renderbufferStorageMultisample(36161,Kn,li,Ee.width,Ee.height),e.framebufferRenderbuffer(36160,36064+Lt,36161,st.__webglColorRenderbuffer[Lt])}e.bindRenderbuffer(36161,null),Ee.depthBuffer&&(st.__webglDepthRenderbuffer=e.createRenderbuffer(),Nt(st.__webglDepthRenderbuffer,Ee,!0)),n.bindFramebuffer(36160,null)}}if(Rt){n.bindTexture(34067,Gt.__webglTexture),ze(34067,be,Nn);for(let Mn=0;Mn<6;Mn++)Ke(st.__webglFramebuffer[Mn],Ee,be,36064,34069+Mn);Y(be,Nn)&&q(34067),n.unbindTexture()}else if(Jt){let Mn=Ee.texture;for(let Lt=0,kn=Mn.length;Lt<kn;Lt++){let zn=Mn[Lt],In=i.get(zn);n.bindTexture(3553,In.__webglTexture),ze(3553,zn,Nn),Ke(st.__webglFramebuffer,Ee,zn,36064+Lt,3553),Y(zn,Nn)&&q(3553)}n.unbindTexture()}else{let Mn=3553;(Ee.isWebGL3DRenderTarget||Ee.isWebGLArrayRenderTarget)&&(a?Mn=Ee.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Mn,Gt.__webglTexture),ze(Mn,be,Nn),Ke(st.__webglFramebuffer,Ee,be,36064,Mn),Y(be,Nn)&&q(Mn),n.unbindTexture()}Ee.depthBuffer&&bt(Ee)},this.updateRenderTargetMipmap=function mn(Ee){let be=D(Ee)||a,st=!0===Ee.isWebGLMultipleRenderTargets?Ee.texture:[Ee.texture];for(let Gt=0,Rt=st.length;Gt<Rt;Gt++){let Jt=st[Gt];if(Y(Jt,be)){let Nn=Ee.isWebGLCubeRenderTarget?34067:3553,Mn=i.get(Jt).__webglTexture;n.bindTexture(Nn,Mn),q(Nn),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function Cn(Ee){if(a&&Ee.samples>0&&!1===Zt(Ee)){let be=Ee.isWebGLMultipleRenderTargets?Ee.texture:[Ee.texture],st=Ee.width,Gt=Ee.height,Rt=16384,Jt=[],Nn=Ee.stencilBuffer?33306:36096,Mn=i.get(Ee),Lt=!0===Ee.isWebGLMultipleRenderTargets;if(Lt)for(let kn=0;kn<be.length;kn++)n.bindFramebuffer(36160,Mn.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+kn,36161,null),n.bindFramebuffer(36160,Mn.__webglFramebuffer),e.framebufferTexture2D(36009,36064+kn,3553,null,0);n.bindFramebuffer(36008,Mn.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Mn.__webglFramebuffer);for(let kn=0;kn<be.length;kn++){Jt.push(36064+kn),Ee.depthBuffer&&Jt.push(Nn);let zn=void 0!==Mn.__ignoreDepthValues&&Mn.__ignoreDepthValues;if(!1===zn&&(Ee.depthBuffer&&(Rt|=256),Ee.stencilBuffer&&(Rt|=1024)),Lt&&e.framebufferRenderbuffer(36008,36064,36161,Mn.__webglColorRenderbuffer[kn]),!0===zn&&(e.invalidateFramebuffer(36008,[Nn]),e.invalidateFramebuffer(36009,[Nn])),Lt){let In=i.get(be[kn]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,In,0)}e.blitFramebuffer(0,0,st,Gt,0,0,st,Gt,Rt,9728),f&&e.invalidateFramebuffer(36008,Jt)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),Lt)for(let kn=0;kn<be.length;kn++){n.bindFramebuffer(36160,Mn.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+kn,36161,Mn.__webglColorRenderbuffer[kn]);let zn=i.get(be[kn]).__webglTexture;n.bindFramebuffer(36160,Mn.__webglFramebuffer),e.framebufferTexture2D(36009,36064+kn,3553,zn,0)}n.bindFramebuffer(36009,Mn.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=bt,this.setupFrameBufferTexture=Ke,this.useMultisampledRTT=Zt}function ywe(e,t,n){let i=n.isWebGL2;return{convert:function r(o,s=null){let a;if(o===ya)return 5121;if(1017===o)return 32819;if(1018===o)return 32820;if(1010===o)return 5120;if(1011===o)return 5122;if(1012===o)return 5123;if(1013===o)return 5124;if(o===cu)return 5125;if(o===ja)return 5126;if(o===vm)return i?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===o)return 6406;if(o===Xl)return 6408;if(1024===o)return 6409;if(1025===o)return 6410;if(o===_m)return 6402;if(o===bm)return 34041;if(1035===o)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===o)return 6403;if(1029===o)return 36244;if(1030===o)return 33319;if(1031===o)return 33320;if(1033===o)return 36249;if(33776===o||33777===o||33778===o||33779===o)if(s===wi){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===o)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===o)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===o||35841===o||35842===o||35843===o){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===o)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===o)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===o)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===o)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===o)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===o||37496===o){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===o)return s===wi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===o||37809===o||37810===o||37811===o||37812===o||37813===o||37814===o||37815===o||37816===o||37817===o||37818===o||37819===o||37820===o||37821===o){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===o)return s===wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===o){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===o)return s===wi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===o||36284===o||36285===o||36286===o){if(a=t.get("EXT_texture_compression_rgtc"),null===a)return null;if(36492===o)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===o)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===o)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===o)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return o===ym?i?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[o]?e[o]:null}}}var _we=class extends xa{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},J0=class extends Tr{constructor(){super(),this.isGroup=!0,this.type="Group"}},bwe={type:"move"},zA=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new J0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new J0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new J0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,o=null,s=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(let v of e.hand.values()){let y=t.getJointPose(v,n),_=this._getHandJoint(l,v);null!==y&&(_.matrix.fromArray(y.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=y.radius),_.visible=null!==y}let d=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),u=.02,f=.005;l.inputState.pinching&&d>u+f?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&d<=u-f&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(bwe)))}return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){let n=new J0;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}},ev=class extends Ds{constructor(e,t,n,i,r,o,s,a,l,c){if((c=void 0!==c?c:_m)!==_m&&c!==bm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===_m&&(n=cu),void 0===n&&c===bm&&(n=ym),super(null,i,r,o,s,a,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==s?s:Zr,this.minFilter=void 0!==a?a:Zr,this.flipY=!1,this.generateMipmaps=!1}},xwe=class extends ta{constructor(e,t){super();let n=this,i=null,r=1,o=null,s="local-floor",a=1,l=null,c=null,h=null,d=null,u=null,f=null,v=t.getContextAttributes(),y=null,_=null,w=[],O=[],S=new Set,D=new Map,U=new xa;U.layers.enable(1),U.viewport=new Ci;let Y=new xa;Y.layers.enable(2),Y.viewport=new Ci;let q=[U,Y],K=new _we;K.layers.enable(1),K.layers.enable(2);let Z=null,te=null;function ie(Ie){let De=O.indexOf(Ie.inputSource);if(-1===De)return;let Ve=w[De];void 0!==Ve&&Ve.dispatchEvent({type:Ie.type,data:Ie.inputSource})}function ce(){i.removeEventListener("select",ie),i.removeEventListener("selectstart",ie),i.removeEventListener("selectend",ie),i.removeEventListener("squeeze",ie),i.removeEventListener("squeezestart",ie),i.removeEventListener("squeezeend",ie),i.removeEventListener("end",ce),i.removeEventListener("inputsourceschange",de);for(let Ie=0;Ie<w.length;Ie++){let De=O[Ie];null!==De&&(O[Ie]=null,w[Ie].disconnect(De))}Z=null,te=null,e.setRenderTarget(y),u=null,d=null,h=null,i=null,_=null,Be.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function de(Ie){for(let De=0;De<Ie.removed.length;De++){let Ve=Ie.removed[De],ke=O.indexOf(Ve);ke>=0&&(O[ke]=null,w[ke].disconnect(Ve))}for(let De=0;De<Ie.added.length;De++){let Ve=Ie.added[De],ke=O.indexOf(Ve);if(-1===ke){for(let ze=0;ze<w.length;ze++){if(ze>=O.length){O.push(Ve),ke=ze;break}if(null===O[ze]){O[ze]=Ve,ke=ze;break}}if(-1===ke)break}let He=w[ke];He&&He.connect(Ve)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ie){let De=w[Ie];return void 0===De&&(De=new zA,w[Ie]=De),De.getTargetRaySpace()},this.getControllerGrip=function(Ie){let De=w[Ie];return void 0===De&&(De=new zA,w[Ie]=De),De.getGripSpace()},this.getHand=function(Ie){let De=w[Ie];return void 0===De&&(De=new zA,w[Ie]=De),De.getHandSpace()},this.setFramebufferScaleFactor=function(Ie){r=Ie,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ie){s=Ie,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(Ie){l=Ie},this.getBaseLayer=function(){return null!==d?d:u},this.getBinding=function(){return h},this.getFrame=function(){return f},this.getSession=function(){return i},this.setSession=function(){var Ie=(0,Yo.Z)(function*(De){if(i=De,null!==i){if(y=e.getRenderTarget(),i.addEventListener("select",ie),i.addEventListener("selectstart",ie),i.addEventListener("selectend",ie),i.addEventListener("squeeze",ie),i.addEventListener("squeezestart",ie),i.addEventListener("squeezeend",ie),i.addEventListener("end",ce),i.addEventListener("inputsourceschange",de),!0!==v.xrCompatible&&(yield t.makeXRCompatible()),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2)u=new XRWebGLLayer(i,t,{antialias:void 0!==i.renderState.layers||v.antialias,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:r}),i.updateRenderState({baseLayer:u}),_=new Ar(u.framebufferWidth,u.framebufferHeight,{format:Xl,type:ya,encoding:e.outputEncoding,stencilBuffer:v.stencil});else{let Ve=null,ke=null,He=null;v.depth&&(He=v.stencil?35056:33190,Ve=v.stencil?bm:_m,ke=v.stencil?ym:cu);let ze={colorFormat:32856,depthFormat:He,scaleFactor:r};h=new XRWebGLBinding(i,t),d=h.createProjectionLayer(ze),i.updateRenderState({layers:[d]}),_=new Ar(d.textureWidth,d.textureHeight,{format:Xl,type:ya,depthTexture:new ev(d.textureWidth,d.textureHeight,ke,void 0,void 0,void 0,void 0,void 0,void 0,Ve),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0}),e.properties.get(_).__ignoreDepthValues=d.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=yield i.requestReferenceSpace(s),Be.setContext(i),Be.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(De){return Ie.apply(this,arguments)}}();let ue=new ne,Ce=new ne;function _e(Ie,De){null===De?Ie.matrixWorld.copy(Ie.matrix):Ie.matrixWorld.multiplyMatrices(De.matrixWorld,Ie.matrix),Ie.matrixWorldInverse.copy(Ie.matrixWorld).invert()}this.updateCamera=function(Ie){if(null===i)return;K.near=Y.near=U.near=Ie.near,K.far=Y.far=U.far=Ie.far,(Z!==K.near||te!==K.far)&&(i.updateRenderState({depthNear:K.near,depthFar:K.far}),Z=K.near,te=K.far);let De=Ie.parent,Ve=K.cameras;_e(K,De);for(let He=0;He<Ve.length;He++)_e(Ve[He],De);K.matrixWorld.decompose(K.position,K.quaternion,K.scale),Ie.matrix.copy(K.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale);let ke=Ie.children;for(let He=0,ze=ke.length;He<ze;He++)ke[He].updateMatrixWorld(!0);2===Ve.length?function we(Ie,De,Ve){ue.setFromMatrixPosition(De.matrixWorld),Ce.setFromMatrixPosition(Ve.matrixWorld);let ke=ue.distanceTo(Ce),He=De.projectionMatrix.elements,ze=Ve.projectionMatrix.elements,it=He[14]/(He[10]-1),We=He[14]/(He[10]+1),ut=(He[9]+1)/He[5],Ke=(He[9]-1)/He[5],Nt=(He[8]-1)/He[0],Pt=(ze[8]+1)/ze[0],bt=it*Nt,hn=it*Pt,dn=ke/(-Nt+Pt),mn=dn*-Nt;De.matrixWorld.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.translateX(mn),Ie.translateZ(dn),Ie.matrixWorld.compose(Ie.position,Ie.quaternion,Ie.scale),Ie.matrixWorldInverse.copy(Ie.matrixWorld).invert();let Cn=it+dn,tn=We+dn;Ie.projectionMatrix.makePerspective(bt-mn,hn+(ke-mn),ut*We/tn*Cn,Ke*We/tn*Cn,Cn,tn)}(K,U,Y):K.projectionMatrix.copy(U.projectionMatrix)},this.getCamera=function(){return K},this.getFoveation=function(){if(null!==d||null!==u)return a},this.setFoveation=function(Ie){a=Ie,null!==d&&(d.fixedFoveation=Ie),null!==u&&void 0!==u.fixedFoveation&&(u.fixedFoveation=Ie)},this.getPlanes=function(){return S};let ye=null,Be=new kU;Be.setAnimationLoop(function Re(Ie,De){if(c=De.getViewerPose(l||o),f=De,null!==c){let Ve=c.views;null!==u&&(e.setRenderTargetFramebuffer(_,u.framebuffer),e.setRenderTarget(_));let ke=!1;Ve.length!==K.cameras.length&&(K.cameras.length=0,ke=!0);for(let He=0;He<Ve.length;He++){let ze=Ve[He],it=null;if(null!==u)it=u.getViewport(ze);else{let ut=h.getViewSubImage(d,ze);it=ut.viewport,0===He&&(e.setRenderTargetTextures(_,ut.colorTexture,d.ignoreDepthValues?void 0:ut.depthStencilTexture),e.setRenderTarget(_))}let We=q[He];void 0===We&&(We=new xa,We.layers.enable(He),We.viewport=new Ci,q[He]=We),We.matrix.fromArray(ze.transform.matrix),We.projectionMatrix.fromArray(ze.projectionMatrix),We.viewport.set(it.x,it.y,it.width,it.height),0===He&&K.matrix.copy(We.matrix),!0===ke&&K.cameras.push(We)}}for(let Ve=0;Ve<w.length;Ve++){let ke=O[Ve],He=w[Ve];null!==ke&&void 0!==He&&He.update(ke,De,l||o)}if(ye&&ye(Ie,De),De.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:De.detectedPlanes});let Ve=null;for(let ke of S)De.detectedPlanes.has(ke)||(null===Ve&&(Ve=[]),Ve.push(ke));if(null!==Ve)for(let ke of Ve)S.delete(ke),D.delete(ke),n.dispatchEvent({type:"planeremoved",data:ke});for(let ke of De.detectedPlanes)if(S.has(ke)){let He=D.get(ke);ke.lastChangedTime>He&&(D.set(ke,ke.lastChangedTime),n.dispatchEvent({type:"planechanged",data:ke}))}else S.add(ke),D.set(ke,De.lastChangedTime),n.dispatchEvent({type:"planeadded",data:ke})}f=null}),this.setAnimationLoop=function(Ie){ye=Ie},this.dispose=function(){}}};function wwe(e,t){function r(y,_){y.opacity.value=_.opacity,_.color&&y.diffuse.value.copy(_.color),_.emissive&&y.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.bumpMap&&(y.bumpMap.value=_.bumpMap,y.bumpScale.value=_.bumpScale,1===_.side&&(y.bumpScale.value*=-1)),_.displacementMap&&(y.displacementMap.value=_.displacementMap,y.displacementScale.value=_.displacementScale,y.displacementBias.value=_.displacementBias),_.emissiveMap&&(y.emissiveMap.value=_.emissiveMap),_.normalMap&&(y.normalMap.value=_.normalMap,y.normalScale.value.copy(_.normalScale),1===_.side&&y.normalScale.value.negate()),_.specularMap&&(y.specularMap.value=_.specularMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);let O,S,w=t.get(_).envMap;if(w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,y.reflectivity.value=_.reflectivity,y.ior.value=_.ior,y.refractionRatio.value=_.refractionRatio),_.lightMap){y.lightMap.value=_.lightMap;let D=!0!==e.physicallyCorrectLights?Math.PI:1;y.lightMapIntensity.value=_.lightMapIntensity*D}_.aoMap&&(y.aoMap.value=_.aoMap,y.aoMapIntensity.value=_.aoMapIntensity),_.map?O=_.map:_.specularMap?O=_.specularMap:_.displacementMap?O=_.displacementMap:_.normalMap?O=_.normalMap:_.bumpMap?O=_.bumpMap:_.roughnessMap?O=_.roughnessMap:_.metalnessMap?O=_.metalnessMap:_.alphaMap?O=_.alphaMap:_.emissiveMap?O=_.emissiveMap:_.clearcoatMap?O=_.clearcoatMap:_.clearcoatNormalMap?O=_.clearcoatNormalMap:_.clearcoatRoughnessMap?O=_.clearcoatRoughnessMap:_.iridescenceMap?O=_.iridescenceMap:_.iridescenceThicknessMap?O=_.iridescenceThicknessMap:_.specularIntensityMap?O=_.specularIntensityMap:_.specularColorMap?O=_.specularColorMap:_.transmissionMap?O=_.transmissionMap:_.thicknessMap?O=_.thicknessMap:_.sheenColorMap?O=_.sheenColorMap:_.sheenRoughnessMap&&(O=_.sheenRoughnessMap),void 0!==O&&(O.isWebGLRenderTarget&&(O=O.texture),!0===O.matrixAutoUpdate&&O.updateMatrix(),y.uvTransform.value.copy(O.matrix)),_.aoMap?S=_.aoMap:_.lightMap&&(S=_.lightMap),void 0!==S&&(S.isWebGLRenderTarget&&(S=S.texture),!0===S.matrixAutoUpdate&&S.updateMatrix(),y.uv2Transform.value.copy(S.matrix))}return{refreshFogUniforms:function n(y,_){_.color.getRGB(y.fogColor.value,TU(e)),_.isFog?(y.fogNear.value=_.near,y.fogFar.value=_.far):_.isFogExp2&&(y.fogDensity.value=_.density)},refreshMaterialUniforms:function i(y,_,w,O,S){_.isMeshBasicMaterial||_.isMeshLambertMaterial?r(y,_):_.isMeshToonMaterial?(r(y,_),function h(y,_){_.gradientMap&&(y.gradientMap.value=_.gradientMap)}(y,_)):_.isMeshPhongMaterial?(r(y,_),function c(y,_){y.specular.value.copy(_.specular),y.shininess.value=Math.max(_.shininess,1e-4)}(y,_)):_.isMeshStandardMaterial?(r(y,_),function d(y,_){y.roughness.value=_.roughness,y.metalness.value=_.metalness,_.roughnessMap&&(y.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(y.metalnessMap.value=_.metalnessMap),t.get(_).envMap&&(y.envMapIntensity.value=_.envMapIntensity)}(y,_),_.isMeshPhysicalMaterial&&function u(y,_,w){y.ior.value=_.ior,_.sheen>0&&(y.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),y.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(y.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(y.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(y.clearcoat.value=_.clearcoat,y.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(y.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),y.clearcoatNormalMap.value=_.clearcoatNormalMap,1===_.side&&y.clearcoatNormalScale.value.negate())),_.iridescence>0&&(y.iridescence.value=_.iridescence,y.iridescenceIOR.value=_.iridescenceIOR,y.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(y.iridescenceMap.value=_.iridescenceMap),_.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=_.iridescenceThicknessMap)),_.transmission>0&&(y.transmission.value=_.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),_.transmissionMap&&(y.transmissionMap.value=_.transmissionMap),y.thickness.value=_.thickness,_.thicknessMap&&(y.thicknessMap.value=_.thicknessMap),y.attenuationDistance.value=_.attenuationDistance,y.attenuationColor.value.copy(_.attenuationColor)),y.specularIntensity.value=_.specularIntensity,y.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(y.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(y.specularColorMap.value=_.specularColorMap)}(y,_,S)):_.isMeshMatcapMaterial?(r(y,_),function f(y,_){_.matcap&&(y.matcap.value=_.matcap)}(y,_)):_.isMeshDepthMaterial?r(y,_):_.isMeshDistanceMaterial?(r(y,_),function v(y,_){y.referencePosition.value.copy(_.referencePosition),y.nearDistance.value=_.nearDistance,y.farDistance.value=_.farDistance}(y,_)):_.isMeshNormalMaterial?r(y,_):_.isLineBasicMaterial?(function o(y,_){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity}(y,_),_.isLineDashedMaterial&&function s(y,_){y.dashSize.value=_.dashSize,y.totalSize.value=_.dashSize+_.gapSize,y.scale.value=_.scale}(y,_)):_.isPointsMaterial?function a(y,_,w,O){let S;y.diffuse.value.copy(_.color),y.opacity.value=_.opacity,y.size.value=_.size*w,y.scale.value=.5*O,_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest),_.map?S=_.map:_.alphaMap&&(S=_.alphaMap),void 0!==S&&(!0===S.matrixAutoUpdate&&S.updateMatrix(),y.uvTransform.value.copy(S.matrix))}(y,_,w,O):_.isSpriteMaterial?function l(y,_){let w;y.diffuse.value.copy(_.color),y.opacity.value=_.opacity,y.rotation.value=_.rotation,_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest),_.map?w=_.map:_.alphaMap&&(w=_.alphaMap),void 0!==w&&(!0===w.matrixAutoUpdate&&w.updateMatrix(),y.uvTransform.value.copy(w.matrix))}(y,_):_.isShadowMaterial?(y.color.value.copy(_.color),y.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}}}function Cwe(e,t,n,i){let r={},o={},s=[],a=n.isWebGL2?e.getParameter(35375):0;function f(O,S,D){let U=O.value;if(void 0===D[S]){if("number"==typeof U)D[S]=U;else{let Y=Array.isArray(U)?U:[U],q=[];for(let K=0;K<Y.length;K++)q.push(Y[K].clone());D[S]=q}return!0}if("number"==typeof U){if(D[S]!==U)return D[S]=U,!0}else{let Y=Array.isArray(D[S])?D[S]:[D[S]],q=Array.isArray(U)?U:[U];for(let K=0;K<Y.length;K++){let Z=Y[K];if(!1===Z.equals(q[K]))return Z.copy(q[K]),!0}}return!1}function y(O){let S={boundary:0,storage:0};return"number"==typeof O?(S.boundary=4,S.storage=4):O.isVector2?(S.boundary=8,S.storage=8):O.isVector3||O.isColor?(S.boundary=16,S.storage=12):O.isVector4?(S.boundary=16,S.storage=16):O.isMatrix3?(S.boundary=48,S.storage=48):O.isMatrix4?(S.boundary=64,S.storage=64):O.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",O),S}function _(O){let S=O.target;S.removeEventListener("dispose",_);let D=s.indexOf(S.__bindingPointIndex);s.splice(D,1),e.deleteBuffer(r[S.id]),delete r[S.id],delete o[S.id]}return{bind:function l(O,S){i.uniformBlockBinding(O,S.program)},update:function c(O,S){let D=r[O.id];void 0===D&&(function v(O){let S=O.uniforms,D=0,Y=0;for(let q=0,K=S.length;q<K;q++){let Z=S[q],te={boundary:0,storage:0},ie=Array.isArray(Z.value)?Z.value:[Z.value];for(let ce=0,de=ie.length;ce<de;ce++){let Ce=y(ie[ce]);te.boundary+=Ce.boundary,te.storage+=Ce.storage}if(Z.__data=new Float32Array(te.storage/Float32Array.BYTES_PER_ELEMENT),Z.__offset=D,q>0){Y=D%16;let ce=16-Y;0!==Y&&ce-te.boundary<0&&(D+=16-Y,Z.__offset=D)}D+=te.storage}Y=D%16,Y>0&&(D+=16-Y),O.__size=D,O.__cache={}}(O),D=function h(O){let S=function d(){for(let O=0;O<a;O++)if(-1===s.indexOf(O))return s.push(O),O;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();O.__bindingPointIndex=S;let D=e.createBuffer(),U=O.__size,Y=O.usage;return e.bindBuffer(35345,D),e.bufferData(35345,U,Y),e.bindBuffer(35345,null),e.bindBufferBase(35345,S,D),D}(O),r[O.id]=D,O.addEventListener("dispose",_)),i.updateUBOMapping(O,S.program);let Y=t.render.frame;o[O.id]!==Y&&(function u(O){let D=O.uniforms,U=O.__cache;e.bindBuffer(35345,r[O.id]);for(let Y=0,q=D.length;Y<q;Y++){let K=D[Y];if(!0===f(K,Y,U)){let Z=K.__offset,te=Array.isArray(K.value)?K.value:[K.value],ie=0;for(let ce=0;ce<te.length;ce++){let de=te[ce],ue=y(de);"number"==typeof de?(K.__data[0]=de,e.bufferSubData(35345,Z+ie,K.__data)):de.isMatrix3?(K.__data[0]=de.elements[0],K.__data[1]=de.elements[1],K.__data[2]=de.elements[2],K.__data[3]=de.elements[0],K.__data[4]=de.elements[3],K.__data[5]=de.elements[4],K.__data[6]=de.elements[5],K.__data[7]=de.elements[0],K.__data[8]=de.elements[6],K.__data[9]=de.elements[7],K.__data[10]=de.elements[8],K.__data[11]=de.elements[0]):(de.toArray(K.__data,ie),ie+=ue.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,Z,K.__data)}}e.bindBuffer(35345,null)}(O),o[O.id]=Y)},dispose:function w(){for(let O in r)e.deleteBuffer(r[O]);s=[],r={},o={}}}}function sj(e={}){this.isWebGLRenderer=!0;let h,t=void 0!==e.canvas?e.canvas:function Mwe(){let e=yC("canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,r=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,a=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;h=null!==n?n.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let d=null,u=null,f=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=nh,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;let y=this,_=!1,w=0,O=0,S=null,D=-1,U=null,Y=new Ci,q=new Ci,K=null,Z=t.width,te=t.height,ie=1,ce=null,de=null,ue=new Ci(0,0,Z,te),Ce=new Ci(0,0,Z,te),we=!1,_e=new kA,ye=!1,Re=!1,Be=null,Ie=new Ut,De=new Fe,Ve=new ne,ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function He(){return null===S?ie:1}let We,ut,Ke,Nt,Pt,bt,hn,dn,mn,Cn,tn,Zt,Rn,Jn,Ee,be,st,Gt,Rt,Jt,Nn,Mn,Lt,kn,ze=n;function it(Oe,mt){for(let Dt=0;Dt<Oe.length;Dt++){let kt=t.getContext(Oe[Dt],mt);if(null!==kt)return kt}return null}try{let Oe={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r149"),t.addEventListener("webglcontextlost",li,!1),t.addEventListener("webglcontextrestored",Kn,!1),t.addEventListener("webglcontextcreationerror",ar,!1),null===ze){let mt=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&mt.shift(),ze=it(mt,Oe),null===ze)throw it(mt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ze.getShaderPrecisionFormat&&(ze.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Oe){throw console.error("THREE.WebGLRenderer: "+Oe.message),Oe}function zn(){We=new Lbe(ze),ut=new Tbe(ze,We,e),We.init(ut),Mn=new ywe(ze,We,ut),Ke=new gwe(ze,We,ut),Nt=new Ube,Pt=new iwe,bt=new vwe(ze,We,Ke,Pt,ut,Mn,Nt),hn=new Ibe(y),dn=new Fbe(y),mn=new $1e(ze,ut),Lt=new Dbe(ze,We,mn,ut),Cn=new Bbe(ze,mn,Nt,Lt),tn=new Gbe(ze,Cn,mn,Nt),Rt=new Hbe(ze,ut,bt),be=new kbe(Pt),Zt=new nwe(y,hn,dn,We,ut,Lt,be),Rn=new wwe(y,Pt),Jn=new owe,Ee=new hwe(We,ut),Gt=new Ebe(y,hn,dn,Ke,tn,h,s),st=new mwe(y,tn,ut),kn=new Cwe(ze,Nt,ut,Ke),Jt=new Abe(ze,We,Nt,ut),Nn=new zbe(ze,We,Nt,ut),Nt.programs=Zt.programs,y.capabilities=ut,y.extensions=We,y.properties=Pt,y.renderLists=Jn,y.shadowMap=st,y.state=Ke,y.info=Nt}zn();let In=new xwe(y,ze);function li(Oe){Oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function Kn(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;let Oe=Nt.autoReset,mt=st.enabled,Dt=st.autoUpdate,ct=st.needsUpdate,kt=st.type;zn(),Nt.autoReset=Oe,st.enabled=mt,st.autoUpdate=Dt,st.needsUpdate=ct,st.type=kt}function ar(Oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Oe.statusMessage)}function ho(Oe){let mt=Oe.target;mt.removeEventListener("dispose",ho),function gs(Oe){(function Xe(Oe){let mt=Pt.get(Oe).programs;void 0!==mt&&(mt.forEach(function(Dt){Zt.releaseProgram(Dt)}),Oe.isShaderMaterial&&Zt.releaseShaderCache(Oe))})(Oe),Pt.remove(Oe)}(mt)}this.xr=In,this.getContext=function(){return ze},this.getContextAttributes=function(){return ze.getContextAttributes()},this.forceContextLoss=function(){let Oe=We.get("WEBGL_lose_context");Oe&&Oe.loseContext()},this.forceContextRestore=function(){let Oe=We.get("WEBGL_lose_context");Oe&&Oe.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(Oe){void 0!==Oe&&(ie=Oe,this.setSize(Z,te,!1))},this.getSize=function(Oe){return Oe.set(Z,te)},this.setSize=function(Oe,mt,Dt){In.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Z=Oe,te=mt,t.width=Math.floor(Oe*ie),t.height=Math.floor(mt*ie),!1!==Dt&&(t.style.width=Oe+"px",t.style.height=mt+"px"),this.setViewport(0,0,Oe,mt))},this.getDrawingBufferSize=function(Oe){return Oe.set(Z*ie,te*ie).floor()},this.setDrawingBufferSize=function(Oe,mt,Dt){Z=Oe,te=mt,ie=Dt,t.width=Math.floor(Oe*Dt),t.height=Math.floor(mt*Dt),this.setViewport(0,0,Oe,mt)},this.getCurrentViewport=function(Oe){return Oe.copy(Y)},this.getViewport=function(Oe){return Oe.copy(ue)},this.setViewport=function(Oe,mt,Dt,ct){Oe.isVector4?ue.set(Oe.x,Oe.y,Oe.z,Oe.w):ue.set(Oe,mt,Dt,ct),Ke.viewport(Y.copy(ue).multiplyScalar(ie).floor())},this.getScissor=function(Oe){return Oe.copy(Ce)},this.setScissor=function(Oe,mt,Dt,ct){Oe.isVector4?Ce.set(Oe.x,Oe.y,Oe.z,Oe.w):Ce.set(Oe,mt,Dt,ct),Ke.scissor(q.copy(Ce).multiplyScalar(ie).floor())},this.getScissorTest=function(){return we},this.setScissorTest=function(Oe){Ke.setScissorTest(we=Oe)},this.setOpaqueSort=function(Oe){ce=Oe},this.setTransparentSort=function(Oe){de=Oe},this.getClearColor=function(Oe){return Oe.copy(Gt.getClearColor())},this.setClearColor=function(){Gt.setClearColor.apply(Gt,arguments)},this.getClearAlpha=function(){return Gt.getClearAlpha()},this.setClearAlpha=function(){Gt.setClearAlpha.apply(Gt,arguments)},this.clear=function(Oe=!0,mt=!0,Dt=!0){let ct=0;Oe&&(ct|=16384),mt&&(ct|=256),Dt&&(ct|=1024),ze.clear(ct)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",li,!1),t.removeEventListener("webglcontextrestored",Kn,!1),t.removeEventListener("webglcontextcreationerror",ar,!1),Jn.dispose(),Ee.dispose(),Pt.dispose(),hn.dispose(),dn.dispose(),tn.dispose(),Lt.dispose(),kn.dispose(),Zt.dispose(),In.dispose(),In.removeEventListener("sessionstart",ln),In.removeEventListener("sessionend",oi),Be&&(Be.dispose(),Be=null),gr.stop()},this.renderBufferDirect=function(Oe,mt,Dt,ct,kt,Hn){null===mt&&(mt=ke);let Ti=kt.isMesh&&kt.matrixWorld.determinant()<0,Yi=function Sze(Oe,mt,Dt,ct,kt){!0!==mt.isScene&&(mt=ke),bt.resetTextureUnits();let Hn=mt.fog,Yi=null===S?y.outputEncoding:!0===S.isXRRenderTarget?S.texture.encoding:nh,Ji=(ct.isMeshStandardMaterial?dn:hn).get(ct.envMap||(ct.isMeshStandardMaterial?mt.environment:null)),eo=!0===ct.vertexColors&&!!Dt.attributes.color&&4===Dt.attributes.color.itemSize,vr=!!ct.normalMap&&!!Dt.attributes.tangent,lr=!!Dt.morphAttributes.position,Ea=!!Dt.morphAttributes.normal,nc=!!Dt.morphAttributes.color,Hu=ct.toneMapped?y.toneMapping:0,ag=Dt.morphAttributes.position||Dt.morphAttributes.normal||Dt.morphAttributes.color,vs=void 0!==ag?ag.length:0,cr=Pt.get(ct),bR=u.state.lights;!0!==ye||!0!==Re&&Oe===U||be.setState(ct,Oe,Oe===U&&ct.id===D);let xR=!1;ct.version===cr.__version?(cr.needsLights&&cr.lightsStateVersion!==bR.state.version||cr.outputEncoding!==Yi||kt.isInstancedMesh&&!1===cr.instancing||!kt.isInstancedMesh&&!0===cr.instancing||kt.isSkinnedMesh&&!1===cr.skinning||!kt.isSkinnedMesh&&!0===cr.skinning||cr.envMap!==Ji||!0===ct.fog&&cr.fog!==Hn||void 0!==cr.numClippingPlanes&&(cr.numClippingPlanes!==be.numPlanes||cr.numIntersection!==be.numIntersection)||cr.vertexAlphas!==eo||cr.vertexTangents!==vr||cr.morphTargets!==lr||cr.morphNormals!==Ea||cr.morphColors!==nc||cr.toneMapping!==Hu||!0===ut.isWebGL2&&cr.morphTargetsCount!==vs)&&(xR=!0):(xR=!0,cr.__version=ct.version);let lg=cr.currentProgram;!0===xR&&(lg=Uc(ct,mt,kt));let $$=!1,Ab=!1,wR=!1,ra=lg.getUniforms(),cg=cr.uniforms;if(Ke.useProgram(lg.program)&&($$=!0,Ab=!0,wR=!0),ct.id!==D&&(D=ct.id,Ab=!0),$$||U!==Oe){if(ra.setValue(ze,"projectionMatrix",Oe.projectionMatrix),ut.logarithmicDepthBuffer&&ra.setValue(ze,"logDepthBufFC",2/(Math.log(Oe.far+1)/Math.LN2)),U!==Oe&&(U=Oe,Ab=!0,wR=!0),ct.isShaderMaterial||ct.isMeshPhongMaterial||ct.isMeshToonMaterial||ct.isMeshStandardMaterial||ct.envMap){let ic=ra.map.cameraPosition;void 0!==ic&&ic.setValue(ze,Ve.setFromMatrixPosition(Oe.matrixWorld))}(ct.isMeshPhongMaterial||ct.isMeshToonMaterial||ct.isMeshLambertMaterial||ct.isMeshBasicMaterial||ct.isMeshStandardMaterial||ct.isShaderMaterial)&&ra.setValue(ze,"isOrthographic",!0===Oe.isOrthographicCamera),(ct.isMeshPhongMaterial||ct.isMeshToonMaterial||ct.isMeshLambertMaterial||ct.isMeshBasicMaterial||ct.isMeshStandardMaterial||ct.isShaderMaterial||ct.isShadowMaterial||kt.isSkinnedMesh)&&ra.setValue(ze,"viewMatrix",Oe.matrixWorldInverse)}if(kt.isSkinnedMesh){ra.setOptional(ze,kt,"bindMatrix"),ra.setOptional(ze,kt,"bindMatrixInverse");let ic=kt.skeleton;ic&&(ut.floatVertexTextures?(null===ic.boneTexture&&ic.computeBoneTexture(),ra.setValue(ze,"boneTexture",ic.boneTexture,bt),ra.setValue(ze,"boneTextureSize",ic.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let CR=Dt.morphAttributes;if((void 0!==CR.position||void 0!==CR.normal||void 0!==CR.color&&!0===ut.isWebGL2)&&Rt.update(kt,Dt,ct,lg),(Ab||cr.receiveShadow!==kt.receiveShadow)&&(cr.receiveShadow=kt.receiveShadow,ra.setValue(ze,"receiveShadow",kt.receiveShadow)),ct.isMeshGouraudMaterial&&null!==ct.envMap&&(cg.envMap.value=Ji,cg.flipEnvMap.value=Ji.isCubeTexture&&!1===Ji.isRenderTargetTexture?-1:1),Ab&&(ra.setValue(ze,"toneMappingExposure",y.toneMappingExposure),cr.needsLights&&function Eze(Oe,mt){Oe.ambientLightColor.needsUpdate=mt,Oe.lightProbe.needsUpdate=mt,Oe.directionalLights.needsUpdate=mt,Oe.directionalLightShadows.needsUpdate=mt,Oe.pointLights.needsUpdate=mt,Oe.pointLightShadows.needsUpdate=mt,Oe.spotLights.needsUpdate=mt,Oe.spotLightShadows.needsUpdate=mt,Oe.rectAreaLights.needsUpdate=mt,Oe.hemisphereLights.needsUpdate=mt}(cg,wR),Hn&&!0===ct.fog&&Rn.refreshFogUniforms(cg,Hn),Rn.refreshMaterialUniforms(cg,ct,ie,te,Be),UC.upload(ze,cr.uniformsList,cg,bt)),ct.isShaderMaterial&&!0===ct.uniformsNeedUpdate&&(UC.upload(ze,cr.uniformsList,cg,bt),ct.uniformsNeedUpdate=!1),ct.isSpriteMaterial&&ra.setValue(ze,"center",kt.center),ra.setValue(ze,"modelViewMatrix",kt.modelViewMatrix),ra.setValue(ze,"normalMatrix",kt.normalMatrix),ra.setValue(ze,"modelMatrix",kt.matrixWorld),kt.previousModelViewMatrix&&ra.setValue(ze,"previousModelViewMatrix",kt.previousModelViewMatrix),Oe.previousProjectionMatrix&&ra.setValue(ze,"previousProjectionMatrix",Oe.previousProjectionMatrix),ct.isShaderMaterial||ct.isRawShaderMaterial){let ic=ct.uniformsGroups;for(let MR=0,Aze=ic.length;MR<Aze;MR++)if(ut.isWebGL2){let K$=ic[MR];kn.update(K$,lg),kn.bind(K$,lg)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return lg}(Oe,mt,Dt,ct,kt);Ke.setMaterial(ct,Ti);let Ji=Dt.index,eo=1;!0===ct.wireframe&&(Ji=Cn.getWireframeAttribute(Dt),eo=2);let vr=Dt.drawRange,lr=Dt.attributes.position,Ea=vr.start*eo,nc=(vr.start+vr.count)*eo;null!==Hn&&(Ea=Math.max(Ea,Hn.start*eo),nc=Math.min(nc,(Hn.start+Hn.count)*eo)),null!==Ji?(Ea=Math.max(Ea,0),nc=Math.min(nc,Ji.count)):null!=lr&&(Ea=Math.max(Ea,0),nc=Math.min(nc,lr.count));let Hu=nc-Ea;if(Hu<0||Hu===1/0)return;Lt.setup(kt,ct,Yi,Dt,Ji);let ag,vs=Jt;if(null!==Ji&&(ag=mn.get(Ji),vs=Nn,vs.setIndex(ag)),kt.isMesh)!0===ct.wireframe?(Ke.setLineWidth(ct.wireframeLinewidth*He()),vs.setMode(1)):vs.setMode(4);else if(kt.isLine){let cr=ct.linewidth;void 0===cr&&(cr=1),Ke.setLineWidth(cr*He()),vs.setMode(kt.isLineSegments?1:kt.isLineLoop?2:3)}else kt.isPoints?vs.setMode(0):kt.isSprite&&vs.setMode(4);if(kt.isInstancedMesh)vs.renderInstances(Ea,Hu,kt.count);else if(Dt.isInstancedBufferGeometry){let bR=Math.min(Dt.instanceCount,void 0!==Dt._maxInstanceCount?Dt._maxInstanceCount:1/0);vs.renderInstances(Ea,Hu,bR)}else vs.render(Ea,Hu)},this.compile=function(Oe,mt){function Dt(ct,kt,Hn){!0===ct.transparent&&2===ct.side&&!1===ct.forceSinglePass?(ct.side=1,ct.needsUpdate=!0,Uc(ct,kt,Hn),ct.side=0,ct.needsUpdate=!0,Uc(ct,kt,Hn),ct.side=2):Uc(ct,kt,Hn)}u=Ee.get(Oe),u.init(),v.push(u),Oe.traverseVisible(function(ct){ct.isLight&&ct.layers.test(mt.layers)&&(u.pushLight(ct),ct.castShadow&&u.pushShadow(ct))}),u.setupLights(y.physicallyCorrectLights),Oe.traverse(function(ct){let kt=ct.material;if(kt)if(Array.isArray(kt))for(let Hn=0;Hn<kt.length;Hn++)Dt(kt[Hn],Oe,ct);else Dt(kt,Oe,ct)}),v.pop(),u=null};let Mt=null;function ln(){gr.stop()}function oi(){gr.start()}let gr=new kU;function So(Oe,mt,Dt,ct){if(!1===Oe.visible)return;if(Oe.layers.test(mt.layers))if(Oe.isGroup)Dt=Oe.renderOrder;else if(Oe.isLOD)!0===Oe.autoUpdate&&Oe.update(mt);else if(Oe.isLight)u.pushLight(Oe),Oe.castShadow&&u.pushShadow(Oe);else if(Oe.isSprite){if(!Oe.frustumCulled||_e.intersectsSprite(Oe)){ct&&Ve.setFromMatrixPosition(Oe.matrixWorld).applyMatrix4(Ie);let Hn=tn.update(Oe),Ti=Oe.material;Ti.visible&&d.push(Oe,Hn,Ti,Dt,Ve.z,null)}}else if((Oe.isMesh||Oe.isLine||Oe.isPoints)&&(Oe.isSkinnedMesh&&Oe.skeleton.frame!==Nt.render.frame&&(Oe.skeleton.update(),Oe.skeleton.frame=Nt.render.frame),!Oe.frustumCulled||_e.intersectsObject(Oe))){ct&&Ve.setFromMatrixPosition(Oe.matrixWorld).applyMatrix4(Ie);let Hn=tn.update(Oe),Ti=Oe.material;if(Array.isArray(Ti)){let Yi=Hn.groups;for(let Ji=0,eo=Yi.length;Ji<eo;Ji++){let vr=Yi[Ji],lr=Ti[vr.materialIndex];lr&&lr.visible&&d.push(Oe,Hn,lr,Dt,Ve.z,vr)}}else Ti.visible&&d.push(Oe,Hn,Ti,Dt,Ve.z,null)}let kt=Oe.children;for(let Hn=0,Ti=kt.length;Hn<Ti;Hn++)So(kt[Hn],mt,Dt,ct)}function Sa(Oe,mt,Dt,ct){let kt=Oe.opaque,Hn=Oe.transmissive,Ti=Oe.transparent;u.setupLightsView(Dt),!0===ye&&be.setGlobalState(y.clippingPlanes,Dt),Hn.length>0&&function sg(Oe,mt,Dt){let ct=ut.isWebGL2;null===Be&&(Be=new Ar(1,1,{generateMipmaps:!0,type:We.has("EXT_color_buffer_half_float")?vm:ya,minFilter:D0,samples:ct&&!0===o?4:0})),y.getDrawingBufferSize(De),ct?Be.setSize(De.x,De.y):Be.setSize(gC(De.x),gC(De.y));let kt=y.getRenderTarget();y.setRenderTarget(Be),y.clear();let Hn=y.toneMapping;y.toneMapping=0,bo(Oe,mt,Dt),y.toneMapping=Hn,bt.updateMultisampleRenderTarget(Be),bt.updateRenderTargetMipmap(Be),y.setRenderTarget(kt)}(kt,mt,Dt),ct&&Ke.viewport(Y.copy(ct)),kt.length>0&&bo(kt,mt,Dt),Hn.length>0&&bo(Hn,mt,Dt),Ti.length>0&&bo(Ti,mt,Dt),Ke.buffers.depth.setTest(!0),Ke.buffers.depth.setMask(!0),Ke.buffers.color.setMask(!0),Ke.setPolygonOffset(!1)}function bo(Oe,mt,Dt){let ct=!0===mt.isScene?mt.overrideMaterial:null;for(let kt=0,Hn=Oe.length;kt<Hn;kt++){let Ti=Oe[kt],Yi=Ti.object,Ji=Ti.geometry,eo=null===ct?Ti.material:ct,vr=Ti.group;Yi.layers.test(Dt.layers)&&Vu(Yi,mt,Dt,Ji,eo,vr)}}function Vu(Oe,mt,Dt,ct,kt,Hn){Oe.onBeforeRender(y,mt,Dt,ct,kt,Hn),Oe.modelViewMatrix.multiplyMatrices(Dt.matrixWorldInverse,Oe.matrixWorld),Oe.normalMatrix.getNormalMatrix(Oe.modelViewMatrix),kt.onBeforeRender(y,mt,Dt,ct,Oe,Hn),!0===kt.transparent&&2===kt.side&&!1===kt.forceSinglePass?(kt.side=1,kt.needsUpdate=!0,y.renderBufferDirect(Dt,mt,ct,kt,Oe,Hn),kt.side=0,kt.needsUpdate=!0,y.renderBufferDirect(Dt,mt,ct,kt,Oe,Hn),kt.side=2):y.renderBufferDirect(Dt,mt,ct,kt,Oe,Hn),Oe.onAfterRender(y,mt,Dt,ct,kt,Hn)}function Uc(Oe,mt,Dt){!0!==mt.isScene&&(mt=ke);let ct=Pt.get(Oe),kt=u.state.lights,Ti=kt.state.version,Yi=Zt.getParameters(Oe,kt.state,u.state.shadowsArray,mt,Dt),Ji=Zt.getProgramCacheKey(Yi),eo=ct.programs;ct.environment=Oe.isMeshStandardMaterial?mt.environment:null,ct.fog=mt.fog,ct.envMap=(Oe.isMeshStandardMaterial?dn:hn).get(Oe.envMap||ct.environment),void 0===eo&&(Oe.addEventListener("dispose",ho),eo=new Map,ct.programs=eo);let vr=eo.get(Ji);if(void 0!==vr){if(ct.currentProgram===vr&&ct.lightsStateVersion===Ti)return X$(Oe,Yi),vr}else Yi.uniforms=Zt.getUniforms(Oe),Oe.onBuild(Dt,Yi,y),Oe.onBeforeCompile(Yi,y),vr=Zt.acquireProgram(Yi,Ji),eo.set(Ji,vr),ct.uniforms=Yi.uniforms;let lr=ct.uniforms;(!Oe.isShaderMaterial&&!Oe.isRawShaderMaterial||!0===Oe.clipping)&&(lr.clippingPlanes=be.uniform),X$(Oe,Yi),ct.needsLights=function Dze(Oe){return Oe.isMeshLambertMaterial||Oe.isMeshToonMaterial||Oe.isMeshPhongMaterial||Oe.isMeshStandardMaterial||Oe.isShadowMaterial||Oe.isShaderMaterial&&!0===Oe.lights}(Oe),ct.lightsStateVersion=Ti,ct.needsLights&&(lr.ambientLightColor.value=kt.state.ambient,lr.lightProbe.value=kt.state.probe,lr.directionalLights.value=kt.state.directional,lr.directionalLightShadows.value=kt.state.directionalShadow,lr.spotLights.value=kt.state.spot,lr.spotLightShadows.value=kt.state.spotShadow,lr.rectAreaLights.value=kt.state.rectArea,lr.ltc_1.value=kt.state.rectAreaLTC1,lr.ltc_2.value=kt.state.rectAreaLTC2,lr.pointLights.value=kt.state.point,lr.pointLightShadows.value=kt.state.pointShadow,lr.hemisphereLights.value=kt.state.hemi,lr.directionalShadowMap.value=kt.state.directionalShadowMap,lr.directionalShadowMatrix.value=kt.state.directionalShadowMatrix,lr.spotShadowMap.value=kt.state.spotShadowMap,lr.spotLightMatrix.value=kt.state.spotLightMatrix,lr.spotLightMap.value=kt.state.spotLightMap,lr.pointShadowMap.value=kt.state.pointShadowMap,lr.pointShadowMatrix.value=kt.state.pointShadowMatrix);let Ea=vr.getUniforms(),nc=UC.seqWithValue(Ea.seq,lr);return ct.currentProgram=vr,ct.uniformsList=nc,vr}function X$(Oe,mt){let Dt=Pt.get(Oe);Dt.outputEncoding=mt.outputEncoding,Dt.instancing=mt.instancing,Dt.skinning=mt.skinning,Dt.morphTargets=mt.morphTargets,Dt.morphNormals=mt.morphNormals,Dt.morphColors=mt.morphColors,Dt.morphTargetsCount=mt.morphTargetsCount,Dt.numClippingPlanes=mt.numClippingPlanes,Dt.numIntersection=mt.numClipIntersection,Dt.vertexAlphas=mt.vertexAlphas,Dt.vertexTangents=mt.vertexTangents,Dt.toneMapping=mt.toneMapping}gr.setAnimationLoop(function Xt(Oe){Mt&&Mt(Oe)}),typeof self<"u"&&gr.setContext(self),this.setAnimationLoop=function(Oe){Mt=Oe,In.setAnimationLoop(Oe),null===Oe?gr.stop():gr.start()},In.addEventListener("sessionstart",ln),In.addEventListener("sessionend",oi),this.render=function(Oe,mt){if(void 0===mt||!0===mt.isCamera){if(!0!==_){if(!0===Oe.matrixWorldAutoUpdate&&Oe.updateMatrixWorld(),null===mt.parent&&!0===mt.matrixWorldAutoUpdate&&mt.updateMatrixWorld(),!0===In.enabled&&!0===In.isPresenting&&(!0===In.cameraAutoUpdate&&In.updateCamera(mt),mt=In.getCamera()),!0===Oe.isScene&&Oe.onBeforeRender(y,Oe,mt,S),u=Ee.get(Oe,v.length),u.init(),v.push(u),Ie.multiplyMatrices(mt.projectionMatrix,mt.matrixWorldInverse),_e.setFromProjectionMatrix(Ie),Re=this.localClippingEnabled,ye=be.init(this.clippingPlanes,Re),d=Jn.get(Oe,f.length),d.init(),f.push(d),So(Oe,mt,0,y.sortObjects),d.finish(),!0===y.sortObjects&&d.sort(ce,de),!0===ye&&be.beginShadows(),st.render(u.state.shadowsArray,Oe,mt),!0===ye&&be.endShadows(),!0===this.info.autoReset&&this.info.reset(),Gt.render(d,Oe),u.setupLights(y.physicallyCorrectLights),mt.isArrayCamera){let ct=mt.cameras;for(let kt=0,Hn=ct.length;kt<Hn;kt++){let Ti=ct[kt];Sa(d,Oe,Ti,Ti.viewport)}}else Sa(d,Oe,mt);null!==S&&(bt.updateMultisampleRenderTarget(S),bt.updateRenderTargetMipmap(S)),!0===Oe.isScene&&Oe.onAfterRender(y,Oe,mt),Lt.resetDefaultState(),D=-1,U=null,v.pop(),u=v.length>0?v[v.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(Oe,mt,Dt){Pt.get(Oe.texture).__webglTexture=mt,Pt.get(Oe.depthTexture).__webglTexture=Dt;let ct=Pt.get(Oe);ct.__hasExternalTextures=!0,ct.__hasExternalTextures&&(ct.__autoAllocateDepthBuffer=void 0===Dt,ct.__autoAllocateDepthBuffer||!0===We.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ct.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Oe,mt){let Dt=Pt.get(Oe);Dt.__webglFramebuffer=mt,Dt.__useDefaultFramebuffer=void 0===mt},this.setRenderTarget=function(Oe,mt=0,Dt=0){S=Oe,w=mt,O=Dt;let ct=!0,kt=null,Hn=!1,Ti=!1;if(Oe){let Yi=Pt.get(Oe);void 0!==Yi.__useDefaultFramebuffer?(Ke.bindFramebuffer(36160,null),ct=!1):void 0===Yi.__webglFramebuffer?bt.setupRenderTarget(Oe):Yi.__hasExternalTextures&&bt.rebindTextures(Oe,Pt.get(Oe.texture).__webglTexture,Pt.get(Oe.depthTexture).__webglTexture);let Ji=Oe.texture;(Ji.isData3DTexture||Ji.isDataArrayTexture||Ji.isCompressedArrayTexture)&&(Ti=!0);let eo=Pt.get(Oe).__webglFramebuffer;Oe.isWebGLCubeRenderTarget?(kt=eo[mt],Hn=!0):kt=ut.isWebGL2&&Oe.samples>0&&!1===bt.useMultisampledRTT(Oe)?Pt.get(Oe).__webglMultisampledFramebuffer:eo,Y.copy(Oe.viewport),q.copy(Oe.scissor),K=Oe.scissorTest}else Y.copy(ue).multiplyScalar(ie).floor(),q.copy(Ce).multiplyScalar(ie).floor(),K=we;if(Ke.bindFramebuffer(36160,kt)&&ut.drawBuffers&&ct&&Ke.drawBuffers(Oe,kt),Ke.viewport(Y),Ke.scissor(q),Ke.setScissorTest(K),Hn){let Yi=Pt.get(Oe.texture);ze.framebufferTexture2D(36160,36064,34069+mt,Yi.__webglTexture,Dt)}else if(Ti){let Yi=Pt.get(Oe.texture);ze.framebufferTextureLayer(36160,36064,Yi.__webglTexture,Dt||0,mt||0)}D=-1},this.readRenderTargetPixels=function(Oe,mt,Dt,ct,kt,Hn,Ti){if(!Oe||!Oe.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Yi=Pt.get(Oe).__webglFramebuffer;if(Oe.isWebGLCubeRenderTarget&&void 0!==Ti&&(Yi=Yi[Ti]),Yi){Ke.bindFramebuffer(36160,Yi);try{let Ji=Oe.texture,eo=Ji.format,vr=Ji.type;if(eo!==Xl&&Mn.convert(eo)!==ze.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");let lr=vr===vm&&(We.has("EXT_color_buffer_half_float")||ut.isWebGL2&&We.has("EXT_color_buffer_float"));if(!(vr===ya||Mn.convert(vr)===ze.getParameter(35738)||vr===ja&&(ut.isWebGL2||We.has("OES_texture_float")||We.has("WEBGL_color_buffer_float"))||lr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");mt>=0&&mt<=Oe.width-ct&&Dt>=0&&Dt<=Oe.height-kt&&ze.readPixels(mt,Dt,ct,kt,Mn.convert(eo),Mn.convert(vr),Hn)}finally{let Ji=null!==S?Pt.get(S).__webglFramebuffer:null;Ke.bindFramebuffer(36160,Ji)}}},this.copyFramebufferToTexture=function(Oe,mt,Dt=0){let ct=Math.pow(2,-Dt),kt=Math.floor(mt.image.width*ct),Hn=Math.floor(mt.image.height*ct);bt.setTexture2D(mt,0),ze.copyTexSubImage2D(3553,Dt,0,0,Oe.x,Oe.y,kt,Hn),Ke.unbindTexture()},this.copyTextureToTexture=function(Oe,mt,Dt,ct=0){let kt=mt.image.width,Hn=mt.image.height,Ti=Mn.convert(Dt.format),Yi=Mn.convert(Dt.type);bt.setTexture2D(Dt,0),ze.pixelStorei(37440,Dt.flipY),ze.pixelStorei(37441,Dt.premultiplyAlpha),ze.pixelStorei(3317,Dt.unpackAlignment),mt.isDataTexture?ze.texSubImage2D(3553,ct,Oe.x,Oe.y,kt,Hn,Ti,Yi,mt.image.data):mt.isCompressedTexture?ze.compressedTexSubImage2D(3553,ct,Oe.x,Oe.y,mt.mipmaps[0].width,mt.mipmaps[0].height,Ti,mt.mipmaps[0].data):ze.texSubImage2D(3553,ct,Oe.x,Oe.y,Ti,Yi,mt.image),0===ct&&Dt.generateMipmaps&&ze.generateMipmap(3553),Ke.unbindTexture()},this.copyTextureToTexture3D=function(Oe,mt,Dt,ct,kt=0){if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");let vr,Hn=Oe.max.x-Oe.min.x+1,Ti=Oe.max.y-Oe.min.y+1,Yi=Oe.max.z-Oe.min.z+1,Ji=Mn.convert(ct.format),eo=Mn.convert(ct.type);if(ct.isData3DTexture)bt.setTexture3D(ct,0),vr=32879;else{if(!ct.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");bt.setTexture2DArray(ct,0),vr=35866}ze.pixelStorei(37440,ct.flipY),ze.pixelStorei(37441,ct.premultiplyAlpha),ze.pixelStorei(3317,ct.unpackAlignment);let lr=ze.getParameter(3314),Ea=ze.getParameter(32878),nc=ze.getParameter(3316),Hu=ze.getParameter(3315),ag=ze.getParameter(32877),vs=Dt.isCompressedTexture?Dt.mipmaps[0]:Dt.image;ze.pixelStorei(3314,vs.width),ze.pixelStorei(32878,vs.height),ze.pixelStorei(3316,Oe.min.x),ze.pixelStorei(3315,Oe.min.y),ze.pixelStorei(32877,Oe.min.z),Dt.isDataTexture||Dt.isData3DTexture?ze.texSubImage3D(vr,kt,mt.x,mt.y,mt.z,Hn,Ti,Yi,Ji,eo,vs.data):Dt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ze.compressedTexSubImage3D(vr,kt,mt.x,mt.y,mt.z,Hn,Ti,Yi,Ji,vs.data)):ze.texSubImage3D(vr,kt,mt.x,mt.y,mt.z,Hn,Ti,Yi,Ji,eo,vs),ze.pixelStorei(3314,lr),ze.pixelStorei(32878,Ea),ze.pixelStorei(3316,nc),ze.pixelStorei(3315,Hu),ze.pixelStorei(32877,ag),0===kt&&ct.generateMipmaps&&ze.generateMipmap(vr),Ke.unbindTexture()},this.initTexture=function(Oe){Oe.isCubeTexture?bt.setTextureCube(Oe,0):Oe.isData3DTexture?bt.setTexture3D(Oe,0):Oe.isDataArrayTexture||Oe.isCompressedArrayTexture?bt.setTexture2DArray(Oe,0):bt.setTexture2D(Oe,0),Ke.unbindTexture()},this.resetState=function(){w=0,O=0,S=null,Ke.reset(),Lt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class extends sj{}).prototype.isWebGL1Renderer=!0;var aj=class{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new qn(e),this.near=t,this.far=n}clone(){return new aj(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},Ip=class extends Tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},Wa=new ne,UA=class{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Wa.fromBufferAttribute(this,t),Wa.applyMatrix4(e),this.setXYZ(t,Wa.x,Wa.y,Wa.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Wa.fromBufferAttribute(this,t),Wa.applyNormalMatrix(e),this.setXYZ(t,Wa.x,Wa.y,Wa.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Wa.fromBufferAttribute(this,t),Wa.transformDirection(e),this.setXYZ(t,Wa.x,Wa.y,Wa.z);return this}setX(e,t){return this.normalized&&(t=Jr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Jr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Jr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Jr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=hu(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=hu(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=hu(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=hu(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jr(t,this.array),n=Jr(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jr(t,this.array),n=Jr(n,this.array),i=Jr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jr(t,this.array),n=Jr(n,this.array),i=Jr(i,this.array),r=Jr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new ti(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new UA(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},lj=class extends Tr{constructor(){super(),this.isBone=!0,this.type="Bone"}},Rp=class extends Ds{constructor(e=null,t=1,n=1,i,r,o,s,a,l=Zr,c=Zr,h,d){super(null,o,s,a,l,c,i,r,h,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},cj=new Ut,Swe=new Ut,jA=class{constructor(e=[],t=[]){this.uuid=Mc(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let n=new Ut;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++)cj.multiplyMatrices(e[r]?e[r].matrixWorld:Swe,t[r]),cj.toArray(n,16*r);null!==i&&(i.needsUpdate=!0)}clone(){return new jA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=fU(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let n=new Rp(t,e,e,Xl,ja);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let i=this.bones[t];if(i.name===e)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){let r=e.bones[n],o=t[r];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new lj),this.bones.push(o),this.boneInverses.push((new Ut).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++)e.bones.push(t[i].uuid),e.boneInverses.push(n[i].toArray());return e}},dj=class extends ti{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},Np=class extends c_{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new qn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},hj=new ne,uj=new ne,pj=new Ut,VA=new F0,jC=new ml,VC=class extends Tr{constructor(e=new Vn,t=new Np){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)hj.fromBufferAttribute(t,i-1),uj.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=hj.distanceTo(uj);e.setAttribute("lineDistance",new wn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),jC.copy(n.boundingSphere),jC.applyMatrix4(i),jC.radius+=r,!1===e.ray.intersectsSphere(jC))return;pj.copy(i).invert(),VA.copy(e.ray).applyMatrix4(pj);let s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=new ne,c=new ne,h=new ne,d=new ne,u=this.isLineSegments?2:1,f=n.index,v=n.attributes.position;if(null!==f)for(let w=Math.max(0,o.start),O=Math.min(f.count,o.start+o.count)-1;w<O;w+=u){let S=f.getX(w),D=f.getX(w+1);if(l.fromBufferAttribute(v,S),c.fromBufferAttribute(v,D),VA.distanceSqToSegment(l,c,d,h)>a)continue;d.applyMatrix4(this.matrixWorld);let U=e.ray.origin.distanceTo(d);U<e.near||U>e.far||t.push({distance:U,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}else for(let w=Math.max(0,o.start),O=Math.min(v.count,o.start+o.count)-1;w<O;w+=u){if(l.fromBufferAttribute(v,w),c.fromBufferAttribute(v,w+1),VA.distanceSqToSegment(l,c,d,h)>a)continue;d.applyMatrix4(this.matrixWorld);let S=e.ray.origin.distanceTo(d);S<e.near||S>e.far||t.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++){let o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}},fj=new ne,mj=new ne,g_=class extends VC{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)fj.fromBufferAttribute(t,i),mj.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+fj.distanceTo(mj);e.setAttribute("lineDistance",new wn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},Ewe=class extends Ds{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,r,o,s,a,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:Ri,this.magFilter=void 0!==r?r:Ri,this.generateMipmaps=!1;let c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function h(){c.needsUpdate=!0,e.requestVideoFrameCallback(h)})}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},sh=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let n,t=[],i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let o,n=this.getLengths(),i=0,r=n.length;o=t||e*n[r-1];let l,s=0,a=r-1;for(;s<=a;)if(i=Math.floor(s+(a-s)/2),l=n[i]-o,l<0)s=i+1;else{if(!(l>0)){a=i;break}a=i-1}if(i=a,n[i]===o)return i/(r-1);let c=n[i];return(i+(o-c)/(n[i+1]-c))/(r-1)}getTangent(e,t){let n=e-1e-4,i=e+1e-4;n<0&&(n=0),i>1&&(i=1);let r=this.getPoint(n),o=this.getPoint(i),s=t||(r.isVector2?new Fe:new ne);return s.copy(o).sub(r).normalize(),s}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){let n=new ne,i=[],r=[],o=[],s=new ne,a=new Ut;for(let u=0;u<=e;u++)i[u]=this.getTangentAt(u/e,new ne);r[0]=new ne,o[0]=new ne;let l=Number.MAX_VALUE,c=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),h<=l&&(l=h,n.set(0,1,0)),d<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let u=1;u<=e;u++){if(r[u]=r[u-1].clone(),o[u]=o[u-1].clone(),s.crossVectors(i[u-1],i[u]),s.length()>Number.EPSILON){s.normalize();let f=Math.acos(cs(i[u-1].dot(i[u]),-1,1));r[u].applyMatrix4(a.makeRotationAxis(s,f))}o[u].crossVectors(i[u],r[u])}if(!0===t){let u=Math.acos(cs(r[0].dot(r[e]),-1,1));u/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(u=-u);for(let f=1;f<=e;f++)r[f].applyMatrix4(a.makeRotationAxis(i[f],u*f)),o[f].crossVectors(i[f],r[f])}return{tangents:i,normals:r,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},HC=class extends sh{constructor(e=0,t=0,n=1,i=1,r=0,o=2*Math.PI,s=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(e,t){let n=t||new Fe,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0===this.aClockwise&&!o&&(r===i?r=-i:r-=i);let s=this.aStartAngle+e*r,a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){let c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=a-this.aX,u=l-this.aY;a=d*c-u*h+this.aX,l=d*h+u*c+this.aY}return n.set(a,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};function HA(){let e=0,t=0,n=0,i=0;function r(o,s,a,l){e=o,t=a,n=-3*o+3*s-2*a-l,i=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){r(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,h,d){let u=(s-o)/c-(a-o)/(c+h)+(a-s)/h,f=(a-s)/h-(l-s)/(h+d)+(l-a)/d;u*=h,f*=h,r(s,a,u,f)},calc:function(o){let s=o*o;return e+t*o+n*s+i*(s*o)}}}var GC=new ne,GA=new HA,WA=new HA,qA=new HA;function gj(e,t,n,i,r){let o=.5*(i-t),s=.5*(r-n),a=e*e;return(2*n-2*i+o+s)*(e*a)+(-3*n+3*i-2*o-s)*a+o*e+n}function v_(e,t,n,i){return function Twe(e,t){let n=1-e;return n*n*t}(e,t)+function kwe(e,t){return 2*(1-e)*e*t}(e,n)+function Iwe(e,t){return e*e*t}(e,i)}function y_(e,t,n,i,r){return function Rwe(e,t){let n=1-e;return n*n*n*t}(e,t)+function Nwe(e,t){let n=1-e;return 3*n*n*e*t}(e,n)+function Fwe(e,t){return 3*(1-e)*e*e*t}(e,i)+function Lwe(e,t){return e*e*e*t}(e,r)}var fd=class extends sh{constructor(e=new Fe,t=new Fe,n=new Fe,i=new Fe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Fe){let n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(y_(e,i.x,r.x,o.x,s.x),y_(e,i.y,r.y,o.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},WC=class extends sh{constructor(e=new ne,t=new ne,n=new ne,i=new ne){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ne){let n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(y_(e,i.x,r.x,o.x,s.x),y_(e,i.y,r.y,o.y,s.y),y_(e,i.z,r.z,o.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},md=class extends sh{constructor(e=new Fe,t=new Fe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Fe){let n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let n=t||new Fe;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},vj=class extends sh{constructor(e=new ne,t=new ne){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ne){let n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Fp=class extends sh{constructor(e=new Fe,t=new Fe,n=new Fe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Fe){let n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(v_(e,i.x,r.x,o.x),v_(e,i.y,r.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},YA=class extends sh{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Fe){let n=t,i=this.points,r=(i.length-1)*e,o=Math.floor(r),s=r-o,a=i[0===o?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return n.set(gj(s,a.x,l.x,c.x,h.x),gj(s,a.y,l.y,c.y,h.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push((new Fe).fromArray(i))}return this}},zwe=Object.freeze({__proto__:null,ArcCurve:class extends HC{constructor(e,t,n,i,r,o){super(e,t,n,n,i,r,o),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class extends sh{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new ne){let l,c,n=t,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e,s=Math.floor(o),a=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:0===a&&s===r-1&&(s=r-2,a=1),this.closed||s>0?l=i[(s-1)%r]:(GC.subVectors(i[0],i[1]).add(i[0]),l=GC);let h=i[s%r],d=i[(s+1)%r];if(this.closed||s+2<r?c=i[(s+2)%r]:(GC.subVectors(i[r-1],i[r-2]).add(i[r-1]),c=GC),"centripetal"===this.curveType||"chordal"===this.curveType){let u="chordal"===this.curveType?.5:.25,f=Math.pow(l.distanceToSquared(h),u),v=Math.pow(h.distanceToSquared(d),u),y=Math.pow(d.distanceToSquared(c),u);v<1e-4&&(v=1),f<1e-4&&(f=v),y<1e-4&&(y=v),GA.initNonuniformCatmullRom(l.x,h.x,d.x,c.x,f,v,y),WA.initNonuniformCatmullRom(l.y,h.y,d.y,c.y,f,v,y),qA.initNonuniformCatmullRom(l.z,h.z,d.z,c.z,f,v,y)}else"catmullrom"===this.curveType&&(GA.initCatmullRom(l.x,h.x,d.x,c.x,this.tension),WA.initCatmullRom(l.y,h.y,d.y,c.y,this.tension),qA.initCatmullRom(l.z,h.z,d.z,c.z,this.tension));return n.set(GA.calc(a),WA.calc(a),qA.calc(a)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push((new ne).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:fd,CubicBezierCurve3:WC,EllipseCurve:HC,LineCurve:md,LineCurve3:vj,QuadraticBezierCurve:Fp,QuadraticBezierCurve3:class extends sh{constructor(e=new ne,t=new ne,n=new ne){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ne){let n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(v_(e,i.x,r.x,o.x),v_(e,i.y,r.y,o.y),v_(e,i.z,r.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},SplineCurve:YA}),yj=class extends sh{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new md(t,e))}getPoint(e,t){let n=e*this.getLength(),i=this.getCurveLengths(),r=0;for(;r<i.length;){if(i[r]>=n){let o=i[r]-n,s=this.curves[r],a=s.getLength();return s.getPointAt(0===a?0:1-o/a,t)}r++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let n,t=[];for(let i=0,r=this.curves;i<r.length;i++){let o=r[i],a=o.getPoints(o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e);for(let l=0;l<a.length;l++){let c=a[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let i=e.curves[t];this.curves.push((new zwe[i.type]).fromJSON(i))}return this}},qC=class extends yj{constructor(e){super(),this.type="Path",this.currentPoint=new Fe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new md(this.currentPoint.clone(),new Fe(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){let r=new Fp(this.currentPoint.clone(),new Fe(e,t),new Fe(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,o){let s=new fd(this.currentPoint.clone(),new Fe(e,t),new Fe(n,i),new Fe(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),n=new YA(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,o){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,o),this}absarc(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this}ellipse(e,t,n,i,r,o,s,a){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,o,s,a),this}absellipse(e,t,n,i,r,o,s,a){let l=new HC(e,t,n,i,r,o,s,a);if(this.curves.length>0){let h=l.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(l);let c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},_j=class extends Vn{constructor(e=[new Fe(0,-.5),new Fe(.5,0),new Fe(0,.5)],t=12,n=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=cs(i,0,2*Math.PI);let r=[],o=[],s=[],a=[],l=[],c=1/t,h=new ne,d=new Fe,u=new ne,f=new ne,v=new ne,y=0,_=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,u.x=1*_,u.y=-y,u.z=0*_,v.copy(u),u.normalize(),a.push(u.x,u.y,u.z);break;case e.length-1:a.push(v.x,v.y,v.z);break;default:y=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,u.x=1*_,u.y=-y,u.z=0*_,f.copy(u),u.x+=v.x,u.y+=v.y,u.z+=v.z,u.normalize(),a.push(u.x,u.y,u.z),v.copy(f)}for(let w=0;w<=t;w++){let O=n+w*c*i,S=Math.sin(O),D=Math.cos(O);for(let U=0;U<=e.length-1;U++)h.x=e[U].x*S,h.y=e[U].y,h.z=e[U].x*D,o.push(h.x,h.y,h.z),d.x=w/t,d.y=U/(e.length-1),s.push(d.x,d.y),l.push(a[3*U+0]*S,a[3*U+1],a[3*U+0]*D)}for(let w=0;w<t;w++)for(let O=0;O<e.length-1;O++){let S=O+w*e.length,U=S+e.length,Y=S+e.length+1,q=S+1;r.push(S,U,q),r.push(Y,q,U)}this.setIndex(r),this.setAttribute("position",new wn(o,3)),this.setAttribute("uv",new wn(s,2)),this.setAttribute("normal",new wn(l,3))}static fromJSON(e){return new _j(e.points,e.segments,e.phiStart,e.phiLength)}},XA=class extends Vn{constructor(e=1,t=1,n=1,i=32,r=1,o=!1,s=0,a=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a};let l=this;i=Math.floor(i),r=Math.floor(r);let c=[],h=[],d=[],u=[],f=0,v=[],y=n/2,_=0;function O(S){let D=f,U=new Fe,Y=new ne,q=0,K=!0===S?e:t,Z=!0===S?1:-1;for(let ie=1;ie<=i;ie++)h.push(0,y*Z,0),d.push(0,Z,0),u.push(.5,.5),f++;let te=f;for(let ie=0;ie<=i;ie++){let ce=ie/i*a+s,de=Math.cos(ce),ue=Math.sin(ce);Y.x=K*ue,Y.y=y*Z,Y.z=K*de,h.push(Y.x,Y.y,Y.z),d.push(0,Z,0),U.x=.5*de+.5,U.y=.5*ue*Z+.5,u.push(U.x,U.y),f++}for(let ie=0;ie<i;ie++){let ce=D+ie,de=te+ie;!0===S?c.push(de,de+1,ce):c.push(de+1,de,ce),q+=3}l.addGroup(_,q,!0===S?1:2),_+=q}(function w(){let S=new ne,D=new ne,U=0,Y=(t-e)/n;for(let q=0;q<=r;q++){let K=[],Z=q/r,te=Z*(t-e)+e;for(let ie=0;ie<=i;ie++){let ce=ie/i,de=ce*a+s,ue=Math.sin(de),Ce=Math.cos(de);D.x=te*ue,D.y=-Z*n+y,D.z=te*Ce,h.push(D.x,D.y,D.z),S.set(ue,Y,Ce).normalize(),d.push(S.x,S.y,S.z),u.push(ce,1-Z),K.push(f++)}v.push(K)}for(let q=0;q<i;q++)for(let K=0;K<r;K++){let te=v[K+1][q],ie=v[K+1][q+1],ce=v[K][q+1];c.push(v[K][q],te,ce),c.push(te,ie,ce),U+=6}l.addGroup(_,U,0),_+=U})(),!1===o&&(e>0&&O(!0),t>0&&O(!1)),this.setIndex(c),this.setAttribute("position",new wn(h,3)),this.setAttribute("normal",new wn(d,3)),this.setAttribute("uv",new wn(u,2))}static fromJSON(e){return new XA(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},bj=class extends XA{constructor(e=1,t=1,n=32,i=1,r=!1,o=0,s=2*Math.PI){super(0,e,t,n,i,r,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}static fromJSON(e){return new bj(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},$A=class extends Vn{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};let r=[],o=[];function a(w,O,S,D){let U=D+1,Y=[];for(let q=0;q<=U;q++){Y[q]=[];let K=w.clone().lerp(S,q/U),Z=O.clone().lerp(S,q/U),te=U-q;for(let ie=0;ie<=te;ie++)Y[q][ie]=0===ie&&q===U?K:K.clone().lerp(Z,ie/te)}for(let q=0;q<U;q++)for(let K=0;K<2*(U-q)-1;K++){let Z=Math.floor(K/2);K%2==0?(d(Y[q][Z+1]),d(Y[q+1][Z]),d(Y[q][Z])):(d(Y[q][Z+1]),d(Y[q+1][Z+1]),d(Y[q+1][Z]))}}function d(w){r.push(w.x,w.y,w.z)}function u(w,O){let S=3*w;O.x=e[S+0],O.y=e[S+1],O.z=e[S+2]}function v(w,O,S,D){D<0&&1===w.x&&(o[O]=w.x-1),0===S.x&&0===S.z&&(o[O]=D/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function _(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}(function s(w){let O=new ne,S=new ne,D=new ne;for(let U=0;U<t.length;U+=3)u(t[U+0],O),u(t[U+1],S),u(t[U+2],D),a(O,S,D,w)})(i),function l(w){let O=new ne;for(let S=0;S<r.length;S+=3)O.x=r[S+0],O.y=r[S+1],O.z=r[S+2],O.normalize().multiplyScalar(w),r[S+0]=O.x,r[S+1]=O.y,r[S+2]=O.z}(n),function c(){let w=new ne;for(let O=0;O<r.length;O+=3){w.x=r[O+0],w.y=r[O+1],w.z=r[O+2];let S=y(w)/2/Math.PI+.5,D=_(w)/Math.PI+.5;o.push(S,1-D)}(function f(){let w=new ne,O=new ne,S=new ne,D=new ne,U=new Fe,Y=new Fe,q=new Fe;for(let K=0,Z=0;K<r.length;K+=9,Z+=6){w.set(r[K+0],r[K+1],r[K+2]),O.set(r[K+3],r[K+4],r[K+5]),S.set(r[K+6],r[K+7],r[K+8]),U.set(o[Z+0],o[Z+1]),Y.set(o[Z+2],o[Z+3]),q.set(o[Z+4],o[Z+5]),D.copy(w).add(O).add(S).divideScalar(3);let te=y(D);v(U,Z+0,w,te),v(Y,Z+2,O,te),v(q,Z+4,S,te)}})(),function h(){for(let w=0;w<o.length;w+=6){let O=o[w+0],S=o[w+2],D=o[w+4],U=Math.max(O,S,D),Y=Math.min(O,S,D);U>.9&&Y<.1&&(O<.2&&(o[w+0]+=1),S<.2&&(o[w+2]+=1),D<.2&&(o[w+4]+=1))}}()}(),this.setAttribute("position",new wn(r,3)),this.setAttribute("normal",new wn(r.slice(),3)),this.setAttribute("uv",new wn(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new $A(e.vertices,e.indices,e.radius,e.details)}},xj=class extends $A{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xj(e.radius,e.detail)}},YC=class extends qC{constructor(e){super(e),this.uuid=Mc(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let i=e.holes[t];this.holes.push((new qC).fromJSON(i))}return this}};function wj(e,t,n,i,r){let o,s;if(r===function nCe(e,t,n,i){let r=0;for(let o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}(e,t,n,i)>0)for(o=t;o<n;o+=i)s=Pj(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=Pj(o,e[o],e[o+1],s);return s&&XC(s,s.next)&&(x_(s),s=s.next),s}function Sm(e,t){if(!e)return e;t||(t=e);let i,n=e;do{if(i=!1,n.steiner||!XC(n,n.next)&&0!==Po(n.prev,n,n.next))n=n.next;else{if(x_(n),n=t=n.prev,n===n.next)break;i=!0}}while(i||n!==t);return t}function __(e,t,n,i,r,o,s){if(!e)return;!s&&o&&function Kwe(e,t,n,i){let r=e;do{0===r.z&&(r.z=KA(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function Qwe(e){let t,n,i,r,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ,i);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1)}(r)}(e,i,r,o);let l,c,a=e;for(;e.prev!==e.next;)if(l=e.prev,c=e.next,o?Vwe(e,i,r,o):jwe(e))t.push(l.i/n|0),t.push(e.i/n|0),t.push(c.i/n|0),x_(e),e=c.next,a=c.next;else if((e=c)===a){s?1===s?__(e=Hwe(Sm(e),t,n),t,n,i,r,o,2):2===s&&Gwe(e,t,n,i,r,o):__(Sm(e),t,n,i,r,o,1);break}}function jwe(e){let t=e.prev,n=e,i=e.next;if(Po(t,n,i)>=0)return!1;let r=t.x,o=n.x,s=i.x,a=t.y,l=n.y,c=i.y,h=r<o?r<s?r:s:o<s?o:s,d=a<l?a<c?a:c:l<c?l:c,u=r>o?r>s?r:s:o>s?o:s,f=a>l?a>c?a:c:l>c?l:c,v=i.next;for(;v!==t;){if(v.x>=h&&v.x<=u&&v.y>=d&&v.y<=f&&tv(r,a,o,l,s,c,v.x,v.y)&&Po(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Vwe(e,t,n,i){let r=e.prev,o=e,s=e.next;if(Po(r,o,s)>=0)return!1;let a=r.x,l=o.x,c=s.x,h=r.y,d=o.y,u=s.y,f=a<l?a<c?a:c:l<c?l:c,v=h<d?h<u?h:u:d<u?d:u,y=a>l?a>c?a:c:l>c?l:c,_=h>d?h>u?h:u:d>u?d:u,w=KA(f,v,t,n,i),O=KA(y,_,t,n,i),S=e.prevZ,D=e.nextZ;for(;S&&S.z>=w&&D&&D.z<=O;){if(S.x>=f&&S.x<=y&&S.y>=v&&S.y<=_&&S!==r&&S!==s&&tv(a,h,l,d,c,u,S.x,S.y)&&Po(S.prev,S,S.next)>=0||(S=S.prevZ,D.x>=f&&D.x<=y&&D.y>=v&&D.y<=_&&D!==r&&D!==s&&tv(a,h,l,d,c,u,D.x,D.y)&&Po(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;S&&S.z>=w;){if(S.x>=f&&S.x<=y&&S.y>=v&&S.y<=_&&S!==r&&S!==s&&tv(a,h,l,d,c,u,S.x,S.y)&&Po(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;D&&D.z<=O;){if(D.x>=f&&D.x<=y&&D.y>=v&&D.y<=_&&D!==r&&D!==s&&tv(a,h,l,d,c,u,D.x,D.y)&&Po(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function Hwe(e,t,n){let i=e;do{let r=i.prev,o=i.next.next;!XC(r,o)&&Cj(r,i,i.next,o)&&b_(r,o)&&b_(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),x_(i),x_(i.next),i=e=o),i=i.next}while(i!==e);return Sm(i)}function Gwe(e,t,n,i,r,o){let s=e;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Jwe(s,a)){let l=Mj(s,a);return s=Sm(s,s.next),l=Sm(l,l.next),__(s,t,n,i,r,o,0),void __(l,t,n,i,r,o,0)}a=a.next}s=s.next}while(s!==e)}function qwe(e,t){return e.x-t.x}function Ywe(e,t){let n=function Xwe(e,t){let r,n=t,i=-1/0,o=e.x,s=e.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){let u=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=o&&u>i&&(i=u,r=n.x<n.next.x?n:n.next,u===o))return r}n=n.next}while(n!==t);if(!r)return null;let d,a=r,l=r.x,c=r.y,h=1/0;n=r;do{o>=n.x&&n.x>=l&&o!==n.x&&tv(s<c?o:i,s,l,c,s<c?i:o,s,n.x,n.y)&&(d=Math.abs(s-n.y)/(o-n.x),b_(n,e)&&(d<h||d===h&&(n.x>r.x||n.x===r.x&&$we(r,n)))&&(r=n,h=d)),n=n.next}while(n!==a);return r}(e,t);if(!n)return t;let i=Mj(n,e);return Sm(i,i.next),Sm(n,n.next)}function $we(e,t){return Po(e.prev,e,t.prev)<0&&Po(t.next,e,e.next)<0}function KA(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Zwe(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function tv(e,t,n,i,r,o,s,a){return(r-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(i-a)>=(n-s)*(t-a)&&(n-s)*(o-a)>=(r-s)*(i-a)}function Jwe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function eCe(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Cj(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(b_(e,t)&&b_(t,e)&&function tCe(e,t){let n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Po(e.prev,e,t.prev)||Po(e,t.prev,t))||XC(e,t)&&Po(e.prev,e,e.next)>0&&Po(t.prev,t,t.next)>0)}function Po(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function XC(e,t){return e.x===t.x&&e.y===t.y}function Cj(e,t,n,i){let r=KC(Po(e,t,n)),o=KC(Po(e,t,i)),s=KC(Po(n,i,e)),a=KC(Po(n,i,t));return!!(r!==o&&s!==a||0===r&&$C(e,n,t)||0===o&&$C(e,i,t)||0===s&&$C(n,e,i)||0===a&&$C(n,t,i))}function $C(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function KC(e){return e>0?1:e<0?-1:0}function b_(e,t){return Po(e.prev,e,e.next)<0?Po(e,t,e.next)>=0&&Po(e,e.prev,t)>=0:Po(e,t,e.prev)<0||Po(e,e.next,t)<0}function Mj(e,t){let n=new QA(e.i,e.x,e.y),i=new QA(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Pj(e,t,n,i){let r=new QA(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function x_(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function QA(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Oj=class{static area(e){let t=e.length,n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}static isClockWise(e){return Oj.area(e)<0}static triangulateShape(e,t){let n=[],i=[],r=[];Sj(e),Ej(n,e);let o=e.length;t.forEach(Sj);for(let a=0;a<t.length;a++)i.push(o),o+=t[a].length,Ej(n,t[a]);let s=function(e,t,n=2){let a,l,c,h,d,u,f,i=t&&t.length,r=i?t[0]*n:e.length,o=wj(e,0,r,n,!0),s=[];if(!o||o.next===o.prev)return s;if(i&&(o=function Wwe(e,t,n,i){let o,s,a,l,c,r=[];for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=wj(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Zwe(c));for(r.sort(qwe),o=0;o<r.length;o++)n=Ywe(r[o],n);return n}(e,t,o,n)),e.length>80*n){a=c=e[0],l=h=e[1];for(let v=n;v<r;v+=n)d=e[v],u=e[v+1],d<a&&(a=d),u<l&&(l=u),d>c&&(c=d),u>h&&(h=u);f=Math.max(c-a,h-l),f=0!==f?32767/f:0}return __(o,s,n,a,l,f,0),s}(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};function Sj(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Ej(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Dj=class extends $A{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Dj(e.radius,e.detail)}},ZA=class extends Vn{constructor(e=1,t=32,n=16,i=0,r=2*Math.PI,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let a=Math.min(o+s,Math.PI),l=0,c=[],h=new ne,d=new ne,u=[],f=[],v=[],y=[];for(let _=0;_<=n;_++){let w=[],O=_/n,S=0;0==_&&0==o?S=.5/t:_==n&&a==Math.PI&&(S=-.5/t);for(let D=0;D<=t;D++){let U=D/t;h.x=-e*Math.cos(i+U*r)*Math.sin(o+O*s),h.y=e*Math.cos(o+O*s),h.z=e*Math.sin(i+U*r)*Math.sin(o+O*s),f.push(h.x,h.y,h.z),d.copy(h).normalize(),v.push(d.x,d.y,d.z),y.push(U+S,1-O),w.push(l++)}c.push(w)}for(let _=0;_<n;_++)for(let w=0;w<t;w++){let O=c[_][w+1],S=c[_][w],D=c[_+1][w],U=c[_+1][w+1];(0!==_||o>0)&&u.push(O,S,U),(_!==n-1||a<Math.PI)&&u.push(S,D,U)}this.setIndex(u),this.setAttribute("position",new wn(f,3)),this.setAttribute("normal",new wn(v,3)),this.setAttribute("uv",new wn(y,2))}static fromJSON(e){return new ZA(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},Aj=class extends Vn{constructor(e=1,t=.4,n=64,i=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},n=Math.floor(n),i=Math.floor(i);let s=[],a=[],l=[],c=[],h=new ne,d=new ne,u=new ne,f=new ne,v=new ne,y=new ne,_=new ne;for(let O=0;O<=n;++O){let S=O/n*r*Math.PI*2;w(S,r,o,e,u),w(S+.01,r,o,e,f),y.subVectors(f,u),_.addVectors(f,u),v.crossVectors(y,_),_.crossVectors(v,y),v.normalize(),_.normalize();for(let D=0;D<=i;++D){let U=D/i*Math.PI*2,Y=-t*Math.cos(U),q=t*Math.sin(U);h.x=u.x+(Y*_.x+q*v.x),h.y=u.y+(Y*_.y+q*v.y),h.z=u.z+(Y*_.z+q*v.z),a.push(h.x,h.y,h.z),d.subVectors(h,u).normalize(),l.push(d.x,d.y,d.z),c.push(O/n),c.push(D/i)}}for(let O=1;O<=n;O++)for(let S=1;S<=i;S++){let U=(i+1)*O+(S-1),Y=(i+1)*O+S,q=(i+1)*(O-1)+S;s.push((i+1)*(O-1)+(S-1),U,q),s.push(U,Y,q)}function w(O,S,D,U,Y){let q=Math.cos(O),K=Math.sin(O),Z=D/S*O,te=Math.cos(Z);Y.x=U*(2+te)*.5*q,Y.y=U*(2+te)*K*.5,Y.z=U*Math.sin(Z)*.5}this.setIndex(s),this.setAttribute("position",new wn(a,3)),this.setAttribute("normal",new wn(l,3)),this.setAttribute("uv",new wn(c,2))}static fromJSON(e){return new Aj(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}};function Lp(e,t,n){return Tj(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function QC(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Tj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iCe(e){let n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(function t(r,o){return e[r]-e[o]}),i}function kj(e,t,n){let i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){let a=n[o]*t;for(let l=0;l!==t;++l)r[s++]=e[a+l]}return r}function Ij(e,t,n,i){let r=1,o=e[0];for(;void 0!==o&&void 0===o[i];)o=e[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(t.push(o.time),n.push(s)),o=e[r++]}while(void 0!==o)}var ZC=class{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let s=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(e>=r)break e;{let s=t[1];e<s&&(n=2,r=s);for(let a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0}}for(;n<o;){let s=n+o>>>1;e<t[s]?o=s:n=s+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},rCe=class extends ZC{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:A0,endingEnd:A0}}intervalChanged_(e,t,n){let i=this.parameterPositions,r=e-2,o=e+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case T0:r=e,s=2*t-n;break;case 2402:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case T0:o=e,a=2*n-t;break;case 2402:o=1,a=n+i[1]-i[0];break;default:o=e-1,a=t}let l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,u=this._weightNext,f=(n-t)/(i-t),v=f*f,y=v*f,_=-d*y+2*d*v-d*f,w=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*f+1,O=(-1-u)*y+(1.5+u)*v+.5*f,S=u*y-u*v;for(let D=0;D!==s;++D)r[D]=_*o[c+D]+w*o[l+D]+O*o[a+D]+S*o[h+D];return r}},Rj=class extends ZC{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(i-t),h=1-c;for(let d=0;d!==s;++d)r[d]=o[l+d]*h+o[a+d]*c;return r}},oCe=class extends ZC{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}},ah=class{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=QC(t,this.TimeBufferType),this.values=QC(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let n,t=e.constructor;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:QC(e.times,Array),values:QC(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new oCe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Rj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rCe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){let n=this.times,i=n.length,r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);let s=this.getValueSize();this.times=Lp(n,r,o),this.values=Lp(this.values,r*s,o*s)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==r;s++){let a=n[s];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,a),e=!1;break}if(null!==o&&o>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,a,o),e=!1;break}o=a}if(void 0!==i&&Tj(i))for(let s=0,a=i.length;s!==a;++s){let l=i[s];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,l),e=!1;break}}return e}optimize(){let e=Lp(this.times),t=Lp(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=e.length-1,o=1;for(let s=1;s<r;++s){let a=!1,l=e[s];if(l!==e[s+1]&&(1!==s||l!==e[0]))if(i)a=!0;else{let h=s*n,d=h-n,u=h+n;for(let f=0;f!==n;++f){let v=t[h+f];if(v!==t[d+f]||v!==t[u+f]){a=!0;break}}}if(a){if(s!==o){e[o]=e[s];let h=s*n,d=o*n;for(let u=0;u!==n;++u)t[d+u]=t[h+u]}++o}}if(r>0){e[o]=e[r];for(let s=r*n,a=o*n,l=0;l!==n;++l)t[a+l]=t[s+l];++o}return o!==e.length?(this.times=Lp(e,0,o),this.values=Lp(t,0,o*n)):(this.times=e,this.values=t),this}clone(){let e=Lp(this.times,0),t=Lp(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};ah.prototype.TimeBufferType=Float32Array,ah.prototype.ValueBufferType=Float32Array,ah.prototype.DefaultInterpolation=2301;var nv=class extends ah{};nv.prototype.ValueTypeName="bool",nv.prototype.ValueBufferType=Array,nv.prototype.DefaultInterpolation=2300,nv.prototype.InterpolantFactoryMethodLinear=void 0,nv.prototype.InterpolantFactoryMethodSmooth=void 0;var Nj=class extends ah{};Nj.prototype.ValueTypeName="color";var JC=class extends ah{};JC.prototype.ValueTypeName="number";var sCe=class extends ZC{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(i-t),l=e*s;for(let c=l+s;l!==c;l+=4)hi.slerpFlat(r,0,o,l-s,o,l,a);return r}},w_=class extends ah{InterpolantFactoryMethodLinear(e){return new sCe(this.times,this.values,this.getValueSize(),e)}};w_.prototype.ValueTypeName="quaternion",w_.prototype.DefaultInterpolation=2301,w_.prototype.InterpolantFactoryMethodSmooth=void 0;var iv=class extends ah{};iv.prototype.ValueTypeName="string",iv.prototype.ValueBufferType=Array,iv.prototype.DefaultInterpolation=2300,iv.prototype.InterpolantFactoryMethodLinear=void 0,iv.prototype.InterpolantFactoryMethodSmooth=void 0;var eM=class extends ah{};eM.prototype.ValueTypeName="vector";var JA=class{constructor(e,t=-1,n,i=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Mc(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(lCe(n[o]).scale(i));let r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){let t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(ah.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){let r=t.length,o=[];for(let s=0;s<r;s++){let a=[],l=[];a.push((s+r-1)%r,s,(s+1)%r),l.push(0,1,0);let c=iCe(a);a=kj(a,1,c),l=kj(l,1,c),!i&&0===a[0]&&(a.push(r),l.push(l[0])),o.push(new JC(".morphTargetInfluences["+t[s].name+"]",a,l).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){let i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.name.match(r);if(c&&c.length>1){let h=c[1],d=i[h];d||(i[h]=d=[]),d.push(l)}}let o=[];for(let s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=function(c,h,d,u,f){if(0!==d.length){let v=[],y=[];Ij(d,v,y,u),0!==v.length&&f.push(new c(h,v,y))}},i=[],r=e.name||"default",o=e.fps||30,s=e.blendMode,a=e.length||-1,l=e.hierarchy||[];for(let c=0;c<l.length;c++){let h=l[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){let u,d={};for(u=0;u<h.length;u++)if(h[u].morphTargets)for(let f=0;f<h[u].morphTargets.length;f++)d[h[u].morphTargets[f]]=-1;for(let f in d){let v=[],y=[];for(let _=0;_!==h[u].morphTargets.length;++_){let w=h[u];v.push(w.time),y.push(w.morphTarget===f?1:0)}i.push(new JC(".morphTargetInfluence["+f+"]",v,y))}a=d.length*o}else{let d=".bones["+t[c].name+"]";n(eM,d+".position",h,"pos",i),n(w_,d+".quaternion",h,"rot",i),n(eM,d+".scale",h,"scl",i)}}return 0===i.length?null:new this(r,a,i,s)}resetDuration(){let t=0;for(let n=0,i=this.tracks.length;n!==i;++n){let r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function lCe(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=function aCe(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return JC;case"vector":case"vector2":case"vector3":case"vector4":return eM;case"color":return Nj;case"quaternion":return w_;case"bool":case"boolean":return nv;case"string":return iv}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){let n=[],i=[];Ij(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Fj={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Lj=class{constructor(e,t,n){let a,i=this,r=!1,o=0,s=0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){s++,!1===r&&void 0!==i.onStart&&i.onStart(c,o,s),r=!0},this.itemEnd=function(c){o++,void 0!==i.onProgress&&i.onProgress(c,o,s),o===s&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(c){void 0!==i.onError&&i.onError(c)},this.resolveURL=function(c){return a?a(c):c},this.setURLModifier=function(c){return a=c,this},this.addHandler=function(c,h){return l.push(c,h),this},this.removeHandler=function(c){let h=l.indexOf(c);return-1!==h&&l.splice(h,2),this},this.getHandler=function(c){for(let h=0,d=l.length;h<d;h+=2){let u=l[h],f=l[h+1];if(u.global&&(u.lastIndex=0),u.test(c))return f}return null}}},cCe=new Lj,eT=class{constructor(e){this.manager=void 0!==e?e:cCe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},vu={},dCe=class extends Error{constructor(e,t){super(e),this.response=t}},tT=class extends eT{constructor(e){super(e)}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let r=Fj.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==vu[e])return void vu[e].push({onLoad:t,onProgress:n,onError:i});vu[e]=[],vu[e].push({onLoad:t,onProgress:n,onError:i});let o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;let c=vu[e],h=l.body.getReader(),d=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),u=d?parseInt(d):0,f=0!==u,v=0,y=new ReadableStream({start(_){!function w(){h.read().then(({done:O,value:S})=>{if(O)_.close();else{v+=S.byteLength;let D=new ProgressEvent("progress",{lengthComputable:f,loaded:v,total:u});for(let U=0,Y=c.length;U<Y;U++){let q=c[U];q.onProgress&&q.onProgress(D)}_.enqueue(S),w()}})}()}});return new Response(y)}throw new dCe(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(a){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>(new DOMParser).parseFromString(c,s));case"json":return l.json();default:if(void 0===s)return l.text();{let c=/charset="?([^;"\s]*)"?/i.exec(s),h=c&&c[1]?c[1].toLowerCase():void 0,d=new TextDecoder(h);return l.arrayBuffer().then(u=>d.decode(u))}}}).then(l=>{Fj.add(e,l);let c=vu[e];delete vu[e];for(let h=0,d=c.length;h<d;h++){let u=c[h];u.onLoad&&u.onLoad(l)}}).catch(l=>{let c=vu[e];if(void 0===c)throw this.manager.itemError(e),l;delete vu[e];for(let h=0,d=c.length;h<d;h++){let u=c[h];u.onError&&u.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},C_=class extends Tr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new qn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}},hCe=class extends C_{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new qn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},nT=new Ut,Bj=new ne,zj=new ne,iT=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fe(512,512),this.map=null,this.mapPass=null,this.matrix=new Ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kA,this._frameExtents=new Fe(1,1),this._viewportCount=1,this._viewports=[new Ci(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;Bj.setFromMatrixPosition(e.matrixWorld),t.position.copy(Bj),zj.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(zj),t.updateMatrixWorld(),nT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nT),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(nT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){let e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},uCe=class extends iT{constructor(){super(new xa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,n=2*r_*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},pCe=class extends C_{constructor(e,t,n=0,i=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.distance=n,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new uCe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},Uj=new Ut,M_=new ne,rT=new ne,fCe=class extends iT{constructor(){super(new xa(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Fe(4,2),this._viewportCount=6,this._viewports=[new Ci(2,1,1,1),new Ci(0,1,1,1),new Ci(3,1,1,1),new Ci(1,1,1,1),new Ci(3,0,1,1),new Ci(1,0,1,1)],this._cubeDirections=[new ne(1,0,0),new ne(-1,0,0),new ne(0,0,1),new ne(0,0,-1),new ne(0,1,0),new ne(0,-1,0)],this._cubeUps=[new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,0,1),new ne(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),M_.setFromMatrixPosition(e.matrixWorld),n.position.copy(M_),rT.copy(n.position),rT.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(rT),n.updateMatrixWorld(),i.makeTranslation(-M_.x,-M_.y,-M_.z),Uj.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Uj)}},mCe=class extends C_{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new fCe}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},gCe=class extends iT{constructor(){super(new IA(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},vCe=class extends C_{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.shadow=new gCe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},jj=class extends Vn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},Vj=class extends eT{constructor(e){super(e)}load(e,t,n,i){let r=this,o=new tT(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)}parse(e){let t={},n={};function i(d,u){if(void 0!==t[u])return t[u];let f=d.interleavedBuffers[u],v=function r(d,u){if(void 0!==n[u])return n[u];let v=new Uint32Array(d.arrayBuffers[u]).buffer;return n[u]=v,v}(d,f.buffer),y=vC(f.type,v),_=new class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Mc()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Mc()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Mc()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}(y,f.stride);return _.uuid=f.uuid,t[u]=_,_}let o=e.isInstancedBufferGeometry?new jj:new Vn,s=e.data.index;if(void 0!==s){let d=vC(s.type,s.array);o.setIndex(new ti(d,1))}let a=e.data.attributes;for(let d in a){let f,u=a[d];if(u.isInterleavedBufferAttribute){let v=i(e.data,u.data);f=new UA(v,u.itemSize,u.offset,u.normalized)}else{let v=vC(u.type,u.array);f=new(u.isInstancedBufferAttribute?dj:ti)(v,u.itemSize,u.normalized)}void 0!==u.name&&(f.name=u.name),void 0!==u.usage&&f.setUsage(u.usage),void 0!==u.updateRange&&(f.updateRange.offset=u.updateRange.offset,f.updateRange.count=u.updateRange.count),o.setAttribute(d,f)}let l=e.data.morphAttributes;if(l)for(let d in l){let u=l[d],f=[];for(let v=0,y=u.length;v<y;v++){let w,_=u[v];if(_.isInterleavedBufferAttribute){let O=i(e.data,_.data);w=new UA(O,_.itemSize,_.offset,_.normalized)}else{let O=vC(_.type,_.array);w=new ti(O,_.itemSize,_.normalized)}void 0!==_.name&&(w.name=_.name),f.push(w)}o.morphAttributes[d]=f}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);let c=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==c)for(let d=0,u=c.length;d!==u;++d){let f=c[d];o.addGroup(f.start,f.count,f.materialIndex)}let h=e.data.boundingSphere;if(void 0!==h){let d=new ne;void 0!==h.center&&d.fromArray(h.center),o.boundingSphere=new ml(d,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}};function Hj(){return(typeof performance>"u"?Date:performance).now()}var _Ce=class{constructor(e,t,n){let i,r,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let n=this.buffer,i=this.valueSize,r=e*i+i,o=this.cumulativeWeight;if(0===o){for(let s=0;s!==i;++s)n[r+s]=n[s];o=t}else o+=t,this._mixBufferRegion(n,r,0,t/o,i);this.cumulativeWeight=o}accumulateAdditive(e){let t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,i,t*this._origIndex,1-r,t),o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}}saveOriginalState(){let t=this.buffer,n=this.valueSize,i=n*this._origIndex;this.binding.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){hi.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){let o=this._workIndex*r;hi.multiplyQuaternionsFlat(e,o,e,t,e,n),hi.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,r){let o=1-i;for(let s=0;s!==r;++s){let a=t+s;e[a]=e[a]*o+e[n+s]*i}}_lerpAdditive(e,t,n,i,r){for(let o=0;o!==r;++o){let s=t+o;e[s]=e[s]+e[n+o]*i}}},oT="\\[\\]\\.:\\/",bCe=new RegExp("["+oT+"]","g"),sT="[^"+oT+"]",xCe="[^"+oT.replace("\\.","")+"]",wCe=/((?:WC+[\/:])*)/.source.replace("WC",sT),CCe=/(WCOD+)?/.source.replace("WCOD",xCe),MCe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sT),PCe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sT),OCe=new RegExp("^"+wCe+CCe+MCe+PCe+"$"),SCe=["material","materials","bones","map"],Gr=class{constructor(e,t,n){this.path=t,this.parsedPath=n||Gr.parseTrackName(t),this.node=Gr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Gr.Composite(e,t,n):new Gr(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(bCe,"")}static parseTrackName(e){let t=OCe.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){let r=n.nodeName.substring(i+1);-1!==SCe.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){let n=function(r){for(let o=0;o<r.length;o++){let s=r[o];if(s.name===t||s.uuid===t)return s;let a=n(s.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=Gr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==l){if(void 0===e[l])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[l]}}let o=e[i];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+i+" but it wasn't found.",e);let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};Gr.Composite=class{constructor(e,t,n){let i=n||Gr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Gr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Gr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Gr.prototype.GetterByBindingType=[Gr.prototype._getValue_direct,Gr.prototype._getValue_array,Gr.prototype._getValue_arrayElement,Gr.prototype._getValue_toArray],Gr.prototype.SetterByBindingTypeAndVersioning=[[Gr.prototype._setValue_direct,Gr.prototype._setValue_direct_setNeedsUpdate,Gr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Gr.prototype._setValue_array,Gr.prototype._setValue_array_setNeedsUpdate,Gr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Gr.prototype._setValue_arrayElement,Gr.prototype._setValue_arrayElement_setNeedsUpdate,Gr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Gr.prototype._setValue_fromArray,Gr.prototype._setValue_fromArray_setNeedsUpdate,Gr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var ACe=new Float32Array(1),TCe=class extends ta{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName,c=l[a];void 0===c&&(c={},l[a]=c);for(let h=0;h!==r;++h){let d=i[h],u=d.name,f=c[u];if(void 0!==f)++f.referenceCount,o[h]=f;else{if(f=o[h],void 0!==f){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,a,u));continue}f=new _Ce(Gr.create(n,u,t&&t._propertyBindings[h].binding.parsedPath),d.ValueTypeName,d.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,a,u),o[h]=f}s[h].resultBuffer=f.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){let n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){let i=this._actions,r=this._actionsByClip,o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{let s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){let t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;let r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null,delete s.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(e){let t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){let t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){let i=this._bindingsByRootAndName,r=this._bindings,o=i[t];void 0===o&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){let t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]}_lendBinding(e){let t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){let t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new Rj(new Float32Array(2),new Float32Array(2),1,ACe),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){let t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){let i=t||this._root,r=i.uuid,o="string"==typeof e?JA.findByName(i,e):e,s=null!==o?o.uuid:e,a=this._actionsByClip[s],l=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==a){let h=a.actionByRoot[r];if(void 0!==h&&h.blendMode===n)return h;l=a.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;let c=new class{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;let r=t.tracks,o=r.length,s=new Array(o),a={endingStart:A0,endingEnd:A0};for(let l=0;l!==o;++l){let c=r[l].createInterpolant(null);s[l]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){let i=this._clip.duration,r=e._clip.duration,s=i/r;e.warp(1,r/i,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){let e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){let i=this._mixer,r=i.time,o=this.timeScale,s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);let a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){let e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);let r=this._startTime;if(null!==r){let a=(e-r)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);let o=this._updateTime(t),s=this._updateWeight(e);if(s>0){let a=this._interpolants,l=this._propertyBindings;if(2501===this.blendMode)for(let c=0,h=a.length;c!==h;++c)a[c].evaluate(o),l[c].accumulateAdditive(s);else for(let c=0,h=a.length;c!==h;++c)a[c].evaluate(o),l[c].accumulate(i,s)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let n=this._weightInterpolant;if(null!==n){let i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,n=this.loop,i=this.time+e,r=this._loopCount,o=2202===n;if(0===e)return-1===r?i:o&&1==(1&r)?t-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=t||i<0){let s=Math.floor(i/t);i-=t*s,r+=Math.abs(s);let a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){let l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&1==(1&r))return t-i}return i}_setEndings(e,t,n){let i=this._interpolantSettings;n?(i.endingStart=T0,i.endingEnd=T0):(i.endingStart=e?this.zeroSlopeAtStart?T0:A0:2402,i.endingEnd=t?this.zeroSlopeAtEnd?T0:A0:2402)}_scheduleFading(e,t,n){let i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);let s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=t,s[1]=r+e,a[1]=n,this}}(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,r),c}existingAction(e,t){let n=t||this._root,i=n.uuid,r="string"==typeof e?JA.findByName(n,e):e,s=this._actionsByClip[r?r.uuid:e];return void 0!==s&&s.actionByRoot[i]||null}stopAllAction(){let e=this._actions;for(let n=this._nActiveActions-1;n>=0;--n)e[n].stop();return this}update(e){let t=this._actions,n=this._nActiveActions,i=this.time+=e*=this.timeScale,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,o);let s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){let o=r.knownActions;for(let s=0,a=o.length;s!==a;++s){let l=o[s];this._deactivateAction(l);let c=l._cacheIndex,h=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,h._cacheIndex=c,t[c]=h,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}}uncacheRoot(e){let t=e.uuid,n=this._actionsByClip;for(let o in n){let a=n[o].actionByRoot[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}let r=this._bindingsByRootAndName[t];if(void 0!==r)for(let o in r){let s=r[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){let n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},jt=class{constructor(e){this.value=e}clone(){return new jt(void 0===this.value.clone?this.value:this.value.clone())}},Gj=class{constructor(e,t,n=0,i=1/0){this.ray=new F0(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new xA,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return aT(e,this,n,t),n.sort(Wj),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)aT(e[i],this,n,t);return n.sort(Wj),n}};function Wj(e,t){return e.distance-t.distance}function aT(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i){let r=e.children;for(let o=0,s=r.length;o<s;o++)aT(r[o],t,n,!0)}}var qj=class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(cs(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},Yj=new Fe,Xj=class{constructor(e=new Fe(1/0,1/0),t=new Fe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=Yj.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Yj.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},$j=new ne,tM=new ne,Oc=class{constructor(e=new ne,t=new ne){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){$j.subVectors(e,this.start),tM.subVectors(this.end,this.start);let n=tM.dot(tM),i=tM.dot($j)/n;return t&&(i=cs(i,0,1)),i}closestPointToPoint(e,t,n){let i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},Kj=new ne,kCe=class extends Tr{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let n=new Vn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){let l=o/a*Math.PI*2,c=s/a*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new wn(i,3));let r=new Np({fog:!1,toneMapped:!1});this.cone=new g_(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Kj.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Kj),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},ICe=class extends Ha{constructor(e,t,n){super(new ZA(t,4,2),new d_({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Qj=new ne,nM=new ne,Zj=new ne,RCe=class extends Tr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new Vn;i.setAttribute("position",new wn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let r=new Np({fog:!1,toneMapped:!1});this.lightPlane=new VC(i,r),this.add(this.lightPlane),i=new Vn,i.setAttribute("position",new wn([0,0,0,0,0,1],3)),this.targetLine=new VC(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Qj.setFromMatrixPosition(this.light.matrixWorld),nM.setFromMatrixPosition(this.light.target.matrixWorld),Zj.subVectors(nM,Qj),this.lightPlane.lookAt(nM),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(nM),this.targetLine.scale.z=Zj.length()}},iM=new ne,No=new q0,rM=class extends g_{constructor(e){let t=new Vn,n=new Np({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={};function s(f,v){a(f),a(v)}function a(f){i.push(0,0,0),r.push(0,0,0),void 0===o[f]&&(o[f]=[]),o[f].push(i.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),t.setAttribute("position",new wn(i,3)),t.setAttribute("color",new wn(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();let l=new qn(16755200),c=new qn(16711680),h=new qn(43775),d=new qn(16777215),u=new qn(3355443);this.setColors(l,c,h,d,u)}setColors(e,t,n,i,r){let o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,r.r,r.g,r.b),o.setXYZ(41,r.r,r.g,r.b),o.setXYZ(42,r.r,r.g,r.b),o.setXYZ(43,r.r,r.g,r.b),o.setXYZ(44,r.r,r.g,r.b),o.setXYZ(45,r.r,r.g,r.b),o.setXYZ(46,r.r,r.g,r.b),o.setXYZ(47,r.r,r.g,r.b),o.setXYZ(48,r.r,r.g,r.b),o.setXYZ(49,r.r,r.g,r.b),o.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap;No.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Qo("c",t,e,No,0,0,-1),Qo("t",t,e,No,0,0,1),Qo("n1",t,e,No,-1,-1,-1),Qo("n2",t,e,No,1,-1,-1),Qo("n3",t,e,No,-1,1,-1),Qo("n4",t,e,No,1,1,-1),Qo("f1",t,e,No,-1,-1,1),Qo("f2",t,e,No,1,-1,1),Qo("f3",t,e,No,-1,1,1),Qo("f4",t,e,No,1,1,1),Qo("u1",t,e,No,.7,1.1,-1),Qo("u2",t,e,No,-.7,1.1,-1),Qo("u3",t,e,No,0,2,-1),Qo("cf1",t,e,No,-1,0,1),Qo("cf2",t,e,No,1,0,1),Qo("cf3",t,e,No,0,-1,1),Qo("cf4",t,e,No,0,1,1),Qo("cn1",t,e,No,-1,0,-1),Qo("cn2",t,e,No,1,0,-1),Qo("cn3",t,e,No,0,-1,-1),Qo("cn4",t,e,No,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Qo(e,t,n,i,r,o,s){iM.set(r,o,s).unproject(i);let a=t[e];if(void 0!==a){let l=n.getAttribute("position");for(let c=0,h=a.length;c<h;c++)l.setXYZ(a[c],iM.x,iM.y,iM.z)}}var oM=class extends g_{constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Vn;r.setIndex(new ti(n,1)),r.setAttribute("position",new wn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new Np({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},NCe=class extends g_{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=new Vn;i.setAttribute("position",new wn(t,3)),i.setAttribute("color",new wn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(i,new Np({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){let i=new qn,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},yu=function FCe(){let e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){let c=l-127;c<-27?(i[l]=0,i[256|l]=32768,r[l]=24,r[256|l]=24):c<-14?(i[l]=1024>>-c-14,i[256|l]=1024>>-c-14|32768,r[l]=-c-1,r[256|l]=-c-1):c<=15?(i[l]=c+15<<10,i[256|l]=c+15<<10|32768,r[l]=13,r[256|l]=13):c<128?(i[l]=31744,i[256|l]=64512,r[l]=24,r[256|l]=24):(i[l]=31744,i[256|l]=64512,r[l]=13,r[256|l]=13)}let o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;0==(8388608&c);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,o[l]=c|h}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:s,offsetTable:a}}(),zCe=Object.freeze({__proto__:null,fromHalfFloat:function BCe(e){let t=e>>10;return yu.uint32View[0]=yu.mantissaTable[yu.offsetTable[t]+(1023&e)]+yu.exponentTable[t],yu.floatView[0]},toHalfFloat:function LCe(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=cs(e,-65504,65504),yu.floatView[0]=e;let t=yu.uint32View[0],n=t>>23&511;return yu.baseTable[n]+((8388607&t)>>yu.shiftTable[n])}});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:S0}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=S0);var lT=Symbol("target"),Jj=Symbol("unsubscribe");function cT(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}var lh=Array.isArray;function dT(e){return"symbol"==typeof e}var jCe={after:(e,t)=>lh(e)?e.slice(t.length):""===t?e:e.slice(t.length+1),concat:(e,t)=>lh(e)?(e=[...e],t&&e.push(t),e):t&&void 0!==t.toString?(""!==e&&(e+="."),dT(t)?e+t.toString():e+t):e,initial:e=>{if(lh(e))return e.slice(0,-1);if(""===e)return e;let t=e.lastIndexOf(".");return-1===t?"":e.slice(0,t)},last:e=>{if(lh(e))return e[e.length-1]||"";if(""===e)return e;let t=e.lastIndexOf(".");return-1===t?e:e.slice(t+1)},walk:(e,t)=>{if(lh(e))for(let n of e)t(n);else if(""!==e){let n=0,i=e.indexOf(".");if(-1===i)t(e);else for(;n<e.length;)-1===i&&(i=e.length),t(e.slice(n,i)),n=i+1,i=e.indexOf(".",n)}},get(e,t){return this.walk(t,n=>{e&&(e=e[n])}),e}},Sc=jCe;function eV(e,t,n){return e.isUnsubscribed||t.ignoreSymbols&&dT(n)||t.ignoreUnderscores&&"_"===n.charAt(0)||"ignoreKeys"in t&&t.ignoreKeys.includes(n)}function hT(e){return"[object Object]"===toString.call(e)}function sM(){return!0}function rv(e,t){return e.length!==t.length||e.some((n,i)=>t[i]!==n)}var tV=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),WCe=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),nV={push:sM,pop:sM,shift:sM,unshift:sM,copyWithin:rv,reverse:rv,sort:rv,splice:rv,flat:rv,fill:rv},qCe=new Set([...tV,...WCe,...Object.keys(nV)]);function aM(e,t){if(e.size!==t.size)return!0;for(let n of e)if(!t.has(n))return!0;return!1}var iV=["keys","values","entries"],rV=new Set(["has","toString"]),oV={add:aM,clear:aM,delete:aM,forEach:aM},YCe=new Set([...rV,...Object.keys(oV),...iV]);function lM(e,t){if(e.size!==t.size)return!0;let n;for(let[i,r]of e)if(n=t.get(i),n!==r||void 0===n&&!t.has(i))return!0;return!1}var XCe=new Set([...rV,"get"]),sV={set:lM,clear:lM,delete:lM,forEach:lM},$Ce=new Set([...XCe,...Object.keys(sV),...iV]),Bp=class{constructor(e,t,n,i){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=i,this._changes=i?[]:null,this.clone=void 0===t?e:this._shallowClone(e)}static isHandledMethod(e){return tV.has(e)}_shallowClone(e){let t=e;if(hT(e))t={...e};else if(lh(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(n=>this._shallowClone(n)));else if(e instanceof Map){t=new Map;for(let[n,i]of e.entries())t.set(n,this._shallowClone(i))}return this._clonedCache.add(t),t}preferredThisArg(e,t,n,i){return e?(lh(i)?this._onIsChanged=nV[t]:i instanceof Set?this._onIsChanged=oV[t]:i instanceof Map&&(this._onIsChanged=sV[t]),i):n}update(e,t,n){let i=Sc.after(e,this._path);if("length"!==t){let r=this.clone;Sc.walk(i,o=>{r&&r[o]&&(this._clonedCache.has(r[o])||(r[o]=this._shallowClone(r[o])),r=r[o])}),this._hasOnValidate&&this._changes.push({path:i,property:t,previous:n}),r&&r[t]&&(r[t]=n)}this._isChanged=!0}undo(e){let t;for(let n=this._changes.length-1;-1!==n;n--)t=this._changes[n],Sc.get(e,t.path)[t.property]=t.previous}isChanged(e){return void 0===this._onIsChanged?this._isChanged:this._onIsChanged(this.clone,e)}},aV=class extends Bp{static isHandledMethod(e){return qCe.has(e)}},KCe=class extends Bp{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},lV=class extends Bp{static isHandledMethod(e){return YCe.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},cV=class extends Bp{static isHandledMethod(e){return $Ce.has(e)}undo(e){for(let[t,n]of this.clone.entries())e.set(t,n);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},QCe=class extends Bp{constructor(e,t,n,i){super(void 0,t,n,i),this._arg1=n[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},ZCe=class extends Bp{constructor(e,t,n,i){super(void 0,t,n,i),this._weakKey=n[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},ov=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return hT(e)||lh(e)||cT(e)}static isHandledMethod(e,t){return hT(e)?Bp.isHandledMethod(t):lh(e)?aV.isHandledMethod(t):e instanceof Set?lV.isHandledMethod(t):e instanceof Map?cV.isHandledMethod(t):cT(e)}get isCloning(){return this._stack.length>0}start(e,t,n){let i=Bp;lh(e)?i=aV:e instanceof Date?i=KCe:e instanceof Set?i=lV:e instanceof Map?i=cV:e instanceof WeakSet?i=QCe:e instanceof WeakMap&&(i=ZCe),this._stack.push(new i(e,t,n,this._hasOnValidate))}update(e,t,n){this._stack[this._stack.length-1].update(e,t,n)}preferredThisArg(e,t,n){let{name:i}=e,r=ov.isHandledMethod(n,i);return this._stack[this._stack.length-1].preferredThisArg(r,i,t,n)}isChanged(e,t,n){return this._stack[this._stack.length-1].isChanged(e,t,n)}undo(e){void 0!==this._previousClone&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},JCe={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},uT=(e,t,n={})=>{n={...JCe,...n};let i=Symbol("ProxyTarget"),{equals:r,isShallow:o,ignoreDetached:s,details:a}=n,l=new class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return void 0===this._descriptorCache&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let n=this._getProperties(e),i=n[t];return void 0===i&&(i=Reflect.getOwnPropertyDescriptor(e,t),n[t]=i),i}getProxy(e,t,n,i){if(this.isUnsubscribed)return e;let r=e[i],o=r||e;this._pathCache.set(o,t);let s=this._proxyCache.get(o);return void 0===s&&(s=void 0===r?new Proxy(e,n):e,this._proxyCache.set(o,s)),s}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,Sc.get(t,this.getPath(e)))}defineProperty(e,t,n){return!!Reflect.defineProperty(e,t,n)&&(this.isUnsubscribed||(this._getProperties(e)[t]=n),!0)}setProperty(e,t,n,i,r){if(!this._equals(r,n)||!(t in e)){let o=this._getOwnPropertyDescriptor(e,t);return void 0!==o&&"set"in o?Reflect.set(e,t,n,i):Reflect.set(e,t,n)}return!0}deleteProperty(e,t,n){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let i=this._getDescriptorCache().get(e);i&&(delete i[t],this._pathCache.delete(n))}return!0}return!1}isSameDescriptor(e,t,n){let i=this._getOwnPropertyDescriptor(t,n);return void 0!==e&&void 0!==i&&Object.is(e.value,i.value)&&(e.writable||!1)===(i.writable||!1)&&(e.enumerable||!1)===(i.enumerable||!1)&&(e.configurable||!1)===(i.configurable||!1)&&e.get===i.get&&e.set===i.set}isGetInvariant(e,t){let n=this._getOwnPropertyDescriptor(e,t);return void 0!==n&&!0!==n.configurable&&!0!==n.writable}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}}(r),c="function"==typeof n.onValidate,h=new ov(c),d=(O,S,D,U,Y)=>!c||h.isCloning||!0===n.onValidate(Sc.concat(l.getPath(O),S),D,U,Y),u=(O,S,D,U)=>{!eV(l,n,S)&&(!s||!l.isDetached(O,e))&&f(l.getPath(O),S,D,U)},f=(O,S,D,U,Y)=>{h.isCloning?h.update(O,S,U):t(Sc.concat(O,S),D,U,Y)},v=O=>O&&(O[i]||O),y=(O,S,D,U)=>function UCe(e){return("object"==typeof e?null===e:"function"!=typeof e)||e instanceof RegExp}(O)||"constructor"===D||o&&!ov.isHandledMethod(S,D)||eV(l,n,D)||l.isGetInvariant(S,D)||s&&l.isDetached(S,e)?O:(void 0===U&&(U=l.getPath(S)),l.getProxy(O,Sc.concat(U,D),_,i)),_={get(O,S,D){if(dT(S)){if(S===i||S===lT)return O;if(S===Jj&&!l.isUnsubscribed&&0===l.getPath(O).length)return l.unsubscribe(),O}let U=cT(O)?Reflect.get(O,S):Reflect.get(O,S,D);return y(U,O,S)},set(O,S,D,U){D=v(D);let Y=O[i]||O,q=Y[S];if(r(q,D)&&S in O)return!0;let K=d(O,S,D,q);return K&&l.setProperty(Y,S,D,U,q)?(u(O,S,O[S],q),!0):!K},defineProperty(O,S,D){if(!l.isSameDescriptor(D,O,S)){let U=O[S];d(O,S,D.value,U)&&l.defineProperty(O,S,D,U)&&u(O,S,D.value,U)}return!0},deleteProperty(O,S){if(!Reflect.has(O,S))return!0;let D=Reflect.get(O,S),U=d(O,S,void 0,D);return U&&l.deleteProperty(O,S,D)?(u(O,S,void 0,D),!0):!U},apply(O,S,D){let U=S[i]||S;if(l.isUnsubscribed)return Reflect.apply(O,U,D);if((!1===a||!0!==a&&!a.includes(O.name))&&ov.isHandledType(U)){let Y=Sc.initial(l.getPath(O)),q=ov.isHandledMethod(U,O.name);h.start(U,Y,D);let K=Reflect.apply(O,h.preferredThisArg(O,S,U),q?D.map(ie=>v(ie)):D),Z=h.isChanged(U,r),te=h.stop();if(ov.isHandledType(K)&&q&&(S instanceof Map&&"get"===O.name&&(Y=Sc.concat(Y,D[0])),K=l.getProxy(K,Y,_)),Z){let ie={name:O.name,args:D,result:K},ce=h.isCloning?Sc.initial(Y):Y,de=h.isCloning?Sc.last(Y):"";d(Sc.get(e,ce),de,U,te,ie)?f(ce,de,U,te,ie):h.undo(U)}return(S instanceof Map||S instanceof Set)&&function VCe(e){return"object"==typeof e&&"function"==typeof e.next}(K)?function HCe(e,t,n,i,r){let o=e.next;if("entries"===t.name)e.next=function(){let s=o.call(this);return!1===s.done&&(s.value[0]=r(s.value[0],t,s.value[0],i),s.value[1]=r(s.value[1],t,s.value[0],i)),s};else if("values"===t.name){let s=n[lT].keys();e.next=function(){let a=o.call(this);return!1===a.done&&(a.value=r(a.value,t,s.next().value,i)),a}}else e.next=function(){let s=o.call(this);return!1===s.done&&(s.value=r(s.value,t,s.value,i)),s};return e}(K,O,S,Y,y):K}return Reflect.apply(O,S,D)}},w=l.getProxy(e,n.pathAsArray?[]:"",_);return t=t.bind(w),c&&(n.onValidate=n.onValidate.bind(w)),w};uT.target=e=>e&&e[lT]||e,uT.unsubscribe=e=>e[Jj]||e;var e,dV=uT,hV="object"==typeof global&&global&&global.Object===Object&&global,tMe="object"==typeof self&&self&&self.Object===Object&&self,gd=hV||tMe||Function("return this")(),Ec=gd.Symbol,uV=Object.prototype,rMe=uV.hasOwnProperty,oMe=uV.toString,O_=Ec?Ec.toStringTag:void 0,cMe=Object.prototype.toString,pV=Ec?Ec.toStringTag:void 0,Em=function fMe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":pV&&pV in Object(e)?function sMe(e){var t=rMe.call(e,O_),n=e[O_];try{e[O_]=void 0;var i=!0}catch{}var r=oMe.call(e);return i&&(t?e[O_]=n:delete e[O_]),r}(e):function dMe(e){return cMe.call(e)}(e)},_u=function mMe(e){return null!=e&&"object"==typeof e},cM=function vMe(e){return"symbol"==typeof e||_u(e)&&"[object Symbol]"==Em(e)},fV=function yMe(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},ch=Array.isArray,mV=Ec?Ec.prototype:void 0,gV=mV?mV.toString:void 0,xMe=function vV(e){if("string"==typeof e)return e;if(ch(e))return fV(e,vV)+"";if(cM(e))return gV?gV.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},wMe=/\s/,PMe=/^\s+/,SMe=function OMe(e){return e&&e.slice(0,function CMe(e){for(var t=e.length;t--&&wMe.test(e.charAt(t)););return t}(e)+1).replace(PMe,"")},vd=function EMe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},DMe=/^[-+]0x[0-9a-f]+$/i,AMe=/^0b[01]+$/i,TMe=/^0o[0-7]+$/i,kMe=parseInt,_V=function IMe(e){if("number"==typeof e)return e;if(cM(e))return NaN;if(vd(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=vd(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=SMe(e);var n=AMe.test(e);return n||TMe.test(e)?kMe(e.slice(2),n?2:8):DMe.test(e)?NaN:+e},bV=function UMe(e){if(!vd(e))return!1;var t=Em(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},jMe=gd["__core-js_shared__"],xV=(e=/[^.]+$/.exec(jMe&&jMe.keys&&jMe.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",WMe=Function.prototype.toString,Dm=function qMe(e){if(null!=e){try{return WMe.call(e)}catch{}try{return e+""}catch{}}return""},XMe=/^\[object .+?Constructor\]$/,JMe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tPe=function ePe(e){return!(!vd(e)||function VMe(e){return!!xV&&xV in e}(e))&&(bV(e)?JMe:XMe).test(Dm(e))},Am=function rPe(e,t){var n=function nPe(e,t){return e?.[t]}(e,t);return tPe(n)?n:void 0},fT=Am(gd,"WeakMap"),wV=Object.create,sPe=function(){function e(){}return function(t){if(!vd(t))return{};if(wV)return wV(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),aPe=sPe,cPe=function lPe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},fPe=Date.now,yPe=function vPe(e){return function(){return e}},_Pe=function(){try{var e=Am(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dM=_Pe,bPe=dM?function(e,t){return dM(e,"toString",{configurable:!0,enumerable:!1,value:yPe(t),writable:!0})}:function RMe(e){return e},CPe=function mPe(e){var t=0,n=0;return function(){var i=fPe(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(bPe),SPe=/^(?:0|[1-9]\d*)$/,mT=function EPe(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&("number"==n||"symbol"!=n&&SPe.test(e))&&e>-1&&e%1==0&&e<t},CV=function DPe(e,t,n){"__proto__"==t&&dM?dM(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},gT=function APe(e,t){return e===t||e!=e&&t!=t},kPe=Object.prototype.hasOwnProperty,vT=function IPe(e,t,n){var i=e[t];(!kPe.call(e,t)||!gT(i,n)||void 0===n&&!(t in e))&&CV(e,t,n)},S_=function RPe(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),r?CV(n,a,l):vT(n,a,l)}return n},MV=Math.max,yT=function BPe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},PV=function zPe(e){return null!=e&&yT(e.length)&&!bV(e)},UPe=Object.prototype,_T=function jPe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||UPe)},OV=function WPe(e){return _u(e)&&"[object Arguments]"==Em(e)},SV=Object.prototype,qPe=SV.hasOwnProperty,YPe=SV.propertyIsEnumerable,XPe=OV(function(){return arguments}())?OV:function(e){return _u(e)&&qPe.call(e,"callee")&&!YPe.call(e,"callee")},bT=XPe,EV="object"==typeof exports&&exports&&!exports.nodeType&&exports,DV=EV&&"object"==typeof module&&module&&!module.nodeType&&module,AV=DV&&DV.exports===EV?gd.Buffer:void 0,hM=(AV?AV.isBuffer:void 0)||function $Pe(){return!1},go={};go["[object Float32Array]"]=go["[object Float64Array]"]=go["[object Int8Array]"]=go["[object Int16Array]"]=go["[object Int32Array]"]=go["[object Uint8Array]"]=go["[object Uint8ClampedArray]"]=go["[object Uint16Array]"]=go["[object Uint32Array]"]=!0,go["[object Arguments]"]=go["[object Array]"]=go["[object ArrayBuffer]"]=go["[object Boolean]"]=go["[object DataView]"]=go["[object Date]"]=go["[object Error]"]=go["[object Function]"]=go["[object Map]"]=go["[object Number]"]=go["[object Object]"]=go["[object RegExp]"]=go["[object Set]"]=go["[object String]"]=go["[object WeakMap]"]=!1;var xT=function O2e(e){return function(t){return e(t)}},TV="object"==typeof exports&&exports&&!exports.nodeType&&exports,E_=TV&&"object"==typeof module&&module&&!module.nodeType&&module,wT=E_&&E_.exports===TV&&hV.process,sv=function(){try{return E_&&E_.require&&E_.require("util").types||wT&&wT.binding&&wT.binding("util")}catch{}}(),kV=sv&&sv.isTypedArray,IV=kV?xT(kV):function M2e(e){return _u(e)&&yT(e.length)&&!!go[Em(e)]},T2e=Object.prototype.hasOwnProperty,RV=function k2e(e,t){var n=ch(e),i=!n&&bT(e),r=!n&&!i&&hM(e),o=!n&&!i&&!r&&IV(e),s=n||i||r||o,a=s?function VPe(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)(t||T2e.call(e,c))&&(!s||!("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mT(c,l)))&&a.push(c);return a},NV=function I2e(e,t){return function(n){return e(t(n))}},N2e=NV(Object.keys,Object),L2e=Object.prototype.hasOwnProperty,CT=function U2e(e){return PV(e)?RV(e):function B2e(e){if(!_T(e))return N2e(e);var t=[];for(var n in Object(e))L2e.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},G2e=Object.prototype.hasOwnProperty,q2e=function W2e(e){if(!vd(e))return function j2e(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=_T(e),n=[];for(var i in e)"constructor"==i&&(t||!G2e.call(e,i))||n.push(i);return n},Tm=function Y2e(e){return PV(e)?RV(e,!0):q2e(e)},X2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$2e=/^\w*$/,D_=Am(Object,"create"),oOe=Object.prototype.hasOwnProperty,cOe=Object.prototype.hasOwnProperty;function av(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}av.prototype.clear=function J2e(){this.__data__=D_?D_(null):{},this.size=0},av.prototype.delete=function tOe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},av.prototype.get=function sOe(e){var t=this.__data__;if(D_){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return oOe.call(t,e)?t[e]:void 0},av.prototype.has=function dOe(e){var t=this.__data__;return D_?void 0!==t[e]:cOe.call(t,e)},av.prototype.set=function pOe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=D_&&void 0===t?"__lodash_hash_undefined__":t,this};var FV=av,uM=function vOe(e,t){for(var n=e.length;n--;)if(gT(e[n][0],t))return n;return-1},_Oe=Array.prototype.splice;function lv(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}lv.prototype.clear=function mOe(){this.__data__=[],this.size=0},lv.prototype.delete=function bOe(e){var t=this.__data__,n=uM(t,e);return!(n<0||(n==t.length-1?t.pop():_Oe.call(t,n,1),--this.size,0))},lv.prototype.get=function wOe(e){var t=this.__data__,n=uM(t,e);return n<0?void 0:t[n][1]},lv.prototype.has=function MOe(e){return uM(this.__data__,e)>-1},lv.prototype.set=function OOe(e,t){var n=this.__data__,i=uM(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var pM=lv,A_=Am(gd,"Map"),fM=function IOe(e,t){var n=e.__data__;return function TOe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function cv(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}cv.prototype.clear=function DOe(){this.size=0,this.__data__={hash:new FV,map:new(A_||pM),string:new FV}},cv.prototype.delete=function ROe(e){var t=fM(this,e).delete(e);return this.size-=t?1:0,t},cv.prototype.get=function FOe(e){return fM(this,e).get(e)},cv.prototype.has=function BOe(e){return fM(this,e).has(e)},cv.prototype.set=function UOe(e,t){var n=fM(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var mM=cv;function MT(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(MT.Cache||mM),n}MT.Cache=mM;var HOe=MT,YOe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XOe=/\\(\\)?/g,$Oe=function WOe(e){var t=HOe(e,function(i){return 500===n.size&&n.clear(),i}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(YOe,function(n,i,r,o){t.push(r?o.replace(XOe,"$1"):i||n)}),t}),KOe=$Oe,ZOe=function QOe(e){return null==e?"":xMe(e)},dv=function JOe(e,t){return ch(e)?e:function K2e(e,t){if(ch(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cM(e))||$2e.test(e)||!X2e.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:KOe(ZOe(e))},gM=function tSe(e){if("string"==typeof e||cM(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},LV=function nSe(e,t){for(var n=0,i=(t=dv(t,e)).length;null!=e&&n<i;)e=e[gM(t[n++])];return n&&n==i?e:void 0},PT=function iSe(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},BV=Ec?Ec.isConcatSpreadable:void 0,oSe=function rSe(e){return ch(e)||bT(e)||!!(BV&&e&&e[BV])},sSe=function zV(e,t,n,i,r){var o=-1,s=e.length;for(n||(n=oSe),r||(r=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?zV(a,t-1,n,i,r):PT(r,a):i||(r[r.length]=a)}return r},lSe=function aSe(e){return null!=e&&e.length?sSe(e,1):[]},UV=function cSe(e){return CPe(function NPe(e,t,n){return t=MV(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=MV(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),cPe(e,this,a)}}(e,void 0,lSe),e+"")},OT=NV(Object.getPrototypeOf,Object),jV=Function.prototype.toString,fSe=Object.prototype.hasOwnProperty,mSe=jV.call(Object);function hv(e){var t=this.__data__=new pM(e);this.size=t.size}hv.prototype.clear=function bSe(){this.__data__=new pM,this.size=0},hv.prototype.delete=function wSe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},hv.prototype.get=function MSe(e){return this.__data__.get(e)},hv.prototype.has=function OSe(e){return this.__data__.has(e)},hv.prototype.set=function DSe(e,t){var n=this.__data__;if(n instanceof pM){var i=n.__data__;if(!A_||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new mM(i)}return n.set(e,t),this.size=n.size,this};var vM=hv,VV="object"==typeof exports&&exports&&!exports.nodeType&&exports,HV=VV&&"object"==typeof module&&module&&!module.nodeType&&module,GV=HV&&HV.exports===VV?gd.Buffer:void 0,WV=GV?GV.allocUnsafe:void 0,qV=function USe(){return[]},VSe=Object.prototype.propertyIsEnumerable,YV=Object.getOwnPropertySymbols,HSe=YV?function(e){return null==e?[]:(e=Object(e),function BSe(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(YV(e),function(t){return VSe.call(e,t)}))}:qV,ST=HSe,YSe=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)PT(t,ST(e)),e=OT(e);return t}:qV,XV=YSe,$V=function KSe(e,t,n){var i=t(e);return ch(e)?i:PT(i,n(e))},ET=function QSe(e){return $V(e,CT,ST)},KV=function ZSe(e){return $V(e,Tm,XV)},DT=Am(gd,"DataView"),AT=Am(gd,"Promise"),TT=Am(gd,"Set"),QV="[object Map]",ZV="[object Promise]",JV="[object Set]",eH="[object WeakMap]",tH="[object DataView]",iEe=Dm(DT),rEe=Dm(A_),oEe=Dm(AT),sEe=Dm(TT),aEe=Dm(fT),km=Em;(DT&&km(new DT(new ArrayBuffer(1)))!=tH||A_&&km(new A_)!=QV||AT&&km(AT.resolve())!=ZV||TT&&km(new TT)!=JV||fT&&km(new fT)!=eH)&&(km=function(e){var t=Em(e),n="[object Object]"==t?e.constructor:void 0,i=n?Dm(n):"";if(i)switch(i){case iEe:return tH;case rEe:return QV;case oEe:return ZV;case sEe:return JV;case aEe:return eH}return t});var T_=km,cEe=Object.prototype.hasOwnProperty,yM=gd.Uint8Array,kT=function pEe(e){var t=new e.constructor(e.byteLength);return new yM(t).set(new yM(e)),t},gEe=/\w*$/,nH=Ec?Ec.prototype:void 0,iH=nH?nH.valueOf:void 0,HEe=function VEe(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return kT(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function fEe(e,t){var n=t?kT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function xEe(e,t){var n=t?kT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function vEe(e){var t=new e.constructor(e.source,gEe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function _Ee(e){return iH?Object(iH.call(e)):{}}(e)}},rH=sv&&sv.isMap,KEe=rH?xT(rH):function YEe(e){return _u(e)&&"[object Map]"==T_(e)},oH=sv&&sv.isSet,tDe=oH?xT(oH):function ZEe(e){return _u(e)&&"[object Set]"==T_(e)},sH="[object Arguments]",aH="[object Function]",lH="[object Object]",lo={};lo[sH]=lo["[object Array]"]=lo["[object ArrayBuffer]"]=lo["[object DataView]"]=lo["[object Boolean]"]=lo["[object Date]"]=lo["[object Float32Array]"]=lo["[object Float64Array]"]=lo["[object Int8Array]"]=lo["[object Int16Array]"]=lo["[object Int32Array]"]=lo["[object Map]"]=lo["[object Number]"]=lo[lH]=lo["[object RegExp]"]=lo["[object Set]"]=lo["[object String]"]=lo["[object Symbol]"]=lo["[object Uint8Array]"]=lo["[object Uint8ClampedArray]"]=lo["[object Uint16Array]"]=lo["[object Uint32Array]"]=!0,lo["[object Error]"]=lo[aH]=lo["[object WeakMap]"]=!1;var cH=function _M(e,t,n,i,r,o){var s,a=1&t,l=2&t,c=4&t;if(n&&(s=r?n(e,i,r,o):n(e)),void 0!==s)return s;if(!vd(e))return e;var h=ch(e);if(h){if(s=function dEe(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&cEe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return function dPe(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(e,s)}else{var d=T_(e),u=d==aH||"[object GeneratorFunction]"==d;if(hM(e))return function FSe(e,t){if(t)return e.slice();var n=e.length,i=WV?WV(n):new e.constructor(n);return e.copy(i),i}(e,a);if(d==lH||d==sH||u&&!r){if(s=l||u?{}:function GEe(e){return"function"!=typeof e.constructor||_T(e)?{}:aPe(OT(e))}(e),!a)return l?function XSe(e,t){return S_(e,XV(e),t)}(e,function ISe(e,t){return e&&S_(t,Tm(t),e)}(s,e)):function GSe(e,t){return S_(e,ST(e),t)}(e,function TSe(e,t){return e&&S_(t,CT(t),e)}(s,e))}else{if(!lo[d])return r?e:{};s=HEe(e,d,a)}}o||(o=new vM);var f=o.get(e);if(f)return f;o.set(e,s),tDe(e)?e.forEach(function(_){s.add(_M(_,t,n,_,e,o))}):KEe(e)&&e.forEach(function(_,w){s.set(w,_M(_,t,n,w,e,o))});var y=h?void 0:(c?l?KV:ET:l?Tm:CT)(e);return function MPe(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););}(y||e,function(_,w){y&&(_=e[w=_]),vT(s,w,_M(_,t,n,w,e,o))}),s},bM=function ADe(e){return cH(e,5)};function xM(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new mM;++t<n;)this.add(e[t])}xM.prototype.add=xM.prototype.push=function kDe(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},xM.prototype.has=function RDe(e){return this.__data__.has(e)};var FDe=xM,BDe=function LDe(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},UDe=function zDe(e,t){return e.has(t)},dH=function HDe(e,t,n,i,r,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var d=-1,u=!0,f=2&n?new FDe:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var v=e[d],y=t[d];if(i)var _=s?i(y,v,d,t,e,o):i(v,y,d,e,t,o);if(void 0!==_){if(_)continue;u=!1;break}if(f){if(!BDe(t,function(w,O){if(!UDe(f,O)&&(v===w||r(v,w,n,i,o)))return f.push(O)})){u=!1;break}}else if(v!==y&&!r(v,y,n,i,o)){u=!1;break}}return o.delete(e),o.delete(t),u},WDe=function GDe(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n},YDe=function qDe(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n},hH=Ec?Ec.prototype:void 0,IT=hH?hH.valueOf:void 0,hAe=Object.prototype.hasOwnProperty,uH="[object Arguments]",pH="[object Array]",wM="[object Object]",fH=Object.prototype.hasOwnProperty,vAe=function gAe(e,t,n,i,r,o){var s=ch(e),a=ch(t),l=s?pH:T_(e),c=a?pH:T_(t),h=(l=l==uH?wM:l)==wM,d=(c=c==uH?wM:c)==wM,u=l==c;if(u&&hM(e)){if(!hM(t))return!1;s=!0,h=!1}if(u&&!h)return o||(o=new vM),s||IV(e)?dH(e,t,n,i,r,o):function aAe(e,t,n,i,r,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new yM(e),new yM(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gT(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=WDe;case"[object Set]":if(a||(a=YDe),e.size!=t.size&&!(1&i))return!1;var c=s.get(e);if(c)return c==t;i|=2,s.set(e,t);var h=dH(a(e),a(t),i,r,o,s);return s.delete(e),h;case"[object Symbol]":if(IT)return IT.call(e)==IT.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var f=h&&fH.call(e,"__wrapped__"),v=d&&fH.call(t,"__wrapped__");if(f||v){var y=f?e.value():e,_=v?t.value():t;return o||(o=new vM),r(y,_,n,i,o)}}return!!u&&(o||(o=new vM),function uAe(e,t,n,i,r,o){var s=1&n,a=ET(e),l=a.length;if(l!=ET(t).length&&!s)return!1;for(var d=l;d--;){var u=a[d];if(!(s?u in t:hAe.call(t,u)))return!1}var f=o.get(e),v=o.get(t);if(f&&v)return f==t&&v==e;var y=!0;o.set(e,t),o.set(t,e);for(var _=s;++d<l;){var w=e[u=a[d]],O=t[u];if(i)var S=s?i(O,w,u,t,e,o):i(w,O,u,e,t,o);if(!(void 0===S?w===O||r(w,O,n,i,o):S)){y=!1;break}_||(_="constructor"==u)}if(y&&!_){var D=e.constructor,U=t.constructor;D!=U&&"constructor"in e&&"constructor"in t&&!("function"==typeof D&&D instanceof D&&"function"==typeof U&&U instanceof U)&&(y=!1)}return o.delete(e),o.delete(t),y}(e,t,n,i,r,o))},yAe=function mH(e,t,n,i,r){return e===t||(null==e||null==t||!_u(e)&&!_u(t)?e!=e&&t!=t:vAe(e,t,n,i,mH,r))},bAe=function _Ae(e,t){return null!=e&&t in Object(e)},MAe=function CAe(e,t){return null!=e&&function xAe(e,t,n){for(var i=-1,r=(t=dv(t,e)).length,o=!1;++i<r;){var s=gM(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&yT(r)&&mT(s,r)&&(ch(e)||bT(e))}(e,t,bAe)},RT=function(){return gd.Date.now()},SAe=Math.max,EAe=Math.min,NT=function DAe(e,t,n){var i,r,o,s,a,l,c=0,h=!1,d=!1,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(Y){var q=i,K=r;return i=r=void 0,c=Y,s=e.apply(K,q)}function v(Y){return c=Y,a=setTimeout(w,t),h?f(Y):s}function _(Y){var q=Y-l;return void 0===l||q>=t||q<0||d&&Y-c>=o}function w(){var Y=RT();if(_(Y))return O(Y);a=setTimeout(w,function y(Y){var Z=t-(Y-l);return d?EAe(Z,o-(Y-c)):Z}(Y))}function O(Y){return a=void 0,u&&i?f(Y):(i=r=void 0,s)}function U(){var Y=RT(),q=_(Y);if(i=arguments,r=this,l=Y,q){if(void 0===a)return v(l);if(d)return clearTimeout(a),a=setTimeout(w,t),f(l)}return void 0===a&&(a=setTimeout(w,t)),s}return t=_V(t)||0,vd(n)&&(h=!!n.leading,o=(d="maxWait"in n)?SAe(_V(n.maxWait)||0,t):o,u="trailing"in n?!!n.trailing:u),U.cancel=function S(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},U.flush=function D(){return void 0===a?s:O(RT())},U},IAe=function kAe(e,t){return t.length<2?e:LV(e,function ySe(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(t,0,-1))},gH=function RAe(e,t){return yAe(e,t)},FAe=function NAe(e,t){return t=dv(t,e),null==(e=IAe(e,t))||delete e[gM(function AAe(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},BAe=function LAe(e){return function gSe(e){if(!_u(e)||"[object Object]"!=Em(e))return!1;var t=OT(e);if(null===t)return!0;var n=fSe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&jV.call(n)==mSe}(e)?void 0:e},VAe=UV(function(e,t){var n={};if(null==e)return n;var i=!1;t=fV(t,function(o){return o=dv(o,e),i||(i=o.length>1),o}),S_(e,KV(e),n),i&&(n=cH(n,7,BAe));for(var r=t.length;r--;)FAe(n,t[r]);return n}),FT=VAe,GAe=function HAe(e,t,n,i){if(!vd(e))return e;for(var r=-1,o=(t=dv(t,e)).length,s=o-1,a=e;null!=a&&++r<o;){var l=gM(t[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(r!=s){var h=a[l];void 0===(c=i?i(h,l,a):void 0)&&(c=vd(h)?h:mT(t[r+1])?[]:{})}vT(a,l,c),a=a[l]}return e},XAe=function YAe(e,t){return function WAe(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],a=LV(e,s);n(a,s)&&GAe(o,dv(s,e),a)}return o}(e,t,function(n,i){return MAe(e,i)})},$Ae=UV(function(e,t){return null==e?{}:XAe(e,t)}),bu=$Ae;function xu(e,t){return Object.setPrototypeOf(e,t),e}!(typeof window>"u")&&window.navigator.userAgent.toLowerCase().includes(" electron/")&&(()=>{if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");e?window.localStorage.setItem("desktop-app-version",e):window.localStorage.getItem("desktop-app-version")})();var CM=!(typeof window>"u")&&window.navigator.platform.toUpperCase().includes("MAC"),LT=!(typeof window>"u")&&(/iPad|iPhone|iPod/.test(window.navigator.userAgent)||CM&&"ontouchend"in document),cTe=!(typeof window>"u")&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,Zl=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0),vH=(()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)})(),yH=Number((()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]})());function _H(e){return Array.isArray(e)?e:[e]}function MM(e){return CM?e.metaKey:e.ctrlKey}var ni=[],PM={},k_={},OM={};function bH(e){ni.includes(e)||ni.push(e)}function uv(e){delete PM[e.pointerId];for(let t=0;t<ni.length;t++)if(ni[t].pointerId===e.pointerId){ni.splice(t,1);break}}function SM(e){if("touch"!==e.pointerType)return;let t=PM[e.pointerId];void 0===t&&(t={x:0,y:0},PM[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function BT(e){return PM[(e.pointerId===ni[0].pointerId?ni[1]:ni[0]).pointerId]}function xH(e){k_[e.key]=!0,OM[e.key]=void 0===OM[e.key]?1:OM[e.key]+1}function wH(e){if(CM&&k_.Meta)for(let t in k_)k_[t]=!1;else k_[e.key]=!1;OM={}}var CH,EM,fTe=new Promise(e=>{CH=e});function mTe(){if(EM)return EM;function t(){return(t=(0,Yo.Z)(function*(){let i=g.e(642).then(g.bind(g,9642)),[r,o]=yield Promise.all([i,fetch("https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build/navmesh.wasm").then(l=>l.arrayBuffer())]),s=r.default,a=yield s({wasmBinary:o});CH(a)})).apply(this,arguments)}return EM=function e(){return t.apply(this,arguments)}(),EM}var MH,DM,gTe=new Promise(e=>{MH=e});function vTe(){if(DM)return DM;function t(){return(t=(0,Yo.Z)(function*(){let n=yield g.e(615).then(g.bind(g,8615));yield n.init(),MH(n)})).apply(this,arguments)}return DM=function e(){return t.apply(this,arguments)}(),DM}var Ni=class{modifyById(e,t){let n=this;if(void 0===n[e])throw new Error("not expected");{let i={...n,[e]:t};return Object.setPrototypeOf(i,Ni.prototype),i}}add(e,t){return this.runOp({type:1,id:e,data:t})?.data??this}runOp(e){let t=this;if(1===e.type){let i,n=t[e.id];i=void 0===n?{type:2,id:e.id}:{type:1,id:e.id,data:n};let{id:r,data:o}=e,s={...t,[r]:o};return Object.setPrototypeOf(s,Ni.prototype),{data:s,actual:e,reverse:i}}if(2===e.type){let{id:n}=e,i=t[n];if(void 0===i)return null;{let r={...t};return Object.setPrototypeOf(r,Ni.prototype),delete r[n],{data:r,actual:e,reverse:{type:1,id:n,data:i}}}}return null}};function zT(e){if(void 0!==e.deepFreeze)return void e.deepFreeze(e);let t=Object.getOwnPropertyNames(e);for(let n of t){let i=e[n];i&&"object"==typeof i&&zT(i)}return Object.freeze(e)}var PH=class extends Error{};function UT(e){let t={...e};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function zp(e,t,n){if(void 0===e?void 0===t?(e=0,t=10):e=t-10:void 0===t&&(t=e+10),e>t){let o=e;e=t,t=o}let i=[],r=1/(n+1);for(let o=0;o<n;o++){let s=e+(t-e)*(o+.75+.5*Math.random())*r;i.push(s)}return i}function jT(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function OH(e,t){for(let n of e)!0!==t(n.id,n.data)&&OH(n.children,t)}function SH(e,t){if(!0!==t(e.id,e.data))for(let n of e.children)SH(n,t)}var AM,gl=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gl.prototype)}deepFreeze(){let e=0;for(;e<this.length;)zT(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let n of e.children)this.fillCaches0(n,e.id)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(!t)return e;e=t}return e}isDescendantOf(e,t){for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}data(e){return this.get(e)?.data}has(e){return void 0!==this.childrenOf(e)}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){return null===e?this:this.get(e)?.children}traverseFrom(e,t){if(null===e)this.traverse(t);else{let n=this.get(e);n&&SH(n,t)}}traverse(e){OH(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return null===e?this:this.get(e).children}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let n=this.parent(e),i=this.childrenArray(n),r=i.findIndex(s=>s.id===e);if(r<0)throw new Error("not expected");let o=i[r];return i=[...i],i[r]={...o,data:t},this.modifyArrayBy(n,i)}}modifyArrayBy(e,t){let n=e,i=t;for(;null!==n;){let o=i,s=n;if(n=this.parent(n),void 0===n)throw new Error;i=this.childrenArray(n);let a=i.findIndex(l=>l.id===s);if(a<0)throw new Error;i=[...i],i[a]={...i[a],children:o}}Object.setPrototypeOf(i,gl.prototype);let r=i;return r.fillCaches(),r}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(void 0!==this.get(e))return!0;for(let n of t)if(this.checkDuplicatedIdRec(n))return!0;return!1}addOp(e){let{parent:t,fi:n,id:i,data:r,children:o}=e;if(null!==t&&void 0===this.get(t)||this.checkDuplicatedIdRec(e))return null;{let s=t,a=this.childrenArray(s),l={fi:n,id:i,data:r,children:o};return a=[...a,l],a.sort((c,h)=>c.fi-h.fi),e.localIndex=a.indexOf(l),{data:this.modifyArrayBy(s,a),actual:e,reverse:{type:8,id:i}}}}deleteOp(e){let{id:t}=e;if(null===this.get(t))return null;{let n=this.parent(t);if(void 0===n)return null;let i=this.childrenArray(n),r=i.findIndex(s=>s.id===t);e.localIndex=r,i=[...i];let o=i.splice(r,1)[0];return{data:this.modifyArrayBy(n,i),actual:e,reverse:{type:7,...o,parent:n}}}}moveOp(e){let{parent:t,fi:n,id:i}=e;if(null!==t&&void 0===this.get(t))return this.deleteOp({type:8,id:i});if(null!==t){let d=t;for(;null!==d;){if(void 0===d)throw new Error;if(d===i)throw new PH("cyclic tree");d=this.parent(d)}}let r=this.parent(i);if(void 0===r)return null;let o=r,s=this.childrenArray(r),a=s.findIndex(d=>d.id===i);s=[...s];let l=s.splice(a,1)[0],c=this.modifyArrayBy(r,s);r=t,s=c.childrenArray(r);let h=l.fi;return l={...l,fi:n},s=[...s,l],s.sort((d,u)=>d.fi-u.fi),e.localIndex=s.indexOf(l),c=c.modifyArrayBy(r,s),{data:c,actual:e,reverse:{type:9,parent:o,fi:h,id:i}}}previous(e,t){if(null===t){let i=this.childrenArray(e);return 0===i.length?null:i[i.length-1].id}let n=null;for(let i of this.childrenArray(e)){if(i.id===t)return n;n=i.id}return null}traverseSortNext(e){let t=this.parent(e);if(void 0!==t){let n=this.childrenArray(t),i=n.findIndex(r=>r.id===e)+1;if(i<n.length)return n[i].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(void 0!==t){let n=this.childrenArray(t),i=n.findIndex(r=>r.id===e)-1;return i>=0?this.traverseSortPrevious(n[i].id):t}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);void 0!==i&&t.push({...n,...i})}t.sort((n,i)=>function yTe(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}(n.sortKey,i.sortKey));for(let n of t)delete n.sortKey;return t}getWithSortKey(e){var t=e;let n=[],i=this.get(t),r=i;if(void 0!==i){for(;t;)n.splice(0,0,i.fi),null!==(t=this.parent(t))&&(i=this.get(t));return{...r,sortKey:n}}}insertBeforeHelper(e,t,n){return this.insertAfterHelper(e,this.previous(e,t),n)}insertAfterHelper(e,t,n){let i=this.childrenArray(e);if(null===t){if(0===i.length)return zp(0,n,n);{let r=i[0].fi;return zp(r-n,r,n)}}{let r=this.get(t);if(void 0===r||this.parent(t)!==e)throw new Error("illegal args");let o=i.find(s=>s.fi>r.fi);if(void 0===o){let s=i[i.length-1].fi;return zp(s,s+n,n)}return zp(r.fi,o.fi,n)}}};(e=>{e.runOp=function t(n,i){if(0!==i.type)return null;if(Array.isArray(n)){let r=i.props,o={},s=[...n],a=!1;if(r)for(let l of Object.keys(r)){let c=parseInt(l);if(isNaN(c))throw new Error("wrong index");o[l]=s[c],s[c]=r[l],a=!0}return a?{data:s,actual:i,reverse:{type:0,props:o}}:null}{let r=i.props,o={},s={...n},a=!1;if(r)for(let l of Object.keys(r)){o[l]=s[l];let c=r[l];void 0===c?delete s[l]:s[l]=c,a=!0}return a?{data:s,actual:i,reverse:{type:0,props:o}}:null}}})(AM||(AM={}));var Zn=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Zn.prototype)}deepFreeze(){let e=0;for(;e<this.length;)zT(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){return this.get(e)?.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let n=this,i=n.findIndex(o=>o.id===e);if(i<0)throw new Error("not expected");let r=n[i];return n=[...n],n[i]={...r,data:t},this.modifyArrayBy(n)}}modifyArrayBy(e){Object.setPrototypeOf(e,Zn.prototype);let t=e;return function _Te(){return typeof process<"u"}()||t.fillCaches(),t}runOp(e){switch(e.type){case 4:return this.addOp(e);case 5:return this.deleteOp(e);case 6:return this.moveOp(e)}return null}addOp(e){let{fi:t,id:n,data:i}=e,r=this,o={fi:t,id:n,data:i};return r=[...r,o],r.sort((s,a)=>s.fi-a.fi),e.localIndex=r.indexOf(o),{data:this.modifyArrayBy(r),actual:e,reverse:{type:5,id:n}}}deleteOp(e){let{id:t}=e,n=this,i=n.findIndex(o=>o.id===t);if(-1===i)return null;e.localIndex=i,n=[...n];let r=n.splice(i,1)[0];return{data:this.modifyArrayBy(n),actual:e,reverse:{type:4,...r}}}moveOp(e){let{fi:t,id:n}=e,i=this;i=[...i];let r=i.findIndex(a=>a.id===n);if(-1===r)return null;let o=i[r].fi,s={...i[r],fi:t};return i[r]=s,i.sort((a,l)=>a.fi-l.fi),e.localIndex=i.indexOf(s),{data:this.modifyArrayBy(i),actual:e,reverse:{type:6,fi:o,id:n}}}previous(e){if(null===e)return 0===this.length?null:this[this.length-1].id;let t=null;for(let n of this){if(n.id===e)return t;t=n.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let n=this;if(null===e){if(0===n.length)return zp(0,t,t);{let i=n[0].fi;return zp(i-t,i,t)}}{let i=this.get(e);if(void 0===i)throw new Error("illegal args");let r=n.find(o=>o.fi>i.fi);if(void 0===r){let o=n[n.length-1].fi;return zp(o,o+t,t)}return zp(i.fi,r.fi,t)}}};function pv(e){return e&&"object"==typeof e&&e instanceof ks}var Up,GT,wa,WT,ks=class{unusedFunOverridesTable(e){}runOp(e){let t=[],n=this,i=0,r={};for(;i<e.path.length;){if(t.push(n),n=void 0===n?void 0:n[e.path[i]],void 0!==n&&!pv(n))return null;i+=1}n=n?UT(n):new ks;for(let[a,l]of Object.entries(e.props))r[a]=n[a],void 0===l?delete n[a]:n[a]=l;for(;i>0;){if(0===Object.keys(n).length){let a=t[i-1];a&&(n=UT(a),delete n[e.path[i-1]])}else{let a=t[i-1];if(a){let l=UT(a);l[e.path[i-1]]=n,n=l}else{let l=new ks;l[e.path[i-1]]=n,n=l}}i-=1}return{data:Object.setPrototypeOf(n,ks.prototype),actual:e,reverse:{...e,props:r}}}};function VT(e,t){if(void 0===t)return;let n=!1,i=e.map(r=>{let o=r.id,s=I_(r.data,t[o]);if(n=n||void 0!==s,void 0===s&&(s=r.data),r.children){let a=VT(r.children,t);return void 0!==a?n=!0:a=r.children,{...r,id:o,data:s,children:a}}return{...r,id:o,data:s}});return n?i:void 0}function I_(e,t){if(!pv(t))return t;if(e instanceof gl){let n=VT(e,t);return void 0!==n&&Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}if(e instanceof Zn)return function bTe(e,t){if(void 0===t)return;let n=!1,i=e.map(r=>{let o=r.id,s=I_(r.data,t[o]);return n=n||void 0!==s,void 0===s&&(s=r.data),{...r,id:o,data:s}});return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}(e,t);if(Array.isArray(e)){let n=!1,i=e.map((r,o)=>{let s=I_(r,t[o]);return n=n||void 0!==s,void 0===s&&(s=r),s});return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}if(e instanceof ks)return HT(e,t);if(e&&"object"==typeof e){let n={},i=!1;for(let[r,o]of Object.entries(e)){let s=I_(o,t[r]);i=i||void 0!==s,void 0===s&&(s=o),n[r]=s}return i?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}}function HT(e,t){if(void 0===e)return t;if(void 0===t)return e;if(!pv(t))return t;if(!pv(e))return Up.apply(e,t);let n=new Set;for(let r of Object.keys(e))n.add(r);for(let r of Object.keys(t))n.add(r);let i=new ks;for(let r of n){let o=HT(void 0===e?void 0:e[r],void 0===t?void 0:t[r]);i[r]=o}return i}function xTe(e,t){let n={cur:[],result:[],len:0};return[e=R_(e,t,n)??e,n.result]}function TM(e,t){return null===e?null:(e.cur[e.len]=t,e.len+=1,e)}function kM(e){e&&(e.len-=1)}function EH(e,t,n){let i=!1,r=e.map(o=>{let s=o.id,a=t[s];if(void 0!==a&&"string"==typeof a&&(i=!0,s=a,null!==n))throw new Error("not supported");let l=R_(o.data,t,TM(n,s));kM(n),i=i||void 0!==l,void 0===l&&(l=o.data);let c=EH(o.children,t,n);return void 0!==c?i=!0:c=o.children,{...o,id:s,data:l,children:c}});if(i)return r}function R_(e,t,n){if(e instanceof gl){let i=EH(e,t,n);return void 0!==i&&Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}if(e instanceof Zn)return function CTe(e,t,n){let i=!1,r=e.map(o=>{let s=o.id,a=t[s];if(void 0!==a&&"string"==typeof a&&(i=!0,s=a,null!==n))throw new Error("not supported");let l=R_(o.data,t,TM(n,s));return kM(n),i=i||void 0!==l,void 0===l&&(l=o.data),{...o,id:s,data:l}});if(i)return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}(e,t,n);if(Array.isArray(e)){let i=!1,r=e.map((o,s)=>{let a=R_(o,t,TM(n,s));return kM(n),i=i||void 0!==a,void 0===a&&(a=o),a});return i?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}if(e&&"object"==typeof e&&!jT(e)){let i={},r=!1;for(let[o,s]of Object.entries(e))if("name"!==o){let a=t[o];if("string"==typeof a){if(null!==n)throw new Error("not supported");r=!0,o=a}let l=R_(s,t,TM(n,o));kM(n),r=r||void 0!==l,void 0===l&&(l=s),i[o]=l}else i[o]=s;return r?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}if("string"==typeof e){let i=t[e];return void 0!==i&&function wTe(e){if(null===e)return null;e.result.push(e.cur.slice(0,e.len))}(n),i}}(e=>{e.apply=function t(r,o){return I_(r,o)??r},e.merge=function n(r,o){return HT(r,o)},e.filterOp=function i(r,o){let s=0,a=o.path,l=r;for(;s<a.length&&void 0!==l;){if(l=qa.zoomOnce(l,a[s]),void 0===l)return o;if(!pv(l))return;s+=1}if(void 0===l)return o;if(pv(l)){if(0===o.type){let c={...o.props};for(let h of Object.keys(l))delete c[h];return{...o,props:c}}if(1===o.type||4===o.type||7===o.type){let c=VT([o],l);return c?(console.log(c),c):o}return o}}})(Up||(Up={})),(e=>{e.replaceProps=function t(n,i){let r=qa.zoom(i,n.path);if("object"==typeof r){let o={};for(let s of Object.keys(n.props))o[s]=r[s];return{...n,props:o}}return{...n,props:{}}}})(GT||(GT={})),(e=>{function i(l,c){let h=c.path;for(var d=[];;){let u;if(l instanceof ks&&0===c.type&&(u=l.runOp({...c,path:h.slice(d.length)}),null===u&&(u=void 0)),void 0===u&&d.length===h.length&&(u=l instanceof gl||l instanceof Zn||l instanceof Ni?l.runOp(c):AM.runOp(l,c)),void 0!==u){if(null!==u){let y=u.data;for(let _=d.length-1;_>=0;_--){let w=h[_],O=d[_];if(O instanceof gl){if("number"==typeof w)throw new Error("illegal arg");y=O.modifyById(w,y)}else if(O instanceof Zn){if("number"==typeof w)throw new Error("illegal arg");y=O.modifyById(w,y)}else if(O instanceof Ni){if("number"==typeof w)throw new Error("illegal arg");y=O.modifyById(w,y)}else if(O instanceof ks){let S={...O,[w]:y};y=Object.setPrototypeOf(S,ks.prototype)}else{if("object"!=typeof O)return null;if(Array.isArray(O)){if("string"==typeof w&&(w=parseInt(w),isNaN(w)))throw new Error("Invalid path");let S=y;y=[...O],y[w]=S}else y={...O,[w]:y}}}return{data:y,actual:{...u.actual,path:h},reverse:{...u.reverse,path:h}}}return null}let v,f=h[d.length];if(l instanceof gl){if("number"==typeof f)throw new Error("");v=l.get(f)?.data}else if(l instanceof Zn){if("number"==typeof f)throw new Error("");v=l.get(f)?.data}else null!==l&&(v=l[f]);if(void 0===v)return null;d.push(l),l=v}}function r(l,c){for(let h=0;h<l.length&&h<c.length;h++)if(l[h]!==c[h])return!0;return!1}function o(l,c){if(l.length!==c.length)return!1;for(let h=0;h<l.length;h++)if(l[h]!==c[h])return!1;return!0}e.drop=function t(l,c){return{...l,path:l.path.slice(c)}},e.applySimple=function n(l,c){return i(l,c)?.data??l},e.apply=i,e.pathDisjoint=r,e.pathEq=o,e.commutative=function s(l,c){return r(l.path,c.path)},e.subsumed=function a(l,c){return!(0!==l.type||0!==c.type||!o(l.path,c.path))&&Object.keys(l.props).every(h=>void 0!==c.props[h])}})(wa||(wa={})),(e=>{function l(c,h){var d=c;let u=[],f=[];for(let v of h)try{if(3===v.type||5===v.type&&"variables"===v.path[v.path.length-1]){let y,_,w;if(3===v.type?(y=qa.zoom(d,[...v.path,v.id]),w=wa.apply(d,{...v,type:2})):(y=qa.zoom(d,[...v.path,v.id,"value"]),w=wa.apply(d,v)),null!==w){d=w.data;let[O,S]=xTe(d,{[v.id]:y});d=O;for(let D=0;D<S.length;D++){let U=S[D],Y=U.pop();if("number"==typeof Y){let q=[Y];for(let Z=D+1;Z<S.length;Z++){let te=S[Z],ie=te[te.length-1];if("number"!=typeof ie||!qa.equal(U,te.slice(0,te.length-1)))break;q.push(ie),S.splice(Z,1)}let K=qa.zoom(d,U);_=K.map((Z,te)=>q.includes(te)?v.id:Z),y=K,Y=U.pop()}else{if("alphaOverride"===Y||"alpha"===Y){y/=100;let q=y,K=qa.zoom(d,U.slice(0,U.length-2)),Z=K.layers.map(te=>te.id===U[U.length-1]?{...te,data:{...te.data,[Y]:q}}:te);Object.setPrototypeOf(Z,Object.getPrototypeOf(K.layers)),K.layers=Z}_=v.id}u.push({type:0,path:U,props:{[Y]:y}}),f.push({type:0,path:U,props:{[Y]:_}})}f.push(w.reverse),u.push(w.actual)}}else{let y=wa.apply(d,v);null!==y&&(u.push(y.actual),d=y.data,f.push(y.reverse))}}catch(y){if(y instanceof PH)return null;throw y}return{data:d,actual:u,reverse:f.reverse()}}e.empty=function t(){return[]},e.removePrefix=function n(c,h){let d=[];for(let u of c){let[f,...v]=u.path;f===h&&d.push({...u,path:v})}return d},e.addPrefix=function i(c,h){return c.map(d=>({...d,path:[h,...d.path]}))},e.concat=function r(c,h){return[...c,...h]},e.compress=function o(c,h){return[...c.filter(d=>!h.some(u=>wa.subsumed(d,u))),...h]},e.commutative=function s(c,h){return c.every(d=>h.every(u=>wa.commutative(d,u)))},e.applyAll=function a(c,h){for(let d of h){let u=l(c,d);null!==u&&(c=u.data)}return c},e.apply=l})(WT||(WT={}));var DH=Symbol(),MTe=Symbol(),IM=Symbol(),N_=class{reportOp(e,t,n=[]){let i=this;if(null===t)return;i._current=t.data;let r=n;for(;!(i instanceof TH);){let o=i._path,s=i._current;if(""!==o&&r.splice(0,0,o),i=i._parent,null===i)return;i.update(o,s)}i.push(r,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let n=t[IM];n&&n(),delete this._children[e]}}}},PTe=class extends N_{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){if(Array.isArray(this._current)){if("string"==typeof e&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current={...this._current,[e]:t}}runOp(e){this.reportOp(e,AM.runOp(this._current,e),e.path)}},OTe=class extends N_{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){this._current={...this._current,[e]:t},Object.setPrototypeOf(this._current,Ni.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},AH={get(e,t){if(t===IM)return()=>{e._parent=null};if(t===DH)return e._current;if(t===MTe)return e;let{_current:n,_children:i}=e;if("push"===t&&Array.isArray(n))throw new Error("not supported to expand array");let r=void 0===i?void 0:i[t];if(void 0!==r)return r;let o=n[t],s=RM(e,t,o);return s!==o?(void 0===i&&(i={},e._children=i),i[t]=s,s):o},has:(e,t)=>t in e._current,ownKeys:e=>Reflect.ownKeys(e._current),defineProperty(){throw Error("not supported")},getPrototypeOf:e=>Object.getPrototypeOf(e._current),setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let n=e._current,i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:!0,enumerable:i.enumerable,value:n[t]}}},STe={...AH,set(e,t,n){let i={type:0,props:{[t]:hs(n)??n}};return e.deleteChildren(t),e.runOp(i),!0},deleteProperty(e,t){let n={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(n),!0}},ETe={...AH,set(e,t,n){return void 0===n?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:n})),!0},deleteProperty:(e,t)=>(e.runOp({type:2,id:t}),!0)},qT=class extends N_{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[IM]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,n)=>{e(t,this.data(t))})}data(e){let{_current:t,_children:n}=this,i=void 0===n?void 0:n[e];if(void 0!==i)return i;let r=t.get(e)?.data,o=RM(this,e,r);return o!==r?(void 0===n&&(n={},this._children=n),n[e]=o,o):r}add(e,t,n,i,r){this.runOp({type:7,parent:e,fi:t,id:n,data:i,children:r})}move(e,t,n){this.runOp({type:9,parent:e,fi:t,id:n})}insertAfter(e,t,n){let i=this._current.insertAfterHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.add(e,i[r],o.id,o.data,o.children)}}insertBefore(e,t,n){let i=this._current.insertBeforeHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.add(e,i[r],o.id,o.data,o.children)}}moveAfter(e,t,n){let i=this._current.insertAfterHelper(e,t,n.length);for(let r=0;r<n.length;r++)this.move(e,i[r],n[r])}moveBefore(e,t,n){let i=this._current.insertBeforeHelper(e,t,n.length);for(let r=0;r<n.length;r++)this.move(e,i[r],n[r])}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},YT=class extends N_{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[IM]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let n=0;n<t;n++){let i=this._current[n].id,r=this._current[n].fi;e(this.data(this._current[n].id),i,r)}}find(e){let t=this.length;for(let n=0;n<t;n++){let i=this._current[n].id;if(e(this.data(i),i))return this.get(i)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return{...this._current.get(e),data:this.data(e)}}data(e){let{_current:t,_children:n}=this,i=void 0===n?void 0:n[e];if(void 0!==i)return i;let r=t.get(e)?.data,o=RM(this,e,r);return o!==r?(void 0===n&&(n={},this._children=n),n[e]=o,o):r}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,n){this.runOp({type:4,fi:e,id:t,data:n})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.add(n[i],r.id,r.data)}}insertBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.add(n[i],r.id,r.data)}}moveAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++)this.move(n[i],t[i])}moveBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++)this.move(n[i],t[i])}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function XT(e,t,n){if(e.length>0){let i=e[e.length-1];if(0===i.type&&0===t.type&&qa.equal(i.path,n))return void Object.assign(i.props,t.props)}e.push({...t,path:n})}var qa,TH=class extends N_{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(""!==e)throw new Error("");this._current=t}push(e,t,n,i){XT(this.ts,t,e),XT(this.actual,n,e),XT(this.reverse,i,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function RM(e,t,n){return n instanceof gl?new qT(e,t,n):n instanceof Zn?new YT(e,t,n):n instanceof Ni?new Proxy(new OTe(e,t,n),ETe):null!==n&&"object"==typeof n?jT(n)?n:new Proxy(new PTe(e,t,n),STe):n}function kH(e){let t=new TH(e);return[RM(t,"",e),t]}function F_(e,t){let[n,i]=kH(e);return t(n),i.result()}function hs(e){return e instanceof qT||e instanceof YT?e._current:null!==e&&"object"==typeof e?e[DH]:e}function Dc(e,t){let n=[];if(!(t.length<=e.length))return null;for(var i=0;i<t.length;){if("*"===t[i])n.push(e[i]);else if(e[i]!==t[i])return null;i+=1}return n}(e=>{function i(o,s){return(o instanceof gl||o instanceof qT)&&"string"==typeof s||(o instanceof Zn||o instanceof YT)&&"string"==typeof s?o.data(s):"number"==typeof s&&Array.isArray(o)||"string"==typeof s&&"object"==typeof o&&null!==o?o[s]:void 0}function r(o,s,a=0){for(;a<s.length&&void 0!==o;)o=i(o,s[a]),a+=1;return o}e.equal=function t(o,s){if(s.length!==o.length)return!1;for(var a=0;a<o.length;){if(o[a]!==s[a])return!1;a+=1}return!0},e.removeOverridden=function n(o,s,a){let l=r(a,o);if(void 0!==l&&"object"==typeof l&&null!==l){let c={...s};return Object.keys(l).forEach(h=>{delete c[h]}),c}return s},e.zoomOnce=i,e.zoom=r})(qa||(qa={}));var $T,IH=class{},RH=class extends IH{constructor(e){super(),this.id=e}},NH=class extends IH{constructor(e){super(),this.data=e}};try{$T=new TextDecoder}catch{}var Sn,jp,mr,Vp,Jl,wu,Mr,nt=0,FH=[],KT=FH,QT=0,vl={},Ac=0,dh=0,Ya=[],LH={useRecords:!1,mapsAsObjects:!0},BH=class{},zH=new BH;zH.name="MessagePack 0xC1";var fv=!1,NM=class{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(Sn)return QH(()=>(n3(),this?this.unpack(e,t):NM.prototype.unpack.call(LH,e,t)));jp=t>-1?t:e.length,nt=0,QT=0,dh=0,Vp=null,KT=FH,Jl=null,Sn=e;try{Mr=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw Sn=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof NM){if(vl=this,this.structures)return mr=this.structures,FM();(!mr||mr.length>0)&&(mr=[])}else vl=LH,(!mr||mr.length>0)&&(mr=[]);return FM()}unpackMultiple(e,t){let n,i=0;try{fv=!0;let r=e.length,o=this?this.unpack(e,r):BM.unpack(e,r);if(!t){for(n=[o];nt<r;)i=nt,n.push(FM());return n}for(t(o);nt<r;)if(i=nt,!1===t(FM()))return}catch(r){throw r.lastPosition=i,r.values=n,r}finally{fv=!1,n3()}}_mergeStructures(e,t){for(let n=0,i=(e=e||[]).length;n<i;n++){let r=e[n];r&&(r.isShared=!0,n>=32&&(r.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let i=e[n],r=t[n];r&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[n]=i),e[n]=r)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function FM(){try{if(!vl.trusted&&!fv){let t=mr.sharedLength||0;t<mr.length&&(mr.length=t)}let e=Fo();if(nt==jp)mr.restoreStructures&&UH(),mr=null,Sn=null,wu&&(wu=null);else{if(nt>jp){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}if(!fv)throw new Error("Data read, but end of buffer not reached")}return e}catch(e){throw mr.restoreStructures&&UH(),n3(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function UH(){for(let e in mr.restoreStructures)mr[e]=mr.restoreStructures[e];mr.restoreStructures=null}function Fo(){let e=Sn[nt++];if(e<160){if(e<128){if(e<64)return e;{let t=mr[63&e]||vl.getStructures&&VH()[63&e];return t?(t.read||(t.read=ZT(t,63&e)),t.read()):e}}if(e<144){if(e-=128,vl.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[YH()]=Fo();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(Fo(),Fo());return t}}{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=Fo();return t}}if(e<192){let t=e-160;if(dh>=nt)return Vp.slice(nt-Ac,(nt+=t)-Ac);if(0==dh&&jp<140){let n=t<16?e3(t):WH(t);if(null!=n)return n}return JT(t)}{let t;switch(e){case 192:return null;case 193:return Jl?(t=Fo(),t>0?Jl[1].slice(Jl.position1,Jl.position1+=t):Jl[0].slice(Jl.position0,Jl.position0-=t)):zH;case 194:return!1;case 195:return!0;case 196:return t3(Sn[nt++]);case 197:return t=Mr.getUint16(nt),nt+=2,t3(t);case 198:return t=Mr.getUint32(nt),nt+=4,t3(t);case 199:return Im(Sn[nt++]);case 200:return t=Mr.getUint16(nt),nt+=2,Im(t);case 201:return t=Mr.getUint32(nt),nt+=4,Im(t);case 202:if(t=Mr.getFloat32(nt),vl.useFloat32>2){let n=r3[(127&Sn[nt])<<1|Sn[nt+1]>>7];return nt+=4,(n*t+(t>0?.5:-.5)>>0)/n}return nt+=4,t;case 203:return t=Mr.getFloat64(nt),nt+=8,t;case 204:return Sn[nt++];case 205:return t=Mr.getUint16(nt),nt+=2,t;case 206:return t=Mr.getUint32(nt),nt+=4,t;case 207:return vl.int64AsNumber?(t=4294967296*Mr.getUint32(nt),t+=Mr.getUint32(nt+4)):t=Mr.getBigUint64(nt),nt+=8,t;case 208:return Mr.getInt8(nt++);case 209:return t=Mr.getInt16(nt),nt+=2,t;case 210:return t=Mr.getInt32(nt),nt+=4,t;case 211:return vl.int64AsNumber?(t=4294967296*Mr.getInt32(nt),t+=Mr.getUint32(nt+4)):t=Mr.getBigInt64(nt),nt+=8,t;case 212:if(t=Sn[nt++],114==t)return XH(63&Sn[nt++]);{let n=Ya[t];if(n)return n.read?(nt++,n.read(Fo())):n.noBuffer?(nt++,n()):n(Sn.subarray(nt,++nt));throw new Error("Unknown extension "+t)}case 213:return t=Sn[nt],114==t?(nt++,XH(63&Sn[nt++],Sn[nt++])):Im(2);case 214:return Im(4);case 215:return Im(8);case 216:return Im(16);case 217:return t=Sn[nt++],dh>=nt?Vp.slice(nt-Ac,(nt+=t)-Ac):TTe(t);case 218:return t=Mr.getUint16(nt),dh>=(nt+=2)?Vp.slice(nt-Ac,(nt+=t)-Ac):kTe(t);case 219:return t=Mr.getUint32(nt),dh>=(nt+=4)?Vp.slice(nt-Ac,(nt+=t)-Ac):ITe(t);case 220:return t=Mr.getUint16(nt),nt+=2,HH(t);case 221:return t=Mr.getUint32(nt),nt+=4,HH(t);case 222:return t=Mr.getUint16(nt),nt+=2,GH(t);case 223:return t=Mr.getUint32(nt),nt+=4,GH(t);default:if(e>=224)return e-256;if(void 0===e){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}var ATe=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function ZT(e,t){function n(){if(n.count++>2){let r=e.read=new Function("r","return function(){return {"+e.map(o=>ATe.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}}")(Fo);return 0===e.highByte&&(e.read=jH(t,e.read)),r()}let i={};for(let r=0,o=e.length;r<o;r++)i[e[r]]=Fo();return i}return n.count=0,0===e.highByte?jH(t,n):n}var jH=(e,t)=>function(){let n=Sn[nt++];if(0===n)return t();let i=e<32?-(e+(n<<5)):e+(n<<5),r=mr[i]||VH()[i];if(!r)throw new Error("Record id is not defined for "+i);return r.read||(r.read=ZT(r,e)),r.read()};function VH(){let e=QH(()=>(Sn=null,vl.getStructures()));return mr=vl._mergeStructures(e,mr)}var JT=LM,TTe=LM,kTe=LM,ITe=LM;function LM(e){let t;if(e<16&&(t=e3(e)))return t;if(e>64&&$T)return $T.decode(Sn.subarray(nt,nt+=e));let n=nt+e,i=[];for(t="";nt<n;){let r=Sn[nt++];if(0==(128&r))i.push(r);else if(192==(224&r)){let o=63&Sn[nt++];i.push((31&r)<<6|o)}else if(224==(240&r)){let o=63&Sn[nt++],s=63&Sn[nt++];i.push((31&r)<<12|o<<6|s)}else if(240==(248&r)){let l=(7&r)<<18|(63&Sn[nt++])<<12|(63&Sn[nt++])<<6|63&Sn[nt++];l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l)}else i.push(r);i.length>=4096&&(t+=qs.apply(String,i),i.length=0)}return i.length>0&&(t+=qs.apply(String,i)),t}function HH(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=Fo();return t}function GH(e){if(vl.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[YH()]=Fo();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(Fo(),Fo());return t}}var qs=String.fromCharCode;function WH(e){let t=nt,n=new Array(e);for(let i=0;i<e;i++){let r=Sn[nt++];if((128&r)>0)return void(nt=t);n[i]=r}return qs.apply(String,n)}function e3(e){if(e<4){if(e<2){if(0===e)return"";{let t=Sn[nt++];return(128&t)>1?void(nt-=1):qs(t)}}{let t=Sn[nt++],n=Sn[nt++];if((128&t)>0||(128&n)>0)return void(nt-=2);if(e<3)return qs(t,n);let i=Sn[nt++];return(128&i)>0?void(nt-=3):qs(t,n,i)}}{let t=Sn[nt++],n=Sn[nt++],i=Sn[nt++],r=Sn[nt++];if((128&t)>0||(128&n)>0||(128&i)>0||(128&r)>0)return void(nt-=4);if(e<6){if(4===e)return qs(t,n,i,r);{let o=Sn[nt++];return(128&o)>0?void(nt-=5):qs(t,n,i,r,o)}}if(e<8){let o=Sn[nt++],s=Sn[nt++];if((128&o)>0||(128&s)>0)return void(nt-=6);if(e<7)return qs(t,n,i,r,o,s);let a=Sn[nt++];return(128&a)>0?void(nt-=7):qs(t,n,i,r,o,s,a)}{let o=Sn[nt++],s=Sn[nt++],a=Sn[nt++],l=Sn[nt++];if((128&o)>0||(128&s)>0||(128&a)>0||(128&l)>0)return void(nt-=8);if(e<10){if(8===e)return qs(t,n,i,r,o,s,a,l);{let c=Sn[nt++];return(128&c)>0?void(nt-=9):qs(t,n,i,r,o,s,a,l,c)}}if(e<12){let c=Sn[nt++],h=Sn[nt++];if((128&c)>0||(128&h)>0)return void(nt-=10);if(e<11)return qs(t,n,i,r,o,s,a,l,c,h);let d=Sn[nt++];return(128&d)>0?void(nt-=11):qs(t,n,i,r,o,s,a,l,c,h,d)}{let c=Sn[nt++],h=Sn[nt++],d=Sn[nt++],u=Sn[nt++];if((128&c)>0||(128&h)>0||(128&d)>0||(128&u)>0)return void(nt-=12);if(e<14){if(12===e)return qs(t,n,i,r,o,s,a,l,c,h,d,u);{let f=Sn[nt++];return(128&f)>0?void(nt-=13):qs(t,n,i,r,o,s,a,l,c,h,d,u,f)}}{let f=Sn[nt++],v=Sn[nt++];if((128&f)>0||(128&v)>0)return void(nt-=14);if(e<15)return qs(t,n,i,r,o,s,a,l,c,h,d,u,f,v);let y=Sn[nt++];return(128&y)>0?void(nt-=15):qs(t,n,i,r,o,s,a,l,c,h,d,u,f,v,y)}}}}}function t3(e){return vl.copyBuffers?Uint8Array.prototype.slice.call(Sn,nt,nt+=e):Sn.subarray(nt,nt+=e)}function Im(e){let t=Sn[nt++];if(Ya[t])return Ya[t](Sn.subarray(nt,nt+=e));throw new Error("Unknown extension type "+t)}var qH=new Array(4096);function YH(){let e=Sn[nt++];if(!(e>=160&&e<192))return nt--,Fo();if(e-=160,dh>=nt)return Vp.slice(nt-Ac,(nt+=e)-Ac);if(!(0==dh&&jp<180))return JT(e);let o,t=4095&(e<<5^(e>1?Mr.getUint16(nt):e>0?Sn[nt]:0)),n=qH[t],i=nt,r=nt+e-3,s=0;if(n&&n.bytes==e){for(;i<r;){if(o=Mr.getUint32(i),o!=n[s++]){i=1879048192;break}i+=4}for(r+=3;i<r;)if(o=Sn[i++],o!=n[s++]){i=1879048192;break}if(i===r)return nt=i,n.string;r-=3,i=nt}for(n=[],qH[t]=n,n.bytes=e;i<r;)o=Mr.getUint32(i),n.push(o),i+=4;for(r+=3;i<r;)o=Sn[i++],n.push(o);let a=e<16?e3(e):WH(e);return n.string=null!=a?a:JT(e)}var XH=(e,t)=>{var n=Fo();let i=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let r=mr[e];return r&&r.isShared&&((mr.restoreStructures||(mr.restoreStructures=[]))[e]=r),mr[e]=n,n.read=ZT(n,i),n.read()},$H="object"==typeof self?self:global;Ya[0]=()=>{},Ya[0].noBuffer=!0,Ya[101]=()=>{let e=Fo();return($H[e[0]]||Error)(e[1])},Ya[105]=e=>{let t=Mr.getUint32(nt-4);wu||(wu=new Map);let i,n=Sn[nt];i=n>=144&&n<160||220==n||221==n?[]:{};let r={target:i};wu.set(t,r);let o=Fo();return r.used?Object.assign(i,o):(r.target=o,o)},Ya[112]=e=>{let t=Mr.getUint32(nt-4),n=wu.get(t);return n.used=!0,n.target},Ya[115]=()=>new Set(Fo());var KH=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");function QH(e){let t=jp,n=nt,i=QT,r=Ac,o=dh,s=Vp,a=KT,l=wu,c=Jl,h=new Uint8Array(Sn.slice(0,jp)),d=mr,u=mr.slice(0,mr.length),f=vl,v=fv,y=e();return jp=t,nt=n,QT=i,Ac=r,dh=o,Vp=s,KT=a,wu=l,Jl=c,Sn=h,fv=v,(mr=d).splice(0,mr.length,...u),vl=f,Mr=new DataView(Sn.buffer,Sn.byteOffset,Sn.byteLength),y}function n3(){Sn=null,wu=null,mr=null}Ya[116]=e=>{let t=e[0],n=KH[t];if(!n)throw new Error("Could not find typed array for code "+t);return new $H[n](Uint8Array.prototype.slice.call(e,1).buffer)},Ya[120]=()=>{let e=Fo();return new RegExp(e[0],e[1])},Ya[98]=e=>{let n=nt;nt+=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]-4,(Jl=[Fo(),Fo()]).position0=0,Jl.position1=0;let i=nt;nt=n;try{return Fo()}finally{nt=i}},Ya[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");var r3=new Array(147);for(let e=0;e<256;e++)r3[e]=+("1e"+Math.floor(45.15-.30103*e));var zM,BM=new NM({useRecords:!1}),FTe=new Float32Array(1);new Uint8Array(FTe.buffer,0,4);try{zM=new TextEncoder}catch{}var UM,o3,It,Zo,hh,jM=typeof Buffer<"u",s3=jM?Buffer.allocUnsafeSlow:Uint8Array,ZH=jM?Buffer:Uint8Array,JH=jM?4294967296:2144337920,vt=0,uh=null,LTe=/[\u0080-\uFFFF]/,L_=Symbol("record-id"),eG=class extends NM{constructor(e){super(e),this.offset=0;let n,i,r,o,s,a=0,l=ZH.prototype.utf8Write?function(q,K,Z){return It.utf8Write(q,K,Z)}:!(!zM||!zM.encodeInto)&&function(q,K){return zM.encodeInto(q,It.subarray(K)).written},c=this;e||(e={});let h=e&&e.sequential,d=e.structures||e.saveStructures,u=e.maxSharedStructures;if(null==u&&(u=d?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");let f=e.maxOwnStructures;null==f&&(f=d?32:64),h&&!e.saveStructures&&(this.structures=[]);let v=u>32||f+u>64,y=u+64,_=u+f+64;if(_>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let w=[],O=0,S=0;this.pack=this.encode=function(q,K){if(It||(It=new s3(8192),Zo=new DataView(It.buffer,0,8192),vt=0),(hh=It.length-10)-vt<2048?(It=new s3(It.length),Zo=new DataView(It.buffer,0,It.length),hh=It.length-10,vt=0):vt=vt+7&2147483640,n=vt,s=c.structuredClone?new Map:null,c.bundleStrings?(uh=["",""],It[vt++]=214,It[vt++]=98,uh.position=vt-n,vt+=4):uh=null,i=c.structures,i){i.uninitialized&&(i=c._mergeStructures(c.getStructures()));let Z=i.sharedLength||0;if(Z>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let te=0;te<Z;te++){let ie=i[te];if(!ie)continue;let ce,de=i.transitions;for(let ue=0,Ce=ie.length;ue<Ce;ue++){let we=ie[ue];ce=de[we],ce||(ce=de[we]=Object.create(null)),de=ce}de[L_]=te+64}a=Z}h||(i.nextId=Z+64)}r&&(r=!1),o=i||[];try{if(D(q),uh){Zo.setUint32(uh.position+n,vt-uh.position-n);let Z=uh;uh=null,D(Z[0]),D(Z[1])}if(c.offset=vt,s&&s.idsToInsert){(vt+=6*s.idsToInsert.length)>hh&&Y(vt),c.offset=vt;let Z=function zTe(e,t){let n,i=6*t.length,r=e.length-i;for(t.sort((o,s)=>o.offset>s.offset?1:-1);n=t.pop();){let o=n.offset,s=n.id;e.copyWithin(o+i,o,r),i-=6;let a=o+i;e[a++]=214,e[a++]=105,e[a++]=s>>24,e[a++]=s>>16&255,e[a++]=s>>8&255,e[a++]=255&s,r=o}return e}(It.subarray(n,vt),s.idsToInsert);return s=null,Z}return K&UTe?(It.start=n,It.end=vt,It):It.subarray(n,vt)}finally{if(i){if(S<10&&S++,O>1e4)i.transitions=null,S=0,O=0,w.length>0&&(w=[]);else if(w.length>0&&!h){for(let Z=0,te=w.length;Z<te;Z++)w[Z][L_]=0;w=[]}if(r&&c.saveStructures){let Z=i.sharedLength||u;i.length>Z&&(i=i.slice(0,Z));let te=It.subarray(n,vt);return!1===c.saveStructures(i,a)?(c._mergeStructures(c.getStructures()),c.pack(q)):(a=Z,te)}}K&jTe&&(vt=n)}};let D=q=>{vt>hh&&(It=Y(vt));var Z,K=typeof q;if("string"===K){let ie,te=q.length;if(uh&&te>=8&&te<4096){let de=LTe.test(q);return uh[de?0:1]+=q,It[vt++]=193,void D(de?-te:te)}ie=te<32?1:te<256?2:te<65536?3:5;let ce=3*te;if(vt+ce>hh&&(It=Y(vt+ce)),te<64||!l){let de,ue,Ce,we=vt+ie;for(de=0;de<te;de++)ue=q.charCodeAt(de),ue<128?It[we++]=ue:ue<2048?(It[we++]=ue>>6|192,It[we++]=63&ue|128):55296==(64512&ue)&&56320==(64512&(Ce=q.charCodeAt(de+1)))?(ue=65536+((1023&ue)<<10)+(1023&Ce),de++,It[we++]=ue>>18|240,It[we++]=ue>>12&63|128,It[we++]=ue>>6&63|128,It[we++]=63&ue|128):(It[we++]=ue>>12|224,It[we++]=ue>>6&63|128,It[we++]=63&ue|128);Z=we-vt-ie}else Z=l(q,vt+ie,ce);Z<32?It[vt++]=160|Z:Z<256?(ie<2&&It.copyWithin(vt+2,vt+1,vt+1+Z),It[vt++]=217,It[vt++]=Z):Z<65536?(ie<3&&It.copyWithin(vt+3,vt+2,vt+2+Z),It[vt++]=218,It[vt++]=Z>>8,It[vt++]=255&Z):(ie<5&&It.copyWithin(vt+5,vt+3,vt+3+Z),It[vt++]=219,Zo.setUint32(vt,Z),vt+=4),vt+=Z}else if("number"===K)if(q>>>0===q)q<64?It[vt++]=q:q<256?(It[vt++]=204,It[vt++]=q):q<65536?(It[vt++]=205,It[vt++]=q>>8,It[vt++]=255&q):(It[vt++]=206,Zo.setUint32(vt,q),vt+=4);else if(q>>0===q)q>=-32?It[vt++]=256+q:q>=-128?(It[vt++]=208,It[vt++]=q+256):q>=-32768?(It[vt++]=209,Zo.setInt16(vt,q),vt+=2):(It[vt++]=210,Zo.setInt32(vt,q),vt+=4);else{let te;if((te=this.useFloat32)>0&&q<4294967296&&q>=-2147483648){let ie;if(It[vt++]=202,Zo.setFloat32(vt,q),te<4||(ie=q*r3[(127&It[vt])<<1|It[vt+1]>>7])>>0===ie)return void(vt+=4);vt--}It[vt++]=203,Zo.setFloat64(vt,q),vt+=8}else if("object"===K)if(q){if(s){let ie=s.get(q);if(ie){if(!ie.id){let ce=s.idsToInsert||(s.idsToInsert=[]);ie.id=ce.push(ie)}return It[vt++]=214,It[vt++]=112,Zo.setUint32(vt,ie.id),void(vt+=4)}s.set(q,{offset:vt-n})}let te=q.constructor;if(te===Object)U(q,!0);else if(te===Array){(Z=q.length)<16?It[vt++]=144|Z:Z<65536?(It[vt++]=220,It[vt++]=Z>>8,It[vt++]=255&Z):(It[vt++]=221,Zo.setUint32(vt,Z),vt+=4);for(let ie=0;ie<Z;ie++)D(q[ie])}else if(te===Map){(Z=q.size)<16?It[vt++]=128|Z:Z<65536?(It[vt++]=222,It[vt++]=Z>>8,It[vt++]=255&Z):(It[vt++]=223,Zo.setUint32(vt,Z),vt+=4);for(let[ie,ce]of q)D(ie),D(ce)}else{for(let ie=0,ce=UM.length;ie<ce;ie++)if(q instanceof o3[ie]){let ue=UM[ie];if(ue.write)return ue.type&&(It[vt++]=212,It[vt++]=ue.type,It[vt++]=0),void D(ue.write.call(this,q));let ye,Ce=It,we=Zo,_e=vt;It=null;try{ye=ue.pack.call(this,q,Re=>(It=Ce,Ce=null,(vt+=Re)>hh&&Y(vt),{target:It,targetView:Zo,position:vt-Re}),D)}finally{Ce&&(Zo=we,vt=_e,hh=(It=Ce).length-10)}return void(ye&&(ye.length+vt>hh&&Y(ye.length+vt),vt=BTe(ye,It,vt,ue.type)))}U(q,!q.hasOwnProperty)}}else It[vt++]=192;else if("boolean"===K)It[vt++]=q?195:194;else if("bigint"===K){if(q<BigInt(1)<<BigInt(63)&&q>=-(BigInt(1)<<BigInt(63)))It[vt++]=211,Zo.setBigInt64(vt,q);else if(q<BigInt(1)<<BigInt(64)&&q>0)It[vt++]=207,Zo.setBigUint64(vt,q);else{if(!this.largeBigIntToFloat)throw new RangeError(q+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");It[vt++]=203,Zo.setFloat64(vt,Number(q))}vt+=8}else if("undefined"===K)this.encodeUndefinedAsNil?It[vt++]=192:(It[vt++]=212,It[vt++]=0,It[vt++]=0);else{if("function"!==K)throw new Error("Unknown type: "+K);D(this.writeFunction&&this.writeFunction())}},U=!1===this.useRecords?this.variableMapSize?q=>{let te,K=Object.keys(q),Z=K.length;Z<16?It[vt++]=128|Z:Z<65536?(It[vt++]=222,It[vt++]=Z>>8,It[vt++]=255&Z):(It[vt++]=223,Zo.setUint32(vt,Z),vt+=4);for(let ie=0;ie<Z;ie++)D(te=K[ie]),D(q[te])}:(q,K)=>{It[vt++]=222;let Z=vt-n;vt+=2;let te=0;for(let ie in q)(K||q.hasOwnProperty(ie))&&(D(ie),D(q[ie]),te++);It[Z+++n]=te>>8,It[Z+n]=255&te}:q=>{let Z,K=Object.keys(q),te=o.transitions||(o.transitions=Object.create(null)),ie=0;for(let de=0,ue=K.length;de<ue;de++){let Ce=K[de];Z=te[Ce],Z||(Z=te[Ce]=Object.create(null),ie++),te=Z}let ce=te[L_];if(ce)ce>=96&&v?(It[vt++]=96+(31&(ce-=96)),It[vt++]=ce>>5):It[vt++]=ce;else{ce=o.nextId,ce||(ce=64),ce<y&&this.shouldShareStructure&&!this.shouldShareStructure(K)?(ce=o.nextOwnId,ce<_||(ce=y),o.nextOwnId=ce+1):(ce>=_&&(ce=y),o.nextId=ce+1);let de=K.highByte=ce>=96&&v?ce-96>>5:-1;te[L_]=ce,o[ce-64]=K,ce<y?(K.isShared=!0,o.sharedLength=ce-63,r=!0,de>=0?(It[vt++]=96+(31&ce),It[vt++]=de):It[vt++]=ce):(de>=0?(It[vt++]=213,It[vt++]=114,It[vt++]=96+(31&ce),It[vt++]=de):(It[vt++]=212,It[vt++]=114,It[vt++]=ce),ie&&(O+=S*ie),w.length>=f&&(w.shift()[L_]=0),w.push(te),D(K))}for(let de=0,ue=K.length;de<ue;de++)D(q[K[de]])},Y=q=>{let K;if(q>16777216){if(q-n>JH)throw new Error("Packed buffer would be larger than maximum buffer size");K=Math.min(JH,4096*Math.round(Math.max((q-n)*(q>67108864?1.25:2),4194304)/4096))}else K=1+(Math.max(q-n<<2,It.length-1)>>12)<<12;let Z=new s3(K);return Zo=new DataView(Z.buffer,0,K),It.copy?It.copy(Z,0,n,q):Z.set(It.slice(n,q)),vt-=n,n=0,hh=Z.length-10,It=Z}}useBuffer(e){It=e,Zo=new DataView(It.buffer,It.byteOffset,It.byteLength),vt=0}};function tG(e,t,n,i){let r=e.byteLength;if(r+1<256){var{target:o,position:s}=n(4+r);o[s++]=199,o[s++]=r+1}else if(r+1<65536){var{target:o,position:s}=n(5+r);o[s++]=200,o[s++]=r+1>>8,o[s++]=r+1&255}else{var{target:o,position:s,targetView:a}=n(7+r);o[s++]=201,a.setUint32(s,r+1),s+=4}o[s++]=116,o[s++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function nG(e,t){let n=e.byteLength;var i,r;if(n<256){var{target:i,position:r}=t(n+2);i[r++]=196,i[r++]=n}else if(n<65536){var{target:i,position:r}=t(n+3);i[r++]=197,i[r++]=n>>8,i[r++]=255&n}else{var{target:i,position:r,targetView:o}=t(n+5);i[r++]=198,o.setUint32(r,n),r+=4}i.set(e,r)}function BTe(e,t,n,i){let r=e.length;switch(r){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:r<256?(t[n++]=199,t[n++]=r):r<65536?(t[n++]=200,t[n++]=r>>8,t[n++]=255&r):(t[n++]=201,t[n++]=r>>24,t[n++]=r>>16&255,t[n++]=r>>8&255,t[n++]=255&r)}return t[n++]=i,t.set(e,n),n+r}function mv(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");o3.unshift(e.Class),UM.unshift(e)}!function RTe(e){Ya[e.type]=e.unpack?e.unpack:e}(e)}o3=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,BH],UM=[{pack(e,t,n){let i=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&i>=0&&i<4294967296){let{target:r,targetView:o,position:s}=t(6);r[s++]=214,r[s++]=255,o.setUint32(s,i)}else if(i>0&&i<17179869184){let{target:r,targetView:o,position:s}=t(10);r[s++]=215,r[s++]=255,o.setUint32(s,4e6*e.getMilliseconds()+(i/1e3/4294967296>>0)),o.setUint32(s+4,i)}else if(isNaN(i)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:r,position:s}=t(3);r[s++]=212,r[s++]=255,r[s++]=255}else{let{target:r,targetView:o,position:s}=t(15);r[s++]=199,r[s++]=12,r[s++]=255,o.setUint32(s,1e6*e.getMilliseconds()),o.setBigInt64(s+4,BigInt(Math.floor(i)))}}},{pack(e,t,n){let i=Array.from(e),{target:r,position:o}=t(this.structuredClone?3:0);this.structuredClone&&(r[o++]=212,r[o++]=115,r[o++]=0),n(i)}},{pack(e,t,n){let{target:i,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(i[r++]=212,i[r++]=101,i[r++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:i,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(i[r++]=212,i[r++]=120,i[r++]=0),n([e.source,e.flags])}},{pack(e,t){this.structuredClone?tG(e,16,t):nG(jM?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==ZH&&this.structuredClone?tG(e,KH.indexOf(n.name),t):nG(e,t)}},{pack(e,t){let{target:n,position:i}=t(1);n[i]=193}}],new eG({useRecords:!1});var l3,oG,UTe=512,jTe=1024,rG=new eG({structuredClone:!0});function a3(e){if(jT(e))return e;if(Array.isArray(e))return e.map(a3);if("object"==typeof e&&null!==e){let t={};for(let n of Object.keys(e).sort())t[n]=a3(e[n]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}return e}mv({Class:Ni.prototype.constructor,type:1,write:e=>({...e}),read:e=>(Object.setPrototypeOf(e,Ni.prototype),e)}),mv({Class:Zn.prototype.constructor,type:2,write:e=>[...e],read:e=>(Object.setPrototypeOf(e,Zn.prototype),e)}),mv({Class:gl.prototype.constructor,type:3,write:e=>[...e],read:e=>(Object.setPrototypeOf(e,gl.prototype),e)}),mv({Class:RH.prototype.constructor,type:4,write:e=>e.id,read:e=>new RH(e)}),mv({Class:NH.prototype.constructor,type:5,write:e=>e.data,read:e=>new NH(e)}),mv({Class:ks.prototype.constructor,type:6,write:e=>({...e}),read:e=>(Object.setPrototypeOf(e,ks.prototype),e)}),(e=>{function t(r){return rG.pack(r)}e.serialize=t,e.deserialize=function n(r){return rG.unpack(r)},e.checksum=function i(r){return function VTe(e){var t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e[n],t&=t;return t}(t(a3(r))).toString()}})(l3||(l3={})),(e=>{e.toEventUIType=function t(i){return"Conditional"===i.type?"Distance"===i.condition.type?"Distance":"StateChange":i.type},e.fromEventUIType=function n(i){return"Distance"===i||"StateChange"===i?"Conditional":i}})(oG||(oG={}));var sG,VM,c3,aG,lG,d3,h3,cG,dG,hG,uG,pG,u3,p3,ec={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Create","SetVariable","DynamicVariablePlay","Conditional"],MouseHover:["Transition","Animation","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional"],Start:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Conditional:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MousePress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyPress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional"],GameControl:["Transition","Animation","Audio","Create","Conditional"],Collision:["Transition","Animation","Audio","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional"],Trigger:["Transition","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Resize:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],VariableChange:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"]};(e=>{e.is=function t(i){return"MouseDown"===i.type||"MouseUp"===i.type||"MousePress"===i.type||"KeyDown"===i.type||"KeyUp"===i.type||"KeyPress"===i.type},e.defaultData=function n(i){return"MouseDown"===i||"MouseUp"===i||"MousePress"===i?{type:i,mode:"Object",disabled:!1,runMode:"Once",actions:new Zn}:{type:i,disabled:!1,key:void 0,runMode:"Once",actions:new Zn}}})(sG||(sG={})),(e=>{e.propertyDefaultData=function t(n){return{type:"Property",value:[n??null,"position","x"]}},e.valueDefaultData={type:"Literal",value:0}})(VM||(VM={})),(e=>{e.comparisonDefaultData=function t(r){return{type:"Comparison",operator:"==",lOperand:VM.propertyDefaultData(r),rOperand:{...VM.valueDefaultData}}},e.distanceDefaultData=function n(r){return{type:"Distance",toObject:r??null,fromObject:r??null,distance:200}},e.stateDefaultData=function i(r,o){return{type:"State",object:r??null,state:o??null}}})(c3||(c3={})),(e=>{e.is=function t(i){return"Conditional"===i.type},e.defaultData=function n(i){return{type:"Conditional",disabled:!1,inActions:new Zn,outActions:new Zn,condition:c3.distanceDefaultData(i)}}})(aG||(aG={})),(e=>{e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new Zn,drop:new Zn}}})(lG||(lG={})),(e=>{e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new Zn}})(d3||(d3={})),(e=>{e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5}})(h3||(h3={})),(e=>{e.is=function t(i){return"MouseHover"===i.type},e.defaultData=function n(){return{type:"MouseHover",disabled:!1,actions:new Zn}}})(cG||(cG={})),(e=>{e.is=function t(i){return"Scroll"===i.type},e.defaultData=function n(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new Zn}}})(dG||(dG={})),(e=>{e.is=function t(i){return"Start"===i.type},e.defaultData=function n(){return{type:"Start",disabled:!1,actions:new Zn}}})(hG||(hG={})),(e=>{e.is=function t(i){return"Collision"===i.type},e.defaultData=function n(){return{type:"Collision",disabled:!1,runMode:"Once",target:"character",actions:new Zn}}})(uG||(uG={})),(e=>{e.is=function t(i){return"Trigger"===i.type},e.defaultData=function n(i,r){return{type:"Trigger",disabled:!1,runMode:"Once",target:"all",triggeringObjects:[],actions:new Zn,triggerZone:"box",position:r.toArray(),rotation:[0,0,0],size:i.toArray(),radius:i.length()/2,helperVisible:!0}}})(pG||(pG={})),(e=>{e.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]},e.is=function t(s){return"Resize"===s.type},e.sizeToDevice=function n(s){return"string"==typeof s?s:"custom"},e.deviceToSize=function i(s){return"string"==typeof s?[...e.defaultSizes[s]]:[...s]},e.defaultData=function r(){let s={size:"mobile",operator:"<",actions:new Zn},a={size:"tablet",operator:"<",actions:new Zn},l={size:[...e.defaultSizes.custom],operator:"<>",actions:new Zn},c=new Zn;return c.push({id:Ln.generateUUID(),fi:0,data:s},{id:Ln.generateUUID(),fi:1,data:a},{id:Ln.generateUUID(),fi:2,data:l}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:c}},e.defaultBreakpointData=function o(){return{size:[...e.defaultSizes.custom],operator:"<>",actions:new Zn}}})(u3||(u3={})),(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]},e.is=function t(i){return"VariableChange"===i.type},e.defaultData=function n(){return{disabled:!1,type:"VariableChange",actions:new Zn,variableId:"",objectId:null,property:"Position X"}}})(p3||(p3={}));var vv,Rm,HM,yv,Xa,yd,f3,fG,mG,Hp,Nm,_v,Gp,m3,gv="personal camera",B_="a218fcc3-276b-49b9-b485-49037fd14f5f",Tc=5526619;function gG(e){return"string"==typeof e&&36===e.length&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)}(e=>{e.isEqual=function t(i,r){return i[0]===r[0]&&i[1]===r[1]},e.lerp=function n(i,r,o){return[i[0]+(r[0]-i[0])*o,i[1]+(r[1]-i[1])*o]}})(vv||(vv={})),(e=>{e.isEqual=function t(l,c){return l[0]===c[0]&&l[1]===c[1]&&l[2]===c[2]},e.add=function n(l,c){return[l[0]+c[0],l[1]+c[1],l[2]+c[2]]},e.sub=function i(l,c){return[l[0]-c[0],l[1]-c[1],l[2]-c[2]]},e.div=function r(l,c){return[l[0]/c[0],l[1]/c[1],l[2]/c[2]]},e.mul=function o(l,c){return[l[0]*c[0],l[1]*c[1],l[2]*c[2]]},e.dist=function s(l,c){return Math.hypot(l[0]-c[0],l[1]-c[1],l[2]-c[2])},e.lerp=function a(l,c,h){return[l[0]+(c[0]-l[0])*h,l[1]+(c[1]-l[1])*h,l[2]+(c[2]-l[2])*h]}})(Rm||(Rm={})),(e=>{e.isEqual=function t(i,r){return i[0]===r[0]&&i[1]===r[1]&&i[2]===r[2]&&i[3]===r[3]},e.lerp=function n(i,r,o){return[i[0]+(r[0]-i[0])*o,i[1]+(r[1]-i[1])*o,i[2]+(r[2]-i[2])*o,i[3]+(r[3]-i[3])*o]}})(HM||(HM={})),(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e.isEqual=function t(r,o){for(let s=0;s<16;s++)if(r[s]!==o[s])return!1;return!0},e.simplify=function n(r){return r??e.identity},e.applyMatrix4=function i(r,o){let s=o.slice(0);for(var a=0,l=o.length;a<l;a+=3){let c=r[3]*o[a]+r[7]*o[a+1]+r[11]*o[a+2]+r[15];s[a]=(r[0]*o[a]+r[4]*o[a+1]+r[8]*o[a+2]+r[12])/c,s[a+1]=(r[1]*o[a]+r[5]*o[a+1]+r[9]*o[a+2]+r[13])/c,s[a+2]=(r[2]*o[a]+r[6]*o[a+1]+r[10]*o[a+2]+r[14])/c}return s}})(yv||(yv={})),(e=>{e.isRGB=function t(l){return"object"==typeof l&&"number"==typeof l.r&&"number"==typeof l.g&&"number"==typeof l.b},e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0},e.toRgb255a1=function n(l){return{r:Math.round(255*l.r),g:Math.round(255*l.g),b:Math.round(255*l.b),a:1}},e.clone=function i(l){return{r:l.r,g:l.g,b:l.b}},e.fromHex=function r(l){return{r:((l=Math.floor(l))>>16&255)/255,g:(l>>8&255)/255,b:(255&l)/255}},e.toHex=function o(l){return 65536*Math.round(255*l.r)+256*Math.round(255*l.g)+Math.round(255*l.b)},e.equals=function s(l,c){return l.r===c.r&&l.g===c.g&&l.b===c.b},e.lerp=function a(l,c,h){return{r:l.r+(c.r-l.r)*h,g:l.g+(c.g-l.g)*h,b:l.b+(c.b-l.b)*h}}})(Xa||(Xa={})),(e=>{e.white={...Xa.white,a:1},e.transparent={...Xa.white,a:0},e.from0to1=function t(s){return{r:s[0],g:s[1],b:s[2],a:s[3]}},e.fromHexAndA=function n(s,a){return{...Xa.fromHex(s),a}},e.toRgb255a1=function i(s){return{r:Math.round(255*s.r),g:Math.round(255*s.g),b:Math.round(255*s.b),a:s.a}},e.equals=function r(s,a){return Xa.equals(s,a)&&s.a===a.a},e.lerp=function o(s,a,l){return{r:s.r+(a.r-s.r)*l,g:s.g+(a.g-s.g)*l,b:s.b+(a.b-s.b)*l,a:s.a+(a.a-s.a)*l}}})(yd||(yd={})),(e=>{e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]}})(f3||(f3={})),(e=>{e.defaultData={mass:1,stiffness:80,damping:10,velocity:0}})(fG||(fG={})),(e=>{e.defaultData={control1:[.5,0],control2:[.5,1]}})(mG||(mG={})),(e=>{e.linear=[0,0,1,1],e.ease=[.25,.1,.25,1],e.easeIn=[.42,0,1,1],e.easeOut=[0,0,.58,1],e.easeInOut=[.42,0,.58,1]})(Hp||(Hp={})),(e=>{e.all=["PerspectiveCamera","OrthographicCamera"],e.is=function t(n){return e.all.includes(n)}})(Nm||(Nm={})),(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset},e.getZoom=function t(n){return"PerspectiveCamera"===n.type?n.perspective.zoom:n.orthographic.zoom}})(_v||(_v={})),(e=>{e.defaultData=function t(i,r=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:2*Math.max(i[0],i[1]),start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[i[0]+i[0]*r,0,0]},grid:{count:[2,2,2],size:i.map(o=>o*(1+r)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}},e.merge=function n(i,r){let o={...i};if(vG.forEach(s=>{Object.assign(o,{[s]:r[s]??i[s]})}),o.radial={...i.radial},r.radial){let s=i.radial,a=r.radial;yG.forEach(l=>{Object.assign(o.radial,{[l]:a[l]??s[l]})})}if(o.linear={...i.linear},r.linear){let s=i.linear,a=r.linear;_G.forEach(l=>{Object.assign(o.linear,{[l]:a[l]??s[l]})})}if(o.grid={...i.grid},r.grid){let s=i.grid,a=r.grid;bG.forEach(l=>{Object.assign(o.grid,{[l]:a[l]??s[l]})})}if(o.toObject={...i.toObject},r.toObject){let s=i.toObject,a=r.toObject;xG.forEach(l=>{Object.assign(o.toObject,{[l]:a[l]??s[l]})})}if(o.randomnessObject={...i.randomnessObject},r.randomnessObject){let s=i.randomnessObject,a=r.randomnessObject;wG.forEach(l=>{Object.assign(o.randomnessObject,{[l]:a[l]??s[l]})})}return o}})(Gp||(Gp={})),(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];e.toOps=function n(i,r){let o=[];void 0!==i.count&&o.push({type:0,path:r,props:{count:i.count}});for(let s of t){let a=i[s];a&&Object.keys(a).length>0&&o.push({type:0,path:[...r,s],props:a})}return o}})(m3||(m3={}));var g3,v3,bv,y3,_3,b3,CG,GM,MG,PG,vG=["count"],yG=["radius","start","end","position","scale","rotation"],_G=["position","scale","rotation"],bG=["count","size"],xG=["count","position","scale","rotation"],wG=["strength","scale","rotation","position","movement","seed","freqScale"];(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"],e.is=function t(n){return e.all.includes(n)}})(g3||(g3={})),(e=>{e.defaultData=function t(i){return function n(i){if("PointLight"===i)return{type:i,color:yd.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if("SpotLight"===i)return{type:i,color:yd.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if("DirectionalLight"===i)return{type:i,color:yd.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}(i)}})(v3||(v3={})),(e=>{e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]}})(bv||(bv={})),(e=>{e.defaultData={castShadow:!0,receiveShadow:!0},e.equals=function t(n,i){return n.castShadow===i.castShadow&&n.receiveShadow===i.receiveShadow}})(y3||(y3={})),(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0},e.equals=function t(n,i){return n.flatShading===i.flatShading&&n.side===i.side&&n.wireframe===i.wireframe}})(_3||(_3={})),(e=>{e.defaultData={..._3.defaultData,...y3.defaultData}})(b3||(b3={})),(e=>{e.getMaterialData=function t(n,i){let r=[];if("material"in n){let o="string"==typeof n.material?i.materials[n.material]??i.lib.materials[n.material]?.asset:n.material;o&&r.push(o)}else if("materials"in n)for(let o of n.materials){let s="string"==typeof o?i.materials[o]??i.lib.materials[o]?.asset:o;s&&r.push(s)}return r}})(CG||(CG={})),(e=>{e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7})(GM||(GM={})),(e=>{e.is=function t(n){return"texture"===n||"video"===n||"color"===n||"depth"===n||"normal"===n||"gradient"===n||"noise"===n||"fresnel"===n||"rainbow"===n||"toon"===n||"outline"===n||"transmission"===n||"matcap"===n||"displace"===n||"pattern"===n||"light"===n}})(MG||(MG={})),(e=>{e.is=function t(n){return"phong"===n||"toon"===n||"lambert"===n||"physical"===n}})(PG||(PG={}));var yl,Ca,WM,qM,OG=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],WTe=["wrapping","image","video","name"];(e=>{e.patch=function t(o,s){let{texture:a,...l}=s;if(Object.assign(o,l),a){let c=o.texture;c&&Object.assign(c,a)}},e.defaultData=function n(o,s){return"light"===o&&s?function i(o){let s={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(o){case"phong":return{...s,category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6};case"toon":return{...s,category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1};case"lambert":return{...s,category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0};case"physical":return{...s,category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0}}}(s):function r(o){let s={alpha:1,mode:0,isMask:!1,visible:!0};switch(o){case"texture":return{...s,type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0]},crop:!1};case"video":return{...s,type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:GM.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0]},crop:!1};case"color":return{...s,type:"color",color:Xa.fromHex(Tc)};case"depth":return{...s,type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{...s,type:"normal",cnormal:[1,1,1]};case"gradient":return{...s,type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{...s,type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...Xa.fromHex(6710886),a:1},colorB:{...Xa.fromHex(6710886),a:1},colorC:{...Xa.fromHex(16777215),a:1},colorD:{...Xa.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1};case"fresnel":return{...s,type:"fresnel",color:yd.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{...s,type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{...s,type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:yd.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{...s,type:"outline",outlineColor:yd.fromHexAndA(0,1),contourColor:yd.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{...s,type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0]}};case"transmission":return{...s,type:"transmission",thickness:10,ior:1.5,roughness:1};case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return{...s,type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:{...Xa.fromHex(0),a:1},colorB:{...Xa.fromHex(16777215),a:1},frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6}}}(o)}})(yl||(yl={})),(e=>{function s(c,h="layer1",d="layer2"){let u=new Zn;return u.push({fi:0,data:yl.defaultData("light",c),id:h}),u.push({fi:1,data:yl.defaultData("color"),id:d}),{layers:u}}e.isMergable=function t(c){return!c.layers.some(h=>"texture"===h.data.type&&0!==h.data.projection||"depth"===h.data.type&&!h.data.isWorldSpace||"noise"===h.data.type||"displace"===h.data.type)},e.getHash=function n(c){let h="";return c.layers.forEach(d=>{Object.entries(d.data).forEach(([u,f])=>{h+=`${u}${f}`,Array.isArray(f)?f.forEach(v=>h+=`${v}`):"object"==typeof f?Object.values(f).forEach(v=>{h+="number"==typeof v?`${v.toFixed(4)}`:`${v}`}):h+=`${f}`})}),h},e.defaultEmptyData=function i(){return{layers:new Zn}},e.defaultData=function r(c="layer1",h="layer2"){return s("phong",c,h)},e.withName=function o(c,h){return{...c,name:h}},e.defaultTwoLayerData=s,e.defaultTwoLayerTextureData=function a(c,h="phong",d="layer1",u="layer2"){let f=yl.defaultData("texture");Object.assign(f.texture,{image:c});let v=new Zn;return v.push({fi:0,data:f,id:d}),v.push({fi:1,data:yl.defaultData("light",h),id:u}),{layers:v}},e.defaultTwoLayerVideoTextureData=function l(c,h="phong",d="layer1",u="layer2"){let f=yl.defaultData("video");Object.assign(f.texture,{video:c});let v=new Zn;return v.push({fi:0,data:f,id:d}),v.push({fi:1,data:yl.defaultData("light",h),id:u}),{layers:v}}})(Ca||(Ca={})),(e=>{e.defaultData=function t(){return{points:new Zn,roundness:0,shapeHoles:[],isClosed:!1}}})(WM||(WM={})),(e=>{e.defaultData=function t(){return{points:new Zn,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}})(qM||(qM={}));var x3,SG={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0};(e=>{e.merge=function t(n,i){let r={...n};return DG.forEach(o=>{Object.assign(r,{[o]:i[o]??n[o]})}),r}})(x3||(x3={}));var YM,w3,xv,EG={shape:SG,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},DG=["depth","offset","angle","twist","startScale","endScale"];(e=>{e.is2DParametricMesh=function t(i){return"PolygonGeometry"===i||"RectangleGeometry"===i||"StarGeometry"===i||"TriangleGeometry"===i||"EllipseGeometry"===i},e.isParametricMesh=function n(i){return"PolygonGeometry"===i||"PolygonGeometry"===i||"RectangleGeometry"===i||"StarGeometry"===i||"TriangleGeometry"===i||"EllipseGeometry"===i||"PathGeometry"===i||"VectorGeometry"===i||"ConeGeometry"===i||"CubeGeometry"===i||"CylinderGeometry"===i||"DodecahedronGeometry"===i||"HelixGeometry"===i||"IcosahedronGeometry"===i||"LatheGeometry"===i||"PyramidGeometry"===i||"SphereGeometry"===i||"PlaneGeometry"===i||"BackdropGeometry"===i||"TorusGeometry"===i||"TorusKnotGeometry"===i||"BooleanGeometry"===i||"TextGeometry"===i}})(YM||(YM={})),(e=>{e.merge=function t(n,i){let r={...n};return Object.assign(r,i),"PathGeometry"===r.type&&"extrusion"in i&&i.extrusion&&(r.extrusion={...n.extrusion},Object.assign(r.extrusion,x3.merge(r.extrusion,i.extrusion))),r}})(w3||(w3={})),(e=>{e.defaultData=function t(n){if("RectangleGeometry"===n)return{width:320,height:320,type:n,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if("PathGeometry"===n)return{type:n,width:1,height:1,depth:1,path:qM.defaultData(),extrusion:EG};if("VectorGeometry"===n)return{width:1,height:1,type:n,subdivisions:12,shape:WM.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if("BooleanGeometry"===n)return{type:n,operation:2,width:0,height:0,depth:0,phongAngle:35};if("TextGeometry"===n)return{type:n,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",extrudeBevelSize:0,extrudeBevelSegments:1};if("SphereGeometry"===n)return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}})(xv||(xv={}));var C3,XM,M3,P3,O3,wv,S3,E3,TG,Cv,$a,D3,kG,Mv,z_,A3,$M,Wp,Pv,T3,Fm,KM,Lm,k3,I3,Ov,U_,Sv,j_,QM,tc,R3,IG,RG,Ev,_d,ZM,JM,AG=["width","height","depth"];function NG(e){e.layers.forEach(t=>{if("depth"===t.type&&void 0!==t.colorA){let n=t.colorA,i=t.colorB,r=[[n.r,n.g,n.b,n.a],[i.r,i.g,i.b,i.a]],o=[0,1];for(let a=2;a<10;a++)r.push(r[1]),o.push(1);let s={...bu(hs(t),"type","visible","isVector","isWorldSpace","origin","alpha","mode"),near:Math.max(0,t.near),far:Math.max(0,t.far),colors:r,steps:o,num:2,direction:[1,0,0],smooth:!1,gradientType:1};Object.assign(t,s)}else if("depth"===t.type&&1===t.gradientType&&(t.near<0||t.far<0)){let n={...hs(t),near:Math.max(t.near,0),far:Math.max(t.far,0)};Object.assign(t,n)}})}function qp(e,t){Object.values(e.shared.materials).forEach(n=>t(n))}function Yp(e,t){e.scene.objects.traverse((n,i)=>{"materials"in i?i.materials.forEach((r,o)=>{void 0===r&&(i.materials[o]=Ca.defaultData(),r=i.materials[o]),"string"!=typeof r&&t(r)}):"material"in i?"string"!=typeof i.material&&(void 0===i.material&&(i.material=Ca.defaultData()),t(i.material)):"Mesh"===i.type&&(void 0===i.material&&(i.material=Ca.defaultData()),t(i.material)),"overrides"in i&&Object.values(i.overrides).forEach(r=>{r.material&&"string"!=typeof r.material&&t(r.material)})})}function FG(e){void 0===e.layers&&Object.assign(e,Ca.defaultTwoLayerData("lambert"))}function N3(e){!e.layers||e.layers.forEach(t=>{if("depth"===t.type&&10===t.colors.length){let n=[...t.colors];n.push(t.colors[9]);let i=[...t.steps];i.push(t.steps[9]);let r={...hs(t),colors:n,steps:i};Object.assign(t,r)}})}function LG(e){e.scene.objects.traverse((t,n)=>{"materials"in n?n.materials.forEach(i=>{"string"!=typeof i&&N3(i)}):"material"in n&&"string"!=typeof n.material&&N3(n.material)}),Object.values(e.shared.materials).forEach(t=>N3(t))}function BG(e){e.layers&&e.layers.forEach(t=>{"depth"===t.type&&void 0!==t.num&&(t.colors=t.colors.slice(0,t.num),t.steps=t.steps.slice(0,t.num),delete t.num)})}function zG(e){e.layers&&e.layers.forEach(t=>{(function GTe(e){return"displace"!==e.type})(t)&&void 0===t.isMask&&(t.isMask=!1),("texture"===t.type||"video"===t.type)&&void 0===t.blending&&(t.blending=0),("noise"===t.type||"displace"===t.type&&"noise"===t.displacementType)&&(void 0===t.voronoiStyle&&(t.voronoiStyle=0),void 0===t.highCut&&(t.highCut=1),void 0===t.lowCut&&(t.lowCut=0),void 0===t.smoothness&&(t.smoothness=.3),void 0===t.seed&&(t.seed=0),void 0===t.quality&&(t.quality=1))})}function UG(e){let t=e.layers.find(n=>"light"===n.type)?.data;if("basic"===t?.category){let n=yl.defaultData("light","phong"),i=t;Object.assign(i,n),i.visible=!1}}function jG(e){qp(e,UG),Yp(e,UG)}function VG(e){e.layers.forEach(t=>{"light"===t.type&&"toon"!==t.category&&void 0===t.occlusion&&(t.occlusion=!0)})}function HG(e){e.layers&&e.layers.forEach(t=>{"light"===t.type&&void 0===t.bumpMapIntensity&&(t.bumpMapIntensity=5)})}function GG(e){e.layers&&e.layers.forEach(t=>{"light"===t.type&&void 0===t.alphaOverride&&(t.alphaOverride=1)})}(e=>{e.defaultData={enabled:!1,useBackgroundColor:!1,color:Xa.white,near:.1,far:2e3}})(C3||(C3={})),(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:{...t,blendFunction:16,granularity:15},bloom:{...t,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3},chromaticAberration:{...t,offset:[2,2]},vignette:{...t,darkness:1,offset:0},hueSaturation:{...t,hue:3,saturation:0},brightnessContrast:{...t,brightness:.25,contrast:0},depthOfField:{...t,focalLength:2,focusDistance:2,bokehScale:2},noise:{...t,blendFunction:16}}})(XM||(XM={})),(e=>{e.defaultData={softShadowQuality:"low"}})(M3||(M3={})),(e=>{e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75}})(P3||(P3={})),(e=>{e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}}})(O3||(O3={})),(e=>{e.defaultData={usePhysics:!1,gravity:-10}})(wv||(wv={})),(e=>{e.defaultData={playCamera:gv,gameControlObject:null}})(S3||(S3={})),(e=>{e.defaultData={backgroundColor:yd.fromHexAndA(2960946,1),postprocessing:XM.defaultData,fog:C3.defaultData,globalPhysics:wv.defaultData,ambient:P3.defaultData,ao:O3.defaultData,shadow:M3.defaultData,publish:S3.defaultData}})(E3||(E3={})),(e=>{e.isComponentRelated=function t(i){return"Component"===i||"Instance"===i},e.isEmptyOrComponent=function n(i){return"Empty"===i||"Instance"===i}})(TG||(TG={})),(e=>{e.identity={...f3.identity,hiddenMatrix:yv.identity},e.fromObject=function t(r){return{position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix}},e.merge=function n(r,o){return{position:o?.position||r.position,rotation:o?.rotation||r.rotation,scale:o?.scale||r.scale,hiddenMatrix:o?.hiddenMatrix||r.hiddenMatrix}},e.diff=function i(r,o){return function JAe(e){for(let t of Object.keys(e))void 0===e[t]&&delete e[t];return e}({position:Rm.isEqual(r.position,o.position)?void 0:o.position,rotation:Rm.isEqual(r.rotation,o.rotation)?void 0:o.rotation,scale:Rm.isEqual(r.scale,o.scale)?null:o.scale,hiddenMatrix:yv.isEqual(r.hiddenMatrix,o.hiddenMatrix)?void 0:o.hiddenMatrix})}})(Cv||(Cv={})),(e=>{e.defaultData={states:new Zn,events:new Zn,visible:!0,raycastLock:!1,physics:bv.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"},...Cv.identity,cloner:null}})($a||($a={})),(e=>{e.defaultData={type:"Empty",...$a.defaultData}})(D3||(D3={})),(e=>{e.defaultData={type:"Component",...$a.defaultData}})(kG||(kG={})),(e=>{e.defaultData={type:"Mesh",...$a.defaultData,...b3.defaultData}})(Mv||(Mv={})),(e=>{e.defaultData={...$a.defaultData,...Cv.identity,position:[0,0,_v.DefaultTargetOffset],..._v.defaultData}})(z_||(z_={})),(e=>{e.defaultData=function t(n){return{...$a.defaultData,...v3.defaultData(n)}},e.defaultDirectionalLightData={...e.defaultData("DirectionalLight"),position:[200,300,300],name:"Directional Light",intensity:.7}})(A3||(A3={})),(e=>{function t(i,r,o=0){for(;o<r.length;){let s=i?i[r[o]]:void 0;if(r.length===o+1)return s;if(!s)return;i=s.descendants,o+=1}}e.resolveWithDes=t,e.resolve=function n(i,r,o=0){let s=t(i,r,o);if(s){let a=Object.keys(s);if(1===a.length&&"descendants"===a[0])return}return s}})($M||($M={})),(e=>{function t(i,r){return{...$a.defaultData,...r,component:i,overrides:new ks,physics:void 0,events:void 0,type:"Instance"}}e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"],e.ofComponent=t,e.fromComponentData=function n(i){let r=Cv.fromObject(i.data);return t(i.id,r)}})(Wp||(Wp={})),(e=>{e.defaultData={type:"Page",...$a.defaultData,physics:{...bv.defaultData,fusedBody:!1},...E3.defaultData,camera:z_.defaultData}})(Pv||(Pv={})),(e=>{e.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:yv.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:bv.defaultData,states:new Zn,events:new Zn,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0},..._v.defaultData},e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject={name:"Rectangle",...$a.defaultData,...Mv.defaultData,geometry:xv.defaultData("RectangleGeometry"),material:Ca.defaultTwoLayerData("phong","layer1","layer2")},e.defaultBooleanObject={name:"Boolean",...$a.defaultData,...Mv.defaultData,geometry:xv.defaultData("BooleanGeometry"),material:Ca.defaultTwoLayerData("phong","layer1","layer2")},e.defaultTextObject={name:"Text",...$a.defaultData,...Mv.defaultData,geometry:xv.defaultData("TextGeometry"),material:Ca.defaultTwoLayerData("phong","layer1","layer2")}})(T3||(T3={})),(e=>{e.newEmpty=function t(o,s){let a={name:s};return"Mesh"===o.type?(a.geometry={},"material"in o&&(a.material={layers:new ks}),"materials"in o&&(a.materials=o.materials.map(l=>({layers:new ks})))):Nm.is(o.type)&&(a.perspective={},a.orthographic={}),a},e.toOps=function i(o,s){let a,l=[],c={orthographic:0,perspective:0,geometry:0};function h(d,u){for(let[f,v]of Object.entries(u.layers)){let{texture:y,..._}=v;if(void 0!==y&&Object.keys(y).length>0){let w={path:[...d,"layers",f,"texture"],props:y,type:0};l.push(w)}if(Object.keys(_).length>0){let w={path:[...d,"layers",f],props:_,type:0};l.push(w)}}}for(let[d,u]of Object.entries(s))if("name"!==d)if("cloner"===d)l.push(...m3.toOps(u,["cloner"]));else if("pathSnapping"===d)l.push({path:[d],props:{slide:u.slide,offset:u.offset},type:0});else if("material"===d)h(["material"],u);else if("materials"===d)for(let[f,v]of Object.entries(u))h(["materials",f],v);else 0===c[d]?("geometry"===d&&void 0!==u.extrusion&&(l.push({path:[d,"extrusion"],props:u.extrusion,type:0}),u={...u},delete u.extrusion),Object.keys(u).length>0&&l.push({path:[d],props:u,type:0})):(void 0===a&&(a={path:[],props:{},type:0},l.push(a)),a.props[d]=u);return l},e.patch=function r(o,s){if(void 0===s)return o;let a={...o};if(Object.assign(a,Cv.merge(a,s)),Object.assign(a,{pathSnapping:Object.assign({},a.pathSnapping,{slide:s.pathSnapping?.slide??a.pathSnapping?.slide??0,offset:s.pathSnapping?.offset??a.pathSnapping?.offset??0})}),Nm.is(o.type)){a.orthographic={...a.orthographic},a.perspective={...a.perspective};let l=s;void 0!==l.orthographic?.zoom&&(a.orthographic.zoom=l.orthographic.zoom),void 0!==l.perspective?.zoom&&(a.perspective.zoom=l.perspective.zoom),void 0!==l.isUpVectorFlipped&&(a.isUpVectorFlipped=l.isUpVectorFlipped),void 0!==l.targetOffset&&(a.targetOffset=l.targetOffset)}else if("Mesh"===o.type)"geometry"in s&&Object.assign(a,{geometry:w3.merge(a.geometry,s.geometry)}),(s.material||s.materials)&&(a=function n(o,s){if(void 0===s)return o;let a={...o};return"material"in a&&"material"in s&&s.material&&(a.material=F_(a.material,l=>{if("string"!=typeof l)for(let[c,h]of Object.entries(s.material.layers)){let d=l.layers.data(c);d&&yl.patch(d,h)}}).data),a.materials&&s.materials&&(a.materials=F_(a.materials,l=>{for(let c=0;c<a.materials.length;c++){let h=s.materials[c];if("string"!=typeof h)for(let[d,u]of Object.entries(h.layers)){let f=l[c]?.layers?.data(d);f&&yl.patch(f,u)}}}).data),a}(a,s)),a.cloner&&"cloner"in s&&Object.assign(a,{cloner:Gp.merge(a.cloner,s.cloner)});else if("Empty"===o.type)a.cloner&&"cloner"in s&&Object.assign(a,{cloner:Gp.merge(a.cloner,s.cloner)});else if(g3.is(o.type)){let l=s;void 0!==l.intensity&&(a.intensity=l.intensity),void 0!==l.color&&(a.color="string"==typeof l.color?l.color:Xa.clone(l.color))}return a}})(Fm||(Fm={})),(e=>{e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0}})(KM||(KM={})),(e=>{e.defaultData={orbitControls:KM.defaultData,playPage:B_,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((t,n)=>{let i=0,r=0;return n<5?r=-30:n<10&&(r=30),0===n||10===n||5===n?i=30:(4===n||11===n||9===n)&&(i=-30),[120,[i,r],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1}},stopRaycast:!0,hdTransmission:!1}})(Lm||(Lm={})),(e=>{e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""}})(k3||(k3={})),(e=>{e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0}})(I3||(I3={})),(e=>{e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:{...k3.defaultData},isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:I3.defaultData}),e.generateSeed=()=>Math.round(1e5*Math.random())})(Ov||(Ov={})),(e=>{e.physicsEnabled=function t(i){return void 0!==i.find(r=>"Page"===r.data.type&&r.data.globalPhysics.usePhysics)},e.traverseModuleInstances=function n(i,r,o){i.scene.objects.traverseFrom(r,(s,a)=>{if("Instance"===a.type){let l=eP.getComponentData(i,a.component)?.data;l&&o(s,a,l.events)}else o(s,a,a.events)})}})(U_||(U_={})),(e=>{function t(r={withLight:!0,withSquare:!0}){let o=[],s=T3.defaultMeshObject;!0===r.withLight&&o.push({fi:-1,data:A3.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]}),!0===r.withSquare&&o.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:s,children:[]});let a=new gl;return a.push({fi:1,id:B_,data:{...Pv.defaultData,name:"Scene 1"},children:o}),a}function n(r){return{...e.defaultData,objects:xu(r,gl.prototype)}}e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222",e.defaultData={objects:t(),publish:Lm.defaultData,styles:Ov.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new gl,publish:Lm.defaultData,styles:Ov.defaultData()}},e.emptyDataWithPage=function(r){return{objects:t(r),publish:Lm.defaultData,styles:Ov.defaultData()}},e.withObjs=n,e.withObj=function i(r,o){return n([{id:r,data:o,children:[],fi:0}])}})(Sv||(Sv={})),(e=>{e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}}})(j_||(j_={})),(e=>{e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"}})(QM||(QM={})),(e=>{function t(s){return void 0!==s.textValue}function i(s){return"boolean"==typeof s}e.isTextValue=t,e.isNumber=function n(s){return"number"==typeof s},e.isBoolean=i,e.typeOfVariable=function r(s){return t(s)?"string":i(s)?"boolean":"number"},e.getDisplayedValue=function o(s){return e.isTextValue(s)?Array.isArray(s.textValue)?s.textValue.map(a=>a.toString().padStart(s.padding??2,"0")).join(s.deliminator??":")+(void 0!==s.suffix?" "+s.suffix:""):s.textValue.toString():e.isBoolean(s)?s?"True":"False":e.isNumber(s)?parseFloat(s.toFixed(3)).toString():s.toString()}})(tc||(tc={})),(e=>{e.all=["images","videos","colors","audios","fonts","materials","variables"]})(R3||(R3={})),(e=>{e.all=[...R3.all,"components"]})(IG||(IG={})),(e=>{e.defaultData=function t(){return{images:new Ni,videos:new Ni,colors:new Ni,audios:new Ni,fonts:new Ni,materials:new Ni,components:new Ni,variables:new Ni}}})(RG||(RG={})),(e=>{e.defaultData=function t(){return{images:new Ni,videos:new Ni,colors:new Ni,audios:new Ni,fonts:new Ni,materials:new Ni,components:new Ni,variables:new Ni}}})(Ev||(Ev={})),(e=>{e.defaultColors=function t(){return xu({"89b10010-844c-11ec-a8a3-0242ac120002":{r:.5,g:.5,b:.5,a:1,name:"Default Color"}},Ni.prototype)},e.defaultImages=function n(s){let a={};return s?.withAITexture&&(a["a1b10010-844c-a8a3-11ec-0242ac2011ec"]={...QM.emptyImage,name:"AI generated image"}),xu(a,Ni.prototype)},e.emptyData=function i(){return{catelogs:new Ni,materials:new Ni,images:new Ni,videos:new Ni,colors:new Ni,audios:new Ni,fonts:new Ni,variables:new Zn,lib:Ev.defaultData()}},e.defaultVariables=function r(s){switch(s){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let a=[0,0,0];return{name:"Time",value:{textValue:a,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:a,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",s)}},e.getFormattedTimerTime=function o(s,a){if("HH:mm:ss"===a.format){let l=Math.floor(s/3600),c=Math.floor((s-3600*l)/60);return{textValue:[l,c,Math.round(s-3600*l-60*c)]}}if("mm:ss"===a.format){let l=Math.floor(s/60);return{textValue:[l,Math.round(s-60*l)]}}return"number"===a.format?Math.round(s):Math.round(1e3*s)/1e3}})(_d||(_d={})),(e=>{e.list=["idle","move","jump","run"]})(ZM||(ZM={})),(e=>{e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","\u25b2"],["rotPosY","\u25c0"],["rotNegX","\u25bc"],["rotNegY","\u25b6"],["jump","Space"],["run","\u21e7"],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new Zn,move:new Zn,jump:new Zn,run:new Zn},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:yd.fromHexAndA(3728051,1)}}})(JM||(JM={}));var Dv=180/Math.PI;function WG(e){e.rotation=e.rotation.slice(0,3).map(t=>t*Dv)}function qG(e){WG(e),"Page"===e.type&&WG(e.camera),e.states?.forEach(n=>{null==n.rotation||(n.rotation=n.rotation.slice(0,3).map(i=>i*Dv))});let t=e.geometry;t&&"SphereGeometry"===t.type&&(t.thetaLength=(t.thetaLength??180)*Dv),t&&"TorusGeometry"===t.type&&(t.arc=t.arc*Dv),t&&"PathGeometry"===t.type&&(t.extrusion.angle*=Dv,t.extrusion.twist*=Dv),"Mesh"===e.type&&"TextGeometry"===e.geometry.type&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(hs(e.events))&&e.events?.forEach(n=>{("MouseDown"===n.type||"MouseUp"===n.type||"MousePress"===n.type||"KeyDown"===n.type||"KeyUp"===n.type||"KeyPress"===n.type||"Collision"===n.type||"Trigger"===n.type)&&(n.runMode=n.toggle?"Toggle":"Once")})}var eP,Xp=107;function YG(e,t){t(e.data);for(let n of e.children)YG(n,t)}function k3e(e){let t=e.schema??104;t!==Xp&&t<105&&(YG(e.asset,qG),e.schema=105)}function XG(e){let t=e.schema??0;if(t!==Xp){console.warn("updating from ",t,"to ",Xp),function E3e(e,t){if(t<1&&(Yp(e,NG),qp(e,NG),e.schema=1),t<2&&(function qTe(e){Object.assign(e.scene.publish,{orbitControls:{...KM.defaultData,...hs(e.scene.publish.orbitControls)}})}(e),e.schema=2),t<3&&(function XTe(e){function t(n){if(n.layers)for(let i of Object.values(n.layers))if(i)for(let[r,o]of Object.entries(i))if((OG.includes(r)||"boolean"==typeof o)&&delete i[r],"texture"===r)for(let[s,a]of Object.entries(o))(WTe.includes(s)||"boolean"==typeof a)&&delete o[s]}e.scene.objects.traverse((n,i)=>{i.states.forEach(r=>{let o=r;o.material?t(o.material):o.materials&&o.materials.forEach(s=>{t(s)})})})}(e),e.schema=3),t<4&&(function $Te(e){e.scene.publish.withBackground=!0}(e),e.schema=4),t<5&&(function KTe(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}(e),e.schema=5),t<6&&(function QTe(e){e.scene.objects.traverse((t,n)=>{let i=n.cloner;i&&(i.radial.scale=i.radial.scale.map(r=>r+1),i.linear.scale=i.linear.scale.map(r=>r+1))})}(e),e.schema=6),t<7&&(function ZTe(e){e.scene.objects.traverse((t,n)=>{let i=n.geometry;i&&("DodecahedronGeometry"===i.type||"IcosahedronGeometry"===i.type)&&(i.detail=Math.round(i.detail))})}(e),e.schema=7),t<8&&(e.schema=8),t<9&&(LG(e),e.schema=9),t<10&&(function n3e(e){e.scene.objects.traverse((t,n)=>{"Mesh"===n.type&&("BooleanGeometry"===n.geometry.type||"SubdivGeometry"===n.geometry.type)&&(n.geometry.phongAngle=35)})}(e),e.schema=10),t<11&&(function i3e(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse((t,n)=>{("DirectionalLight"===n.type||"SpotLight"===n.type)&&(n.shadowResolution=1024,n.shadowRadius=1,n.depth=1e5)}),e.shared.penumbraSize=new Array(5).fill(.5)}(e),e.schema=11),t<12&&(LG(e),e.schema=12),t<13&&(function r3e(e){e.shared.audios=xu({},Ni.prototype)}(e),e.schema=13),t<14&&(function s3e(e){let t=e.shared.materials;Object.entries(t).forEach(([n,i])=>{i.layers||Object.assign(t,{[n]:{name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]}})})}(e),e.schema=14),t<15&&(function a3e(e){Object.entries(hs(e.shared.images)).filter(t=>!1===t[1].asset).map(t=>t[0]).forEach(t=>{delete e.shared.images[t]}),Object.entries(hs(e.shared.audios)).filter(t=>!1===t[1].asset).map(t=>t[0]).forEach(t=>{delete e.shared.audios[t]})}(e),e.schema=15),t<16&&(function l3e(e){e.scene.publish.settings.web.preload=!1}(e),e.schema=16),t<17&&(Yp(e,BG),qp(e,BG),e.schema=17),t<18&&(Yp(e,FG),qp(e,FG),e.schema=18),t<19&&(function YTe(e){Object.assign(e.scene.publish.settings,{video:{...Lm.defaultData.settings.video,...hs(e.scene.publish.settings.video)}})}(e),e.schema=19),t<20&&(function c3e(e){e.shared.fonts=xu({},Ni.prototype)}(e),function h3e(e){let t=[];e.scene.objects.traverse((n,i)=>{let r=i;if("TextFrame"===r.type){let o=Ca.defaultTwoLayerData("phong"),s="string"==typeof r.color?e.shared.colors[r.color]:r.color;o.layers[1].data.color={r:s.r,g:s.g,b:s.b},o.layers[1].data.alpha=r.alpha;let a=function d3e(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}(r.font);void 0===e.shared.fonts[a]&&(e.shared.fonts[a]={name:a});let l={name:r.name,...$a.defaultData,...Mv.defaultData,flatShading:!1,wireframe:!1,geometry:{...xv.defaultData("TextGeometry"),width:r.width,height:r.height,font:a,depth:0,horizontalAlign:r.horizontalAlign,verticalAlign:r.verticalAlign,fontSize:1.40625*r.fontSize,lineHeight:r.lineHeight/1.40625,letterSpacing:r.letterSpacing-1,text:r.text,textTransform:r.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1},material:o,states:hs(r.states),events:hs(r.events),visible:r.visible,raycastLock:r.raycastLock,position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix},c=hs(e.scene.objects).parent(n);e.scene.objects.insertAfter(c??null,n,[{id:n+"new",data:l,children:[]}]),t.push(n)}}),t.forEach(n=>{e.scene.objects.delete(n)})}(e),e.schema=20),t<21&&(function u3e(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse((n,i)=>{i.events.forEach(r=>{if(t[Number(r.type)])if(Object.assign(r,{type:t[Number(r.type)]}),"Audio"===r.type&&"audioEvent"in r&&(Object.assign(r,{playAudio:r.audioEvent}),delete r.audioEvent),"GameControl"===r.type)Object.assign(r,{gameActions:{idle:new Zn,move:new Zn,jump:new Zn}});else{let o=new Zn;Object.assign(r,{actions:o}),("MouseDown"===r.type||"MouseUp"===r.type||"KeyDown"===r.type||"KeyUp"===r.type)&&"url"in r&&o.push({fi:0,id:Ln.generateUUID(),data:{type:"Link",url:r.url,delay:0}}),"targets"in r&&(r.targets.forEach((s,a,l)=>{let h={easing:s.easing,duration:s.duration};6===s.easing?Object.assign(h,bu(s,"mass","stiffness","damping","velocity")):5===s.easing&&Object.assign(h,{control1:{...s.control1},control2:{...s.control2}});let u={state:s.state,repeat:s.repeat?-1:0,delay:s.delay,delayDirection:s.delayDirection,direction:s.cycle&&s.rewind?"pingpong-rewind":s.cycle?"pingpong":"normal",...h},f={allowSlerp:!0,type:"Transition",object:s.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new Zn({fi:0,id:Ln.generateUUID(),data:{state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4}},{fi:1,id:Ln.generateUUID(),data:u})};o.push({fi:l,id:a,data:f})}),delete r.targets)}})})}(e),function p3e(e){e.scene.objects.traverse((t,n)=>{function i(r,o){let s=new Zn,a=[];if(n.events.forEach((l,c,h)=>{if("Audio"===l.type&&l.trigger===o){let d;a.push(c),"play"===l.interaction?d={...bu(l,"interaction","audio","delay","volume","loop"),triggerAfter:"after"in l?l.after:void 0,toggle:"after"in l?l.toggle:void 0,type:"Audio"}:("pause"===l.interaction||"stop"===l.interaction)&&(d={...bu(l,"interaction","delay","object","playAudio"),type:"Audio"}),d&&s.push({fi:h,id:c,data:d})}}),a.forEach(l=>n.events.delete(l)),s.length){let l=n.events.find(c=>c.type===r)?.data;l?"actions"in l&&l.actions.insertBefore(null,s):n.events.insertBefore(null,[{id:Ln.generateUUID(),data:{type:r,actions:s}}])}}i("Start","start"),i("MouseDown","mouseDown"),i("MouseUp","mouseUp"),i("KeyDown","keyDown"),i("KeyUp","keyUp")})}(e),e.schema=21),t<22&&(jG(e),e.schema=22),t<23&&(function f3e(e){e.scene.objects.traverse((t,n)=>{"Mesh"===n.type&&"SubdivGeometry"===n.geometry.type&&(n.geometry.scaleBaked||(n.geometry.scaleBaked=[1,1,1]))})}(e),e.schema=23),t<24&&(function m3e(e){e.scene.objects.traverse((t,n)=>{("Empty"===n.type||"Mesh"===n.type)&&n.cloner&&!n.cloner.randomnessObject&&!n.cloner.toObject&&!n.cloner.randomness&&(n.cloner={...n.cloner,toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}})})}(e),e.schema=24),(t<25||void 0===e.shared.videos)&&(function o3e(e){e.shared.videos=xu({},Ni.prototype)}(e),t<25&&(e.schema=25)),t<26&&(function JTe(e){e.scene.objects.traverse((t,n)=>{let i=e.scene.objects.unproxy().parent(t);if(i){let r=hs(e.scene.objects.data(i));r&&"Mesh"===r.type&&"BooleanGeometry"===r.geometry.type&&"Mesh"===n.type&&(n.visible=!0!==hs(n).booleanExclude)}})}(e),e.schema=26),t<27&&(function e3e(e){e.scene.objects.traverse((t,n)=>{if("Mesh"===n.type){let i=n;"NonParametricGeometry"===n.geometry.type?void 0!==i.material&&delete i.material:void 0!==i.materials&&delete i.materials}})}(e),e.schema=27),t<28&&(jG(e),e.schema=28),t<29&&(function t3e(e){function t(i){Object.setPrototypeOf(i,ks.prototype),i.texture&&Object.setPrototypeOf(i.texture,ks.prototype)}function n(i){Object.setPrototypeOf(i,ks.prototype);for(let r in i)t(i[r])}e.scene.objects.traverse((i,r)=>{r.states.forEach(o=>{let s=o;if(s.material){let a=hs(s.material).layers;n(a),s.material.layers=a}if(s.materials)for(let a=0;a<s.materials.length;a++){let l=s.materials[a],c=hs(l).layers;n(c),l.layers=c}})})}(e),e.schema=29),t<30&&(function g3e(e){e.scene.objects.traverse((t,n)=>{"Mesh"===n.type&&"NonParametricGeometry"===n.geometry.type&&!("material"in n)&&!("materials"in n)&&(n.material=Ca.defaultTwoLayerData("phong"))})}(e),e.schema=30),t<31&&(function v3e(e){void 0===e.scene.publish.orbitControls.autoZoom&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse((t,n)=>{("OrthographicCamera"===n.type||"PerspectiveCamera"===n.type)&&(void 0===n.orthographic.autoZoom&&(n.orthographic.autoZoom=!1),void 0===n.orthographic.autoZoomFrustumSize&&(n.orthographic.autoZoomFrustumSize=790))})}(e),e.schema=31),t<33&&(function y3e(e){e.scene.objects.traverse((t,n)=>{void 0===n.pathSnapping&&(n.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),void 0===n.pathSnapping.offset&&(n.pathSnapping.offset=0)})}(e),e.schema=33),t<34&&(function _3e(e){void 0===e.scene.publish.mouseEventTarget&&(e.scene.publish.mouseEventTarget="canvas"),void 0===e.scene.publish.settings.web.hint&&(e.scene.publish.settings.web.hint=!1)}(e),e.schema=34),t<35&&(function b3e(e){let{video:t}=e.scene.publish.settings;"gif"===t.format&&t.fps>48&&(t.fps=15)}(e),e.schema=35),t<36&&(function x3e(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&(i.resetYPosition=Math.abs(i.resetYPosition-n.position[1]))})})}(e),e.schema=36),t<37&&(function w3e(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse((n,i)=>{i.collision=(!t||null!==i.physics)&&"visibility"})}(e),e.schema=37),t<38&&(Yp(e,zG),qp(e,zG),e.schema=38),t<39&&(function C3e(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&(i.navmesh=JM.defaultDataThirdPerson.navmesh)})})}(e),e.schema=39),t<40&&(function M3e(e){e.scene.styles||(e.scene.styles=Ov.defaultData())}(e),e.schema=40),t<41&&(function P3e(e){void 0===e.scene.environment.ambientLight.occlusion&&(e.scene.environment.ambientLight.occlusion=!1),void 0===e.scene.environment.ambientLight.aoFullRes&&(e.scene.environment.ambientLight.aoFullRes=!1),void 0===e.scene.environment.ambientLight.radius&&(e.scene.environment.ambientLight.radius=256),void 0===e.scene.environment.ambientLight.bias&&(e.scene.environment.ambientLight.bias=.5),void 0===e.scene.environment.ambientLight.aoColor&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),Yp(e,VG),qp(e,VG)}(e),e.schema=41),t<42&&(function O3e(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&Object.assign(i.gameActions,{run:new Zn})})})}(e),e.schema=42),t<43&&(function S3e(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&(i.keyAssignments=[...i.keyAssignments,["run","\u21e7"],["none","Ctrl"]])})})}(e),e.schema=43),t<99){Yp(e,HG),qp(e,HG),null===e.scene.publish.playCamera&&(e.scene.publish.playCamera=gv);let n=hs(e.scene.objects),i=e.scene.objects;e.scene.publish.playPage=B_,i.insertBefore(null,null,[{id:B_,data:{...Pv.defaultData,backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:bu(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:bu(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:{...wv.defaultData,...bu(e.scene.environment,"usePhysics","gravity")},camera:hs(e.scene.ownerCamera)??Pv.defaultData.camera,name:"Scene"},children:[]}]);for(let s of n)s.id!==Sv.TRASH_CAN_ID&&i.move(B_,s.fi,s.id);let r=0,o=0;e.shared.penumbraSize&&e.scene.objects.traverse((s,a)=>{"DirectionalLight"===a.type?(a.penumbraSize=e.shared.penumbraSize[Math.min(r,2)],r+=1):"SpotLight"===a.type&&(a.penumbraSize=e.shared.penumbraSize[3+Math.min(o,1)],o+=1),null==a.physics&&"Instance"!==a.type&&(a.physics={},Object.assign(a.physics,bv.defaultData)),null!=a.physics&&(a.physics.enabled=a.collision??"visibility",delete a.collision)}),e.schema=99}}(e,t),t<100&&(void 0===e.scene.publish.joystickSizeAndXYOffset&&(e.scene.publish.joystickSizeAndXYOffset=Lm.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(Yp(e,GG),qp(e,GG),e.schema=101),t<102&&(function D3e(e){e.scene.objects.traverse((t,n)=>{let i=n.geometry;i&&"PathGeometry"===i.type&&(i.extrusion.capType="flat",i.extrusion.bevel=50,i.extrusion.bevelSides=6,"Custom"===i.extrusion.shape.type&&(i.extrusion.shape.shapeQuality="low"))})}(e),e.schema=102),t<104&&(e.shared.catelogs=new Ni,e.shared.lib=Ev.defaultData(),e.schema=104),t<105&&(function A3e(e){e.shared.variables=xu({},Ni.prototype)}(e),e.scene.objects.traverse((n,i)=>{qG(i)}),e.schema=105);for(let n of Object.values(e.shared.lib.components))k3e(n);t<106&&(function T3e(e){let t=hs(e.shared.variables);e.shared.variables=xu(Object.entries(t??{}).map(([n,i],r)=>({fi:r,id:n,data:i})),Zn.prototype)}(e),e.schema=106),t<107&&(e.shared.lib.variables=Ev.defaultData().variables,e.schema=107)}}function Bm(e,t=!1){let n=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),o={},s={},a=e[0].morphTargetsRelative,l=new Vn,c=0;for(let h=0;h<e.length;++h){let d=e[h],u=0;if(n!==(null!==d.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let f in d.attributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;void 0===o[f]&&(o[f]=[]),o[f].push(d.attributes[f]),u++}if(u!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". Make sure all geometries have the same number of attributes."),null;if(a!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let f in d.morphAttributes){if(!r.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[f]&&(s[f]=[]),s[f].push(d.morphAttributes[f])}if(t){let f;if(n)f=d.index.count;else{if(void 0===d.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". The geometry must have either an index or a position attribute"),null;f=d.attributes.position.count}l.addGroup(c,f,h),c+=f}}if(n){let h=0,d=[];for(let u=0;u<e.length;++u){let f=e[u].index;for(let v=0;v<f.count;++v)d.push(f.getX(v)+h);h+=e[u].attributes.position.count}l.setIndex(d)}for(let h in o){let d=$G(o[h]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" attribute."),null;l.setAttribute(h,d)}for(let h in s){let d=s[h][0].length;if(0===d)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[h]=[];for(let u=0;u<d;++u){let f=[];for(let y=0;y<s[h].length;++y)f.push(s[h][y][u]);let v=$G(f);if(!v)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" morphAttribute."),null;l.morphAttributes[h].push(v)}}return l}function $G(e){let t,n,i,r=0;for(let a=0;a<e.length;++a){let l=e[a];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=l.array.constructor),t!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=l.itemSize),n!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=l.normalized),i!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=l.array.length}let o=new t(r),s=0;for(let a=0;a<e.length;++a)o.set(e[a].array,s),s+=e[a].array.length;return new ti(o,n,i)}(e=>{e.defaultData={schema:Xp,scene:Sv.defaultData,frames:(new Ni).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",j_.defaultData),shared:{..._d.emptyData(),colors:_d.defaultColors()}},e.emptyDataForImports=function(r){let o=Sv.emptyDataWithPage(r);return{schema:Xp,scene:o,frames:(new Ni).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",j_.defaultData),shared:{..._d.emptyData(),colors:_d.defaultColors(),images:_d.defaultImages(r)}}},e.emptyData=function(){return{schema:Xp,scene:Sv.emptyDataWithPage(),frames:(new Ni).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",j_.defaultData),shared:_d.emptyData()}},e.collabHelper={...WT,updateSchema:r=>(r.schema??0)<Xp?F_(r,XG):(r.schema??0)-Xp},e.updateSchemaDirectly=function t(r){let o=e.collabHelper.updateSchema(r);return"number"==typeof o?0===o?r:null:o.data},e.withoutLib=function n(r){return{...r,shared:{...r.shared,lib:Ev.defaultData()}}},e.getComponentData=function i(r,o){let s=r.scene.objects.get(o);if(s&&"Component"===s.data.type)return s;{let a=r.shared.lib.components[o];if(a)return a.asset}}})(eP||(eP={}));var I3e=Math.pow(2,-24),tP=class{constructor(){}};function ph(e,t,n){return n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5],n}function KG(e){let t=-1,n=-1/0;for(let i=0;i<3;i++){let r=e[i+3]-e[i];r>n&&(n=r,t=i)}return t}function QG(e,t){t.set(e)}function ZG(e,t,n){let i,r;for(let o=0;o<3;o++){let s=o+3;i=e[o],r=t[o],n[o]=i<r?i:r,i=e[s],r=t[s],n[s]=i>r?i:r}}function nP(e,t,n){for(let i=0;i<3;i++){let r=t[e+2*i],o=t[e+2*i+1],s=r-o,a=r+o;s<n[i]&&(n[i]=s),a>n[i+3]&&(n[i+3]=a)}}function V_(e){let t=e[3]-e[0],n=e[4]-e[1],i=e[5]-e[2];return 2*(t*n+n*i+i*t)}function F3(e,t,n,i,r=null){let o=1/0,s=1/0,a=1/0,l=-1/0,c=-1/0,h=-1/0,d=1/0,u=1/0,f=1/0,v=-1/0,y=-1/0,_=-1/0,w=null!==r;for(let O=6*t,S=6*(t+n);O<S;O+=6){let D=e[O+0],U=e[O+1],Y=D-U,q=D+U;Y<o&&(o=Y),q>l&&(l=q),w&&D<d&&(d=D),w&&D>v&&(v=D);let K=e[O+2],Z=e[O+3],te=K-Z,ie=K+Z;te<s&&(s=te),ie>c&&(c=ie),w&&K<u&&(u=K),w&&K>y&&(y=K);let ce=e[O+4],de=e[O+5],ue=ce-de,Ce=ce+de;ue<a&&(a=ue),Ce>h&&(h=Ce),w&&ce<f&&(f=ce),w&&ce>_&&(_=ce)}i[0]=o,i[1]=s,i[2]=a,i[3]=l,i[4]=c,i[5]=h,w&&(r[0]=d,r[1]=u,r[2]=f,r[3]=v,r[4]=y,r[5]=_)}var B3e=(e,t)=>e.candidate-t.candidate,$p=new Array(32).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),iP=new Float32Array(6);var fh=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let n=1/0,i=-1/0;for(let r=0,o=e.length;r<o;r++){let s=e[r][t];n=s<n?s:n,i=s>i?s:i}this.min=n,this.max=i}setFromPoints(e,t){let n=1/0,i=-1/0;for(let r=0,o=t.length;r<o;r++){let a=e.dot(t[r]);n=a<n?a:n,i=a>i?a:i}this.min=n,this.max=i}isSeparated(e){return this.min>e.max||e.min>this.max}};fh.prototype.setFromBox=function(){let e=new ne;return function(t,n){let i=n.min,r=n.max,o=1/0,s=-1/0;for(let a=0;a<=1;a++)for(let l=0;l<=1;l++)for(let c=0;c<=1;c++){e.x=i.x*a+r.x*(1-a),e.y=i.y*l+r.y*(1-l),e.z=i.z*c+r.z*(1-c);let h=t.dot(e);o=Math.min(h,o),s=Math.max(h,s)}this.min=o,this.max=s}}(),new fh;var G3e=function(){let e=new ne,t=new ne,n=new ne;return function(i,r,o){let a=e,c=t;n.subVectors(i.start,r.start),e.subVectors(i.end,i.start),t.subVectors(r.end,r.start);let y,_,h=n.dot(c),d=c.dot(a),u=c.dot(c),f=n.dot(a),v=a.dot(a)*u-d*d;y=0!==v?(h*d-f*u)/v:0,_=(h+y*d)/u,o.x=y,o.y=_}}(),L3=function(){let e=new Fe,t=new ne,n=new ne;return function(i,r,o,s){G3e(i,r,e);let a=e.x,l=e.y;if(a>=0&&a<=1&&l>=0&&l<=1)return i.at(a,o),void r.at(l,s);if(a>=0&&a<=1)return r.at(l<0?0:1,s),void i.closestPointToPoint(s,!0,o);if(l>=0&&l<=1)return i.at(a<0?0:1,o),void r.closestPointToPoint(o,!0,s);{let c,h;c=a<0?i.start:i.end,h=l<0?r.start:r.end;let d=t,u=n;return i.closestPointToPoint(h,!0,t),r.closestPointToPoint(c,!0,n),d.distanceToSquared(h)<=u.distanceToSquared(c)?(o.copy(d),void s.copy(h)):(o.copy(c),void s.copy(u))}}}(),W3e=function(){let e=new ne,t=new ne,n=new Ql,i=new Oc;return function(r,o){let{radius:s,center:a}=r,{a:l,b:c,c:h}=o;if(i.start=l,i.end=c,i.closestPointToPoint(a,!0,e).distanceTo(a)<=s||(i.start=l,i.end=h,i.closestPointToPoint(a,!0,e).distanceTo(a)<=s)||(i.start=c,i.end=h,i.closestPointToPoint(a,!0,e).distanceTo(a)<=s))return!0;let d=o.getPlane(n);if(Math.abs(d.distanceToPoint(a))<=s){let u=d.projectPoint(a,t);if(o.containsPoint(u))return!0}return!1}}();function Av(e){return Math.abs(e)<1e-15}var Mu=class extends ba{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new ne),this.satBounds=new Array(4).fill().map(()=>new fh),this.points=[this.a,this.b,this.c],this.sphere=new ml,this.plane=new Ql,this.needsUpdate=!0}intersectsSphere(e){return W3e(e,this)}update(){let e=this.a,t=this.b,n=this.c,i=this.points,r=this.satAxes,o=this.satBounds,s=r[0],a=o[0];this.getNormal(s),a.setFromPoints(s,i);let l=r[1],c=o[1];l.subVectors(e,t),c.setFromPoints(l,i);let h=r[2],d=o[2];h.subVectors(t,n),d.setFromPoints(h,i);let u=r[3],f=o[3];u.subVectors(n,e),f.setFromPoints(u,i),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(s,e),this.needsUpdate=!1}};Mu.prototype.closestPointToSegment=function(){let e=new ne,t=new ne,n=new Oc;return function(i,r=null,o=null){let c,{start:s,end:a}=i,l=this.points,h=1/0;for(let d=0;d<3;d++){let u=(d+1)%3;n.start.copy(l[d]),n.end.copy(l[u]),L3(n,i,e,t),c=e.distanceToSquared(t),c<h&&(h=c,r&&r.copy(e),o&&o.copy(t))}return this.closestPointToPoint(s,e),c=s.distanceToSquared(e),c<h&&(h=c,r&&r.copy(e),o&&o.copy(s)),this.closestPointToPoint(a,e),c=a.distanceToSquared(e),c<h&&(h=c,r&&r.copy(e),o&&o.copy(a)),Math.sqrt(h)}}(),Mu.prototype.intersectsTriangle=function(){let e=new Mu,t=new Array(3),n=new Array(3),i=new fh,r=new fh,o=new ne,s=new ne,a=new ne,l=new ne,c=new Oc,h=new Oc,d=new Oc;return function(u,f=null,v=!1){this.needsUpdate&&this.update(),u.isExtendedTriangle?u.needsUpdate&&u.update():(e.copy(u),e.update(),u=e);let y=this.plane,_=u.plane;if(Math.abs(y.normal.dot(_.normal))>1-1e-10){let w=this.satBounds,O=this.satAxes;n[0]=u.a,n[1]=u.b,n[2]=u.c;for(let U=0;U<4;U++){let Y=w[U];if(i.setFromPoints(O[U],n),Y.isSeparated(i))return!1}let S=u.satBounds,D=u.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let U=0;U<4;U++){let Y=S[U];if(i.setFromPoints(D[U],t),Y.isSeparated(i))return!1}for(let U=0;U<4;U++){let Y=O[U];for(let q=0;q<4;q++)if(o.crossVectors(Y,D[q]),i.setFromPoints(o,t),r.setFromPoints(o,n),i.isSeparated(r))return!1}return f&&(v||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),f.start.set(0,0,0),f.end.set(0,0,0)),!0}{let w=this.points,O=!1,S=0;for(let de=0;de<3;de++){let ue=w[de],Ce=w[(de+1)%3];c.start.copy(ue),c.end.copy(Ce),c.delta(s);let we=O?h.start:h.end,_e=Av(_.distanceToPoint(ue));if(Av(_.normal.dot(s))&&_e){h.copy(c),S=2;break}if((_.intersectLine(c,we)||_e)&&!Av(we.distanceTo(Ce))){if(S++,O)break;O=!0}}if(1===S&&u.containsPoint(h.end))return f&&(f.start.copy(h.end),f.end.copy(h.end)),!0;if(2!==S)return!1;let D=u.points,U=!1,Y=0;for(let de=0;de<3;de++){let ue=D[de],Ce=D[(de+1)%3];c.start.copy(ue),c.end.copy(Ce),c.delta(a);let we=U?d.start:d.end,_e=Av(y.distanceToPoint(ue));if(Av(y.normal.dot(a))&&_e){d.copy(c),Y=2;break}if((y.intersectLine(c,we)||_e)&&!Av(we.distanceTo(Ce))){if(Y++,U)break;U=!0}}if(1===Y&&this.containsPoint(d.end))return f&&(f.start.copy(d.end),f.end.copy(d.end)),!0;if(2!==Y)return!1;if(h.delta(s),d.delta(a),s.dot(a)<0){let de=d.start;d.start=d.end,d.end=de}let q=h.start.dot(s),K=h.end.dot(s),Z=d.start.dot(s),te=d.end.dot(s),ie=K<Z,ce=q<te;return(q===te||Z===K||ie!==ce)&&(f&&(l.subVectors(h.start,d.start),l.dot(s)>0?f.start.copy(h.start):f.start.copy(d.start),l.subVectors(h.end,d.end),l.dot(s)<0?f.end.copy(h.end):f.end.copy(d.end)),!0)}}}(),Mu.prototype.distanceToPoint=function(){let e=new ne;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),Mu.prototype.distanceToTriangle=function(){let e=new ne,t=new ne,n=["a","b","c"],i=new Oc,r=new Oc;return function(o,s=null,a=null){let l=s||a?i:null;if(this.intersectsTriangle(o,l))return(s||a)&&(s&&l.getCenter(s),a&&l.getCenter(a)),0;let c=1/0;for(let h=0;h<3;h++){let d,u=n[h],f=o[u];this.closestPointToPoint(f,e),d=f.distanceToSquared(e),d<c&&(c=d,s&&s.copy(e),a&&a.copy(f));let v=this[u];o.closestPointToPoint(v,e),d=v.distanceToSquared(e),d<c&&(c=d,s&&s.copy(v),a&&a.copy(e))}for(let h=0;h<3;h++){i.set(this[n[h]],this[n[(h+1)%3]]);for(let f=0;f<3;f++){r.set(o[n[f]],o[n[(f+1)%3]]),L3(i,r,e,t);let _=e.distanceToSquared(t);_<c&&(c=_,s&&s.copy(e),a&&a.copy(t))}}return Math.sqrt(c)}}();var mh=class{constructor(e,t,n){this.isOrientedBox=!0,this.min=new ne,this.max=new ne,this.matrix=new Ut,this.invMatrix=new Ut,this.points=new Array(8).fill().map(()=>new ne),this.satAxes=new Array(3).fill().map(()=>new ne),this.satBounds=new Array(3).fill().map(()=>new fh),this.alignedSatBounds=new Array(3).fill().map(()=>new fh),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),n&&this.matrix.copy(n)}set(e,t,n){this.min.copy(e),this.max.copy(t),this.matrix.copy(n),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};mh.prototype.update=function(){let e=this.matrix,t=this.min,n=this.max,i=this.points;for(let l=0;l<=1;l++)for(let c=0;c<=1;c++)for(let h=0;h<=1;h++){let u=i[1*l|2*c|4*h];u.x=l?n.x:t.x,u.y=c?n.y:t.y,u.z=h?n.z:t.z,u.applyMatrix4(e)}let r=this.satBounds,o=this.satAxes,s=i[0];for(let l=0;l<3;l++){let c=o[l],h=r[l];c.subVectors(s,i[1<<l]),h.setFromPoints(c,i)}let a=this.alignedSatBounds;a[0].setFromPointsField(i,"x"),a[1].setFromPointsField(i,"y"),a[2].setFromPointsField(i,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1},mh.prototype.intersectsBox=function(){let e=new fh;return function(t){this.needsUpdate&&this.update();let n=t.min,i=t.max,r=this.satBounds,o=this.satAxes,s=this.alignedSatBounds;if(e.min=n.x,e.max=i.x,s[0].isSeparated(e)||(e.min=n.y,e.max=i.y,s[1].isSeparated(e))||(e.min=n.z,e.max=i.z,s[2].isSeparated(e)))return!1;for(let a=0;a<3;a++){let c=r[a];if(e.setFromBox(o[a],t),c.isSeparated(e))return!1}return!0}}(),mh.prototype.intersectsTriangle=function(){let e=new Mu,t=new Array(3),n=new fh,i=new fh,r=new ne;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(e.copy(o),e.update(),o=e);let s=this.satBounds,a=this.satAxes;t[0]=o.a,t[1]=o.b,t[2]=o.c;for(let d=0;d<3;d++){let u=s[d];if(n.setFromPoints(a[d],t),u.isSeparated(n))return!1}let l=o.satBounds,c=o.satAxes,h=this.points;for(let d=0;d<3;d++){let u=l[d];if(n.setFromPoints(c[d],h),u.isSeparated(n))return!1}for(let d=0;d<3;d++){let u=a[d];for(let f=0;f<4;f++)if(r.crossVectors(u,c[f]),n.setFromPoints(r,t),i.setFromPoints(r,h),n.isSeparated(i))return!1}return!0}}(),mh.prototype.closestPointToPoint=function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},mh.prototype.distanceToPoint=function(){let e=new ne;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),mh.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new Oc),n=new Array(12).fill().map(()=>new Oc),i=new ne,r=new ne;return function(o,s=0,a=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(a||l)&&(o.getCenter(r),this.closestPointToPoint(r,i),o.closestPointToPoint(i,r),a&&a.copy(i),l&&l.copy(r)),0;let c=s*s,h=o.min,d=o.max,u=this.points,f=1/0;for(let y=0;y<8;y++){let _=u[y];r.copy(_).clamp(h,d);let w=_.distanceToSquared(r);if(w<f&&(f=w,a&&a.copy(_),l&&l.copy(r),w<c))return Math.sqrt(w)}let v=0;for(let y=0;y<3;y++)for(let _=0;_<=1;_++)for(let w=0;w<=1;w++){let O=(y+1)%3,S=(y+2)%3;t[v].set(u[_<<O|w<<S],u[1<<y|_<<O|w<<S]);let K=e[y],Z=e[O],te=e[S],ie=n[v],ce=ie.start,de=ie.end;ce[K]=h[K],ce[Z]=_?h[Z]:d[Z],ce[te]=w?h[te]:d[Z],de[K]=d[K],de[Z]=_?h[Z]:d[Z],de[te]=w?h[te]:d[Z],v++}for(let y=0;y<=1;y++)for(let _=0;_<=1;_++)for(let w=0;w<=1;w++){r.x=y?d.x:h.x,r.y=_?d.y:h.y,r.z=w?d.z:h.z,this.closestPointToPoint(r,i);let O=r.distanceToSquared(i);if(O<f&&(f=O,a&&a.copy(i),l&&l.copy(r),O<c))return Math.sqrt(O)}for(let y=0;y<12;y++){let _=t[y];for(let w=0;w<12;w++){L3(_,n[w],i,r);let S=i.distanceToSquared(r);if(S<f&&(f=S,a&&a.copy(i),l&&l.copy(r),S<c))return Math.sqrt(S)}}return Math.sqrt(f)}}();var Tv=new ne,kv=new ne,Iv=new ne,rP=new Fe,oP=new Fe,sP=new Fe,JG=new ne,eW=new ne,tW=new ne,aP=new ne;function nW(e,t,n,i,r){let o=3*i,s=e.index.getX(o),a=e.index.getX(o+1),l=e.index.getX(o+2),{position:c,normal:h,uv:d,uv1:u}=e.attributes,f=function X3e(e,t,n,i,r,o,s,a,l){Tv.fromBufferAttribute(t,o),kv.fromBufferAttribute(t,s),Iv.fromBufferAttribute(t,a);let c=function Y3e(e,t,n,i,r,o){let s;return s=1===o?e.intersectTriangle(i,n,t,!0,r):e.intersectTriangle(t,n,i,2!==o,r),null===s?null:{distance:e.origin.distanceTo(r),point:r.clone()}}(e,Tv,kv,Iv,aP,l);if(c){i&&(rP.fromBufferAttribute(i,o),oP.fromBufferAttribute(i,s),sP.fromBufferAttribute(i,a),c.uv=ba.getInterpolation(aP,Tv,kv,Iv,rP,oP,sP,new Fe)),r&&(rP.fromBufferAttribute(r,o),oP.fromBufferAttribute(r,s),sP.fromBufferAttribute(r,a),c.uv1=ba.getInterpolation(aP,Tv,kv,Iv,rP,oP,sP,new Fe)),n&&(JG.fromBufferAttribute(n,o),eW.fromBufferAttribute(n,s),tW.fromBufferAttribute(n,a),c.normal=ba.getInterpolation(aP,Tv,kv,Iv,JG,eW,tW,new ne),c.normal.dot(e.direction)>0&&c.normal.multiplyScalar(-1));let h={a:o,b:s,c:a,normal:new ne,materialIndex:0};ba.getNormal(Tv,kv,Iv,h.normal),c.face=h,c.faceIndex=o}return c}(n,c,h,d,u,s,a,l,t);return f?(f.faceIndex=i,r&&r.push(f),f):null}function gh(e,t,n,i){let r=e.a,o=e.b,s=e.c,a=t,l=t+1,c=t+2;n&&(a=n.getX(t),l=n.getX(t+1),c=n.getX(t+2)),r.x=i.getX(a),r.y=i.getY(a),r.z=i.getZ(a),o.x=i.getX(l),o.y=i.getY(l),o.z=i.getZ(l),s.x=i.getX(c),s.y=i.getY(c),s.z=i.getZ(c)}function iW(e,t,n,i,r,o,s){let a=n.index,l=n.attributes.position;for(let c=e,h=t+e;c<h;c++)if(gh(s,3*c,a,l),s.needsUpdate=!0,i(s,c,r,o))return!0;return!1}var rW=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return 0===e.length?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function Kp(e,t){return 65535===t[e+15]}function Rv(e,t){return t[e+6]}function H_(e,t){return t[e+14]}function G_(e){return e+8}function W_(e,t){return t[e+6]}var Nv=new Ko,lP=new ne,Z3e=["x","y","z"];function B3(e,t,n,i,r){let o=2*e,s=Fv,a=Qp,l=Zp;if(Kp(o,a))!function $3e(e,t,n,i,r,o){for(let s=i,a=i+r;s<a;s++)nW(e,t,n,s,o)}(t,n,i,Rv(e,l),H_(o,a),r);else{let c=G_(e);cP(c,s,i,lP)&&B3(c,t,n,i,r);let h=W_(e,l);cP(h,s,i,lP)&&B3(h,t,n,i,r)}}function z3(e,t,n,i){let r=2*e,o=Fv,s=Qp,a=Zp;if(Kp(r,s))return function K3e(e,t,n,i,r){let o=1/0,s=null;for(let a=i,l=i+r;a<l;a++){let c=nW(e,t,n,a);c&&c.distance<o&&(s=c,o=c.distance)}return s}(t,n,i,Rv(e,a),H_(r,s));{let d,u,l=function Q3e(e,t){return t[e+7]}(e,a),c=Z3e[l],h=i.direction[c]>=0;h?(d=G_(e),u=W_(e,a)):(d=W_(e,a),u=G_(e));let f=cP(d,o,i,lP)?z3(d,t,n,i):null;if(f){let y=f.point[c];if(h?y<=o[u+l]:y>=o[u+l+3])return f}let v=cP(u,o,i,lP)?z3(u,t,n,i):null;return f&&v?f.distance<=v.distance?f:v:f||v||null}}var J3e=function(){let e,t,n=[],i=new rW(()=>new Ko);return function(...o){e=i.getPrimitive(),t=i.getPrimitive(),n.push(e,t);let s=r(...o);i.releasePrimitive(e),i.releasePrimitive(t),n.pop(),n.pop();let a=n.length;return a>0&&(t=n[a-1],e=n[a-2]),s};function r(o,s,a,l,c=null,h=0,d=0){function u(O){let S=2*O,D=Qp,U=Zp;for(;!Kp(S,D);)S=2*(O=G_(O));return Rv(O,U)}function f(O){let S=2*O,D=Qp,U=Zp;for(;!Kp(S,D);)S=2*(O=W_(O,U));return Rv(O,U)+H_(S,D)}let v=2*o,y=Fv,_=Qp,w=Zp;if(Kp(v,_)){let O=Rv(o,w),S=H_(v,_);return ph(o,y,e),l(O,S,!1,d,h+o,e)}{let Y,q,K,Z,O=G_(o),S=W_(o,w),D=O,U=S;if(c&&(K=e,Z=t,ph(D,y,K),ph(U,y,Z),Y=c(K),q=c(Z),q<Y)){D=S,U=O;let we=Y;Y=q,q=we,K=Z}K||(K=e,ph(D,y,K));let ce,ie=a(K,Kp(2*D,_),Y,d+1,h+D);if(2===ie){let we=u(D);ce=l(we,f(D)-we,!0,d+1,h+D,K)}else ce=ie&&r(D,s,a,l,c,h,d+1);if(ce)return!0;Z=t,ph(U,y,Z);let Ce,ue=a(Z,Kp(2*U,_),q,d+1,h+U);if(2===ue){let we=u(U);Ce=l(we,f(U)-we,!0,d+1,h+U,Z)}else Ce=ue&&r(U,s,a,l,c,h,d+1);return!!Ce}}}(),eke=function(){let e=new Mu,t=new Mu,n=new Ut,i=new mh,r=new mh;return function o(s,a,l,c,h=null){let d=2*s,u=Fv,f=Qp,v=Zp;if(null===h&&(l.boundingBox||l.computeBoundingBox(),i.set(l.boundingBox.min,l.boundingBox.max,c),h=i),!Kp(d,f)){let y=s+8,_=v[s+6];return ph(y,u,Nv),!!(h.intersectsBox(Nv)&&o(y,a,l,c,h)||(ph(_,u,Nv),h.intersectsBox(Nv)&&o(_,a,l,c,h)))}{let _=a.index,w=a.attributes.position,O=l.index,S=l.attributes.position,D=Rv(s,v),U=H_(d,f);if(n.copy(c).invert(),l.boundsTree)return ph(s,u,r),r.matrix.copy(n),r.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:Y=>r.intersectsBox(Y),intersectsTriangle:Y=>{Y.a.applyMatrix4(c),Y.b.applyMatrix4(c),Y.c.applyMatrix4(c),Y.needsUpdate=!0;for(let q=3*D,K=3*(U+D);q<K;q+=3)if(gh(t,q,_,w),t.needsUpdate=!0,Y.intersectsTriangle(t))return!0;return!1}});for(let Y=3*D,q=U+3*D;Y<q;Y+=3){gh(e,Y,_,w),e.a.applyMatrix4(n),e.b.applyMatrix4(n),e.c.applyMatrix4(n),e.needsUpdate=!0;for(let K=0,Z=O.count;K<Z;K+=3)if(gh(t,K,O,S),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}}}();function cP(e,t,n,i){return ph(e,t,Nv),n.intersectBox(Nv,i)}var dP,Fv,Qp,Zp,U3=[];function q_(e){dP&&U3.push(dP),dP=e,Fv=new Float32Array(e),Qp=new Uint16Array(e),Zp=new Uint32Array(e)}function hP(){dP=null,Fv=null,Qp=null,Zp=null,U3.length&&q_(U3.pop())}var j3=Symbol("skip tree generation"),V3=new Ko,H3=new Ko,Lv=new Ut,zm=new mh,Y_=new mh,X_=new ne,uP=new ne,tke=new ne,nke=new ne,ike=new ne,oW=new Ko,vh=new rW(()=>new Mu),$_=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),$_.serialize(arguments[0],{cloneBuffers:void 0===arguments[2]||arguments[2]});t={cloneBuffers:!0,...t};let o,i=e._roots,r=e.geometry.getIndex();return o=t.cloneBuffers?{roots:i.map(s=>s.slice()),index:r.array.slice()}:{roots:i,index:r.array},o}static deserialize(e,t,n={}){if("boolean"==typeof n)return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),$_.deserialize(arguments[0],arguments[1],{setIndex:void 0===arguments[2]||arguments[2]});n={setIndex:!0,...n};let{index:i,roots:r}=e,o=new $_(t,{...n,[j3]:!0});if(o._roots=r,n.setIndex){let s=t.getIndex();if(null===s){let a=new ti(e.index,1,!1);t.setIndex(a)}else s.array!==i&&(s.array.set(i),s.needsUpdate=!0)}return o}constructor(e,t={}){if(!e.isBufferGeometry)throw new Error("MeshBVH: Only BufferGeometries are supported.");if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.");if((t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[j3]:!1},t)).useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[j3]||(this._roots=function H3e(e,t){let i,r,o,n=function V3e(e,t){function n(w){u&&u(w/f)}function i(w,O,S,D=null,U=0){if(!v&&U>=l&&(v=!0,c&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),S<=h||U>=l)return n(O+S),w.offset=O,w.count=S,w;let Y=function z3e(e,t,n,i,r,o){let s=-1,a=0;if(0===o)s=KG(t),-1!==s&&(a=(t[s]+t[s+3])/2);else if(1===o)s=KG(e),-1!==s&&(a=function U3e(e,t,n,i){let r=0;for(let o=t,s=t+n;o<s;o++)r+=e[6*o+2*i];return r/n}(n,i,r,s));else if(2===o){let l=V_(e),c=1.25*r,h=6*i,d=6*(i+r);for(let u=0;u<3;u++){let f=t[u],v=(t[u+3]-f)/32;if(r<8){let y=[...$p];y.length=r;let _=0;for(let O=h;O<d;O+=6,_++){let S=y[_];S.candidate=n[O+2*u],S.count=0;let{bounds:D,leftCacheBounds:U,rightCacheBounds:Y}=S;for(let q=0;q<3;q++)Y[q]=1/0,Y[q+3]=-1/0,U[q]=1/0,U[q+3]=-1/0,D[q]=1/0,D[q+3]=-1/0;nP(O,n,D)}y.sort(B3e);let w=r;for(let O=0;O<w;O++){let S=y[O];for(;O+1<w&&y[O+1].candidate===S.candidate;)y.splice(O+1,1),w--}for(let O=h;O<d;O+=6){let S=n[O+2*u];for(let D=0;D<w;D++){let U=y[D];S>=U.candidate?nP(O,n,U.rightCacheBounds):(nP(O,n,U.leftCacheBounds),U.count++)}}for(let O=0;O<w;O++){let S=y[O],D=S.count,U=r-S.count,Y=S.leftCacheBounds,q=S.rightCacheBounds,K=0;0!==D&&(K=V_(Y)/l);let Z=0;0!==U&&(Z=V_(q)/l);let te=1+1.25*(K*D+Z*U);te<c&&(s=u,c=te,a=S.candidate)}}else{for(let w=0;w<32;w++){let O=$p[w];O.count=0,O.candidate=f+v+w*v;let S=O.bounds;for(let D=0;D<3;D++)S[D]=1/0,S[D+3]=-1/0}for(let w=h;w<d;w+=6){let O=~~((n[w+2*u]-f)/v);O>=32&&(O=31);let S=$p[O];S.count++,nP(w,n,S.bounds)}let y=$p[31];QG(y.bounds,y.rightCacheBounds);for(let w=30;w>=0;w--){let O=$p[w];ZG(O.bounds,$p[w+1].rightCacheBounds,O.rightCacheBounds)}let _=0;for(let w=0;w<31;w++){let O=$p[w],S=O.count,D=O.bounds,U=$p[w+1].rightCacheBounds;0!==S&&(0===_?QG(D,iP):ZG(D,iP,iP)),_+=S;let Y=0,q=0;0!==_&&(Y=V_(iP)/l);let K=r-_;0!==K&&(q=V_(U)/l);let Z=1+1.25*(Y*_+q*K);Z<c&&(s=u,c=Z,a=O.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${o} used.`);return{axis:s,pos:a}}(w.boundingData,D,s,O,S,d);if(-1===Y.axis)return n(O+S),w.offset=O,w.count=S,w;let q=function L3e(e,t,n,i,r){let o=n,s=n+i-1,a=r.pos,l=2*r.axis;for(;;){for(;o<=s&&t[6*o+l]<a;)o++;for(;o<=s&&t[6*s+l]>=a;)s--;if(!(o<s))return o;for(let c=0;c<3;c++){let h=e[3*o+c];e[3*o+c]=e[3*s+c],e[3*s+c]=h;let d=t[6*o+2*c+0];t[6*o+2*c+0]=t[6*s+2*c+0],t[6*s+2*c+0]=d;let u=t[6*o+2*c+1];t[6*o+2*c+1]=t[6*s+2*c+1],t[6*s+2*c+1]=u}o++,s--}}(a,s,O,S,Y);if(q===O||q===O+S)n(O+S),w.offset=O,w.count=S;else{w.splitAxis=Y.axis;let K=new tP,Z=O,te=q-O;w.left=K,K.boundingData=new Float32Array(6),F3(s,Z,te,K.boundingData,o),i(K,Z,te,o,U+1);let ie=new tP,ce=q,de=S-te;w.right=ie,ie.boundingData=new Float32Array(6),F3(s,ce,de,ie.boundingData,o),i(ie,ce,de,o,U+1)}return w}!function R3e(e,t){if(!e.index){let r,n=e.attributes.position.count,i=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;r=n>65535?new Uint32Array(new i(4*n)):new Uint16Array(new i(2*n)),e.setIndex(new ti(r,1));for(let o=0;o<n;o++)r[o]=o}}(e,t);let r=new Float32Array(6),o=new Float32Array(6),s=function j3e(e,t){let n=e.attributes.position,i=e.index.array,r=i.length/3,o=new Float32Array(6*r),s=n.normalized,a=n.array,l=n.offset||0,c=3;n.isInterleavedBufferAttribute&&(c=n.data.stride);let h=["getX","getY","getZ"];for(let d=0;d<r;d++){let v,y,_,u=3*d,f=6*d;s?(v=i[u+0],y=i[u+1],_=i[u+2]):(v=i[u+0]*c+l,y=i[u+1]*c+l,_=i[u+2]*c+l);for(let w=0;w<3;w++){let O,S,D;s?(O=n[h[w]](v),S=n[h[w]](y),D=n[h[w]](_)):(O=a[v+w],S=a[y+w],D=a[_+w]);let U=O;S<U&&(U=S),D<U&&(U=D);let Y=O;S>Y&&(Y=S),D>Y&&(Y=D);let q=(Y-U)/2,K=2*w;o[f+K+0]=U+q,o[f+K+1]=q+(Math.abs(U)+q)*I3e,U<t[w]&&(t[w]=U),Y>t[w+3]&&(t[w+3]=Y)}}return o}(e,r),a=e.index.array,l=t.maxDepth,c=t.verbose,h=t.maxLeafTris,d=t.strategy,u=t.onProgress,f=e.index.count/3,v=!1,y=[],_=function N3e(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],n=new Set;for(let r of e.groups)n.add(r.start),n.add(r.start+r.count);let i=Array.from(n.values()).sort((r,o)=>r-o);for(let r=0;r<i.length-1;r++){let o=i[r];t.push({offset:o/3,count:(i[r+1]-o)/3})}return t}(e);if(1===_.length){let w=_[0],O=new tP;O.boundingData=r,function F3e(e,t,n,i){let r=1/0,o=1/0,s=1/0,a=-1/0,l=-1/0,c=-1/0;for(let h=6*t,d=6*(t+n);h<d;h+=6){let u=e[h+0];u<r&&(r=u),u>a&&(a=u);let f=e[h+2];f<o&&(o=f),f>l&&(l=f);let v=e[h+4];v<s&&(s=v),v>c&&(c=v)}i[0]=r,i[1]=o,i[2]=s,i[3]=a,i[4]=l,i[5]=c}(s,w.offset,w.count,o),i(O,w.offset,w.count,o),y.push(O)}else for(let w of _){let O=new tP;O.boundingData=new Float32Array(6),F3(s,w.offset,w.count,O.boundingData,o),i(O,w.offset,w.count,o),y.push(O)}return y}(e,t),s=[],a=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let h=0;h<n.length;h++){let d=n[h],f=new a(32*l(d));i=new Float32Array(f),r=new Uint32Array(f),o=new Uint16Array(f),c(0,d),s.push(f)}return s;function l(h){return h.count?1:1+l(h.left)+l(h.right)}function c(h,d){let u=h/4,f=h/2,v=!!d.count,y=d.boundingData;for(let _=0;_<6;_++)i[u+_]=y[_];if(v){let w=d.count;return r[u+6]=d.offset,o[f+14]=w,o[f+15]=65535,h+32}{let S,w=d.right,O=d.splitAxis;if(S=c(h+32,d.left),S/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return r[u+6]=S/4,S=c(S,w),r[u+7]=O,S}}}(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Ko))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let r,o,s,a,t=this.geometry,n=t.index.array,i=t.attributes.position,l=0,c=this._roots;for(let d=0,u=c.length;d<u;d++)r=c[d],o=new Uint32Array(r),s=new Uint16Array(r),a=new Float32Array(r),h(0,l),l+=r.byteLength;function h(d,u,f=!1){let v=2*d;if(65535===s[v+15]){let y=o[d+6],w=1/0,O=1/0,S=1/0,D=-1/0,U=-1/0,Y=-1/0;for(let q=3*y,K=3*(y+s[v+14]);q<K;q++){let Z=n[q],te=i.getX(Z),ie=i.getY(Z),ce=i.getZ(Z);te<w&&(w=te),te>D&&(D=te),ie<O&&(O=ie),ie>U&&(U=ie),ce<S&&(S=ce),ce>Y&&(Y=ce)}return(a[d+0]!==w||a[d+1]!==O||a[d+2]!==S||a[d+3]!==D||a[d+4]!==U||a[d+5]!==Y)&&(a[d+0]=w,a[d+1]=O,a[d+2]=S,a[d+3]=D,a[d+4]=U,a[d+5]=Y,!0)}{let y=d+8,_=o[d+6],w=y+u,O=_+u,S=f,D=!1,U=!1;e?S||(D=e.has(w),U=e.has(O),S=!D&&!U):(D=!0,U=!0);let q=S||U,K=!1;(S||D)&&(K=h(y,u,S));let Z=!1;q&&(Z=h(_,u,S));let te=K||Z;if(te)for(let ie=0;ie<3;ie++){let ce=y+ie,de=_+ie,ue=a[ce],Ce=a[ce+3],we=a[de],_e=a[de+3];a[d+ie]=ue<we?ue:we,a[d+ie+3]=Ce>_e?Ce:_e}return te}}}traverse(e,t=0){let n=this._roots[t],i=new Uint32Array(n),r=new Uint16Array(n);!function o(s,a=0){let l=2*s,c=65535===r[l+15];if(c){let h=i[s+6],d=r[l+14];e(a,c,new Float32Array(n,4*s,6),h,d)}else{let h=s+8,d=i[s+6],u=i[s+7];e(a,c,new Float32Array(n,4*s,6),u)||(o(h,a+1),o(d,a+1))}}(0)}raycast(e,t=0){let n=this._roots,i=this.geometry,r=[],o=t.isMaterial,s=Array.isArray(t),a=i.groups,l=o?t.side:t;for(let c=0,h=n.length;c<h;c++){let d=s?t[a[c].materialIndex].side:l,u=r.length;if(q_(n[c]),B3(0,i,d,e,r),hP(),s){let f=a[c].materialIndex;for(let v=u,y=r.length;v<y;v++)r[v].face.materialIndex=f}}return r}raycastFirst(e,t=0){let n=this._roots,i=this.geometry,r=t.isMaterial,o=Array.isArray(t),s=null,a=i.groups,l=r?t.side:t;for(let c=0,h=n.length;c<h;c++){let d=o?t[a[c].materialIndex].side:l;q_(n[c]);let u=z3(0,i,d,e);hP(),null!=u&&(null==s||u.distance<s.distance)&&(s=u,o&&(u.face.materialIndex=a[c].materialIndex))}return s}intersectsGeometry(e,t){let n=this.geometry,i=!1;for(let r of this._roots)if(q_(r),i=eke(0,n,e,t),hP(),i)break;return i}shapecast(e,t,n){let i=this.geometry;if(e instanceof Function){if(t){let d=t;t=(u,f,v,y)=>{let _=3*f;return d(u,_,_+1,_+2,v,y)}}e={boundsTraverseOrder:n,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let r=vh.getPrimitive(),{boundsTraverseOrder:o,intersectsBounds:s,intersectsRange:a,intersectsTriangle:l}=e;if(a&&l){let d=a;a=(u,f,v,y,_)=>!!d(u,f,v,y,_)||iW(u,f,i,l,v,y,r)}else a||(a=l?(d,u,f,v)=>iW(d,u,i,l,f,v,r):(d,u,f)=>f);let c=!1,h=0;for(let d of this._roots){if(q_(d),c=J3e(0,i,s,a,o,h),hP(),c)break;h+=d.byteLength}return vh.releasePrimitive(r),c}bvhcast(e,t,n){let{intersectsRanges:i,intersectsTriangles:r}=n,o=this.geometry.index,s=this.geometry.attributes.position,a=e.geometry.index,l=e.geometry.attributes.position;Lv.copy(t).invert();let c=vh.getPrimitive(),h=vh.getPrimitive();if(r){let u=function(f,v,y,_,w,O,S,D){for(let U=y,Y=y+_;U<Y;U++){gh(h,3*U,a,l),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let q=f,K=f+v;q<K;q++)if(gh(c,3*q,o,s),c.needsUpdate=!0,r(c,h,q,U,w,O,S,D))return!0}return!1};if(i){let f=i;i=function(v,y,_,w,O,S,D,U){return!!f(v,y,_,w,O,S,D,U)||u(v,y,_,w,O,S,D,U)}}else i=u}e.getBoundingBox(H3),H3.applyMatrix4(t);let d=this.shapecast({intersectsBounds:u=>H3.intersectsBox(u),intersectsRange:(u,f,v,y,_,w)=>(V3.copy(w),V3.applyMatrix4(Lv),e.shapecast({intersectsBounds:O=>V3.intersectsBox(O),intersectsRange:(O,S,D,U,Y)=>i(u,f,O,S,y,_,U,Y)}))});return vh.releasePrimitive(c),vh.releasePrimitive(h),d}intersectsBox(e,t){return zm.set(e.min,e.max,t),zm.needsUpdate=!0,this.shapecast({intersectsBounds:n=>zm.intersectsBox(n),intersectsTriangle:n=>zm.intersectsTriangle(n)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,n={},i={},r=0,o=1/0){e.boundingBox||e.computeBoundingBox(),zm.set(e.boundingBox.min,e.boundingBox.max,t),zm.needsUpdate=!0;let s=this.geometry,a=s.attributes.position,l=s.index,c=e.attributes.position,h=e.index,d=vh.getPrimitive(),u=vh.getPrimitive(),f=uP,v=tke,y=null,_=null;i&&(y=nke,_=ike);let w=1/0,O=null,S=null;return Lv.copy(t).invert(),Y_.matrix.copy(Lv),this.shapecast({boundsTraverseOrder:D=>zm.distanceToBox(D),intersectsBounds:(D,U,Y)=>Y<w&&Y<o&&(U&&(Y_.min.copy(D.min),Y_.max.copy(D.max),Y_.needsUpdate=!0),!0),intersectsRange:(D,U)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:Y=>Y_.distanceToBox(Y),intersectsBounds:(Y,q,K)=>K<w&&K<o,intersectsRange:(Y,q)=>{for(let K=3*Y,Z=3*(Y+q);K<Z;K+=3){gh(u,K,h,c),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let te=3*D,ie=3*(D+U);te<ie;te+=3){gh(d,te,l,a),d.needsUpdate=!0;let ce=d.distanceToTriangle(u,f,y);if(ce<w&&(v.copy(f),_&&_.copy(y),w=ce,O=te/3,S=K/3),ce<r)return!0}}}});for(let q=0,K=h?h.count:c.count;q<K;q+=3){gh(u,q,h,c),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let Z=3*D,te=3*(D+U);Z<te;Z+=3){gh(d,Z,l,a),d.needsUpdate=!0;let ie=d.distanceToTriangle(u,f,y);if(ie<w&&(v.copy(f),_&&_.copy(y),w=ie,O=Z/3,S=q/3),ie<r)return!0}}}}),vh.releasePrimitive(d),vh.releasePrimitive(u),w===1/0?null:(n.point?n.point.copy(v):n.point=v.clone(),n.distance=w,n.faceIndex=O,i&&(i.point?i.point.copy(_):i.point=_.clone(),i.point.applyMatrix4(Lv),v.applyMatrix4(Lv),i.distance=v.sub(i.point).length(),i.faceIndex=S),n)}closestPointToPoint(e,t={},n=0,i=1/0){let r=n*n,o=i*i,s=1/0,a=null;if(this.shapecast({boundsTraverseOrder:c=>(X_.copy(e).clamp(c.min,c.max),X_.distanceToSquared(e)),intersectsBounds:(c,h,d)=>d<s&&d<o,intersectsTriangle:(c,h)=>{c.closestPointToPoint(e,X_);let d=e.distanceToSquared(X_);return d<s&&(uP.copy(X_),s=d,a=h),d<r}}),s===1/0)return null;let l=Math.sqrt(s);return t.point?t.point.copy(uP):t.point=uP.clone(),t.distance=l,t.faceIndex=a,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{ph(0,new Float32Array(t),oW),e.union(oW)}),e}},K_=Vs(lve()),rke=.5*(Math.sqrt(3)-1),Q_=(3-Math.sqrt(3))/6,yh=1/6,Z_=(Math.sqrt(5),Math.sqrt(5),e=>0|Math.floor(e)),sW=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),G3=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function W3(e=Math.random){let t=aW(e),n=new Float64Array(t).map(r=>sW[r%12*2]),i=new Float64Array(t).map(r=>sW[r%12*2+1]);return function(r,o){let w,O,s=0,a=0,l=0,c=(r+o)*rke,h=Z_(r+c),d=Z_(o+c),u=(h+d)*Q_,y=r-(h-u),_=o-(d-u);y>_?(w=1,O=0):(w=0,O=1);let S=y-w+Q_,D=_-O+Q_,U=y-1+2*Q_,Y=_-1+2*Q_,q=255&h,K=255&d,Z=.5-y*y-_*_;if(Z>=0){let ce=q+t[K];Z*=Z,s=Z*Z*(n[ce]*y+i[ce]*_)}let te=.5-S*S-D*D;if(te>=0){let ce=q+w+t[K+O];te*=te,a=te*te*(n[ce]*S+i[ce]*D)}let ie=.5-U*U-Y*Y;if(ie>=0){let ce=q+1+t[K+1];ie*=ie,l=ie*ie*(n[ce]*U+i[ce]*Y)}return 70*(s+a+l)}}function aW(e){let t=new Uint8Array(512);for(let n=0;n<256;n++)t[n]=n;for(let n=0;n<255;n++){let i=n+~~(e()*(256-n)),r=t[n];t[n]=t[i],t[i]=r}for(let n=256;n<512;n++)t[n]=t[n-256];return t}var J_,bd=new ba,lke=Vs(O7()),cke=new Ut,dke=new Ut,hke=new Ut;(e=>{e.is=function t(n){return n&&n.__isSPEObject}})(J_||(J_={}));var Zi,q3=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new Ut,this.copyPreviousMatrix=!0,this.hiddenMatrix=new Ut,this.matrixWorldRigid=new Ut,this.shearScale=new Ut,this.shearScaleInv=new Ut}get __isSPEObject(){return!0}isDescendantOf(t){t instanceof Tr&&(t=t.uuid);let n=this;for(;n.parent;){if(n.parent.uuid===t)return!0;n=n.parent}return!1}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let n of this.children)n.updateMatrixWorld(t)}updateWorldMatrix(t,n){let i=this.parent;if(t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),n)for(let r of this.children)r.updateWorldMatrix(!1,!0)}traverseChildren(t,n=0){for(let i of this.children)J_.is(i)&&i.traverseObject(t,n+1)}traverseObject(t,n=0){if(!0!==t(this,n))for(let i of this.children)J_.is(i)&&i.traverseObject(t,n+1)}updateMatrixWorldSVD(){let t=this.matrixWorld.elements,n=[[t[0],t[4],t[8]],[t[1],t[5],t[9]],[t[2],t[6],t[10]]],{u:i,v:r,q:o}=(0,lke.SVD)(n),s=cke.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),a=dke.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),l=hke.copy(a).transpose();this.shearScale.makeScale(o[0],o[1],o[2]).multiply(l).premultiply(a),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(s,l).copyPosition(this.matrixWorld),this.hasNonUniformScale=!o.every(c=>Math.abs(o[0]-c)<.01)}attach(t,n){this.updateWorldMatrix(!0,!1);let i=(new Ut).copy(this.matrixWorld).invert();return null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),i.multiply(t.parent.matrixWorld)),"hiddenMatrix"in t&&t.hiddenMatrix instanceof Ut?t.hiddenMatrix.premultiply(i):t.applyMatrix4(i),t.updateWorldMatrix(!1,!1),this.add(t),void 0!==n&&(this.children.pop(),this.children.splice(n,0,t)),this}copy(t,n=!1){return super.copy(t,n),this.hasNonUniformScale=t.hasNonUniformScale,this}onAfterRender(t,n,i,r,o,s){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},uke=class extends(q3(Tr)){},Ma=class extends uke{constructor(e){super(),this.object=e,this.matrixAutoUpdate=!1,this.hasNonUniformScale=e.hasNonUniformScale}raycast(e,t){}expand(){let e=0,t=this.object.entityChildren(e);for(;t;){let n=this.children[e];n?.object!==t&&(n&&this.remove(n),n=new Ma(t),this.add(n),this.children.splice(e,0,this.children.pop()),n.matrixWorldNeedsUpdate=!0,n.matrixAutoUpdate=!1,n.matrix=t.matrix,n.hiddenMatrix=t.hiddenMatrix),n.expand(),e+=1,t=this.object.entityChildren(e)}for(;this.children.length>e;)this.remove(this.children[e])}get visible(){return void 0!==this.playModeVisible?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&!0===this.object.dataPatched.cloner?.hideBase}set visible(e){}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return(e=>"Mesh"===this.object.type)()}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},Um=new ne,jm=new ne,Bv=new Ut,lW=[new ne(-1,1,1),new ne(-1,-1,1),new ne(1,-1,1),new ne(1,1,1),new ne(-1,1,-1),new ne(-1,-1,-1),new ne(1,-1,-1),new ne(1,1,-1)],fke=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],mke=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],cW=(e,t,n)=>{e.updateEntityBoxSize(Um,jm),Bv.copy(t).multiply(e.matrixWorld),0===jm.x&&0===jm.y&&0===jm.z?n.push(new ne(Um.x,Um.y,Um.z).applyMatrix4(Bv)):lW.forEach(i=>{n.push(i.clone().multiply(jm).add(Um).applyMatrix4(Bv))})},dW=class extends Ko{constructor(){super(...arguments),this.matrix=new Ut,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let n=(new Ut).copy(e.matrixWorld).invert();return this.expandByObjectSize(e,n,t)}expandByObjectSize(e,t,n=!1){let i=[];return!0===n?e.traverseEntity(r=>{if(r.visible||r.cloner&&r.data.visible){if(!("geometry"in r))return void i.push(new ne);cW(r,t,i)}}):cW(e,t,i),this.setFromPoints(i)}getCenter(e){return(e=super.getCenter(e)).applyMatrix4(this.matrix),e}getPositionToCenter(e){return(e=super.getCenter(e)).applyMatrix4(Bv.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(jm).multiplyScalar(.5),this.getCenter(Um),Bv.copy(this.matrix).setPosition(Um),this.vertices=lW.map(e=>e.clone().multiply(jm).applyMatrix4(Bv))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=fke.map(([e,t])=>new Oc(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new ne))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=mke.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},Jp={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},gke=class extends yj{constructor(){super()}getPoints(e=12){let n,t=[],i=this.getCurveLengths(),r=i[i.length-1]/i.length;for(let o=0,s=this.curves;o<s.length;o++){let a=s[o],c=Math.ceil(e*(0===o?i[o]:i[o]-i[o-1])/r),h=a.getPoints(c);for(let d=0;d<h.length;d++){let u=h[d];n&&n.equals(u)||(t.push(u),n=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}};function X3(e,t,n){return t.clone().sub(e).cross(t.clone().sub(n)).length()<=.001}function $3(e,t){let n=new ne(...e.position),i=new ne(...e.controlNext.position),r=new ne(...t.controlPrevious.position),o=new ne(...t.position);return X3(n,i,o)&&X3(n,r,o)}function hW(e){let t=e.points.map(h=>new ne(...h.data.position)),n=[e.points[0]],i=new ne(...n[0].data.position);for(let h=0;h<e.points.length-1;h++)X3(i,t[h],t[h+1])||(n.push(e.points[h]),i=t[h]);n.push(e.points[e.points.length-1]);let r=e.isClosed,o=n.length-(r?0:1),s=n.length,a=[];for(let h=0;h<s;h++){let d=n[h].data,u=new ne(...d.position),f=new ne(...d.controlPrevious.position),v=new ne(...d.controlNext.position),y={position:u,baseRoundness:d.roundness,controlPrevious:f,controlNext:v};if(0===d.roundness||!e.isClosed&&(0===h||h===s-1)){a[h]={...y,removedLength:0};continue}let O=n[r&&0==h?s-1:h-1].data,S=n[r&&h==s-1?0:h+1].data,D=new ne(...O.position),U=new ne(...S.position),Y=D.clone().sub(u).normalize(),q=U.clone().sub(u).normalize();Object.assign(y,{prevDir:Y,nextDir:q});let K=$3(O,d),Z=$3(d,S);if(K&&Z){let te=Y.clone().add(q).normalize(),ie=te.clone().cross(Y).length()/Y.dot(te);a[h]={...y,tan:ie,removedLength:d.roundness/ie}}else a[h]={...y,removedLength:0}}for(let h=0;h<o;h++){let f=a[h],v=a[r&&h===s-1?0:h+1];if(0!==f.removedLength||0!==v.removedLength){let y=f.position.distanceTo(v.position);f.removedLength=Math.min(f.removedLength,y/2),v.removedLength=Math.min(v.removedLength,y/2)}}let l=[];for(let h=0;h<o;h++){let u=r&&h===s-1?0:h+1,f=a[h],v=a[u],y=null;if($3(n[h].data,n[u].data)){let _=f.position.clone(),w=v.position.clone();(0!==f.removedLength||0!==v.removedLength)&&(f.nextDir&&_.add(f.nextDir.clone().setLength(f.removedLength)),v.prevDir&&w.add(v.prevDir.clone().setLength(v.removedLength))),_.distanceTo(w)>.001&&(y=new WC(_,_.clone().lerp(w,.3),w.clone().lerp(_,.3),w))}else f.position.distanceTo(v.position)>.001&&(y=new WC(f.position,f.controlNext,v.controlPrevious,v.position));l[2*h+1]=y}for(let h=0;h<s;h++){let d=a[h];if(0===d.removedLength){l[2*h]=null;continue}let u=d.position,f=d.prevDir.clone().multiplyScalar(d.removedLength).add(u),v=d.nextDir.clone().multiplyScalar(d.removedLength).add(u),y=d.tan*d.removedLength,_=d.prevDir.clone().add(d.nextDir).normalize(),w=f.clone().lerp(v,.5),O=f.distanceTo(v)/2,S=_.clone().multiplyScalar(Math.sqrt(Math.pow(y,2)-Math.pow(O,2))).add(w),D=_.clone().multiplyScalar(-y).add(S),U=u.distanceTo(D)/u.distanceTo(w),Y=d.prevDir.clone().multiplyScalar(U*u.distanceTo(f)).add(u),q=Y.clone().lerp(D,2),K=f.clone().lerp(Y,4/3),Z=v.clone().lerp(q,4/3);l[2*h]=new WC(f,K,Z,v)}let c=new gke;return l.forEach(h=>{h&&c.add(h)}),c}(e=>{e.is=function t(n){return n&&n.__isEntity}})(Zi||(Zi={}));var Pu=e=>Zi.is(e),vke={type:"completeState",isfromEntity:!0},yke=["x","y","z"],K3=new ne,_ke=(new ne).set(0,1,0),Q3=e=>class extends(q3(e)){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new dW,this._recursiveBBox=new dW,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(t){let n=this.children[t];if(Zi.is(n))return n}entityChildrenCount(){let t=this.children.length;for(;t--;)if(Zi.is(this.children[t]))return t+1;return 0}get isConcreteEntity(){return"string"==typeof this.identity}get isVirtualEntity(){return"string"!=typeof this.identity}get isInstanceRoot(){return this.isConcreteEntity&&"Instance"===this.data.type}nearestInstanceSelfOrParent(){let t=this;for(;"Instance"!==t.data.type;){let n=t.parent;if(!Zi.is(n))return;t=n}return t}forInstancesRec(t){this.instances.forEach(n=>{n.disposed||t(n),n.forInstancesRec(t)})}super_Entity(t,n){"string"==typeof t&&(this.uuid=t),this.identity=t,this.data=n,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(t,n,i=!1){if(0!==this.data.states.length||i){for(let r of this.data.states)Fm.toOps(this.data,r.data).forEach(o=>{let s=GT.replaceProps(o,this.data);this.dataPatched=this.data,this.updateByPatchedOp(s,this.data,n)});if(null!==t){let r=this.data.states.data(t);r&&(this.dataPatched=Fm.patch(this.data,r),Fm.toOps(this.data,r).forEach(o=>{this.updateByPatchedOp(o,this.dataPatched,n)}))}i&&this.updateTransformState(this.dataPatched,n),this.stateSelection=t,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(t,n){t.setScalar(0),n.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(t=>{Pu(t)&&t.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(t=>{t.resetBBoxNeedsUpdateSelf()})}find(t){let n;return this.traverseEntity(i=>{i.uuid===t&&(n=i)}),n}traverseSortNextHelper(){let t=this.parent;if(t){let n=t.children,i=n.indexOf(this)+1;if(Zi.is(n[i]))return n[i];if(Zi.is(t))return t.traverseSortNextHelper()}}sortNext(){let t=this.children;return this.children.length>0&&Zi.is(this.children[0])?t[0]:this.traverseSortNextHelper()}goUp(t){let n=this;for(;t>0&&null!==n;)n=n.parent,t-=1;return n}hasAnccestorOrSelf(t){return this===t||this.hasAnccestor(t)}hasAnccestor(t){let n=this.parent;for(;n;){if(t===n)return!0;n=n.parent}return!1}countToAccestor(t){let n=0,i=this;for(;i!==t;){if(null===i)return-1;i=i.parent,n+=1}return n}forEachEntity(t){for(let n of this.children)Pu(n)&&t(n)}traverseEntityAncestors(t){this.traverseAncestors(n=>{Zi.is(n)&&t(n)})}traverseConcreteEntity(t,n=0){if(!0!==t(this,n))for(let i of this.children)Pu(i)&&i.isConcreteEntity&&i.traverseEntity(t,n+1)}traverseEntity(t,n=0){if(!0!==t(this,n))for(let i of this.children)Pu(i)&&i.traverseEntity(t,n+1)}traverseVisibleEntity(t){t(this);for(let n of this.children)Pu(n)&&n.visible&&n.traverseVisibleEntity(t)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(t){super.updateMatrixWorld(t),this.dispatchEvent({type:"updateMatrixWorld"})}copy(t,n=!1){return super.copy(t,n),this.dataPatched=t.dataPatched,this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),this}hasEntityChild(){return this.children.some(t=>Pu(t))}isAncestorOf(t){if(this.uuid===t)return!1;let n=!1;return this.traverseEntity(i=>{i.uuid===t&&(n=!0)}),n}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let n={position:this.position.toArray(),rotation:[this.rotation.x*Ln.RAD2DEG,this.rotation.y*Ln.RAD2DEG,this.rotation.z*Ln.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return FT(n,t)}getTransformValues(t,n,i){return n[t].map((r,o)=>i?.shared.getVariable(r,[this.uuid,t,yke[o]])??r)}updateTransformState(t,n){let i=!1;return t.position&&(this.position.fromArray(this.getTransformValues("position",t,n)),i=!0),t.rotation&&(K3.fromArray(this.getTransformValues("rotation",t,n)).multiplyScalar(Ln.DEG2RAD),this.rotation.setFromVector3(K3),i=!0),t.scale&&(this.scale.fromArray(this.getTransformValues("scale",t,n)),i=!0),void 0!==t.hiddenMatrix&&(i=!0,this.hiddenMatrix.fromArray(t.hiddenMatrix??yv.identity)),i&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(r=>{r.invalidateClonerTransform(this)})),t.position&&t.rotation&&t.scale&&void 0!==t.hiddenMatrix&&this.updateWorldMatrix(!1,!0),i}onVariableUpdate(t=!1){t?this.resetBBoxNeedsUpdate():(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(n=>{n.invalidateClonerTransform(this)}))}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let t of this.children)Zi.is(t)&&t.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(t=>{Zi.is(t)&&t.disposeRecursively()})}toState(t=[]){let n={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(t)};return FT(n,t)}updateByObjUpdateOp(t,n){void 0!==t&&this.updateByOp({type:0,props:t,path:[]},{...this.data,...t},n,!1)}updateByOp(t,n,i,r){let o=this.data;this.data=n;let s=t,a=Dc(t.path,["states","*"]);if(null!==a){if(0===t.type){let[l]=a;if(this?.stateSelection===l){let c={...t.props};if(delete c.name,Object.values(t.props).some(h=>void 0===h)){let h=this.data;if(void 0!==h){let d=qa.zoom(h,t.path.slice(2));if(d)for(let u in t.props)void 0===t.props[u]&&u in d&&(c[u]=d[u])}}s={...t,props:c,path:t.path.slice(2)}}}}else if(0===t.type){let l=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(void 0!==l){if(void 0!==t.props.name&&l.name){let{name:h,...d}=l;l=d}if(void 0!==t.props.material&&"material"in l){let{material:h,...d}=l;l=d}let c=qa.removeOverridden(t.path,t.props,l);s={...t,props:c}}}if(this.updateByPatchedOpBase(s,Fm.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),i),Dc(t.path,["overrides"])){let l=[],c=[...t.path];for(l.push(c[1]),c.splice(0,2);c.length>0&&"descendants"===c[0];)l.push(c[1]),c.splice(0,2);if(void 0===l[l.length-1]){if(0===t.type)for(let h of Object.keys(t.props)){l[l.length-1]=h;let d=i.scene.findInstance([this.uuid,...l]);d&&(d.overrideData=t.props[h],d.updateState(Up.apply(d.component.data,d.overrideData),i))}}else{let h=i.scene.findInstance([this.uuid,...l]);if(h){let d=qa.zoom(h.component.data,c);if(0===(t={...t,path:c}).type){let u=t.props;if(d)for(let[f,v]of Object.entries(t.props))void 0===v&&(u===t.props&&(u={...t.props}),u[f]=d[f]);t={...t,props:u}}h.overrideData=$M.resolve(n.overrides,l),h.updateByOp(t,wa.applySimple(h.data,t),i,!1)}}}else if(this.instances.length>0){let l;if(0===t.path.length&&0===t.type){let c;for(let h of Wp.rootOverrideProps)h in t.props&&(void 0===c&&(c={}),c[h]=t.props[h]);c&&(l={...t,props:c})}else for(let c of Wp.rootOverrideProps)if(Dc(t.path,[c])){l=t;break}void 0!==l&&this.instances.forEach(c=>{if(c.isInstanceRoot){let h=Up.filterOp(c.overrideData,l);h&&c.updateByOp(h,wa.applySimple(c.data,h),i,!0)}}),this.instances.forEach(c=>{if(!c.isInstanceRoot){let h=Up.filterOp(c.overrideData,t);if(h){let d;d=o===c.data&&t===h?n:wa.applySimple(c.data,h),c.updateByOp(h,d,i,!0)}}})}}updateByPatchedOpBase(t,n,i){if(this.dataPatched=n,0===t.path.length&&0===t.type)void 0!==t.props.type&&!Nm.is(t.props.type)&&Jp.changeEntityProptotype(this,n,i);else if(1===t.path.length&&"geometry"===t.path[0]&&0===t.type&&"type"in t.props){Jp.changeEntityProptotype(this,n,i);for(let r of this.children)Zi.is(r)&&r.updateVisible(i.scene)}this.updateByPatchedOp(t,n,i)}updateByPatchedOp(t,n,i){if(0===t.path.length&&0===t.type&&this.updateState(t.props,i),null!==Dc(t.path,["pathSnapping"])&&this.updatePathSnapping(n.pathSnapping),null!==Dc(t.path,["cloner"])){let r=wa.drop(t,1);0===r.path.length&&0===r.type&&!0===r.props.disabled?this.setFromClonerState(null,i):this.cloner?this.cloner.updateState(n.cloner,i.scene):(this.setFromClonerState(n.cloner,i),this.expandCloner(i.scene)),this.updateVisible(i.scene)}}updatePathSnapping(t=this.dataPatched.pathSnapping){this._updatedPathSnapping=t,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(t){let n=this._updatedPathSnapping?.pathId??this.dataPatched.pathSnapping.pathId,i=this._updatedPathSnapping?.slide??this.dataPatched.pathSnapping.slide??0,r=this._updatedPathSnapping?.offset??this.dataPatched.pathSnapping.offset??0,o=this._updatedPathSnapping?.orientation??this.dataPatched.pathSnapping.orientation;if(null===n)return;let s=t.find(n);if(!s||!1===this._needApplyPathSnapping)return;this._needApplyPathSnapping=!1;let a=s.data;if(a.geometry.path.points.length<=1)return;let l=hW(a.geometry.path),c=(i+r)%1;i+r===1&&0===c&&(c=1);let h=l.getPointAt(c);if(null===h)return;let d=this.parent?this.parent?.matrixWorld:new Ut;s.updateMatrixWorld();let u=(new Ut).multiplyMatrices(d.clone().invert(),s.matrixWorld);h.applyMatrix4(u);let f={position:h.toArray(),rotation:a.rotation};if("tangential"===o){let v=(new Ut).extractRotation(s.matrixWorld),y=l.getTangentAt(c).applyMatrix4(v).add(h),_=(new Ut).lookAt(h,y,_ke),w=K3.setFromEuler((new Gs).setFromRotationMatrix(_)).multiplyScalar(Ln.RAD2DEG);f={...f,rotation:w.toArray()}}this.updateTransformState(f),this.traverseEntity(v=>{v._cameraType&&v.dispatchEvent(vke)})}updateVisible(t){if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||!0!==this.dataPatched.cloner?.hideBase),!t)return;let n=!1;this.traverseEntity(i=>{if("Splat"===i.data.type)return n=!0,!0}),n&&t.reloadSplats()}updateState_Entity(t,n){void 0!==t.name&&(this.name=t.name),void 0!==t.raycastLock&&(this.raycastLock=t.raycastLock),void 0!==t.visible&&(this.updateVisible(n?.scene),this.resetBBoxNeedsUpdate()),n&&"cloner"in t&&void 0!==t.cloner&&(this.setFromClonerState(t.cloner,n),this.updateVisible(n.scene)),this.updateTransformState(t,n)}get attachedSurfaceCloners(){return this.children.filter(t=>t instanceof Jp.Cloner&&"toObject"===t.parameters.type)}setFromClonerState(t,n){this.disposed||(null===t||t.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):void 0===this.cloner?(this.cloner=new Jp.Cloner(this,t),n.scene.addPendingExpandCloner(this)):this.cloner.updateState(t,n.scene))}expandCloner(t){!this.disposed&&this.cloner&&this.cloner.expandClones(t)}invalidateClonerTransform(t){this.cloner&&this.cloner.invalidateTransform(t)}},uW=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);n.thetaLength=Ln.clamp(n.thetaLength,0,360);let i=n.width/2,r=n.radiusTop??i,o=n.radiusBottom??i;return r===o?(r=i,o=i):r>o?(r=i,o=o*i/r):(r=r*i/o,o=i),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),radiusTop:r,radiusBottom:o})}}static build(e){let v,{width:t,depth:n,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l,radiusTop:c,radiusBottom:h,cornerRadius:d,cornerSegments:u,hollow:f}=e.parameters;return 0===l?(v=new Vn,v.setAttribute("position",new wn([],3))):v=d||f?new fW(c,h,i,r,o,s,a,l*Math.PI/180,d,d,u,f):new XA(c,h,i,r,o,s,a,l*Math.PI/180),v.scale(1,1,n/t),Object.assign(v,{userData:{...e,type:"CylinderGeometry"}})}};function ef(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function pW(e){return new Fe(e.y,-e.x)}var fW=class extends Vn{constructor(e,t,n,i,r,o,s,a,l,c,h,d,u=!1){super(),this.type="RoundedCylinderBufferGeometry",e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,o=void 0!==o&&o,s=void 0!==s?s:0,a=void 0!==a?a:2*Math.PI,o&&(l=0,c=0);let f=[],v=[],y=[],_=[],w=0,O=n/2,S=new ne,D=new ne;u&&0==e&&(e=l),u&&0==t&&(t=c);let U=new Fe(e,O),Y=new Fe(t,-O),q=null,K=null,Z=null,te=null,ie=U.clone().sub(Y),ce=0,de=0,ue=0;d>0&&(ce=Math.min(e,t)*(1-d),de=e-ce,ue=t-ce);let Ce=U.clone();Ce.x-=ce;let we=Math.PI-ie.angle(),_e=ie.angle(),ye=Math.tan(_e/2),Re=Math.tan(we/2),Be=ye+Re,De=d?Be:ye;if(l=Math.min(l,(e-de)/(d?Be:Re),ie.length()/Be),c=Math.min(c,(t-ue)/De,ie.length()/Be),l>0){let We=l/ye;q=U.clone().sub(new Fe(We,l)),d&&(Z=q.clone(),Z.x-=ce-Be*l),U.sub(ie.clone().setLength(We))}if(c>0){let We=c/Re;K=Y.clone().sub(new Fe(We,-c)),Y.add(ie.clone().setLength(We)),d&&(te=K.clone(),te.x-=ce-Be*c,Ce.sub(ie.clone().setLength(We)))}ie=U.clone().sub(Y);let Ve=ie.length()<.5,ke=[];for(let We=0;We<=i;We++){let ut=[],Ke=We/i,Nt=Ke*a+s,Pt=new Fe(Math.sin(Nt),Math.cos(Nt));if(te&&K?(He(ut,Ke,Pt,we,c,te,-1,!0),He(ut,Ke,Pt,_e,c,K,-1,!1)):K?(ze(ut,Pt,K.x,0,-1),He(ut,Ke,Pt,_e,c,K,-1,!1)):o||ze(ut,Pt,t,ue,-1),ef(pW(ie).normalize(),Pt,S),!Ve)for(let hn=0;hn<=r;hn++){let dn=hn/r;ef(ie.clone().multiplyScalar(dn).add(Y),Pt,D),v.push(D.x,D.y,D.z),y.push(S.x,S.y,S.z),_.push(Ke,.5+D.y/n),ut.push(w++)}if(Z&&q?(He(ut,Ke,Pt,we,l,q,1,!1),He(ut,Ke,Pt,_e,l,Z,1,!0)):q?(He(ut,Ke,Pt,we,l,q,1,!1),ze(ut,Pt,q.x,0,1)):o||ze(ut,Pt,e,de,1),d&&!Ve){ef(pW(ie).multiplyScalar(-1).normalize(),Pt,S);for(let dn=0;dn<=r;dn++){let mn=dn/r;ef(ie.clone().multiplyScalar(-mn).add(Ce),Pt,D),v.push(D.x,D.y,D.z),y.push(S.x,S.y,S.z),_.push(Ke,.5+D.y/n),ut.push(w++)}}d&&!o&&ut.push(ut[0]),ke.push(ut)}for(let We=0;We<ke.length-1;We++)for(let ut=0;ut<ke[0].length-1;ut++){if(o&&d&&ut==r)continue;let Nt=ke[We+1][ut],Pt=ke[We+1][ut+1],bt=ke[We][ut+1],hn=v[3*Pt+0],dn=v[3*Pt+2];f.push(ke[We][ut],Nt,bt),(0!=hn||0!=dn)&&f.push(Nt,Pt,bt)}function He(We,ut,Ke,Nt,Pt,bt,hn,dn){for(let mn=0;mn<h+1;mn++){let Cn=mn/h,tn=hn<0?Cn:1-Cn;dn&&(tn-=1),tn*=Nt;let Zt=new Fe(Math.sin(tn),Math.cos(tn)*hn);ef(Zt.clone().multiplyScalar(Pt).add(bt),Ke,D),v.push(D.x,D.y,D.z),ef(Zt,Ke,S),y.push(S.x,S.y,S.z),_.push(ut,.5+D.y/n),We.push(w++)}}function ze(We,ut,Ke,Nt,Pt){let bt=new ne,hn=new Fe,dn=[Ke,Nt];Pt<0&&dn.reverse();for(let mn of dn)hn.set(mn,O*Pt),ef(hn,ut,bt),v.push(bt.x,bt.y,bt.z),y.push(0,Pt,0),_.push(.5,.5),We.push(w++)}function it(We,ut,Ke){let Nt=new Fe(Math.sin(Ke),Math.cos(Ke)),Pt=new Fe(-Math.cos(Ke),Math.sin(Ke)),bt=new ne,hn=We<0?(Cn,tn,Zt)=>f.push(Cn,tn,Zt):(Cn,tn,Zt)=>f.push(Cn,Zt,tn);ef(new Fe((e+t+de+ue)/4,0),Nt,bt),v.push(bt.x,bt.y,bt.z),y.push(Pt.x,0,Pt.y),_.push(.5,.5);let mn=w++;for(let Cn of ut){let tn=v.slice(3*Cn,3*Cn+3);v.push(...tn),y.push(Pt.x,0,Pt.y);let Zt=_.slice(2*Cn,2*Cn+2);_.push(...Zt),w++}for(let Cn=mn+1;Cn<w-1;Cn++)hn(mn,Cn,Cn+1);hn(mn,w-1,mn+1)}a<2*Math.PI&&(it(-1,ke[0],s),it(1,ke[ke.length-1],s+a)),this.setIndex(f),this.setAttribute("position",new wn(v,3)),this.setAttribute("normal",new wn(y,3)),this.setAttribute("uv",new wn(_,2))}},Z3=Math.PI/2,wke=class extends Vn{constructor(e=1,t=1,n=1,i=1,r=1,o=1,s=0,a=4){super(),this.type="BoxGeometry";let l=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o),a=Math.floor(a),s=Math.min(s,e/2,t/2,n/2);let c=[],h=[],d=[],u=[],f=0,v=0;function y(O,S,D,U,Y,q,K,Z,te,ie,ce){let de=(q-2*s)/te,ue=(K-2*s)/ie,Ce=q/2-s,we=K/2-s,_e=Z/2,ye=te+1,Re=ie+1,Be=0,Ie=0,De=new ne;for(let Ve=0;Ve<Re;Ve++){let ke=Ve*ue-we;for(let He=0;He<ye;He++)De[O]=(He*de-Ce)*U,De[S]=ke*Y,De[D]=_e,h.push(De.x,De.y,De.z),De[O]=0,De[S]=0,De[D]=Z>0?1:-1,d.push(De.x,De.y,De.z),u.push(He/te),u.push(1-Ve/ie),Be+=1}for(let Ve=0;Ve<ie;Ve++)for(let ke=0;ke<te;ke++){let ze=f+ke+ye*(Ve+1),it=f+(ke+1)+ye*(Ve+1),We=f+(ke+1)+ye*Ve;c.push(f+ke+ye*Ve,ze,We),c.push(ze,it,We),Ie+=6}l.addGroup(v,Ie,ce),v+=Ie,f+=Be}function _(O,S,D,U,Y,q,K,Z,te,ie,ce){let de=(K-2*s)/ie,ue=K/2-s,Ce=Z/2-s,we=te/2,_e=ie+1,ye=0,Re=0,Be=new ne,Ie=new ne;for(let De=0;De<a+1;De++){let Ve=De/a*Z3,ke=Math.sin(Ve)*s,He=(1-Math.cos(Ve))*s,ze=Math.sin(Ve),it=Math.cos(Ve);Be[S]=(Ce+ke)*Y,Be[D]=(we-He)*q,Ie[O]=0,Ie[S]=ze*Math.sign(Be[S]),Ie[D]=it*Math.sign(Be[D]);for(let We=0;We<_e;We++)Be[O]=(We*de-ue)*U,h.push(Be.x,Be.y,Be.z),d.push(Ie.x,Ie.y,Ie.z),u.push(We/ie),u.push(0),ye+=1}for(let De=0;De<a;De++)for(let Ve=0;Ve<ie;Ve++){let He=f+Ve+_e*(De+1),ze=f+(Ve+1)+_e*(De+1),it=f+(Ve+1)+_e*De;c.push(f+Ve+_e*De,He,it),c.push(He,ze,it),Re+=6}l.addGroup(v,Re,ce),v+=Re,f+=ye}function w(O,S,D){let U=new ne,Y=new ne(e/2,t/2,n/2);Y.subScalar(s);let q=[],K=O*S*D>0?(te,ie,ce)=>c.push(te,ie,ce):(te,ie,ce)=>c.push(te,ce,ie);for(let te=0;te<=a;te++){let ie=[],ce=Z3*(1-te/a),de=Math.cos(ce),ue=Math.sin(ce),Ce=0;for(let we=0;we<=te;we++){let _e=Math.cos(Ce),ye=Math.sin(Ce);U.x=de*_e,U.y=ue,U.z=de*ye;let Re=Y.clone().addScaledVector(U,s);h.push(O*Re.x,S*Re.y,D*Re.z),d.push(O*U.x,S*U.y,D*U.z),u.push(0,0),ie.push(f++),Ce+=Z3/te}q.push(ie)}let Z=q.length-1;for(let te=0;te<Z;te++){let ie=q[te],ce=q[te+1],de=ie.length-1;K(ie[0],ce[1],ce[0]);for(let ue=1;ue<=de;ue++)K(ie[ue-1],ie[ue],ce[ue]),K(ie[ue],ce[ue+1],ce[ue])}}y("z","y","x",-1,-1,n,t,e,o,r,0),y("z","y","x",1,-1,n,t,-e,o,r,1),y("x","z","y",1,1,e,n,t,i,o,2),y("x","z","y",1,-1,e,n,-t,i,o,3),y("x","y","z",1,-1,e,t,n,i,r,4),y("x","y","z",-1,-1,e,t,-n,i,r,5),s>0&&(_("z","y","x",-1,-1,1,n,t,e,o,0),_("z","y","x",1,-1,-1,n,t,e,o,1),_("z","y","x",-1,1,-1,n,t,e,o,1),_("z","y","x",1,1,1,n,t,e,o,0),_("x","y","z",-1,-1,-1,e,t,n,i,0),_("x","y","z",1,-1,1,e,t,n,i,1),_("x","y","z",-1,1,1,e,t,n,i,0),_("x","y","z",1,1,-1,e,t,n,i,1),_("y","x","z",-1,-1,1,t,e,n,r,0),_("y","x","z",1,-1,-1,t,e,n,r,1),_("y","x","z",1,1,1,t,e,n,r,1),_("y","x","z",-1,1,-1,t,e,n,r,0),w(1,1,1),w(-1,1,1),w(1,-1,1),w(-1,-1,1),w(1,1,-1),w(-1,1,-1),w(1,-1,-1),w(-1,-1,-1)),this.setIndex(c),this.setAttribute("position",new wn(h,3)),this.setAttribute("normal",new wn(d,3)),this.setAttribute("uv",new wn(u,2))}},J3=class extends Vn{constructor(e=[],t=[],n="",i=1,r=.2,o=4){super(),this.type="PolyhedronGeometryRound";let s=[],a=[],l=[];return function c(){0==(r=Math.min(.99999,r))&&(o=0);let d={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[n],u=new ne,f=u.clone(),v=new ba,y=r*i,_=i-y,w=o+1,O=new ne,S=(_e,ye)=>O.subVectors(_e,ye).normalize(),D=(_e,ye)=>Array(_e).fill(void 0).map(ye),U=D(e.length/3,(_e,ye)=>(new ne).fromArray(e,3*ye).setLength(i)),Y=[],q=1e6;for(let _e=0;_e<U.length;_e++){let Be,Ie,De,ye=U[_e],Re=[],Ve=1e10,ke=-1;for(;-1!=(ke=t.indexOf(_e,ke+1));){let We=ke-ke%3;Be=t[We+(ke+1)%3],Ie=t[We+(ke+2)%3],De=ye.distanceToSquared(U[Be]),Ve=Math.min(Ve,De),Re.push([Be,Ie,De])}Ve+=1e-6;let He=[],ze=0,it=Re.length;for(let We=0;We<it;We++){[Be,Ie,De]=Re[ze];let ut=1==Y[Be]?.includes(_e);De<=Ve&&He.push(Be+ +ut*q),ze=Re.findIndex(Ke=>Ke[0]==Ie)}Y.push(He)}let K=[];{let Re,Be,_e=0,ye=0,Ie=3==d;for(let De=0;De<=o;De++){Re=De*(De+1)/2,Be=(De+1)*(De+2)/2;for(let Ve=0;Ve<o-De;Ve++)[_e,ye]=[Re+Ve+De+2,Be+Ve+De+3],K.push(Re,Be,...Ie?[ye,Re]:[_e,Be],ye,_e),[Re,Be]=[_e,ye];K.push(Re,Be,Re+o+2)}}let Z=u.clone(),te=u.clone(),ie=u.clone(),ce=u.clone(),de=u.clone(),ue=[],Ce=D(U.length,()=>D(d,()=>u.clone()));for(let _e=0;_e<U.length;_e++){u.copy(U[_e]).normalize(),Z.copy(u).multiplyScalar(_);let ye=Y[_e];for(let He=0;He<ye.length;He++)v.setFromPointsAndIndices(U,_e,ye[He]%q,ye[(He+1)%d]%q),v.b.sub(v.a).setLength(1e10).add(v.a),v.c.sub(v.a).setLength(1e10).add(v.a),v.closestPointToPoint(Z,Ce[_e][He]);let Re=[],Be=[],Ie=[],De=new ne;0==o&&[...Ce[_e]].reduce((He,ze)=>He.add(ze),De).multiplyScalar(1/d);for(let He=0;He<d;He++){let ze=[],We=Ce[_e][(He-1+d)%d],ut=Ce[_e][He];u.copy(We).sub(Z),f.copy(ut).sub(Z);let Ke=Z.angleTo(u),Nt=u.angleTo(f),Pt=Math.cos(Ke)*y;0==o?te.copy(De):te.copy(Z).setLength(_+Pt),Be.push(Pt);let bt=[te,We,ut];for(let hn=0;hn<2;hn++){let dn=bt[hn],mn=bt[hn+1];ce.subVectors(dn,Z),de.subVectors(mn,Z),ie.crossVectors(ce,de).normalize();for(let Cn=0;Cn<w;Cn++){let tn=[Ke,Nt][hn]*Cn/w;u.copy(ce).applyAxisAngle(ie,tn).add(Z),Re.push(u.clone()),hn&&(S(u,Z),ze.push([0==Cn?dn:u.clone(),O.clone()]))}hn&&(S(mn,Z),ze.push([mn,O.clone()]))}Ie.push(ze)}ue.push(Ie);let Ve=2*w,ke=2;for(let He=0;He<d;He++){let ze=Ve*He,it=Ve*((He+1)%d),We=[Re[ze]];for(let Ke=1;Ke<w;Ke++){ce=Re[ze+Ke],de=Re[it+Ke],We.push(ce);for(let Nt=1,Pt=Ke-ke+1;Nt<=Pt;Nt++)u.lerpVectors(ce,de,Nt/(Pt+1)),u.sub(Z).setLength(Be[He]).add(Z),We.push(u.clone());We.push(de)}for(let Ke=0;Ke<w;Ke++)We.push(Re[Ke+w+ze]);We.push(Re[it+w]);let ut=K.map(Ke=>We[Ke]);s.push(...ut.map(Ke=>[Ke.x,Ke.y,Ke.z]).flat()),l.push(...ut.map(Ke=>(S(Ke,Z),[O.x,O.y,O.z])).flat())}}let we=[];for(let _e=0;_e<Y.length;_e++)for(let ye=0;ye<d;ye++){let Re=Y[_e][ye];if(Re<q){let Be=Y[Re].findIndex(Ve=>Ve%q==_e),Ie=ue[_e][ye],De=ue[Re][Be];for(let Ve=0;Ve<w;Ve++){let He=De[w-Ve],ze=Ie[Ve+1];[Ie[Ve],He,ze,ze,He,De[w-(Ve+1)]].forEach(We=>{s.push(We[0].x,We[0].y,We[0].z),l.push(We[1].x,We[1].y,We[1].z)})}we.push(Ie[0][0],De[w][0],Ie[w][0],De[0][0])}}for(;we.length;){let _e,ye,Re,Be;[_e,ye]=we.splice(0,2);let Ie=[_e];for(;_e!=ye;)Ie.push(ye),Re=we.indexOf(ye),Be=Re%2,ye=we.splice(Re-Be,2)[1-Be];O.subVectors(Ie[0],Ie[1]).cross(u.subVectors(Ie[0],Ie[2])).normalize();let De=O.dot(Ie[0])<0;De&&O.negate();for(let Ve=1;Ve<=Ie.length-2;Ve++)[Ie[Ve+ +De],Ie[Ve+1-+De],Ie[0]].forEach(ke=>{s.push(ke.x,ke.y,ke.z),l.push(O.x,O.y,O.z)})}}(),function h(){let d=new ne;for(let Y=0;Y<s.length;Y+=3){d.x=s[Y+0],d.y=s[Y+1],d.z=s[Y+2];let q=D(d)/2/Math.PI+.5,K=U(d)/Math.PI+.5;a.push(q,1-K)}let u=new ne,f=new ne,v=new ne,y=new ne,_=new Fe,w=new Fe,O=new Fe,S=(Y,q,K,Z)=>{Z<0&&1===Y.x&&(a[q]=Y.x-1),0===K.x&&0===K.z&&(a[q]=Z/2/Math.PI+.5)};for(let Y=0,q=0;Y<s.length;Y+=9,q+=6){u.set(s[Y+0],s[Y+1],s[Y+2]),f.set(s[Y+3],s[Y+4],s[Y+5]),v.set(s[Y+6],s[Y+7],s[Y+8]),_.set(a[q+0],a[q+1]),w.set(a[q+2],a[q+3]),O.set(a[q+4],a[q+5]),y.copy(u).add(f).add(v).divideScalar(3);let K=D(y);S(_,q+0,u,K),S(w,q+2,f,K),S(O,q+4,v,K)}for(let Y=0;Y<a.length;Y+=6){let q=a[Y+0],K=a[Y+2],Z=a[Y+4],te=Math.max(q,K,Z),ie=Math.min(q,K,Z);te>.9&&ie<.1&&(q<.2&&(a[Y+0]+=1),K<.2&&(a[Y+2]+=1),Z<.2&&(a[Y+4]+=1))}function D(Y){return Math.atan2(Y.z,-Y.x)}function U(Y){return Math.atan2(-Y.y,Math.sqrt(Y.x*Y.x+Y.z*Y.z))}}(),this.setAttribute("position",new wn(s,3)),this.setAttribute("normal",new wn(l,3)),void this.setAttribute("uv",new wn(a,2))}static fromJSON(e){return new J3(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},mW=class extends J3{constructor(e=1,t=.2,n=4){let i=(1+Math.sqrt(5))/2,r=1/i,a="DodecahedronGeometry";super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,e,t,n),this.type=a}static fromJSON(e){return new mW(e.radius,e.corner,e.cornerSides)}},eb=1e-12,ek=class{constructor(e){this.position=new Fe,this.startPosition=new Fe,this.uuid=Ln.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new ek(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},tk=class extends ek{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new tk(this.parent).copy(this)}},zv=class extends ek{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new tk(this),new tk(this))}static create(e,t){let n=new zv(e,new Fe(...t.position));return n.controls[0].position.set(...t.controlPrevious.position),n.controls[1].position.set(...t.controlNext.position),n.roundness=t.roundness,n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,n}getOppositeControl(e){let t=this.controls.indexOf(e);return 0===t?this.controls[1]:1===t?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let n=0,i=this.controls.length;n<i;n++){let r=this.controls[n];this.position.distanceTo(r.position)<=t?r.position.copy(this.position):r.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new zv(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){let e=this.curveBefore?.getTangentAt(1),t=this.curveAfter?.getTangentAt(0);return[e,t]}computeNormals(e=new Fe,t=new Fe){let[n,i]=this.computeTangents();return n&&i&&(gW(n,e),gW(i,t)),[e,t]}computeTangent(e=new Fe){let[t,n]=this.computeTangents();return t&&n&&e.copy(t).add(n).normalize(),e}computeNormal(e=new Fe){let[t,n]=this.computeNormals();return e.copy(t).add(n).normalize(),e}};function gW(e,t=new Fe){let n=e.length();return t.set(-e.y/n,e.x/n)}var Uv=new Fe,pP=new Fe,Mke=new Fe,Pke=new Fe,Oke=new Fe,Ske=new Fe,vW=new ne,yW=new ne;function Eke(e){let t=new Fe;t.addVectors(e.v0,Uv.subVectors(e.v1,e.v0).multiplyScalar(2/3));let n=new Fe;return n.addVectors(e.v2,pP.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new fd(e.v0,t,n,e.v2)}function tb(e,t,n=Number.EPSILON){return Math.abs(e-t)<n}function Dke(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function Ake(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function _W(e,t,n){let i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),r=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),o=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return Math.acos((r*r+i*i-o*o)/(2*r*i))}function Tke(e,t,n){return xW(e,t)&&xW(t,n)&&ik(e.position,t.position,n.position)}function ik(e,t,n){return 0===Uv.copy(t).sub(e).cross(pP.copy(n).sub(e))}function kke(e,t,n,i,r){let o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=(e.y+t.y)/2,a=(e.x+t.x)/2,l=Math.sqrt(Math.pow(n,2)-Math.pow(o/2,2))*(e.y-t.y)/o,c=Math.sqrt(Math.pow(n,2)-Math.pow(o/2,2))*(t.x-e.x)/o;return i.set(a+l,s+c),r.set(a-l,s-c),[i,r]}function Ike(e,t,n){return e.distanceTo(n)<t.distanceTo(n)?t:e}function Rke(e,t,n,i,r,o){let d,s=t.x-e.x,a=t.y-e.y,l=n.x-e.x,c=n.y-e.y,h=Math.sqrt((s+l)*(s+l)+(a+c)*(a+c));return _W(t,e,n)>Math.PI&&(h*=-1),d=tb(c,a)?(a+c)*(i/h-.5)*8/3/(s-l):(s+l)*(i/h-.5)*8/3/(c-a),r.set(t.x-d*a,t.y+d*s),o.set(n.x+d*c,n.y-d*l),[r,o]}function bW(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function xW(e,t){return ik(e.position,e.controls[1].position,t.position)&&ik(e.position,t.controls[0].position,t.position)}function wW(e,t=12,n=!1){let i=[];for(let r=0,o=e.length;r<o;r++){let s=e[r],a=0;if(n&&void 0!==s.roundedCurveCorner){let l=.5*Vm(s.roundedCurveCorner,t);r>0&&(i[r-1]+=l),a+=l}void 0!==s.curveAfter&&(a+=Vm(s.curveAfter,t)),i.push(a)}return e.length>0&&n&&void 0!==e[0].roundedCurveCorner&&(i[e.length-1]+=.5*Vm(e[0].roundedCurveCorner,t)),i}function Vm(e,t=12){return e&&e instanceof HC?2*t:e&&(e instanceof md||e instanceof vj)?1:e&&e instanceof YA?t*e.points.length:t}var kr,us,rk=new Fe,zke=new Fe,Uke=new Fe,jke=new Fe,Vke=new Fe,Hke=new Fe,Lo=class extends YC{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new Ql(new ne(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=Ln.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,n){let i=new Lo;return i.isClosed=e.isClosed,i.points=e.points.map(r=>zv.create(r.id,r.data)),"number"==typeof e.roundness&&(i.roundness=e.roundness),i.shapeHoles=e.shapeHoles.map(r=>Lo.createFromState(r)),void 0!==t&&void 0!==n&&i.applySize(t,n),i.update(),i}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,n=this.points.length;t<n;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,n=this.points.findIndex(i=>i.uuid===e);if(n<0){let i=t;for(let r=0,o=this.shapeHoles.length;r<o;r++){let s=this.shapeHoles[r],a=s.points.length,l=s.getPointIndexById(e);if(!(l<0))return l+i;i+=a}}return n}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let n=0,i=this.shapeHoles.length;n<i;n++){let r=this.shapeHoles[n],o=e-t;if(o<=r.points.length-1)return r.points[o];t+=r.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let n=0,i=this.shapeHoles.length;n<i;n++){let r=this.shapeHoles[n],o=r.points.indexOf(e);if(o>=0)return t+o;t+=r.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){0===e&&(e=.001),0===t&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let n=rk.set(e,t);for(let i=0,r=this.points.length;i<r;i++){let o=this.points[i];o.position.multiply(n),o.controls[0].position.multiply(n),o.controls[1].position.multiply(n)}for(let i=0,r=this.shapeHoles.length;i<r;i++)this.shapeHoles[i].applyScale(e,t);this._update()}createPoint(e,t=0,n=Ln.generateUUID()){let i;i=e instanceof Fe?e:new Fe(e,t);let r=new zv(n,i);return r.roundness=this.roundness,r}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];if(i.uuid===e)return i}for(let t=0,n=this.shapeHoles.length;t<n;t++){let i=this.shapeHoles[t].getPointByUuid(e);if(i)return i}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(n=>n.uuid===e);t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,n=!1){this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t);let i=n?this.roundedCurveDivisions:this.curveDivisions;return function Fke(e,t,n=12,i=!0){let o,r=yW.set(0,0,0),s=0,a=[];for(let l=0;l<t.length;l++){let c=t[l],h=Uv,d=Vm(c,n);a.push(d);for(let u=0;u<=d;u++)if(c instanceof fd||c instanceof Fp||c instanceof md){if(c.getPoint(u/d,h),r.set(h.x,h.y,0),void 0!==o&&Ake(o,r))continue;void 0===o&&(o=vW),o.copy(r),e.setXYZ(s,r.x,r.y,r.z),s++}}i&&s>1&&!(e.getX(s-1)===e.getX(0)&&e.getY(s-1)===e.getY(0)&&e.getZ(s-1)===e.getZ(0))&&(e.setXYZ(s,e.getX(0),e.getY(0),e.getZ(0)),s++)}(e,n?this.roundedCurves:this.curves,t,this.autoClose),i.reduce((r,o)=>r+o,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=wW(this.points,e,!1),this.roundedCurveDivisions=wW(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,n=12){return 2*function Lke(e,t,n,i=12,r=!0){let o=yW.set(0,0,0),s=0,a=[];for(let l=0;l<t.length;l++){if(!1===n[l])continue;let c,h=t[l],d=Uv,u=Vm(h,i);a.push(u);for(let f=0;f<=u;f++)if(h instanceof fd||h instanceof Fp||h instanceof md){if(h.getPoint(f/u,d),o.set(d.x,d.y,0),c?.equals(o))continue;void 0===c?c=vW:(e.setXYZ(s,c.x,c.y,c.z),s++,e.setXYZ(s,o.x,o.y,o.z),s++),c.copy(o)}}return r&&s>1&&!(e.getX(s-1)===e.getX(0)&&e.getY(s-1)===e.getY(0)&&e.getZ(s-1)===e.getZ(0))&&(e.setXYZ(s,e.getX(0),e.getY(0),e.getZ(0)),s++),a}(e,this.curves,t,n,this.autoClose).reduce((i,r)=>i+r,0)}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t),function Bke(e,t,n=12,i=!0){let r,o=0;for(let s=0;s<t.length;s++){let a=t[s],l=Vm(a,n),c=Uv;for(let h=0;h<=l;h++)if(a instanceof fd||a instanceof Fp||a instanceof md){if(a.getPoint(h/l,c),void 0!==r&&Dke(r,c,eb))continue;void 0===r&&(r=pP),r.copy(c),e.push(c.x,c.y),o++}}return tb(e[0],e[e.length-2],eb)&&tb(e[1],e[e.length-1],eb)&&(e.pop(),e.pop()),i&&o>1&&!(tb(e[o-1],e[1],eb)&&tb(e[o-2],e[0],eb))&&(e.push(e[0],e[1]),o++),e}(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let n=0;void 0===this.curveDivisions&&this.computeCurveDivisions(this.subdivision);let i=t?this.roundedCurveDivisions:this.curveDivisions,r=0;t&&void 0!==this.points[0].roundedCurveCorner&&(r=.5*Vm(this.points[0].roundedCurveCorner,this.subdivision));let o=e-r;o<0&&(o+=i.reduce((s,a)=>s+a,0));for(let s=0,a=i.length;s<a;s++){let l=i[s];if(o<n+l)return[s,(o-n+1)/l];n+=l}return[0,1]}getCurveT(e,t,n){let i=this.points[e],r=this.points[e>=this.points.length-1?0:e+1],o=this.curveDivisions,s=o[e];if(bW(i,r)){let l=i.position.distanceTo(r.position);return i.position.distanceTo(rk.set(n.x,n.y))/l}let a=0;for(let l=0;l<e;l++)a+=o[l];return(t-a)/s}dispose(){}_applyCurveForPoint(e,t){bW(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let n=this.curves[this.curves.length-1];e.curveBefore=n,t.curveAfter=n;let i=n.clone();e.roundedCurveBefore=i,t.roundedCurveAfter=i,e.roundedCurveCorner=void 0,this.roundedCurves.push(i)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];0===t?this.moveTo(i.position.x,i.position.y):this._applyCurveForPoint(i,this.points[t-1])}let e=this.getLastPoint();if(e?.curveAfter&&(e.curveAfter=void 0),this.isClosed&&this._applyCurveForPoint(this.points[0],this.points[this.points.length-1]),this.points.length>2){let t=0;for(let n=0,i=this.points.length;n<i;n++){let r=this.points[n],o=this.points[n-1]??this.points[this.points.length-1],s=this.points[n+1]??this.points[0],a=r.roundness,l=o&&s&&Tke(o,r,s);if(!r.controlsMoved()&&a>0&&!l){let c=r.curveBefore,h=r.curveAfter;if(void 0===c||void 0===h)continue;let Y,d=r.roundedCurveBefore,u=r.roundedCurveAfter,f=c.getLength(),v=h.getLength(),y=Math.min(a,.499*f),_=Math.min(a,.499*v),w=Math.min(y,_),O=1-w/f,S=w/v,D=c.getPointAt(O,rk),U=h.getPointAt(S,zke);if(this._subSplitCurve(c,d,O,D,void 0),this._subSplitCurve(h,u,S,void 0,U),this.useCubicForRoundedCorners){let q=_W(D,r.position,U)/2,K=Math.tan(q)*D.distanceTo(r.position),[Z,te]=kke(D,U,K,Uke,jke),ie=Ike(Z,te,r.position),[ce,de]=Rke(ie,D,U,K,Vke,Hke);Y=new fd(D.clone(),ce.clone(),de.clone(),U.clone())}else Y=new Fp(D.clone(),r.position.clone(),U.clone());r.roundedCurveCorner=Y,this.roundedCurves.splice(n+t,0,Y),t++}}}}_subSplitCurve(e,t,n,i,r){if(!(e instanceof md)){let o=e,s=t,a=o.getUtoTmapping(n,0),l=function Nke(e,t,n,i,r=.5){let o=Uv.subVectors(t,e).multiplyScalar(r).add(e),s=pP.subVectors(n,t).multiplyScalar(r).add(t),a=Mke.subVectors(i,n).multiplyScalar(r).add(n),l=o,c=Pke.subVectors(s,o).multiplyScalar(r).add(o),h=Oke.subVectors(a,s).multiplyScalar(r).add(s),d=a,u=Ske.subVectors(h,c).multiplyScalar(r).add(c);return[e.x,e.y,l.x,l.y,c.x,c.y,u.x,u.y,h.x,h.y,d.x,d.y,i.x,i.y]}(o.v0,o.v1,o.v2,o.v3,a);return void 0!==i&&(s.v0.set(l[0],l[1]),s.v1.set(l[2],l[3]),s.v2.set(l[4],l[5]),s.v3.set(l[6],l[7])),void 0!==r&&(s.v0.set(l[6],l[7]),s.v1.set(l[8],l[9]),s.v2.set(l[10],l[11]),s.v3.set(l[12],l[13])),s}return void 0!==i&&t.v2.copy(i),void 0!==r&&t.v1.copy(r),t}clone(){let e=new Lo(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let n=0;n<t;n++){let i=7*n,r=e.points[i+0],o=e.points[i+1],s=e.points[i+2],a=e.points[i+3],l=e.points[i+4],c=e.points[i+5],h=e.points[i+6],d=new zv(Ln.generateUUID(),new Fe(r,o));d.controls[0].position.set(s,a),d.controls[1].position.set(l,c),d.roundness=h,this.points.push(d)}return this.shapeHoles=e.shapeHoles?.length?e.shapeHoles.map(n=>{let i=new Lo;return i.fromJSON(n),i}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let n=(r,o)=>{o instanceof fd&&o.v3.equals(r.position)&&r.controls[0].position.copy(o.v2)};return this.points=(r=>{let s,a,o=[];for(s=0,a=r.length;s<a;s++)r[s]instanceof Fp&&(r[s]=Eke(r[s]));for(s=0,a=r.length;s<a;s++){let u,h=r[s],d=s>0?r[s-1]:null;h instanceof fd?(u=this.createPoint(h.v0),u.controls[1].position.copy(h.v1)):h instanceof md&&(u=this.createPoint(h.v1)),void 0!==u&&(null!==d&&n(u,d),o.push(u))}let l=r[r.length-1],c=!1;return l instanceof fd?l.v3.equals(o[0].position)&&(o[0].controls[0].position.copy(l.v2),c=!0):l instanceof md&&l.v2.equals(o[0].position)&&(c=!0),this.isClosed=c,o})(e.curves),e instanceof YC&&(this.shapeHoles=e.holes.map(r=>{let o=new Lo;return o.fromShape(r),o})),this.update(),this}updatePoint(e,t){let n=this.getPointByUuid(e);n&&(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.roundness&&(n.roundness=t.roundness),void 0!==t.areControlsDirectionsMirrored&&(n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){let n=this.getPointByUuid(e)?.controls[0];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){let n=this.getPointByUuid(e)?.controls[1];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}},ok=2*Math.PI;function sk({x:e,y:t},n,i,r,o){return{x:e*n+r,y:t*i+o}}function Gke(e,t){let n=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:1.3333333333333333*Math.tan(t/4),i=Math.cos(e),r=Math.sin(e),o=Math.cos(e+t),s=Math.sin(e+t);return[{x:i-r*n,y:r+i*n},{x:o+s*n,y:s-o*n},{x:o,y:s}]}function CW(e,t,n,i){let r=e*i-t*n<0?-1:1,o=Math.min(1,Math.max(-1,e*n+t*i));return r*Math.acos(o)}function ii(e,t){if(!e)throw t||"Assertion Failed!"}!function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"}(kr||(kr={})),function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"}(us||(us={}));var Wn=function(){function e(){}return e.vertEq=function(t,n){return t.s===n.s&&t.t===n.t},e.vertLeq=function(t,n){return t.s<n.s||t.s===n.s&&t.t<=n.t},e.transLeq=function(t,n){return t.t<n.t||t.t===n.t&&t.s<=n.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,n){return Math.abs(t.s-n.s)+Math.abs(t.t-n.t)},e.edgeEval=function(t,n,i){ii(e.vertLeq(t,n)&&e.vertLeq(n,i));var r=n.s-t.s,o=i.s-n.s;return r+o>0?r<o?n.t-t.t+r/(r+o)*(t.t-i.t):n.t-i.t+o/(r+o)*(i.t-t.t):0},e.edgeSign=function(t,n,i){ii(e.vertLeq(t,n)&&e.vertLeq(n,i));var r=n.s-t.s,o=i.s-n.s;return r+o>0?(n.t-i.t)*r+(n.t-t.t)*o:0},e.transEval=function(t,n,i){ii(e.transLeq(t,n)&&e.transLeq(n,i));var r=n.t-t.t,o=i.t-n.t;return r+o>0?r<o?n.s-t.s+r/(r+o)*(t.s-i.s):n.s-i.s+o/(r+o)*(i.s-t.s):0},e.transSign=function(t,n,i){ii(e.transLeq(t,n)&&e.transLeq(n,i));var r=n.t-t.t,o=i.t-n.t;return r+o>0?(n.s-i.s)*r+(n.s-t.s)*o:0},e.vertCCW=function(t,n,i){return t.s*(n.t-i.t)+n.s*(i.t-t.t)+i.s*(t.t-n.t)>=0},e.interpolate=function(t,n,i,r){return(t=t<0?0:t)<=(i=i<0?0:i)?0===i?(n+r)/2:n+t/(t+i)*(r-n):r+i/(t+i)*(n-r)},e.intersect=function(t,n,i,r,o){var s,a,l;e.vertLeq(t,n)||(l=t,t=n,n=l),e.vertLeq(i,r)||(l=i,i=r,r=l),e.vertLeq(t,i)||(l=t,t=i,i=l,l=n,n=r,r=l),e.vertLeq(i,n)?e.vertLeq(n,r)?((s=e.edgeEval(t,i,n))+(a=e.edgeEval(i,n,r))<0&&(s=-s,a=-a),o.s=e.interpolate(s,i.s,a,n.s)):((s=e.edgeSign(t,i,n))+(a=-e.edgeSign(t,r,n))<0&&(s=-s,a=-a),o.s=e.interpolate(s,i.s,a,r.s)):o.s=(i.s+n.s)/2,e.transLeq(t,n)||(l=t,t=n,n=l),e.transLeq(i,r)||(l=i,i=r,r=l),e.transLeq(t,i)||(l=t,t=i,i=l,l=n,n=r,r=l),e.transLeq(i,n)?e.transLeq(n,r)?((s=e.transEval(t,i,n))+(a=e.transEval(i,n,r))<0&&(s=-s,a=-a),o.t=e.interpolate(s,i.t,a,n.t)):((s=e.transSign(t,i,n))+(a=-e.transSign(t,r,n))<0&&(s=-s,a=-a),o.t=e.interpolate(s,i.t,a,r.t)):o.t=(i.t+n.t)/2},e}(),nb=function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1},fP=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),jv=function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0},MW=function(){function e(){var t=new jv,n=new nb,i=new fP(0),r=new fP(1);t.next=t.prev=t,t.anEdge=null,n.next=n.prev=n,i.next=i,i.Sym=r,r.next=r,r.Sym=i,this.vHead=t,this.fHead=n,this.eHead=i,this.eHeadSym=r}return e.prototype.makeEdge_=function(t){var n=new fP(0),i=new fP(1);t.Sym.side<t.side&&(t=t.Sym);var r=t.Sym.next;return i.next=r,r.Sym.next=n,n.next=t,t.Sym.next=i,n.Sym=i,n.Onext=n,n.Lnext=i,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,i.Sym=n,i.Onext=i,i.Lnext=n,i.Org=null,i.Lface=null,i.winding=0,i.activeRegion=null,n},e.prototype.splice_=function(t,n){var i=t.Onext,r=n.Onext;i.Sym.Lnext=n,r.Sym.Lnext=t,t.Onext=r,n.Onext=i},e.prototype.makeVertex_=function(t,n,i){var r=t;ii(r,"Vertex can't be null!");var o=i.prev;r.prev=o,o.next=r,r.next=i,i.prev=r,r.anEdge=n;var s=n;do{s.Org=r,s=s.Onext}while(s!==n)},e.prototype.makeFace_=function(t,n,i){var r=t;ii(r,"Face can't be null");var o=i.prev;r.prev=o,o.next=r,r.next=i,i.prev=r,r.anEdge=n,r.trail=null,r.marked=!1,r.inside=i.inside;var s=n;do{s.Lface=r,s=s.Lnext}while(s!==n)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var n=t.next,i=t.Sym.next;n.Sym.next=i,i.Sym.next=n},e.prototype.killVertex_=function(t,n){var i=t.anEdge,r=i;do{r.Org=n,r=r.Onext}while(r!==i);var o=t.prev,s=t.next;s.prev=o,o.next=s},e.prototype.killFace_=function(t,n){var i=t.anEdge,r=i;do{r.Lface=n,r=r.Lnext}while(r!==i);var o=t.prev,s=t.next;s.prev=o,o.next=s},e.prototype.makeEdge=function(){var t=new jv,n=new jv,i=new nb,r=this.makeEdge_(this.eHead);return this.makeVertex_(t,r,this.vHead),this.makeVertex_(n,r.Sym,this.vHead),this.makeFace_(i,r,this.fHead),r},e.prototype.splice=function(t,n){var i=!1,r=!1;if(t!==n){if(n.Org!==t.Org&&(r=!0,this.killVertex_(n.Org,t.Org)),n.Lface!==t.Lface&&(i=!0,this.killFace_(n.Lface,t.Lface)),this.splice_(n,t),!r){var o=new jv;this.makeVertex_(o,n,t.Org),t.Org.anEdge=t}if(!i){var s=new nb;this.makeFace_(s,n,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var n=t.Sym,i=!1;if(t.Lface!==t.Rface&&(i=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!i){var r=new nb;this.makeFace_(r,t,t.Lface)}n.Onext===n?(this.killVertex_(n.Org,null),this.killFace_(n.Lface,null)):(t.Lface.anEdge=n.Oprev,n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var n=this.makeEdge_(t),i=n.Sym;this.splice_(n,t.Lnext),n.Org=t.Dst;var r=new jv;return this.makeVertex_(r,i,n.Org),n.Lface=i.Lface=t.Lface,n},e.prototype.splitEdge=function(t){var i=this.addEdgeVertex(t).Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,i),t.Dst=i.Org,i.Dst.anEdge=i.Sym,i.Rface=t.Rface,i.winding=t.winding,i.Sym.winding=t.Sym.winding,i.idx=t.idx,i.Sym.idx=t.Sym.idx,i},e.prototype.connect=function(t,n){var i=!1,r=this.makeEdge_(t),o=r.Sym;if(n.Lface!==t.Lface&&(i=!0,this.killFace_(n.Lface,t.Lface)),this.splice_(r,t.Lnext),this.splice_(o,n),r.Org=t.Dst,o.Org=n.Org,r.Lface=o.Lface=t.Lface,t.Lface.anEdge=o,!i){var s=new nb;this.makeFace_(s,r,t.Lface)}return r},e.prototype.zapFace=function(t){var i,r,o,s,a,n=t.anEdge;r=n.Lnext;do{r=(i=r).Lnext,i.Lface=null,null===i.Rface&&(i.Onext===i?this.killVertex_(i.Org,null):(i.Org.anEdge=i.Onext,this.splice_(i,i.Oprev)),(o=i.Sym).Onext===o?this.killVertex_(o.Org,null):(o.Org.anEdge=o.Onext,this.splice_(o,o.Oprev)),this.killEdge_(i))}while(i!=n);(a=t.next).prev=s=t.prev,s.next=a},e.prototype.countFaceVerts_=function(t){var n=t.anEdge,i=0;do{i++,n=n.Lnext}while(n!==t.anEdge);return i},e.prototype.mergeConvexFaces=function(t){var n,i,r,o,s;for(n=this.fHead.next;n!==this.fHead;n=n.next)if(n.inside)for(s=(i=n.anEdge).Org;r=i.Lnext,(o=i.Sym)&&o.Lface&&o.Lface.inside&&this.countFaceVerts_(n)+this.countFaceVerts_(o.Lface)-2<=t&&Wn.vertCCW(i.Lprev.Org,i.Org,o.Lnext.Lnext.Org)&&Wn.vertCCW(o.Lprev.Org,o.Org,i.Lnext.Lnext.Org)&&(r=o.Lnext,this.delete(o),i=null,o=null),!i||i.Lnext.Org!==s;)i=r;return!0},e.prototype.check=function(){var r,o,s,a,l,c,t=this.fHead,n=this.vHead,i=this.eHead;for(o=t,o=t;(r=o.next)!==t;o=r){ii(r.prev===o),l=r.anEdge;do{ii(l.Sym!==l),ii(l.Sym.Sym===l),ii(l.Lnext.Onext.Sym===l),ii(l.Onext.Sym.Lnext===l),ii(l.Lface===r),l=l.Lnext}while(l!==r.anEdge)}for(ii(r.prev===o&&null===r.anEdge),a=n,a=n;(s=a.next)!==n;a=s){ii(s.prev===a),l=s.anEdge;do{ii(l.Sym!==l),ii(l.Sym.Sym===l),ii(l.Lnext.Onext.Sym===l),ii(l.Onext.Sym.Lnext===l),ii(l.Org===s),l=l.Onext}while(l!==s.anEdge)}for(ii(s.prev===a&&null===s.anEdge),c=i,c=i;(l=c.next)!==i;c=l)ii(l.Sym.next===c.Sym),ii(l.Sym!==l),ii(l.Sym.Sym===l),ii(null!==l.Org),ii(null!==l.Dst),ii(l.Lnext.Onext.Sym===l),ii(l.Onext.Sym.Lnext===l);ii(l.Sym.next===c.Sym&&l.Sym===this.eHeadSym&&l.Sym.Sym===l&&null===l.Org&&null===l.Dst&&null===l.Lface&&null===l.Rface)},e}(),PW=function e(){this.handle=null},OW=function e(){this.key=null,this.node=0},Yke=function(){function e(t,n){this.leq=n,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var i=0;i<t+1;i++)this.nodes[i]=new PW,this.handles[i]=new OW;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var r,o,s,n=this.nodes,i=this.handles;for(r=n[t].handle;;){if((s=t<<1)<this.size&&this.leq(i[n[s+1].handle].key,i[n[s].handle].key)&&++s,ii(s<=this.max),o=n[s].handle,s>this.size||this.leq(i[r].key,i[o].key)){n[t].handle=r,i[r].node=t;break}n[t].handle=o,i[o].node=t,t=s}},e.prototype.floatUp_=function(t){var r,o,s,n=this.nodes,i=this.handles;for(r=n[t].handle;;){if(o=n[s=t>>1].handle,0===s||this.leq(i[o].key,i[r].key)){n[t].handle=r,i[r].node=t;break}n[t].handle=o,i[o].node=t,t=s}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var n,i;if(2*(n=++this.size)>this.max){var r,o;for(this.max*=2,o=this.nodes.length,this.nodes.length=this.max+1,r=o;r<this.nodes.length;r++)this.nodes[r]=new PW;for(o=this.handles.length,this.handles.length=this.max+1,r=o;r<this.handles.length;r++)this.handles[r]=new OW}return 0===this.freeList?i=n:this.freeList=this.handles[i=this.freeList].node,this.nodes[n].handle=i,this.handles[i].node=n,this.handles[i].key=t,this.initialized&&this.floatUp_(n),i},e.prototype.extractMin=function(){var t=this.nodes,n=this.handles,i=t[1].handle,r=n[i].key;return this.size>0&&(t[1].handle=t[this.size].handle,n[t[1].handle].node=1,n[i].key=null,n[i].node=this.freeList,this.freeList=i,--this.size,this.size>0&&this.floatDown_(1)),r},e.prototype.delete=function(t){var r,n=this.nodes,i=this.handles;ii(t>=1&&t<=this.max&&null!==i[t].key),n[r=i[t].node].handle=n[this.size].handle,i[n[r].handle].node=r,--this.size,r<=this.size&&(r<=1||this.leq(i[n[r>>1].handle].key,i[n[r].handle].key)?this.floatDown_(r):this.floatUp_(r)),i[t].key=null,i[t].node=this.freeList,this.freeList=t},e}(),ak=function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1},SW=function e(){this.key=null,this.next=null,this.prev=null},Xke=function(){function e(t,n){this.frame=t,this.leq=n,this.head=new SW,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var n=this.head;do{n=n.next}while(null!==n.key&&!this.leq(this.frame,t,n.key));return n},e.prototype.insertBefore=function(t,n){do{t=t.prev}while(null!==t.key&&!this.leq(this.frame,t.key,n));var i=new SW;return i.key=n,i.next=t.next,t.next.prev=i,i.prev=t,t.next=i,i},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),$ke=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,n){t.winding+=n.winding,t.Sym.winding+=n.Sym.winding},e.edgeLeq=function(t,n,i){var r=t.event,o=n.eUp,s=i.eUp;return o.Dst===r?s.Dst===r?Wn.vertLeq(o.Org,s.Org)?Wn.edgeSign(s.Dst,o.Org,s.Org)<=0:Wn.edgeSign(o.Dst,s.Org,o.Org)>=0:Wn.edgeSign(s.Dst,r,s.Org)<=0:s.Dst===r?Wn.edgeSign(o.Dst,r,o.Org)>=0:Wn.edgeEval(o.Dst,r,o.Org)>=Wn.edgeEval(s.Dst,r,s.Org)},e.deleteRegion=function(t,n){n.fixUpperEdge&&ii(0===n.eUp.winding),n.eUp.activeRegion=null,t.dict.delete(n.nodeUp)},e.fixUpperEdge=function(t,n,i){ii(n.fixUpperEdge),t.mesh.delete(n.eUp),n.fixUpperEdge=!1,n.eUp=i,i.activeRegion=n},e.topLeftRegion=function(t,n){var r,i=n.eUp.Org;do{n=e.regionAbove(n)}while(n.eUp.Org===i);if(n.fixUpperEdge){if(null===(r=t.mesh.connect(e.regionBelow(n).eUp.Sym,n.eUp.Lnext)))return null;e.fixUpperEdge(t,n,r),n=e.regionAbove(n)}return n},e.topRightRegion=function(t){var n=t.eUp.Dst;do{t=e.regionAbove(t)}while(t.eUp.Dst===n);return t},e.addRegionBelow=function(t,n,i){var r=new ak;return r.eUp=i,r.nodeUp=t.dict.insertBefore(n.nodeUp,r),r.fixUpperEdge=!1,r.sentinel=!1,r.dirty=!1,i.activeRegion=r,r},e.isWindingInside=function(t,n){switch(t.windingRule){case kr.ODD:return 0!=(1&n);case kr.NONZERO:return 0!==n;case kr.POSITIVE:return n>0;case kr.NEGATIVE:return n<0;case kr.ABS_GEQ_TWO:return n>=2||n<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,n){n.windingNumber=e.regionAbove(n).windingNumber+n.eUp.winding,n.inside=e.isWindingInside(t,n.windingNumber)},e.finishRegion=function(t,n){var i=n.eUp,r=i.Lface;r.inside=n.inside,r.anEdge=i,e.deleteRegion(t,n)},e.finishLeftRegions=function(t,n,i){for(var r,o=null,s=n,a=n.eUp;s!==i;){if(s.fixUpperEdge=!1,(r=(o=e.regionBelow(s)).eUp).Org!=a.Org){if(!o.fixUpperEdge){e.finishRegion(t,s);break}r=t.mesh.connect(a.Lprev,r.Sym),e.fixUpperEdge(t,o,r)}a.Onext!==r&&(t.mesh.splice(r.Oprev,r),t.mesh.splice(a,r)),e.finishRegion(t,s),a=o.eUp,s=o}return a},e.addRightEdges=function(t,n,i,r,o,s){var a,l,c,h,d=!0;c=i;do{ii(Wn.vertLeq(c.Org,c.Dst)),e.addRegionBelow(t,n,c.Sym),c=c.Onext}while(c!==r);for(null===o&&(o=e.regionBelow(n).eUp.Rprev),l=n,h=o;(c=(a=e.regionBelow(l)).eUp.Sym).Org===h.Org;)c.Onext!==h&&(t.mesh.splice(c.Oprev,c),t.mesh.splice(h.Oprev,c)),a.windingNumber=l.windingNumber-c.winding,a.inside=e.isWindingInside(t,a.windingNumber),l.dirty=!0,!d&&e.checkForRightSplice(t,l)&&(e.addWinding(c,h),e.deleteRegion(t,l),t.mesh.delete(h)),d=!1,l=a,h=c;l.dirty=!0,ii(l.windingNumber-c.winding===a.windingNumber),s&&e.walkDirtyRegions(t,l)},e.spliceMergeVertices=function(t,n,i){t.mesh.splice(n,i)},e.vertexWeights=function(t,n,i){var r=Wn.vertL1dist(n,t),o=Wn.vertL1dist(i,t),s=.5*o/(r+o),a=.5*r/(r+o);t.coords[0]+=s*n.coords[0]+a*i.coords[0],t.coords[1]+=s*n.coords[1]+a*i.coords[1],t.coords[2]+=s*n.coords[2]+a*i.coords[2]},e.getIntersectData=function(t,n,i,r,o,s){n.coords[0]=n.coords[1]=n.coords[2]=0,n.idx=-1,e.vertexWeights(n,i,r),e.vertexWeights(n,o,s)},e.checkForRightSplice=function(t,n){var i=e.regionBelow(n),r=n.eUp,o=i.eUp;if(Wn.vertLeq(r.Org,o.Org)){if(Wn.edgeSign(o.Dst,r.Org,o.Org)>0)return!1;Wn.vertEq(r.Org,o.Org)?r.Org!==o.Org&&(t.pq.delete(r.Org.pqHandle),e.spliceMergeVertices(t,o.Oprev,r)):(t.mesh.splitEdge(o.Sym),t.mesh.splice(r,o.Oprev),n.dirty=i.dirty=!0)}else{if(Wn.edgeSign(r.Dst,o.Org,r.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(r.Sym),t.mesh.splice(o.Oprev,r)}return!0},e.checkForLeftSplice=function(t,n){var s,i=e.regionBelow(n),r=n.eUp,o=i.eUp;if(ii(!Wn.vertEq(r.Dst,o.Dst)),Wn.vertLeq(r.Dst,o.Dst)){if(Wn.edgeSign(r.Dst,o.Dst,r.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,s=t.mesh.splitEdge(r),t.mesh.splice(o.Sym,s),s.Lface.inside=n.inside}else{if(Wn.edgeSign(o.Dst,r.Dst,o.Org)>0)return!1;n.dirty=i.dirty=!0,s=t.mesh.splitEdge(o),t.mesh.splice(r.Lnext,o.Sym),s.Rface.inside=n.inside}return!0},e.checkForIntersect=function(t,n){var f,v,i=e.regionBelow(n),r=n.eUp,o=i.eUp,s=r.Org,a=o.Org,l=r.Dst,c=o.Dst,u=new jv;if(ii(!Wn.vertEq(c,l)),ii(Wn.edgeSign(l,t.event,s)<=0),ii(Wn.edgeSign(c,t.event,a)>=0),ii(s!==t.event&&a!==t.event),ii(!n.fixUpperEdge&&!i.fixUpperEdge),s===a||Math.min(s.t,l.t)>Math.max(a.t,c.t))return!1;if(Wn.vertLeq(s,a)){if(Wn.edgeSign(c,s,a)>0)return!1}else if(Wn.edgeSign(l,a,s)<0)return!1;return e.debugEvent(t),Wn.intersect(l,s,c,a,u),ii(Math.min(s.t,l.t)<=u.t),ii(u.t<=Math.max(a.t,c.t)),ii(Math.min(c.s,l.s)<=u.s),ii(u.s<=Math.max(a.s,s.s)),Wn.vertLeq(u,t.event)&&(u.s=t.event.s,u.t=t.event.t),f=Wn.vertLeq(s,a)?s:a,Wn.vertLeq(f,u)&&(u.s=f.s,u.t=f.t),Wn.vertEq(u,s)||Wn.vertEq(u,a)?(e.checkForRightSplice(t,n),!1):!Wn.vertEq(l,t.event)&&Wn.edgeSign(l,t.event,u)>=0||!Wn.vertEq(c,t.event)&&Wn.edgeSign(c,t.event,u)<=0?c===t.event?(t.mesh.splitEdge(r.Sym),t.mesh.splice(o.Sym,r),n=e.topLeftRegion(t,n),r=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),i),e.addRightEdges(t,n,r.Oprev,r,r,!0),!0):l===t.event?(t.mesh.splitEdge(o.Sym),t.mesh.splice(r.Lnext,o.Oprev),i=n,n=e.topRightRegion(n),v=e.regionBelow(n).eUp.Rprev,i.eUp=o.Oprev,o=e.finishLeftRegions(t,i,null),e.addRightEdges(t,n,o.Onext,r.Rprev,v,!0),!0):(Wn.edgeSign(l,t.event,u)>=0&&(e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(r.Sym),r.Org.s=t.event.s,r.Org.t=t.event.t),Wn.edgeSign(c,t.event,u)<=0&&(n.dirty=i.dirty=!0,t.mesh.splitEdge(o.Sym),o.Org.s=t.event.s,o.Org.t=t.event.t),!1):(t.mesh.splitEdge(r.Sym),t.mesh.splitEdge(o.Sym),t.mesh.splice(o.Oprev,r),r.Org.s=u.s,r.Org.t=u.t,r.Org.pqHandle=t.pq.insert(r.Org),e.getIntersectData(t,r.Org,s,l,a,c),e.regionAbove(n).dirty=n.dirty=i.dirty=!0,!1)},e.walkDirtyRegions=function(t,n){for(var r,o,i=e.regionBelow(n);;){for(;i.dirty;)n=i,i=e.regionBelow(i);if(!n.dirty&&(i=n,null===(n=e.regionAbove(n))||!n.dirty))return;if(n.dirty=!1,(r=n.eUp).Dst!==(o=i.eUp).Dst&&e.checkForLeftSplice(t,n)&&(i.fixUpperEdge?(e.deleteRegion(t,i),t.mesh.delete(o),o=(i=e.regionBelow(n)).eUp):n.fixUpperEdge&&(e.deleteRegion(t,n),t.mesh.delete(r),r=(n=e.regionAbove(i)).eUp)),r.Org!==o.Org)if(r.Dst===o.Dst||n.fixUpperEdge||i.fixUpperEdge||r.Dst!==t.event&&o.Dst!==t.event)e.checkForRightSplice(t,n);else if(e.checkForIntersect(t,n))return;r.Org===o.Org&&r.Dst===o.Dst&&(e.addWinding(o,r),e.deleteRegion(t,n),t.mesh.delete(r),n=e.regionAbove(i))}},e.connectRightVertex=function(t,n,i){var r,o=i.Onext,s=e.regionBelow(n),a=n.eUp,l=s.eUp,c=!1;a.Dst!==l.Dst&&e.checkForIntersect(t,n),Wn.vertEq(a.Org,t.event)&&(t.mesh.splice(o.Oprev,a),n=e.topLeftRegion(t,n),o=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),s),c=!0),Wn.vertEq(l.Org,t.event)&&(t.mesh.splice(i,l.Oprev),i=e.finishLeftRegions(t,s,null),c=!0),c?e.addRightEdges(t,n,i.Onext,o,o,!0):(r=Wn.vertLeq(l.Org,a.Org)?l.Oprev:a,r=t.mesh.connect(i.Lprev,r),e.addRightEdges(t,n,r,r.Onext,r.Onext,!1),r.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,n))},e.connectLeftDegenerate=function(t,n,i){var r,o,s,a,l;return Wn.vertEq((r=n.eUp).Org,i)?(ii(!1),void e.spliceMergeVertices(t,r,i.anEdge)):Wn.vertEq(r.Dst,i)?(ii(!1),n=e.topRightRegion(n),o=a=(s=(l=e.regionBelow(n)).eUp.Sym).Onext,l.fixUpperEdge&&(ii(o!==s),e.deleteRegion(t,l),t.mesh.delete(s),s=o.Oprev),t.mesh.splice(i.anEdge,s),Wn.edgeGoesLeft(o)||(o=null),void e.addRightEdges(t,n,s.Onext,a,o,!0)):(t.mesh.splitEdge(r.Sym),n.fixUpperEdge&&(t.mesh.delete(r.Onext),n.fixUpperEdge=!1),t.mesh.splice(i.anEdge,r),void e.sweepEvent(t,i))},e.connectLeftVertex=function(t,n){var i,r,o,s,a,l,c=new ak;if(c.eUp=n.anEdge.Sym,i=t.dict.search(c).key,r=e.regionBelow(i)){if(a=r.eUp,0===Wn.edgeSign((s=i.eUp).Dst,n,s.Org))return void e.connectLeftDegenerate(t,i,n);o=Wn.vertLeq(a.Dst,s.Dst)?i:r,i.inside||o.fixUpperEdge?(l=o===i?t.mesh.connect(n.anEdge.Sym,s.Lnext):t.mesh.connect(a.Dnext,n.anEdge).Sym,o.fixUpperEdge?e.fixUpperEdge(t,o,l):e.computeWinding(t,e.addRegionBelow(t,i,l)),e.sweepEvent(t,n)):e.addRightEdges(t,i,n.anEdge,n.anEdge,null,!0)}},e.sweepEvent=function(t,n){t.event=n,e.debugEvent(t);for(var i=n.anEdge;null===i.activeRegion;)if((i=i.Onext)===n.anEdge)return void e.connectLeftVertex(t,n);var r=e.topLeftRegion(t,i.activeRegion);ii(null!==r);var o=e.regionBelow(r),s=o.eUp,a=e.finishLeftRegions(t,o,null);a.Onext===s?e.connectRightVertex(t,r,a):e.addRightEdges(t,r,a.Onext,s,s,!0)},e.addSentinel=function(t,n,i,r){var o=new ak,s=t.mesh.makeEdge();s.Org.s=i,s.Org.t=r,s.Dst.s=n,s.Dst.t=r,t.event=s.Dst,o.eUp=s,o.windingNumber=0,o.inside=!1,o.fixUpperEdge=!1,o.sentinel=!0,o.dirty=!1,o.nodeUp=t.dict.insert(o)},e.initEdgeDict=function(t){t.dict=new Xke(t,e.edgeLeq);var n=t.bmax[0]-t.bmin[0],i=t.bmax[1]-t.bmin[1],r=t.bmin[0]-n,o=t.bmax[0]+n,a=t.bmax[1]+i;e.addSentinel(t,r,o,t.bmin[1]-i),e.addSentinel(t,r,o,a)},e.doneEdgeDict=function(t){for(var n,i=0;null!==(n=t.dict.min().key);)n.sentinel||(ii(n.fixUpperEdge),ii(1==++i)),ii(0===n.windingNumber),e.deleteRegion(t,n)},e.removeDegenerateEdges=function(t){var n,i,r,o=t.mesh.eHead;for(n=o.next;n!==o;n=i)i=n.next,r=n.Lnext,Wn.vertEq(n.Org,n.Dst)&&n.Lnext.Lnext!==n&&(e.spliceMergeVertices(t,r,n),t.mesh.delete(n),r=(n=r).Lnext),r.Lnext===n&&(r!==n&&((r===i||r===i.Sym)&&(i=i.next),t.mesh.delete(r)),(n===i||n===i.Sym)&&(i=i.next),t.mesh.delete(n))},e.initPriorityQ=function(t){var n,i,r,o=0;for(i=(r=t.mesh.vHead).next;i!==r;i=i.next)o++;for(n=t.pq=new Yke(o+=8,Wn.vertLeq),i=(r=t.mesh.vHead).next;i!==r;i=i.next)i.pqHandle=n.insert(i);return i===r&&(n.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,n){var i,r,o;for(i=n.fHead.next;i!==n.fHead;i=r)r=i.next,ii((o=i.anEdge).Lnext!==o),o.Lnext.Lnext===o&&(e.addWinding(o.Onext,o),t.mesh.delete(o));return!0},e.computeInterior=function(t,n){var i,r;if(void 0===n&&(n=!0),e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);null!==(i=t.pq.extractMin());){for(;null!==(r=t.pq.min())&&Wn.vertEq(r,i);)r=t.pq.extractMin(),e.spliceMergeVertices(t,i.anEdge,r.anEdge);e.sweepEvent(t,i)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),!!e.removeDegenerateFaces(t,t.mesh)&&(n&&t.mesh.check(),!0)},e}(),Kke=function(){function e(){this.mesh=new MW,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=kr.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},e.prototype.normalize_=function(t){var n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!n)throw"Zero-size vector!";n=Math.sqrt(n),t[0]/=n,t[1]/=n,t[2]/=n},e.prototype.longAxis_=function(t){var n=0;return Math.abs(t[1])>Math.abs(t[0])&&(n=1),Math.abs(t[2])>Math.abs(t[n])&&(n=2),n},e.prototype.computeNormal_=function(t){var n,i,r,o,s,a,l=[0,0,0],c=[0,0,0],h=[0,0,0],d=[0,0,0],u=[0,0,0],f=[null,null,null],v=[null,null,null],y=this.mesh.vHead;n=y.next;for(var _=0;_<3;++_)c[_]=o=n.coords[_],v[_]=n,l[_]=o,f[_]=n;for(n=y.next;n!==y;n=n.next)for(var w=0;w<3;++w)(o=n.coords[w])<c[w]&&(c[w]=o,v[w]=n),o>l[w]&&(l[w]=o,f[w]=n);var O=0;if(l[1]-c[1]>l[0]-c[0]&&(O=1),l[2]-c[2]>l[O]-c[O]&&(O=2),c[O]>=l[O])return t[0]=0,t[1]=0,void(t[2]=1);for(a=0,h[0]=(i=v[O]).coords[0]-(r=f[O]).coords[0],h[1]=i.coords[1]-r.coords[1],h[2]=i.coords[2]-r.coords[2],n=y.next;n!==y;n=n.next)d[0]=n.coords[0]-r.coords[0],d[1]=n.coords[1]-r.coords[1],d[2]=n.coords[2]-r.coords[2],u[0]=h[1]*d[2]-h[2]*d[1],u[1]=h[2]*d[0]-h[0]*d[2],u[2]=h[0]*d[1]-h[1]*d[0],(s=u[0]*u[0]+u[1]*u[1]+u[2]*u[2])>a&&(a=s,t[0]=u[0],t[1]=u[1],t[2]=u[2]);a<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(h)]=1)},e.prototype.checkOrientation_=function(){for(var n,r,t=this.mesh.fHead,i=this.mesh.vHead,o=0,s=t.next;s!==t;s=s.next)if(!((r=s.anEdge).winding<=0))do{o+=(r.Org.s-r.Dst.s)*(r.Org.t+r.Dst.t),r=r.Lnext}while(r!==s.anEdge);if(o<0){for(n=i.next;n!==i;n=n.next)n.t=-n.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var i,r,t=this.mesh.vHead,n=[0,0,0],o=!1;n[0]=this.normal[0],n[1]=this.normal[1],n[2]=this.normal[2],!n[0]&&!n[1]&&!n[2]&&(this.computeNormal_(n),o=!0),i=this.sUnit,r=this.tUnit;var s=this.longAxis_(n);i[s]=0,i[(s+1)%3]=1,i[(s+2)%3]=0,r[s]=0,r[(s+1)%3]=0,r[(s+2)%3]=n[s]>0?1:-1;for(var a=t.next;a!==t;a=a.next)a.s=this.dot_(a.coords,i),a.t=this.dot_(a.coords,r);o&&this.checkOrientation_();for(var l=!0,c=t.next;c!==t;c=c.next)l?(this.bmin[0]=this.bmax[0]=c.s,this.bmin[1]=this.bmax[1]=c.t,l=!1):(c.s<this.bmin[0]&&(this.bmin[0]=c.s),c.s>this.bmax[0]&&(this.bmax[0]=c.s),c.t<this.bmin[1]&&(this.bmin[1]=c.t),c.t>this.bmax[1]&&(this.bmax[1]=c.t))},e.prototype.addWinding_=function(t,n){t.winding+=n.winding,t.Sym.winding+=n.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,n){var i,r;if((i=n.anEdge).Lnext===i||i.Lnext.Lnext===i)throw"Mono region invalid";for(;Wn.vertLeq(i.Dst,i.Org);i=i.Lprev);for(;Wn.vertLeq(i.Org,i.Dst);i=i.Lnext);for(r=i.Lprev;i.Lnext!==r;)if(Wn.vertLeq(i.Dst,r.Org)){for(;r.Lnext!==i&&(Wn.edgeGoesLeft(r.Lnext)||Wn.edgeSign(r.Org,r.Dst,r.Lnext.Dst)<=0);)r=t.connect(r.Lnext,r).Sym;r=r.Lprev}else{for(;r.Lnext!==i&&(Wn.edgeGoesRight(i.Lprev)||Wn.edgeSign(i.Dst,i.Org,i.Lprev.Org)>=0);)i=t.connect(i,i.Lprev).Sym;i=i.Lnext}if(r.Lnext===i)throw"Mono region invalid";for(;r.Lnext.Lnext!==i;)r=t.connect(r.Lnext,r).Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var n,i=t.fHead.next;i!==t.fHead;i=n)if(n=i.next,i.inside&&!this.tessellateMonoRegion_(t,i))return!1;return!0},e.prototype.discardExterior_=function(t){for(var n,i=t.fHead.next;i!==t.fHead;i=n)n=i.next,i.inside||t.zapFace(i)},e.prototype.setWindingNumber_=function(t,n,i){for(var r,o=t.eHead.next;o!==t.eHead;o=r)r=o.next,o.Rface.inside!==o.Lface.inside?o.winding=o.Lface.inside?n:-n:i?t.delete(o):o.winding=0},e.prototype.getNeighbourFace_=function(t){return t.Rface&&t.Rface.inside?t.Rface.n:-1},e.prototype.outputPolymesh_=function(t,n,i,r){var o,l,s=0,a=0;i>3&&t.mergeConvexFaces(i);for(var c=t.vHead.next;c!==t.vHead;c=c.next)c.n=-1;for(var h=t.fHead.next;h!==t.fHead;h=h.next)if(h.n=-1,h.inside){o=h.anEdge,l=0;do{-1===(c=o.Org).n&&(c.n=a,a++),l++,o=o.Lnext}while(o!==h.anEdge);if(l>i)throw"Face vertex greater that support polygon";h.n=s,++s}for(this.elementCount=s,n===us.CONNECTED_POLYGONS&&(s*=2),this.elements=[],this.elements.length=s*i,this.vertexCount=a,this.vertices=[],this.vertices.length=a*r,this.vertexIndices=[],this.vertexIndices.length=a,c=t.vHead.next;c!==t.vHead;c=c.next)if(-1!==c.n){var d=c.n*r;this.vertices[d+0]=c.coords[0],this.vertices[d+1]=c.coords[1],r>2&&(this.vertices[d+2]=c.coords[2]),this.vertexIndices[c.n]=c.idx}var u=0;for(h=t.fHead.next;h!==t.fHead;h=h.next)if(h.inside){o=h.anEdge,l=0;do{this.elements[u++]=(c=o.Org).n,l++,o=o.Lnext}while(o!==h.anEdge);for(var f=l;f<i;++f)this.elements[u++]=-1;if(n===us.CONNECTED_POLYGONS){o=h.anEdge;do{this.elements[u++]=this.getNeighbourFace_(o),o=o.Lnext}while(o!==h.anEdge);for(var v=l;v<i;++v)this.elements[u++]=-1}}},e.prototype.outputContours_=function(t,n){var i,r,o=0,s=0;this.vertexCount=0,this.elementCount=0;for(var a=t.fHead.next;a!==t.fHead;a=a.next)if(a.inside){r=i=a.anEdge;do{this.vertexCount++,i=i.Lnext}while(i!==r);this.elementCount++}this.elements=[],this.elements.length=2*this.elementCount,this.vertices=[],this.vertices.length=this.vertexCount*n,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var l=0,c=0,h=0;for(o=0,a=t.fHead.next;a!==t.fHead;a=a.next)if(a.inside){s=0,r=i=a.anEdge;do{this.vertices[l++]=i.Org.coords[0],this.vertices[l++]=i.Org.coords[1],n>2&&(this.vertices[l++]=i.Org.coords[2]),this.vertexIndices[c++]=this.vertexIdCallback?this.vertexIdCallback(i):i.Org.idx,s++,i=i.Lnext}while(i!==r);this.elements[h++]=o,this.elements[h++]=s,o+=s}},e.prototype.addContour=function(t,n){null===this.mesh&&(this.mesh=new MW),t<2&&(t=2),t>3&&(t=3);for(var i=null,r=0;r<n.length;r+=t)null===i?(i=this.mesh.makeEdge(),this.mesh.splice(i,i.Sym)):(this.mesh.splitEdge(i),i=i.Lnext),i.Org.coords[0]=n[r+0],i.Org.coords[1]=n[r+1],i.Org.coords[2]=t>2?n[r+2]:0,i.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(i),i.winding=1,i.Sym.winding=-1},e.prototype.tesselate=function(t,n,i,r,o,s){if(void 0===t&&(t=kr.ODD),void 0===n&&(n=us.POLYGONS),void 0===s&&(s=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,o&&(this.normal[0]=o[0],this.normal[1]=o[1],this.normal[2]=o[2]),this.windingRule=t,r<2&&(r=2),r>3&&(r=3),!this.mesh)return!1;this.projectPolygon_(),$ke.computeInterior(this,s);var a=this.mesh;return n===us.BOUNDARY_CONTOURS?this.setWindingNumber_(a,1,!0):this.tessellateInterior_(a),s&&a.check(),n===us.BOUNDARY_CONTOURS?this.outputContours_(a,r):this.outputPolymesh_(a,n,i,r),!0},e}();function tf(e){var t=e.windingRule,n=void 0===t?kr.ODD:t,i=e.elementType,r=void 0===i?us.POLYGONS:i,o=e.polySize,s=void 0===o?3:o,a=e.vertexSize,l=void 0===a?2:a,c=e.normal,h=void 0===c?[0,0,1]:c,d=e.contours,u=void 0===d?[]:d,f=e.strict,v=void 0===f||f,y=e.debug,_=void 0!==y&&y;if(!u&&v)throw new Error("Contours can't be empty");if(u){var w=new Kke;e.edgeCreateCallback&&(w.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(w.vertexIdCallback=e.vertexIdCallback);for(var O=0;O<u.length;O++)w.addContour(l||2,u[O]);return w.tesselate(n,r,s,l,h,v),{vertices:w.vertices,vertexIndices:w.vertexIndices,vertexCount:w.vertexCount,elements:w.elements,elementCount:w.elementCount,mesh:_?w.mesh:void 0}}}var lk=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`),this.buffer=new ArrayBuffer(e*lk.eSize);let i=Float32Array.BYTES_PER_ELEMENT,r=0;this.positions=new Float32Array(this.buffer,r*i,3*e),r+=3*e,this.normals=new Float32Array(this.buffer,r*i,3*e),r+=3*e,this.uvs=new Float32Array(this.buffer,r*i,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity} \u2192 ${e}`);let i=new ArrayBuffer(e*lk.eSize),r=Float32Array.BYTES_PER_ELEMENT,o=0,s=new Float32Array(i,o*r,3*e);o+=3*e;let a=new Float32Array(i,o*r,3*e);o+=3*e;let l=new Float32Array(i,o*r,2*e);t?(s.set(this.positions.subarray(0,3*this.size)),a.set(this.normals.subarray(0,3*this.size)),l.set(this.uvs.subarray(0,2*this.size))):(s.set(this.positions),a.set(this.normals),l.set(this.uvs)),this.buffer=i,this.positions=s,this.normals=a,this.uvs=l,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let i=this.capacity;for(;t>i;)i*=2;this.realloc(i)}let n=this.size;return this.size=t,n}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} \u2192 ${this.size}`),this.realloc(this.size,!0)}},EW=lk;EW.eSize=8*Float32Array.BYTES_PER_ELEMENT;var Qke=Vs(dve()),ck={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},DW={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},AW={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},dk=(e,t)=>([n,i])=>(i<n&&(i+=t),(e>=n?e:e+t)<=i),hk=class extends Vn{constructor(e,t,n=0,i=12,r=3,o=kr.ODD,s=!1){super(),this.forPathBevel=s,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=i,this._bevelSegmentsInput=r;let d,u,f,a=this._shape.extractShapePointsToFlatArray([],i),l=this._shape.shapeHoles.map(Z=>{let te=Z.extractShapePointsToFlatArray([],i),ie=[];for(let ce=te.length-1;ce>=1;ce-=2)ie.push(te[ce-1],te[ce-0]);return ie}),c=[],h=[];for(let Z=0;Z<a.length;Z+=2)h.push([a[Z],a[Z+1]]);c.push(h);for(let Z=0;Z<l.length;Z++){let te=l[Z],ie=[];for(let ce=0;ce<te.length;ce+=2)ie.push([te[ce],te[ce+1]]);c.push(ie)}d=e.isText?.1*(new Xj).setFromPoints(e.points.map(Z=>Z.position)).getSize(new Fe).length():0===c[0].length?n:(0,Qke.default)(c).distance,n<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(n,d,t/2),this._bevelSegments=Math.floor(r));try{u=tf({windingRule:o,elementType:us.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[a]})}catch{u=ck}try{f=tf({windingRule:kr.ODD,elementType:us.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...l]})}catch{f=DW}if(!u)throw new Error("error generating geometry");let v=u.elementCount;if(f){u.elementCount+=f.elementCount;for(let Z=0;Z<f.elements.length;Z++)u.elements.push(f.elements[Z]+(Z%2==0?u.vertexCount:0));for(let Z=0;Z<f.vertexIndices.length;Z++)u.vertexIndices.push(f.vertexIndices[Z]+u.vertexCount);for(let Z=0;Z<f.vertices.length;Z++)u.vertices.push(f.vertices[Z])}let y=1/0,_=-1/0,w=1/0,O=-1/0;for(let Z=0,te=u.vertexCount;Z<te;Z++){let ie=2*Z,ce=u.vertices[ie+0],de=u.vertices[ie+1];ce<y&&(y=ce),ce>_&&(_=ce),de<w&&(w=de),de>O&&(O=de)}this._minX=y,this._minY=w,this._width=_-y,this._height=O-w,this._buffer=new EW(this._computeBufferEstimatedSize(u));let S=[],D=[];for(let Z=u.elementCount-1;Z>=0;Z--){let te=Z>=v,ie=2*Z,ce=u.elements[ie+0],de=u.elements[ie+1],ue=ce+de,Ce={start:ce,count:de,normals:[],continuous:[],concave:[]},we=ce,_e=ue-1,ye=ce+1,Re=this._shape.roundedCurves.length;do{let ke=we-ce,it=u.vertices[2*we+0],We=u.vertices[2*we+1],ut=u.vertices[2*ye+0],Ke=u.vertices[2*ye+1],Nt=it-u.vertices[2*_e+0],Pt=We-u.vertices[2*_e+1],bt=Math.sqrt(Nt*Nt+Pt*Pt);Nt/=bt,Pt/=bt;let hn=it-ut,dn=We-Ke,mn=Math.sqrt(hn*hn+dn*dn);hn/=mn,dn/=mn,Ce.normals[2*ke+0]=-dn,Ce.normals[2*ke+1]=hn,Ce.concave[ke]=Nt*dn-Pt*hn>0;let Cn=u.vertexIndices[we];if(Array.isArray(Cn))Ce.continuous[ke]=!1;else{let[tn,Zt]=this._shape.getCurveIndexFromVertexId(Cn-1,!0);if(Zt>0&&Zt<1)Ce.continuous[ke]=!0;else{let Rn=1===Zt?tn+1:tn-1;Rn=(Rn+Re)%Re;let Jn=1===Zt?0:1,Ee=this._shape.roundedCurves[tn].getTangent(Zt),be=this._shape.roundedCurves[Rn].getTangent(Jn);Ce.continuous[ke]=Ee.dot(be)>.95}}te&&(Ce.normals[2*ke+0]*=-1,Ce.normals[2*ke+1]*=-1),[_e,we,ye]=[we,ye,ye+1],ye>=ue&&(ye-=de)}while(ye!==ce+1);let Be=[];Be.push({bevelI:0,angle:0,size:0,boundary:{vertices:u.vertices.slice(2*ce,2*ue),vertexCount:de,vertexIndices:new Array(de).fill(!0).map((ke,He)=>[He,He]),elements:[0,de],elementCount:1,mesh:null},reverseMap:[],insetPoints:u.vertices.slice(2*ce,2*ue)});let Ie=0;for(let ke=1;ke<=this._bevelSegments;ke++){let He=ke/this._bevelSegments*Math.PI/2,ze=(1-Math.cos(He))*this._bevel,it=[],We=[],ut=[],Ke=[],Nt=0;for(let bt=0;bt<de;bt++){let hn=2*bt,dn=(bt-1+de)%de*2,mn=u.vertices[2*Ce.start+hn+0],Cn=u.vertices[2*Ce.start+hn+1],tn=-Ce.normals[dn+0]*ze,Zt=-Ce.normals[dn+1]*ze,Rn=-Ce.normals[hn+0]*ze,Jn=-Ce.normals[hn+1]*ze;if(Ce.concave[bt]||!Ce.concave[bt]&&te){let Ee=Math.atan2(Zt,tn),be=Math.atan2(Jn,Rn);be>Ee&&(be-=2*Math.PI);let st=be-Ee;if(Ce.continuous[bt]||te){let Gt=Ee+st/2,Rt=Math.cos(Gt)*ze,Jt=Math.sin(Gt)*ze;it[2*Nt+0]=mn+Rt*(te?-1:1),it[2*Nt+1]=Cn+Jt*(te?-1:1),Ke[Nt]=bt,Nt++}else{let Gt=Math.max(1,Math.floor(i/4*Math.abs(st)/Math.PI));for(let Rt=0;Rt<=Gt;Rt++){let Jt=Ee+st*(Rt/Gt),Nn=Math.cos(Jt)*ze,Mn=Math.sin(Jt)*ze;it[2*Nt+0]=mn+Nn,it[2*Nt+1]=Cn+Mn,Ke[Nt]=bt,Nt++}}}else it[2*Nt+0]=mn+tn,it[2*Nt+1]=Cn+Zt,Ke[Nt]=bt,We[bt]=Nt,Nt++,it[2*Nt+0]=mn,it[2*Nt+1]=Cn,Ke[Nt]=bt,Nt++,it[2*Nt+0]=mn+Rn,it[2*Nt+1]=Cn+Jn,Ke[Nt]=bt,ut[bt]=Nt,Nt++}let Pt=tf({windingRule:kr.POSITIVE,elementType:us.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[it],edgeCreateCallback:bt=>{let hn=bt.Org.idx,dn=Ke[hn],mn=Ke[(hn+1)%Ke.length];bt.idx=[dn,mn],bt.Sym.idx=[mn,dn]},vertexIdCallback:bt=>{let hn=bt.Lprev.idx;return[hn?hn[1]:0,bt.idx?bt.idx[0]:0]}});if(!Pt)throw console.log("Error"),new Error(`error generating bevel geometry for ${ke}'th loop`);if(!Pt.vertexCount){let bt=(ke-1)/this._bevelSegments*Math.PI/2;Ie=(1-Math.sin(bt))*this._bevel;break}for(let bt=0;bt<Pt.vertexIndices.length;bt++){let[hn,dn]=Pt.vertexIndices[bt];if(hn===dn)continue;let mn=dn;dn<hn&&(mn+=de);for(let Cn=hn;Cn<mn;Cn++){let tn=Cn%de,Zt=(Cn+1)%de;if(!Ce.continuous[tn]||!Ce.continuous[Zt]){Pt.vertexIndices[bt]=[hn,tn],Pt.vertexIndices.splice(bt+1,0,[Zt,dn]),Pt.vertices.splice(2*(bt+1),0,Pt.vertices[2*bt],Pt.vertices[2*bt+1]);break}}}Be.push({bevelI:ke,angle:He,size:ze,boundary:Pt,reverseMap:Ke,insetPoints:it})}let De=(ke,He,ze)=>{let it=0,We=ke.boundary.vertexIndices.length;for(;it<We&&ze(ke.boundary.vertexIndices[He]);)He=(He+1)%We,it++;return it},Ve=S.length;for(let ke=1;ke<Be.length;ke++){let He=Be[ke-1],ze=Be[ke],it=He.boundary.vertexIndices.length,We=ze.boundary.vertexIndices.length;if(!it||!We)break;let ut=Ce.concave.length,Ke=0,Nt=dk(Ke,de);for(;!He.boundary.vertexIndices.filter(Nt).length||!ze.boundary.vertexIndices.filter(Nt).length;)Ke++,Nt=dk(Ke,de);let Pt=He.boundary.vertexIndices.findIndex(Nt),bt=ze.boundary.vertexIndices.findIndex(Nt);do{Pt=(Pt+1)%it}while(Nt(He.boundary.vertexIndices[Pt]));do{bt=(bt+1)%We}while(Nt(ze.boundary.vertexIndices[bt]));Ke=(Ke+1)%de;let Rn,Jn,hn=Ke,dn=0,tn=this._buildBevelVert(Ce,He,(Pt-1+it)%it,void 0,dn),Zt=this._buildBevelVert(Ce,ze,(bt-1+We)%We,void 0,dn),Ee=!1;do{dn=(Ke||ut)/ut,Nt=dk(Ke,de);let be=De(He,Pt,Nt),st=De(ze,bt,Nt),Gt=Ee;if(Ee=!1,be&&!st){for(let Rt=0;Rt<be;Rt++)Rn=this._buildBevelVert(Ce,He,(Pt+Rt)%it,Rt/(be-1),dn),S.push(tn.topN,Rn.topP,Zt.topN),!1===s&&S.push(Rn.bottomP,tn.bottomN,Zt.bottomN),tn=Rn;Ee=!0}else if(!be&&st)for(let Rt=0;Rt<st;Rt++)Jn=this._buildBevelVert(Ce,ze,(bt+Rt)%We,Rt/(st-1),dn),S.push(Zt.topN,tn.topP,Jn.topP),!1===s&&S.push(tn.bottomP,Zt.bottomN,Jn.bottomP),Zt=Jn;else if(be&&st)if(Rn=this._buildBevelVert(Ce,He,Pt,0,dn),Jn=this._buildBevelVert(Ce,ze,bt,0,dn),Gt?(S.push(tn.topN,Jn.topP,Zt.topN),S.push(tn.topN,Rn.topP,Jn.topP),!1===s&&(S.push(Jn.bottomP,tn.bottomN,Zt.bottomN),S.push(Jn.bottomP,Rn.bottomP,tn.bottomN))):(S.push(Zt.topN,tn.topN,Rn.topP),S.push(Zt.topN,Rn.topP,Jn.topP),!1===s&&(S.push(Rn.bottomP,tn.bottomN,Zt.bottomN),S.push(Rn.bottomP,Zt.bottomN,Jn.bottomP))),tn=Rn,Zt=Jn,be===st)for(let Rt=1;Rt<be;Rt++)Rn=this._buildBevelVert(Ce,He,(Pt+Rt)%it,Rt/(be-1),dn),Jn=this._buildBevelVert(Ce,ze,(bt+Rt)%We,Rt/(st-1),dn),S.push(tn.topN,Rn.topP,Zt.topN),S.push(Zt.topN,Rn.topP,Jn.topP),!1===s&&(S.push(Rn.bottomP,tn.bottomN,Zt.bottomN),S.push(Rn.bottomP,Zt.bottomN,Jn.bottomP)),tn=Rn,Zt=Jn;else if(be>st){let Rt=be/st,Jt=0;for(let Nn=1;Nn<be;Nn++)Rn=this._buildBevelVert(Ce,He,(Pt+Nn)%it,Nn/(be-1),dn),S.push(tn.topN,Rn.topP,Zt.topN),!1===s&&S.push(Rn.bottomP,tn.bottomN,Zt.bottomN),tn=Rn,Nn>(Jt+1)*Rt&&(Jt++,Jn=this._buildBevelVert(Ce,ze,(bt+Jt)%We,Jt/(st-1),dn),S.push(Zt.topN,Rn.topP,Jn.topP),!1===s&&S.push(Rn.bottomP,Zt.bottomN,Jn.bottomP),Zt=Jn)}else{let Rt=st/be,Jt=0;for(let Nn=1;Nn<st;Nn++)Jn=this._buildBevelVert(Ce,ze,(bt+Nn)%We,Nn/(st-1),dn),S.push(Zt.topN,Rn.topP,Jn.topP),!1===s&&S.push(Rn.bottomP,Zt.bottomN,Jn.bottomP),Zt=Jn,Nn>(Jt+1)*Rt&&(Jt++,Rn=this._buildBevelVert(Ce,He,(Pt+Jt)%it,Jt/(be-1),dn),S.push(tn.topN,Rn.topP,Zt.topN),!1===s&&S.push(Rn.bottomP,tn.bottomN,Zt.bottomN),tn=Rn)}Pt=(Pt+be)%it,bt=(bt+st)%We,Ke=(Ke+1)%ut}while(Ke!==hn)}if(!1===s&&this._depth>2*this._bevel&&this._buildWall(Be,Ce,S),te){let ke=[];for(let He=S.length-1;He>=Ve+2;He-=3)ke.push(S[He-0],S[He-1],S[He-2]);S.splice(Ve,S.length-Ve,...ke)}if(te){let ke=[];for(let He=Be[Be.length-1].boundary.vertices.length-1;He>=1;He-=2)ke.push(Be[Be.length-1].boundary.vertices[He-1],Be[Be.length-1].boundary.vertices[He-0]);D.push(ke)}if(!te){let He,ke=Be[Be.length-1];try{He=tf({windingRule:Be.length>1?kr.POSITIVE:kr.ODD,elementType:us.POLYGONS,vertexSize:2,strict:!0,contours:[ke.insetPoints,...D]})}catch{He=AW}if(!He)throw new Error("Error generating geometry for surface");0===l.length&&this._bevel<d&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let ze=0;ze<3*He.elementCount;ze+=3){let it=this._buildSurfaceVert(He,He.elements[ze+0],Ie),We=this._buildSurfaceVert(He,He.elements[ze+1],Ie),ut=this._buildSurfaceVert(He,He.elements[ze+2],Ie);S.push(it.top,We.top,ut.top),!1===s&&S.push(ut.bottom,We.bottom,it.bottom)}}this.vertexCache={}}this._buffer.shrink();let U=new ti(Uint32Array.from(S),1),Y=new ti(this._buffer.positions,3),q=new ti(this._buffer.normals,3),K=new ti(this._buffer.uvs,2);Y.needsUpdate=!0,q.needsUpdate=!0,K.needsUpdate=!0,U.needsUpdate=!0,this.setAttribute("position",Y),this.setAttribute("normal",q),this.setAttribute("uv",K),this.setIndex(U)}_computeBufferEstimatedSize(e){return 2*e.vertexCount*(2+this._bevelSegments)}_buildWall(e,t,n){let i=e[0];for(let r=0,o=i.boundary.vertexCount;r<o;r++){let s=this._buildBevelVert(t,i,r),a=this._buildBevelVert(t,i,(r+1)%o);n.push(a.topP,s.topN,s.bottomN),n.push(a.topP,s.bottomN,a.bottomP)}}_buildSurfaceVert(e,t,n){let i=t.toString();if(i in this.vertexCache)return this.vertexCache[i];let r=e.vertices[2*t+0],o=e.vertices[2*t+1],s=(r-this._minX)/this._width,a=(o-this._minY)/this._height;this.forPathBevel&&(a=1);let l=this._buffer.get(this.forPathBevel?1:2),c=3*l,h=2*l,d={top:l+0,bottom:l+1};return this._buffer.positions[c+0]=r,this._buffer.positions[c+1]=o,this._buffer.positions[c+2]=this.forPathBevel?this._bevel:this._depth-n,this._buffer.normals[c+0]=0,this._buffer.normals[c+1]=0,this._buffer.normals[c+2]=1,this._buffer.uvs[h+0]=s,this._buffer.uvs[h+1]=a,!1===this.forPathBevel&&(this._buffer.positions[c+3]=r,this._buffer.positions[c+4]=o,this._buffer.positions[c+5]=n,this._buffer.normals[c+3]=0,this._buffer.normals[c+4]=0,this._buffer.normals[c+5]=-1,this._buffer.uvs[h+2]=s,this._buffer.uvs[h+3]=a),this.vertexCache[i]=d,d}_buildBevelVert(e,t,n,i=1,r){let o=`${t.bevelI}:${n}`;if(o in this.vertexCache&&0!==r&&1!==r&&(!r||r===this.vertexCache[o].pathBevelUCoord))return this.vertexCache[o];let l,c,h,d,[s,a]=t.boundary.vertexIndices[n];s!==a?(c=s,l=a,d=!1,h=e.continuous[c]&&e.continuous[l]):(l=s,c=(l-1+e.count)%e.count,d=e.concave[l]&&t.bevelI>0,h=e.continuous[l]||d);let u=Math.cos(t.angle),f=Math.sin(t.angle),v=2*n,y=2*l,_=2*c,w=t.boundary.vertices[v+0],O=t.boundary.vertices[v+1],S=(1-f)*this._bevel,D=(w-this._minX)/this._width,U=(O-this._minY)/this._height;this.forPathBevel&&(void 0!==r&&(D=r),U=1);let Y=e.normals[y+0],q=e.normals[y+1],K=e.normals[_+0],Z=e.normals[_+1];if(d){Y+=(K-Y)*(1-i),q+=(Z-q)*(1-i);let we=Math.sqrt(Y*Y+q*q);Y/=we,q/=we}let te=this._buffer.get(this.forPathBevel?h?1:2:h?2:4),ie=3*te,ce=2*te,de={i:n,fi:l,topP:te+0,topN:te+0,bottomP:te+1,bottomN:te+1,pathBevelUCoord:r};return this._buffer.positions[ie+0]=w,this._buffer.positions[ie+1]=O,this._buffer.positions[ie+2]=(this.forPathBevel?this._bevel:this._depth)-S,this._buffer.normals[ie+0]=Y*u,this._buffer.normals[ie+1]=q*u,this._buffer.normals[ie+2]=f,this._buffer.uvs[ce+0]=D,this._buffer.uvs[ce+1]=U,!1===this.forPathBevel&&(this._buffer.positions[ie+3]=w,this._buffer.positions[ie+4]=O,this._buffer.positions[ie+5]=S,this._buffer.normals[ie+3]=Y*u,this._buffer.normals[ie+4]=q*u,this._buffer.normals[ie+5]=-f,this._buffer.uvs[ce+2]=U,this._buffer.uvs[ce+3]=D),h||(this.forPathBevel?(te+=1,ie+=3,ce+=2):(te+=2,ie+=6,ce+=4),de.topP=te+0,de.bottomP=te+1,this._buffer.positions[ie+0]=w,this._buffer.positions[ie+1]=O,this._buffer.positions[ie+2]=(this.forPathBevel?this._bevel:this._depth)-S,this._buffer.normals[ie+0]=K*u,this._buffer.normals[ie+1]=Z*u,this._buffer.normals[ie+2]=f,this._buffer.uvs[ce+0]=D,this._buffer.uvs[ce+1]=U,!1===this.forPathBevel&&(this._buffer.positions[ie+3]=w,this._buffer.positions[ie+4]=O,this._buffer.positions[ie+5]=S,this._buffer.normals[ie+3]=K*u,this._buffer.normals[ie+4]=Z*u,this._buffer.normals[ie+5]=-f,this._buffer.uvs[ce+2]=U,this._buffer.uvs[ce+3]=D)),this.vertexCache[o]=de,de}clone(){let e=new hk(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=bM(this.userData),e}},TW=class extends Vn{constructor(e,t=12,n={}){super(),this.type="ShapeGeometry",this.windingRule=kr.ODD,this.elementType=us.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:kr.ODD,elementType:us.POLYGONS,polySize:3,vertexSize:2,strict:!0},n);let o,l,c,i=this._shape.extractShapePointsToFlatArray([],this._curveSegments),r=this._shape.shapeHoles.map(u=>u.extractShapePointsToFlatArray([],this._curveSegments)),s=!0,a=!0;for(let u=0,f=i.length/2;u<f;u++){let v=2*u,y=i[v+0],_=i[v+1];if(void 0!==l&&y!==l&&(s=!1),void 0!==c&&_!==c&&(a=!1),l=y,c=_,!s&&!a)break}if(!s&&!a)try{o=tf({contours:[i,...r],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{o=ck}let h=o?.vertexCount??1,d=o?.elementCount??1;if(this._positionAttribute=new ti(new Float32Array(3*h),3),this._normalAttribute=new ti(new Float32Array(3*h),3),this._uvAttribute=new ti(new Float32Array(2*h),2),this._indexAttribute=new ti(new Uint32Array(3*d),1),o){let u=1/0,f=-1/0,v=1/0,y=-1/0;for(let O=0,S=h;O<S;O++){let D=2*O,U=o.vertices[D+0],Y=o.vertices[D+1];U<u&&(u=U),U>f&&(f=U),Y<v&&(v=Y),Y>y&&(y=Y)}let _=f-u,w=y-v;for(let O=0,S=h;O<S;O++){let D=2*O,U=o.vertices[D+0],Y=o.vertices[D+1],q=(U-u)/_,K=(Y-v)/w;this._positionAttribute.setXYZ(O,U,Y,0),this._normalAttribute.setXYZ(O,0,0,1),this._uvAttribute.setXY(O,q,K)}for(let O=0,S=d;O<S;O++){let D=3*O,Y=o.elements[D+1],q=o.elements[D+2];this._indexAttribute.setX(D+0,o.elements[D+0]),this._indexAttribute.setX(D+1,Y),this._indexAttribute.setX(D+2,q)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,3*(o?.elementCount??1))}clone(){let e=new TW(this._shape,this._curveSegments);return e.userData=bM(this.userData),e}},kW=class extends hk{constructor(e,t,n=0,i=12,r=3,o=kr.ODD){super(e,t,n,i,r,o),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return 2*e.vertexCount*(2+this._bevelSegments)}_buildWall(e,t,n){let i=e[0];for(let r=0,o=i.boundary.vertexCount;r<o;r++){let s=this._buildBevelVert(t,i,r),a=this._buildBevelVert(t,i,(r+1)%o);n.push(a.topP,s.topN,s.bottomN),n.push(a.topP,s.bottomN,a.bottomP)}}clone(){let e=new kW(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=bM(this.userData),e}},Hm=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:kr.ODD},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.abs(n.depth??0),s=e.shape??t?.shape,a=s?.roundness??n.roundness;void 0!==s&&(s instanceof Lo?(s.width!==i||s.height!==r)&&s.applySize(i,r):s=new Lo(i,r).fromJSON(s),void 0!==e.parameters?.roundness&&e.parameters?.roundness>0&&s.update());let l=s??new Lo(i,r);return{parameters:Object.assign(n,{width:i,height:r,depth:o,roundness:a}),shape:l}}static build(e){let a,{depth:t,extrudeBevelSize:n,extrudeBevelSegments:i,subdivisions:r,roundness:o,windingRule:s}=e.parameters;return e.shape.roundness=o,a=t<=0?new TW(e.shape,r,{windingRule:s}):new kW(e.shape,t,n,r,i,s),Object.assign(a,{userData:{...e,type:"VectorGeometry"}})}},IW=2*Math.PI,uk=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return n.angle=Ln.clamp(n.angle,0,360),{shape:e.shape&&e.shape instanceof Lo?e.shape:new Lo,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let f,{width:t,height:n,spikes:i,angle:r,innerRadius:o,depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}=e.parameters,c=e.shape,u=function Zke(e,t,n,i,r,o){if(i>=IW)return r>30||r%4==0?(function eIe(e,t,n,i=0,r=0,o=0){let s=.5522847498,a=t*s,l=n*s;e.addPoint(mP(r-t,o,r-t,o-l,r-t,o+l)),e.addPoint(mP(r,o+n,r-a,o+n,r+a,o+n)),e.addPoint(mP(r+t,o,r+t,o+l,r+t,o-l)),e.addPoint(mP(r,o-n,r+a,o-n,r-a,o-n)),i>0&&FW(e,t,n,i)}(e,t,n,o),Math.round(r/4)):RW(e,i,r,t,n,o);let s={x:0,y:n},a=(i=Math.max(i,.001))+.5*Math.PI,l={x:Math.cos(a)*t,y:Math.sin(a)*n},c=function qke({px:e,py:t,cx:n,cy:i,rx:r,ry:o,largeArcFlag:s,sweepFlag:a}){let l=[];if(0===r||0===o)return[];let c=(e-n)/2,h=(t-i)/2;if(0===c&&0===h)return[];r=Math.abs(r),o=Math.abs(o);let d=Math.pow(c,2)/Math.pow(r,2)+Math.pow(h,2)/Math.pow(o,2);d>1&&(r*=Math.sqrt(d),o*=Math.sqrt(d));let u=function Wke(e,t,n,i,r,o,s,a,l,c){let h=Math.pow(r,2),d=Math.pow(o,2),u=Math.pow(s,2),f=Math.pow(a,2),v=h*d-h*f-d*u;v<0&&(v=0),v/=h*f+d*u,v=Math.sqrt(v)*(l===c?-1:1);let y=v*r/o*a,_=v*-o/r*s,w=y+(e+n)/2,O=_+(t+i)/2,S=(s-y)/r,D=(a-_)/o,U=(-s-y)/r,Y=(-a-_)/o,q=CW(1,0,S,D),K=CW(S,D,U,Y);return!c&&K>0&&(K-=ok),c&&K<0&&(K+=ok),{centerx:w,centery:O,ang1:q,ang2:K}}(e,t,n,i,r,o,c,h,s,a),{ang1:f,ang2:v}=u,{centerx:y,centery:_}=u,w=Math.abs(v)/(ok/4);Math.abs(1-w)<1e-7&&(w=1);let O=Math.max(Math.ceil(w),1);v/=O;for(let S=0;S<O;S++)l.push(Gke(f,v)),f+=v;return l.map(S=>{let{x:D,y:U}=sk(S[0],r,o,y,_),{x:Y,y:q}=sk(S[1],r,o,y,_),{x:K,y:Z}=sk(S[2],r,o,y,_);return{x1:D,y1:U,x2:Y,y2:q,x:K,y:Z}})}({px:s.x,py:s.y,cx:l.x,cy:l.y,rx:t,ry:n,largeArcFlag:i>Math.PI,sweepFlag:!0});return r>30||r%c.length==0?function Jke(e,t,n,i,r,o,s,a){let l=Math.round(r/i.length);e.addPoint(Vv(t,n));for(let c=0,h=i.length;c<h;c++){let d=i[c],u=e.points[c],f=Vv(d.x,d.y);u.controls[1].position.set(d.x1,d.y1),f.controls[0].position.set(d.x2,d.y2),e.addPoint(f)}return a>0?NW(e,o,s,a):e.addPoint(Vv(0,0)),l}(e,s.x,s.y,c,r,t,n,o):RW(e,i,r,t,n,o)}(c,.5*t,.5*n,r*Math.PI/180,i,o);return c.isClosed=!0,c.update(),0===r?(f=new Vn,f.setAttribute("position",new wn([],3))):f=Hm.create({shape:c,parameters:{subdivisions:u,depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}}),Object.assign(f,{userData:{...e,type:"EllipseGeometry"}})}};function RW(e,t,n,i,r,o){let s=-t/n;for(let a=0;a<=n;a++){let l=s*a,c=Math.sin(l)*i,h=Math.cos(l)*r;e.addPoint(Vv(c,h))}return t<IW?o>0?NW(e,i,r,o):e.addPoint(Vv(0,0)):(e.removePoint(e.points[e.points.length-1]),o>0&&FW(e,i,r,o)),1}function Vv(e,t){return new zv(Ln.generateUUID(),new Fe(e,t))}function mP(e,t,n,i,r,o){let s=Vv(e,t);return s.controls[0].position.set(n,i),s.controls[1].position.set(r,o),s}function NW(e,t,n,i){LW(e,t,n,i).forEach(r=>e.addPoint(r))}function FW(e,t,n,i){let r=LW(e,t,n,i),o=new Lo;r.forEach(s=>o.addPoint(s)),o.isClosed=!0,e.shapeHoles.push(o)}function LW(e,t,n,i){let r=i*t/100,o=r*(Math.abs(n)/Math.abs(t)),s=new Fe(r/t,o/n),a=e.points.map(l=>{let c=l.clone();return c.uuid=Ln.generateUUID(),c}).reverse();return a.forEach(l=>{l.position.multiply(s);let c=l.controls[0].position.clone().multiply(s),h=l.controls[1].position.clone().multiply(s);l.controls[0].position.copy(h),l.controls[1].position.copy(c)}),a}var pk=new j0([0,0,0],1),BW=class extends Vn{constructor(e=!0,t=1,n=1,i=1,r=1,o=1,s=1,a=1,l=1,c=1,h=1,d=1){if(super(),0===o)return;let u=e&&1===o;u&&(d=0),h>100&&(h=100),0===h&&(d=0);let O,S,D,U,Y,q,K,Z,f=()=>new ne,v=new ne,y=f(),_=f(),w=f(),te=f(),ie=f(),ce=f(),de=f(),ue=f(),Ce=f(),we=f(),_e=f(),ye=n-2*a+.001,Re=ye/o,Be=Math.ceil(s*o),Ie=Be+1,De=ye/Be,Ve=-ye/2,ke=c+1,He=2*Math.PI/c,ze=Math.PI/2/d,We=Math.min((1-h/100)*a,a-.01),ut=a-We,Ke=0,Pt=2*d+2,bt=ke*Pt/2,hn=bt+ke*Ie,dn=Math.max(0,ke*(Ie+Pt)),[mn,Cn,tn]=[3,3,2].map(kn=>Array(dn*kn).fill(0)),Zt=[],Rn=r-a;function Jn(kn,zn){let In=Math.PI/2;q=zn*De,Z=2*Math.PI*(q%Re)/Re+In,q+=Ve,K=Math.sin(Z)*Rn,Y=Math.cos(Z)*Rn,e?kn.set(Y,K,q):kn.set(Y,q,K)}Jn(v,-1e-10),Jn(y,0),te.copy(v),Jn(v,1);let Ee=v.distanceTo(y),be=u?0:ut+We,st=Ee*Be+2*be,Gt=We,Rt=st-be;for(let kn=0;kn<=Be;kn++){Jn(_,kn),_e.subVectors(_,te).normalize(),te.copy(_),Ce.copy(_).setComponent(+e+1,0).normalize(),we.crossVectors(_e,Ce).normalize();let zn=0===kn,In=kn===Be,li=zn?3*Math.PI/2:ze,Kn=zn?Gt:Rt,ar=zn?ke:hn,ho=zn?0:dn-ke,gs=_e.clone().multiplyScalar(zn?-ut:ut).add(_),Xe=_e.clone().multiplyScalar(zn?-1:1).normalize();for(let Mt=0;Mt<ke;Mt++){let Xt=Mt*He;if(ie.addVectors(v.copy(Ce).multiplyScalar(a*Math.cos(Xt)),y.copy(we).multiplyScalar(a*Math.sin(Xt))),ce.copy(ie).normalize(),zn||In){u||(Ke=ho+Mt,[0,1,2].forEach(ln=>{mn[3*Ke+ln]=gs.getComponent(ln),Cn[3*Ke+ln]=Xe.getComponent(ln)}),tn[2*Ke]=+In,tn[2*Ke+1]=Mt/c),y.copy(ce).multiplyScalar(We),w.addVectors(_,y);for(let ln=0;ln<d;ln++){let oi=ln*ze+li;de.addVectors(v.copy(_e).multiplyScalar(ut*Math.sin(oi)),y.copy(ce).multiplyScalar(ut*Math.cos(oi))),ue.copy(de).normalize(),y.addVectors(w,de),de.normalize(),Ke=ar+ln*ke+Mt,[0,1,2].forEach(So=>{mn[3*Ke+So]=y.getComponent(So),Cn[3*Ke+So]=ue.getComponent(So)});let gr=+zn+Math.sin(oi);tn[2*Ke]=(Kn+ut*gr)/st,tn[2*Ke+1]=Mt/c}}y.addVectors(_,ie),Ke=bt+kn*ke+Mt,[0,1,2].forEach(ln=>{mn[3*Ke+ln]=y.getComponent(ln),Cn[3*Ke+ln]=ce.getComponent(ln)}),tn[2*Ke]=(be+kn*Ee)/st,tn[2*Ke+1]=Mt/c}}let Jt=Ie+2*d+2,[Mn,Lt]=[+u,Jt-1];for(let kn=Mn;kn<=Lt-1;kn++){let zn=u&&kn===Lt-1;for(let In=0;In<ke-1;In++)O=kn*ke+In,S=O+1,D=(zn?In:O)+ke,U=(zn?In+1:S)+ke,0===kn?Zt.push(S,U,D):kn===Jt-2?Zt.push(O,S,D):Zt.push(O,S,D,S,U,D)}this.setIndex(Zt),this.setAttribute("position",new wn(mn,3)),this.setAttribute("normal",new wn(Cn,3)),this.setAttribute("uv",new wn(tn,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let r,o,s,a,e=this.userData.parameters,t=Math.ceil(e.tubularSegments),n=e.radialSegments+1,i=Array.from(this.getIndex().array),l=6*(t-1)*e.radialSegments,c=t,h=c===t;for(let d=0;d<e.radialSegments;d++)r=c*n+d,o=r+1,s=(h?d:r)+n,a=(h?d+1:o)+n,i[l++]=r,i[l++]=o,i[l++]=s,i[l++]=o,i[l++]=a,i[l++]=s;return i.length=l,pk.array=i,pk.count=i.length,pk}},zW=class extends J3{constructor(e=1,t=.2,n=4){let i=(1+Math.sqrt(5))/2,s="IcosahedronGeometry";super([-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],s,e,t,n),this.type=s}static fromJSON(e){return new zW(e.radius,e.corner,e.cornerSides)}},_h=new Ut,fk=new Tr,gP=new ne,vP=class extends ta{constructor(){super(),this.uuid=Ln.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=(new $o).getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let o=0,s=r.vertexNormals.length;o<s;o++)r.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return _h.makeRotationX(e),this.applyMatrix4(_h),this}rotateY(e){return _h.makeRotationY(e),this.applyMatrix4(_h),this}rotateZ(e){return _h.makeRotationZ(e),this.applyMatrix4(_h),this}translate(e,t,n){return _h.makeTranslation(e,t,n),this.applyMatrix4(_h),this}scale(e,t,n){return _h.makeScale(e,t,n),this.applyMatrix4(_h),this}lookAt(e){return fk.lookAt(e),fk.updateMatrix(),this.applyMatrix4(fk.matrix),this}fromBufferGeometry(e){let t=this,n=null!==e.index?e.index:void 0,i=e.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let r=i.position,o=i.normal,s=i.color,a=i.uv,l=i.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(let d=0;d<r.count;d++)t.vertices.push((new ne).fromBufferAttribute(r,d)),void 0!==s&&t.colors.push((new qn).fromBufferAttribute(s,d));function c(d,u,f,v){let y=void 0===s?[]:[t.colors[d].clone(),t.colors[u].clone(),t.colors[f].clone()],_=void 0===o?[]:[(new ne).fromBufferAttribute(o,d),(new ne).fromBufferAttribute(o,u),(new ne).fromBufferAttribute(o,f)],w=new mk(d,u,f,_,y,v);t.faces.push(w),void 0!==a&&t.faceVertexUvs[0].push([(new Fe).fromBufferAttribute(a,d),(new Fe).fromBufferAttribute(a,u),(new Fe).fromBufferAttribute(a,f)]),void 0!==l&&t.faceVertexUvs[1].push([(new Fe).fromBufferAttribute(l,d),(new Fe).fromBufferAttribute(l,u),(new Fe).fromBufferAttribute(l,f)])}let h=e.groups;if(h.length>0)for(let d=0;d<h.length;d++){let u=h[d],f=u.start;for(let y=f,_=f+u.count;y<_;y+=3)void 0!==n?c(n.getX(y),n.getX(y+1),n.getX(y+2),u.materialIndex):c(y,y+1,y+2,u.materialIndex)}else if(void 0!==n)for(let d=0;d<n.count;d+=3)c(n.getX(d),n.getX(d+1),n.getX(d+2));else for(let d=0;d<r.count;d+=3)c(d,d+1,d+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gP).negate(),this.translate(gP.x,gP.y,gP.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new Ut;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this}computeFaceNormals(){let e=new ne,t=new ne;for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n],o=this.vertices[r.a],s=this.vertices[r.b];e.subVectors(this.vertices[r.c],s),t.subVectors(o,s),e.cross(t),e.normalize(),r.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new ne;if(e){let n=new ne,i=new ne;for(let r=0,o=this.faces.length;r<o;r++){let s=this.faces[r],a=this.vertices[s.a],l=this.vertices[s.b];n.subVectors(this.vertices[s.c],l),i.subVectors(a,l),n.cross(i),t[s.a].add(n),t[s.b].add(n),t[s.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n],o=r.vertexNormals;3===o.length?(o[0].copy(t[r.a]),o[1].copy(t[r.b]),o[2].copy(t[r.c])):(o[0]=t[r.a].clone(),o[1]=t[r.b].clone(),o[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let n=this.faces[e],i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,n=this.faces.length;t<n;t++){let i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,o=i.vertexNormals.length;r<o;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}let e=new vP;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let r=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let s=0,a=this.faces.length;s<a;s++){let l=new ne,c={a:new ne,b:new ne,c:new ne};r.push(l),o.push(c)}}let i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,o=this.faces.length;r<o;r++){let s=this.faces[r],l=i.vertexNormals[r];i.faceNormals[r].copy(s.normal),l.a.copy(s.vertexNormals[0]),l.b.copy(s.vertexNormals[1]),l.c.copy(s.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){let i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Ko),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ml),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,n=0){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);let i,r=this.vertices.length,o=this.vertices,s=e.vertices,a=this.faces,l=e.faces,c=this.colors,h=e.colors;void 0!==t&&(i=(new $o).getNormalMatrix(t));for(let d=0,u=s.length;d<u;d++){let f=s[d].clone();void 0!==t&&f.applyMatrix4(t),o.push(f)}for(let d=0,u=h.length;d<u;d++)c.push(h[d].clone());for(let d=0,u=l.length;d<u;d++){let v,y,f=l[d],_=f.vertexNormals,w=f.vertexColors,O=new mk(f.a+r,f.b+r,f.c+r);O.normal.copy(f.normal),void 0!==i&&O.normal.applyMatrix3(i).normalize();for(let S=0,D=_.length;S<D;S++)v=_[S].clone(),void 0!==i&&v.applyMatrix3(i).normalize(),O.vertexNormals.push(v);O.color.copy(f.color);for(let S=0,D=w.length;S<D;S++)y=w[S],O.vertexColors.push(y.clone());O.materialIndex=f.materialIndex+n,a.push(O)}for(let d=0,u=e.faceVertexUvs.length;d<u;d++){let f=e.faceVertexUvs[d];void 0===this.faceVertexUvs[d]&&(this.faceVertexUvs[d]=[]);for(let v=0,y=f.length;v<y;v++){let _=f[v],w=[];for(let O=0,S=_.length;O<S;O++)w.push(_[O].clone());this.faceVertexUvs[d].push(w)}}}mergeMesh(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)}mergeVertices(e=4){let t={},n=[],i=[],r=Math.pow(10,e);for(let a=0,l=this.vertices.length;a<l;a++){let c=this.vertices[a],h=Math.round(c.x*r)+"_"+Math.round(c.y*r)+"_"+Math.round(c.z*r);void 0===t[h]?(t[h]=a,n.push(this.vertices[a]),i[a]=n.length-1):i[a]=i[t[h]]}let o=[];for(let a=0,l=this.faces.length;a<l;a++){let c=this.faces[a];c.a=i[c.a],c.b=i[c.b],c.c=i[c.c];let h=[c.a,c.b,c.c];for(let d=0;d<3;d++)if(h[d]===h[(d+1)%3]){o.push(a);break}}for(let a=o.length-1;a>=0;a--){let l=o[a];this.faces.splice(l,1);for(let c=0,h=this.faceVertexUvs.length;c<h;c++)this.faceVertexUvs[c].splice(l,1)}let s=this.vertices.length-n.length;return this.vertices=n,s}setFromPoints(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){let i=e[t];this.vertices.push(new ne(i.x,i.y,i.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let a=0;a<t;a++)e[a]._id=a;e.sort(function n(a,l){return a.materialIndex-l.materialIndex});let o,s,i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];i&&i.length===t&&(o=[]),r&&r.length===t&&(s=[]);for(let a=0;a<t;a++){let l=e[a]._id;o&&o.push(i[l]),s&&s.push(r[l])}o&&(this.faceVertexUvs[0]=o),s&&(this.faceVertexUvs[1]=s)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){let f=this.parameters;for(let v in f)void 0!==f[v]&&(e[v]=f[v]);return e}let t=[];for(let f=0;f<this.vertices.length;f++){let v=this.vertices[f];t.push(v.x,v.y,v.z)}let n=[],i=[],r={},o=[],s={},a=[],l={};for(let f=0;f<this.faces.length;f++){let v=this.faces[f],y=!0,_=!1,w=void 0!==this.faceVertexUvs[0][f],O=v.normal.length()>0,S=v.vertexNormals.length>0,D=1!==v.color.r||1!==v.color.g||1!==v.color.b,U=v.vertexColors.length>0,Y=0;if(Y=c(Y,0,0),Y=c(Y,1,y),Y=c(Y,2,_),Y=c(Y,3,w),Y=c(Y,4,O),Y=c(Y,5,S),Y=c(Y,6,D),Y=c(Y,7,U),n.push(Y),n.push(v.a,v.b,v.c),n.push(v.materialIndex),w){let q=this.faceVertexUvs[0][f];n.push(u(q[0]),u(q[1]),u(q[2]))}if(O&&n.push(h(v.normal)),S){let q=v.vertexNormals;n.push(h(q[0]),h(q[1]),h(q[2]))}if(D&&n.push(d(v.color)),U){let q=v.vertexColors;n.push(d(q[0]),d(q[1]),d(q[2]))}}function c(f,v,y){return y?f|1<<v:f&~(1<<v)}function h(f){let v=f.x.toString()+f.y.toString()+f.z.toString();return void 0!==r[v]||(r[v]=i.length/3,i.push(f.x,f.y,f.z)),r[v]}function d(f){let v=f.r.toString()+f.g.toString()+f.b.toString();return void 0!==s[v]||(s[v]=o.length,o.push(f.getHex())),s[v]}function u(f){let v=f.x.toString()+f.y.toString();return void 0!==l[v]||(l[v]=a.length/2,a.push(f.x,f.y)),l[v]}return e.data={},e.data.vertices=t,e.data.normals=i,o.length>0&&(e.data.colors=o),a.length>0&&(e.data.uvs=[a]),e.data.faces=n,e}clone(){return(new vP).copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let d=0,u=t.length;d<u;d++)this.vertices.push(t[d].clone());let n=e.colors;for(let d=0,u=n.length;d<u;d++)this.colors.push(n[d].clone());let i=e.faces;for(let d=0,u=i.length;d<u;d++)this.faces.push(i[d].clone());for(let d=0,u=e.faceVertexUvs.length;d<u;d++){let f=e.faceVertexUvs[d];void 0===this.faceVertexUvs[d]&&(this.faceVertexUvs[d]=[]);for(let v=0,y=f.length;v<y;v++){let _=f[v],w=[];for(let O=0,S=_.length;O<S;O++)w.push(_[O].clone());this.faceVertexUvs[d].push(w)}}let r=e.morphTargets;for(let d=0,u=r.length;d<u;d++){let f={};if(f.name=r[d].name,void 0!==r[d].vertices){f.vertices=[];for(let v=0,y=r[d].vertices.length;v<y;v++)f.vertices.push(r[d].vertices[v].clone())}if(void 0!==r[d].normals){f.normals=[];for(let v=0,y=r[d].normals.length;v<y;v++)f.normals.push(r[d].normals[v].clone())}this.morphTargets.push(f)}let o=e.morphNormals;for(let d=0,u=o.length;d<u;d++){let f={};if(void 0!==o[d].vertexNormals){f.vertexNormals=[];for(let v=0,y=o[d].vertexNormals.length;v<y;v++){let _=o[d].vertexNormals[v],w={};w.a=_.a.clone(),w.b=_.b.clone(),w.c=_.c.clone(),f.vertexNormals.push(w)}}if(void 0!==o[d].faceNormals){f.faceNormals=[];for(let v=0,y=o[d].faceNormals.length;v<y;v++)f.faceNormals.push(o[d].faceNormals[v].clone())}this.morphNormals.push(f)}let s=e.skinWeights;for(let d=0,u=s.length;d<u;d++)this.skinWeights.push(s[d].clone());let a=e.skinIndices;for(let d=0,u=a.length;d<u;d++)this.skinIndices.push(a[d].clone());let l=e.lineDistances;for(let d=0,u=l.length;d<u;d++)this.lineDistances.push(l[d]);let c=e.boundingBox;null!==c&&(this.boundingBox=c.clone());let h=e.boundingSphere;return null!==h&&(this.boundingSphere=h.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=(new rIe).fromGeometry(this),t=new Vn,n=new Float32Array(3*e.vertices.length);if(t.setAttribute("position",yP.call(new ti(n,3),e.vertices)),e.normals.length>0){let i=new Float32Array(3*e.normals.length);t.setAttribute("normal",yP.call(new ti(i,3),e.normals))}if(e.colors.length>0){let i=new Float32Array(3*e.colors.length);t.setAttribute("color",UW.call(new ti(i,3),e.colors))}if(e.uvs.length>0){let i=new Float32Array(2*e.uvs.length);t.setAttribute("uv",jW.call(new ti(i,2),e.uvs))}if(e.uvs2.length>0){let i=new Float32Array(2*e.uvs2.length);t.setAttribute("uv2",jW.call(new ti(i,2),e.uvs2))}t.groups=e.groups;for(let i in e.morphTargets){let r=[],o=e.morphTargets[i];for(let s=0,a=o.length;s<a;s++){let l=o[s],c=new wn(3*l.data.length,3);c.name=l.name,r.push(yP.call(c,l.data))}t.morphAttributes[i]=r}if(e.skinIndices.length>0){let i=new wn(4*e.skinIndices.length,4);t.setAttribute("skinIndex",VW.call(i,e.skinIndices))}if(e.skinWeights.length>0){let i=new wn(4*e.skinWeights.length,4);t.setAttribute("skinWeight",VW.call(i,e.skinWeights))}return null!==e.boundingSphere&&(t.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new Vn,n=e.geometry;if(e.isPoints||e.isLine){let i=new wn(3*n.vertices.length,3),r=new wn(3*n.colors.length,3);if(t.setAttribute("position",yP.call(i,n.vertices)),t.setAttribute("color",UW.call(r,n.colors)),n.lineDistances&&n.lineDistances.length===n.vertices.length){let o=new wn(n.lineDistances.length,1);t.setAttribute("lineDistance",oIe.call(o,n.lineDistances))}null!==n.boundingSphere&&(t.boundingSphere=n.boundingSphere.clone()),null!==n.boundingBox&&(t.boundingBox=n.boundingBox.clone())}else e.isMesh&&(t=n.toBufferGeometry());return t}};vP.prototype.isGeometry=!0;var rIe=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let n,i,r,t=[],o=e.faces;for(i=0;i<o.length;i++){let s=o[i];s.materialIndex!==r&&(r=s.materialIndex,void 0!==n&&(n.count=3*i-n.start,t.push(n)),n={start:3*i,materialIndex:r})}void 0!==n&&(n.count=3*i-n.start,t.push(n)),this.groups=t}fromGeometry(e){let l,t=e.faces,n=e.vertices,i=e.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,a=s.length;if(a>0){l=[];for(let _=0;_<a;_++)l[_]={name:s[_].name,data:[]};this.morphTargets.position=l}let d,c=e.morphNormals,h=c.length;if(h>0){d=[];for(let _=0;_<h;_++)d[_]={name:c[_].name,data:[]};this.morphTargets.normal=d}let u=e.skinIndices,f=e.skinWeights,v=u.length===n.length,y=f.length===n.length;n.length>0&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let _=0;_<t.length;_++){let w=t[_];this.vertices.push(n[w.a],n[w.b],n[w.c]);let O=w.vertexNormals;if(3===O.length)this.normals.push(O[0],O[1],O[2]);else{let D=w.normal;this.normals.push(D,D,D)}let S=w.vertexColors;if(3===S.length)this.colors.push(S[0],S[1],S[2]);else{let D=w.color;this.colors.push(D,D,D)}if(!0===r){let D=i[0][_];void 0!==D?this.uvs.push(D[0],D[1],D[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",_),this.uvs.push(new Fe,new Fe,new Fe))}if(!0===o){let D=i[1][_];void 0!==D?this.uvs2.push(D[0],D[1],D[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",_),this.uvs2.push(new Fe,new Fe,new Fe))}for(let D=0;D<a;D++){let U=s[D].vertices;l[D].data.push(U[w.a],U[w.b],U[w.c])}for(let D=0;D<h;D++){let U=c[D].vertexNormals[_];d[D].data.push(U.a,U.b,U.c)}v&&this.skinIndices.push(u[w.a],u[w.b],u[w.c]),y&&this.skinWeights.push(f[w.a],f[w.b],f[w.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}},mk=class{constructor(e,t,n,i,r,o=0){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new ne,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new qn,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function oIe(e){return this.array.set(e),this}function UW(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new qn),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}function jW(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Fe),t[n++]=o.x,t[n++]=o.y}return this}function yP(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new ne),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}function VW(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Ci),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}var sIe=["a","b","c"];function aIe(e,t){switch(t){case"c":return e.c;case"b":return e.b;default:return e.a}}function gk(e,t,n){let i=Math.min(e,t),r=Math.max(e,t);return n.get(i+"_"+r)}function vk(e,t,n,i,r,o){let c,s=Math.min(e,t),a=Math.max(e,t),l=s+"_"+a;i.has(l)?c=i.get(l):(c={a:n[s],b:n[a],newEdge:null,faces:[]},i.set(l,c)),c.faces.push(r),o[e].edges.push(c),o[t].edges.push(c)}function _P(e,t,n,i,r){e.push(new mk(t,n,i,void 0,void 0,r))}function Hv(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function bP(e,t,n,i){e.push([t.clone(),n.clone(),i.clone()])}var Is=new ne,HW=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof Lo?e.shape:new Lo,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,spikes:i,cornerRadius:r,depth:o,extrudeBevelSize:s,extrudeBevelSegments:a}=e.parameters,l=e.shape,c=.5*t,h=.5*n,f=2*Math.PI/i;for(let y=0;y<i;y++){let _=f*y,w=0+Math.sin(_)*c,O=0+Math.cos(_)*h;l.addPoint(l.createPoint(w,O))}l.isClosed=!0;for(let y=0,_=l.points.length;y<_;y++)l.points[y].roundness=r;l.roundness=r,l.update();let v=Hm.create({shape:l,parameters:{roundness:r,depth:o,extrudeBevelSize:s,extrudeBevelSegments:a}});return Object.assign(v,{userData:{...e,type:"PolygonGeometry"}})}};function ib(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function yk(e,t,n,i,r,o){let s=t.clone().sub(e),a=n.clone().sub(e),l=s.angleTo(a);if(s.normalize(),a.normalize(),i===r){let c=s.add(a).normalize();o.copy(e).addScaledVector(c,i/Math.sin(l/2))}else{let c=s.angleTo(a);o.copy(e),o.addScaledVector(s,r/Math.sin(c)),o.addScaledVector(a,i/Math.sin(c))}}function uIe(e,t,n){let i=e.clone().sub(t),r=n.clone().sub(t);return i.projectOnVector(r),i.add(t)}var pIe=class extends Vn{constructor(e=.5,t=1,n=4,i=1,r=!1,o=0,s=4){super(),n=Math.floor(Math.max(3,n)),i=Math.floor(i),s=Math.floor(s);let ie,a=[],l=[],c=[],h=[],d=0,u=t/2,f=Math.PI/n,v=e*Math.cos(Math.PI/n),y=2*Math.PI/n,_=(n-2)*Math.PI/n,w=Math.PI-_,O=new ne(0,-u,0),S=new ne(0,u,0),D=new Fe(e,-u),U=new Fe(v,-u),Y=new Fe(0,S.y).sub(U),q=new Fe(0,S.y).sub(D),K=new Fe(Y.y,-Y.x).normalize(),Z=new Fe(q.y,-q.x).normalize(),te=e*Math.cos(Math.PI/n)*Math.tan((Math.PI-Y.angle())/2)-1e-8;o=Math.min(o,te);{let ye=new ne(K.x,K.y,0),Re=new ne(Math.cos(y)*ye.x,ye.y,Math.sin(y)*ye.x);ie=ye.angleTo(Re)}let ce=o/Math.tan((Math.PI-Y.angle())/2),de=o/Math.tan((Math.PI-ie)/2),ue=new ne;if(!r){l.push(O.x,O.y,O.z),c.push(0,-1,0),h.push(0,0);let ye=d++,Re=[],Be=D.clone(),Ie=ce/Math.cos(Math.PI/n);Be.x-=Ie;for(let De=0;De<n;De++){let Ve=De/n*Math.PI*2+f;ib(Be,new Fe(Math.sin(Ve),Math.cos(Ve)),ue),l.push(ue.x,ue.y,ue.z),c.push(0,-1,0),h.push(0,0),Re.push(d++)}for(let De=0;De<Re.length;De++)a.push(Re[De],ye,Re[(De+1)%Re.length])}let Ce=[];{let ye=new ne,Re=new ne,Be=new ne,Ie=new ne,De=new ne,Ve=new ne;for(let ke=0;ke<n;ke++){let He=ke/n*Math.PI*2+f,ze=(ke+.5)/n*Math.PI*2+f,it=(ke+1)/n*Math.PI*2+f,We=new Fe(Math.sin(He),Math.cos(He)),ut=new Fe(Math.sin(ze),Math.cos(ze)),Ke=new Fe(Math.sin(it),Math.cos(it));ib(D,We,Re),ib(D,Ke,Be),ib(K,ut,ye),yk(S,Re,Be,de,de,Ie),l.push(Ie.x,Ie.y,Ie.z),yk(Re,S,Be,de,ce,De),l.push(De.x,De.y,De.z),yk(Be,Re,S,ce,de,Ve),l.push(Ve.x,Ve.y,Ve.z),c.push(ye.x,ye.y,ye.z),c.push(ye.x,ye.y,ye.z),c.push(ye.x,ye.y,ye.z),h.push(0,0),h.push(0,0),h.push(0,0);let Nt=d++,Pt=d++,bt=d++;if(a.push(Nt,Pt,bt),o>0){{let mn=Re.clone().add(Be).multiplyScalar(.5),Cn=S.clone().sub(mn).normalize(),tn=O.clone().sub(mn).normalize().add(Cn).normalize().multiplyScalar(-1);we(mn,Ve.clone().sub(De),tn,Y.angle())}let hn,dn;{let mn=new ne;ib(Z,Ke,mn);let Cn=Ve.clone().add(Ie).multiplyScalar(.5);Cn=uIe(Cn,Be,S);let tn=Ve.clone().sub(Ie);[hn,dn]=we(Cn,tn,mn,ie,Ie.y)}{let mn=hn,Cn=mn.clone().setY(0).normalize(),tn=new ne(0,-1,0),Zt=Cn.clone().cross(tn);_e(mn,Cn,tn,Zt)}Ce.concat(dn);{let mn=Y.angle(),Cn=Math.PI-mn,tn=S.clone();tn.y-=o/Math.sin(mn-Math.PI/2);let Zt=new ne,Rn=[];for(let Ee=0;Ee<s;Ee++){let be=[],st=Math.PI/2-Cn*Ee/s,Gt=Math.cos(st),Rt=Math.sin(st),Jt=ze;for(let Nn=0;Nn<=Ee;Nn++){let Mn=Math.cos(Jt),Lt=Math.sin(Jt);ye.x=Gt*Lt,ye.y=Rt,ye.z=Gt*Mn,Zt.copy(tn).addScaledVector(ye,o),l.push(Zt.x,Zt.y,Zt.z),c.push(ye.x,ye.y,ye.z),h.push(0,0),be.push(d++),Jt+=2*Math.PI/Ee/n}Rn.push(be)}dn.reverse(),Rn.push(dn);let Jn=Rn.length-1;for(let Ee=0;Ee<Jn;Ee++){let be=Rn[Ee],st=Rn[Ee+1],Gt=be.length-1;a.push(st[1],be[0],st[0]);for(let Rt=1;Rt<=Gt;Rt++)a.push(be[Rt],be[Rt-1],st[Rt]),a.push(st[Rt+1],be[Rt],st[Rt])}}}}}function we(ye,Re,Be,Ie,De){let Ve=-Ie/2,ke=(Math.PI-Ie)/2,He=Re.clone().normalize().cross(Be);ye.addScaledVector(Be,-o/Math.sin(ke));let ze=new ne,it=new ne,ut=d,Ke=[];for(let Nt=0;Nt<=s;Nt++){let Pt=Ve+Nt/s*Ie;it.set(0,0,0),it.addScaledVector(He,Math.sin(Pt)),it.addScaledVector(Be,Math.cos(Pt));for(let bt=0;bt<=1;bt++){let hn=bt/1-.5;if(ze.copy(ye),ze.addScaledVector(Re,hn),ze.addScaledVector(it,o),null!=De){let dn=Math.max(0,ze.y-De);ze.addScaledVector(Re,-dn/Re.y)}l.push(ze.x,ze.y,ze.z),c.push(it.x,it.y,it.z),h.push(0,0),0===bt&&Ke.push(d),d++}}for(let Nt=0;Nt<s;Nt++)for(let Pt=0;Pt<1;Pt++){let bt=ut+Pt+2*Nt,hn=bt+2,dn=hn+1,mn=bt+1;a.push(bt,hn,mn),a.push(hn,dn,mn)}return[ye.clone().addScaledVector(Re,.5),Ke]}function _e(ye,Re,Be,Ie){let De=Math.PI/2,Ve=q.angle()-De,ke=[],He=new ne,ze=new ne;for(let We=0;We<=s;We++){let ut=[],Ke=We/s;for(let Nt=0;Nt<=We;Nt++){let Pt=((We?Nt/We:0)-.5)*w,bt=Math.cos(Pt),hn=Math.sin(Pt),mn=(De+Math.atan(Math.tan(Ve)*bt))*Ke,Cn=Math.cos(mn),tn=Math.sin(mn);He.set(0,0,0),He.addScaledVector(Re,tn*bt),He.addScaledVector(Be,Cn),He.addScaledVector(Ie,tn*hn),ze.copy(ye).addScaledVector(He,o),l.push(ze.x,ze.y,ze.z),c.push(He.x,He.y,He.z),h.push(0,0),ut.push(d++)}ke.push(ut)}let it=ke.length-1;for(let We=0;We<it;We++){let ut=ke[We],Ke=ke[We+1],Nt=ut.length-1;a.push(ut[0],Ke[1],Ke[0]);for(let Pt=1;Pt<=Nt;Pt++)a.push(ut[Pt-1],ut[Pt],Ke[Pt]),a.push(ut[Pt],Ke[Pt+1],Ke[Pt])}}this.setIndex(a),this.setAttribute("position",new wn(l,3)),this.setAttribute("normal",new wn(c,3)),this.setAttribute("uv",new wn(h,2))}},GW=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),i=Object.assign(t?.ui??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof Lo?e.shape:new Lo,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)}),ui:i}}static build(e){let t=e.shape,{width:n,height:i,cornerRadius:r,cornerType:o,depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}=e.parameters,c={x:.5*n,y:.5*i},h={x:-c.x,y:-c.y},d={x:c.x,y:c.y};function u(D,U,Y){return U>n&&Y>i?Math.min(D*n/U,D*i/Y):U>n?D*n/U:Y>i?D*i/Y:D}let f=[];f[0]=0===r[0]?0:u(r[0],r[0]+r[3],r[0]+r[1]),f[1]=0===r[1]?0:u(r[1],r[1]+r[2],r[1]+r[0]),f[2]=0===r[2]?0:u(r[2],r[2]+r[1],r[2]+r[3]),f[3]=0===r[3]?0:u(r[3],r[3]+r[0],r[3]+r[2]);let v=h.x,y=d.x,_=d.y,w=h.y;t.addPoint(t.createPoint(v,_)),t.addPoint(t.createPoint(y,_)),t.addPoint(t.createPoint(y,w)),t.addPoint(t.createPoint(v,w)),t.isClosed=!0;let O=!0;for(let D=0,U=t.points.length;D<U;D++)t.points[D].roundness=f[D],D>0&&f[D]!==f[D-1]&&(O=!1);O&&(t.roundness=f[0]),t.useCubicForRoundedCorners=1!==o,t.update();let S=Hm.create({shape:t,parameters:{depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}});return Object.assign(S,{userData:{...e,type:"RectangleGeometry"}})}},vIe=class extends Vn{constructor(e=1,t=1,n=1,i=90,r=10,o=24){super(),this.type="BackdropGeometry";let s=[],a=[],l=[],c=.001;0==r&&(o=1),o=Math.max(1,Math.floor(o)),r=Math.min(r,100),i=Math.min(180-c,i),i*=Math.PI/180;let h=[],d=Math.PI/2,u=(it=0,We=0,ut=0)=>new ne(it,We,ut),f=u(),v=u(),[y,_,w]=[t/2,e/2,n/2],O=-_,S=+_,[D,U,Y]=[u(O,-y,+w),u(O,-y,-w),u(O,+y,-w)],q=(it,We=!1)=>Math.sin(it-Math.PI/(+We+1)),K=(it,We=!1)=>Math.cos(it-Math.PI/(+We+1));Y.y=Math.sin(i)*t-y;let Z=Math.cos(i)*t-w,te=D.z-c;i<=d?(Y.z=Math.min(Z,te),Y.z==te&&(Y.y-=(Z-te)/Math.tan(d-i))):U.z=Math.min(U.z-Z-w,D.z-c),f.subVectors(D,U),v.subVectors(Y,U);let ie=Math.min(f.length(),v.length())*r/100,ce=ie*Math.tan(i/2),de=ie/Math.cos(i/2),ue=f.clone().normalize().add(v.normalize()).setLength(de).add(U);f.set(0,q(i,!0),K(i,!0)),h.push([Y,f.clone()]);let Ce=(Math.PI-i)/o;for(let it=0;it<=o;it++){let We=d+i+it*Ce;f.set(0,Math.sin(We)*ce,Math.cos(We)*ce),f.add(ue),v.set(0,q(We),K(We)),h.push([f.clone(),v.clone()])}h.push([D,u(0,1,0)]);let we=Math.sin(Ce/2)*ce*2,_e=h.length-1,ye=h[0][0].distanceTo(h[1][0]),Be=ye+we*o+h[_e-1][0].distanceTo(h[_e][0]);h[0].push(1);for(let it=0;it<=o;it++)h[it+1].push(1-(ye+it*we)/Be);h[_e].push(0);let ke,He,ze,[Ie,De,Ve]=h[0];for(let it=1;it<h.length;it++)[ke,He,ze]=h[it],s.push(O,Ie.y,Ie.z,O,ke.y,ke.z,S,Ie.y,Ie.z,S,Ie.y,Ie.z,O,ke.y,ke.z,S,ke.y,ke.z),a.push(0,De.y,De.z,0,He.y,He.z,0,De.y,De.z,0,De.y,De.z,0,He.y,He.z,0,He.y,He.z),l.push(0,Ve,0,ze,1,Ve,1,Ve,0,ze,1,ze),[Ie,De,Ve]=[ke,He,ze];this.setAttribute("position",new wn(s,3)),this.setAttribute("normal",new wn(a,3)),this.setAttribute("uv",new wn(l,2))}},WW=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof Lo?e.shape:new Lo,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,innerRadiusPercent:i,spikes:r,cornerRadius:o,angle:s,depth:a,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,h=e.shape,d=.5*t,u=.5*n,y=s*Math.PI/360/r,_=Math.PI/2*3*-1,w=d*i/100,O=u*i/100;if(3===r&&50===i){y=2*Math.PI/r;for(let D=0;D<r;D++){let U=y*D,Y=0+Math.sin(U)*d,q=0+Math.cos(U)*u;h.addPoint(h.createPoint(Y,q))}}else for(let D=0;D<r;D++){let U=0+Math.cos(_)*d,Y=0+Math.sin(_)*u;h.addPoint(h.createPoint(U,Y)),_+=y,U=0+Math.cos(_)*w,Y=0+Math.sin(_)*O,h.addPoint(h.createPoint(U,Y)),_+=y}h.isClosed=!0;for(let D=0,U=h.points.length;D<U;D++)h.points[D].roundness=o;h.roundness=o,h.update();let S=Hm.create({shape:h,parameters:{roundness:o,depth:a,extrudeBevelSize:l,extrudeBevelSegments:c}});return Object.assign(S,{userData:{...e,type:"StarGeometry"}})}},wt=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+wt.version}static addUnaryOp(e){return wt.max_unop_len=Math.max(e.length,wt.max_unop_len),wt.unary_ops[e]=1,wt}static addBinaryOp(e,t,n){return wt.max_binop_len=Math.max(e.length,wt.max_binop_len),wt.binary_ops[e]=t,n?wt.right_associative.add(e):wt.right_associative.delete(e),wt}static addIdentifierChar(e){return wt.additional_identifier_chars.add(e),wt}static addLiteral(e,t){return wt.literals[e]=t,wt}static removeUnaryOp(e){return delete wt.unary_ops[e],e.length===wt.max_unop_len&&(wt.max_unop_len=wt.getMaxKeyLen(wt.unary_ops)),wt}static removeAllUnaryOps(){return wt.unary_ops={},wt.max_unop_len=0,wt}static removeIdentifierChar(e){return wt.additional_identifier_chars.delete(e),wt}static removeBinaryOp(e){return delete wt.binary_ops[e],e.length===wt.max_binop_len&&(wt.max_binop_len=wt.getMaxKeyLen(wt.binary_ops)),wt.right_associative.delete(e),wt}static removeAllBinaryOps(){return wt.binary_ops={},wt.max_binop_len=0,wt}static removeLiteral(e){return delete wt.literals[e],wt}static removeAllLiterals(){return wt.literals={},wt}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new wt(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(t=>t.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return wt.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!wt.binary_ops[String.fromCharCode(e)]||wt.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return wt.isIdentifierStart(e)||wt.isDecimalDigit(e)}throwError(e){let t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(wt.hooks[e]){let n={context:this,node:t};return wt.hooks.run(e,n),n.node}return t}searchHook(e){if(wt.hooks[e]){let t={context:this};return wt.hooks[e].find(function(n){return n.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let e=this.code;for(;e===wt.SPACE_CODE||e===wt.TAB_CODE||e===wt.LF_CODE||e===wt.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let e=this.gobbleExpressions();return this.runHook("after-all",1===e.length?e[0]:{type:wt.COMPOUND,body:e})}gobbleExpressions(e){let n,i,t=[];for(;this.index<this.expr.length;)if(n=this.code,n===wt.SEMCOL_CODE||n===wt.COMMA_CODE)this.index++;else if(i=this.gobbleExpression())t.push(i);else if(this.index<this.expr.length){if(n===e)break;this.throwError('Unexpected "'+this.char+'"')}return t}gobbleExpression(){let e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,wt.max_binop_len),t=e.length;for(;t>0;){if(wt.binary_ops.hasOwnProperty(e)&&(!wt.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!wt.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,n,i,r,o,s,a,l;if(o=this.gobbleToken(),!o||(t=this.gobbleBinaryOp(),!t))return o;for(r={value:t,prec:wt.binaryPrecedence(t),right_a:wt.right_associative.has(t)},s=this.gobbleToken(),s||this.throwError("Expected expression after "+t),i=[o,r,s];t=this.gobbleBinaryOp();){if(n=wt.binaryPrecedence(t),0===n){this.index-=t.length;break}r={value:t,prec:n,right_a:wt.right_associative.has(t)},l=t;let c=h=>r.right_a&&h.right_a?n>h.prec:n<=h.prec;for(;i.length>2&&c(i[i.length-2]);)s=i.pop(),t=i.pop().value,o=i.pop(),e={type:wt.BINARY_EXP,operator:t,left:o,right:s},i.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+l),i.push(r,e)}for(a=i.length-1,e=i[a];a>1;)e={type:wt.BINARY_EXP,operator:i[a-1].value,left:i[a-2],right:e},a-=2;return e}gobbleToken(){let e,t,n,i;if(this.gobbleSpaces(),i=this.searchHook("gobble-token"),i)return this.runHook("after-token",i);if(e=this.code,wt.isDecimalDigit(e)||e===wt.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===wt.SQUOTE_CODE||e===wt.DQUOTE_CODE)i=this.gobbleStringLiteral();else if(e===wt.OBRACK_CODE)i=this.gobbleArray();else{for(t=this.expr.substr(this.index,wt.max_unop_len),n=t.length;n>0;){if(wt.unary_ops.hasOwnProperty(t)&&(!wt.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!wt.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=n;let r=this.gobbleToken();return r||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:wt.UNARY_EXP,operator:t,argument:r,prefix:!0})}t=t.substr(0,--n)}wt.isIdentifierStart(e)?(i=this.gobbleIdentifier(),wt.literals.hasOwnProperty(i.name)?i={type:wt.LITERAL,value:wt.literals[i.name],raw:i.name}:i.name===wt.this_str&&(i={type:wt.THIS_EXP})):e===wt.OPAREN_CODE&&(i=this.gobbleGroup())}return i?(i=this.gobbleTokenProperty(i),this.runHook("after-token",i)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===wt.PERIOD_CODE||t===wt.OBRACK_CODE||t===wt.OPAREN_CODE||t===wt.QUMARK_CODE;){let n;if(t===wt.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==wt.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===wt.OBRACK_CODE?(e={type:wt.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},this.gobbleSpaces(),t=this.code,t!==wt.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===wt.OPAREN_CODE?e={type:wt.CALL_EXP,arguments:this.gobbleArguments(wt.CPAREN_CODE),callee:e}:(t===wt.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),e={type:wt.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),n&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let t,n,e="";for(;wt.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===wt.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);wt.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(t=this.char,"e"===t||"E"===t){for(e+=this.expr.charAt(this.index++),t=this.char,("+"===t||"-"===t)&&(e+=this.expr.charAt(this.index++));wt.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);wt.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return n=this.code,wt.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(n===wt.PERIOD_CODE||1===e.length&&e.charCodeAt(0)===wt.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:wt.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="",t=this.index,n=this.expr.charAt(this.index++),i=!1;for(;this.index<this.expr.length;){let r=this.expr.charAt(this.index++);if(r===n){i=!0;break}if("\\"===r)switch(r=this.expr.charAt(this.index++),r){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=r}else e+=r}return i||this.throwError('Unclosed quote after "'+e+'"'),{type:wt.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(wt.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,wt.isIdentifierPart(e));)this.index++;return{type:wt.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){let t=[],n=!1,i=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let r=this.code;if(r===e){n=!0,this.index++,e===wt.CPAREN_CODE&&i&&i>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}if(r===wt.COMMA_CODE){if(this.index++,i++,i!==t.length)if(e===wt.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===wt.CBRACK_CODE)for(let o=t.length;o<i;o++)t.push(null)}else if(t.length!==i&&0!==i)this.throwError("Expected comma");else{let o=this.gobbleExpression();(!o||o.type===wt.COMPOUND)&&this.throwError("Expected comma"),t.push(o)}}return n||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(wt.CPAREN_CODE);if(this.code===wt.CPAREN_CODE)return this.index++,1===e.length?e[0]:!!e.length&&{type:wt.SEQUENCE_EXP,expressions:e};this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:wt.ARRAY_EXP,elements:this.gobbleArguments(wt.CBRACK_CODE)}}},OIe=new class{add(e,t,n){if("string"!=typeof arguments[0])for(let i in arguments[0])this.add(i,arguments[0][i],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],t&&this[i][n?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(n){n.call(t&&t.context?t.context:t,t)})}};Object.assign(wt,{hooks:OIe,plugins:new class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach(t=>{if("object"!=typeof t||!t.name||!t.init)throw new Error("Invalid JSEP plugin format");this.registered[t.name]||(t.init(this.jsep),this.registered[t.name]=t)})}}(wt),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"}),wt.max_unop_len=wt.getMaxKeyLen(wt.unary_ops),wt.max_binop_len=wt.getMaxKeyLen(wt.binary_ops);var Gv=e=>new wt(e).parse();Object.getOwnPropertyNames(wt).forEach(e=>{void 0===Gv[e]&&"prototype"!==e&&(Gv[e]=wt[e])}),Gv.Jsep=wt;var DIe={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let n=t.node,i=this.gobbleExpression();if(i||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let r=this.gobbleExpression();if(r||this.throwError("Expected expression"),t.node={type:"ConditionalExpression",test:n,consequent:i,alternate:r},n.operator&&e.binary_ops[n.operator]<=.9){let o=n;for(;o.right.operator&&e.binary_ops[o.right.operator]<=.9;)o=o.right;t.node.test=o.right,o.right=t.node,t.node=n}}else this.throwError("Expected :")}})}};Gv.plugins.register(DIe);var AIe=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],TIe=["0","1","2","3","4","5","6","7","8","9","."],kIe=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function IIe(e){return"string"==typeof e&&!isNaN(e)&&!isNaN(parseFloat(e))}function qW(e,t,n="number"){let r,o,i="";for(let s=0;s<e.length;s++){let a=e[s];if("id"in a){let l=e[s-1];if(s>0&&"id"in l)return void console.error("Two variables in a row",e);let c=t.getVariable(a.id),h=tc.getDisplayedValue(c);"number"===n&&tc.isTextValue(c)&&Array.isArray(c.textValue)&&1===c.textValue.length?h=parseFloat(h).toString():"boolean"===n&&tc.isBoolean(c)?h=c?"true":"false":"boolean"===n&&tc.isTextValue(c)&&!Array.isArray(c.textValue)&&(h='"'+h+'"'),i+=h}else"string"!==n?"and"!==a.name?"or"!==a.name?"True"!==a.name?"False"!==a.name?"boolean"!==n||IIe(a.name)||TIe.includes(a.name)||AIe.includes(a.name)||kIe.includes(a.name.replace(/\($/g,""))?i+=a.name:i+='"'+a.name+'"':i+="false":i+="true":i+="||":i+="&&":('"'!==a.name&&"+"!==a.name&&(i+=a.name),"+"===a.name&&"\\"===i[i.length-1]&&(i=i.slice(0,-1)+a.name))}if("string"===n)return i;if(0===e.length){if("number"===n)return 0;if("boolean"===n)return!1}try{r=Gv(i)}catch(s){return void console.error(i,s)}try{o=sr(r)}catch(s){console.error(i,r,s)}return o}function sr(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return Number(sr(e.left)===sr(e.right));case"!=":return Number(sr(e.left)!==sr(e.right));case">":return Number(sr(e.left)>sr(e.right));case">=":return Number(sr(e.left)>=sr(e.right));case"<":return Number(sr(e.left)<sr(e.right));case"<=":return Number(sr(e.left)<=sr(e.right));case"+":return sr(e.left)+sr(e.right);case"-":return sr(e.left)-sr(e.right);case"*":return sr(e.left)*sr(e.right);case"/":return sr(e.left)/sr(e.right);case"%":return sr(e.left)%sr(e.right);case"&&":return sr(e.left)&&sr(e.right);case"||":return sr(e.left)||sr(e.right);case"^":return Math.pow(sr(e.left),sr(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-sr(e.argument);case"!":return Number(!sr(e.argument));default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if("Identifier"===e.callee.type){if("random"===e.callee.name){let t=0,n=1;if(e.arguments.length>=1)try{t=sr(e.arguments[0])}catch(i){console.warn(i)}if(e.arguments.length>=2)try{n=sr(e.arguments[1])}catch(i){console.warn(i)}return t=Math.min(n,t),n=Math.max(n,t),t+Math.random()*(n-t)}return Math[e.callee.name].apply(null,e.arguments.map(sr))}throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}Gv.addBinaryOp("^",11,!0);var RIe=new Ut,NIe=new Ut,BIe=class extends Vn{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&1===this.inputs.parameters.extrusion.depth}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&1===e.depth&&function CIe(e,t){let n=2*Math.PI;return(e%n+n)%n==(t%n+n)%n}(e.twist,0)&&e.startScale===e.endScale)}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:n,offset:i}=this.inputs.parameters.extrusion;n=Math.max(0,Math.min(n,1)),i=Math.max(0,Math.min(i,1));let r=this.inputs.path.isClosed?e.length:e.length-1,o=Math.floor(i*r),s=this.inputs.path.isClosed?Math.ceil((n+i)*r):Math.ceil(Math.min(1,n+i)*r),a=Math.min(Math.max(2,s-o+1),r+2),l=[],c=[];for(let _e=0;_e<a;_e++){let ye=this.inputs.path.isClosed?(_e+o)%e.length:Math.min(_e+o,e.length-1);l.push(e[ye].clone()),c.push(t[ye].clone())}let h=(_e,ye,Re)=>{l[_e]=l[_e].clone().lerp(l[ye],Re),c[_e]=function FIe(e,t,n){let i=[new ne,new ne,new ne],r=[new ne,new ne,new ne];return e.extractBasis(i[0],i[1],i[2]),t.extractBasis(r[0],r[1],r[2]),i.forEach((o,s)=>{let a=r[s],l=Ln.lerp(o.length(),a.length(),n);o.lerp(a,n).setLength(l)}),(new Ut).makeBasis(i[0],i[1],i[2])}(c[_e],c[ye],Re)},d=0,u=i*r%1;(!this.inputs.path.isClosed||n<=1)&&(u||0===i)&&(d=u,h(0,1,d));let f=0,v=(i+n)*r%1;if((this.inputs.path.isClosed&&n<=1||!this.inputs.path.isClosed&&i+n<1)&&v&&(f=v,h(l.length-1,l.length-2,1-f)),0===n){let _e=l.length-1;l[_e].copy(l[0]),c[_e].copy(c[0])}this._applyPathModifiers(c,d,f);let{bevel:y,bevelSides:_}=this.inputs.parameters.extrusion,w=y>0?this.inputs.parameters.extrusion.capType:"flat",O=5;"Custom"===this.inputs.parameters.extrusion.shape.type&&(O="low"===this.inputs.parameters.extrusion.shape.shapeQuality?5:12);let q,{regions:S,infos:D,vertices:U}=this._computeShapePoints(O),Y=0;"round"===w&&(q=new hk(this.inputs.shapeData,2*y,y,O,_,void 0,!0),Y=q.getAttribute("position").count);let K=0,Z=0;D.sort((_e,ye)=>_e.start-ye.start),D.forEach(_e=>{_e.verticesStart=K,_e.verticesCount=_e.continuous.reduce((ye,Re,Be)=>ye+(0!==Be&&Re?1:2),0),Z+=_e.verticesCount,K=Z});let ie,te=Z*a,ce=0;if(this._isOpenEnded()&&"flat"===w){try{ie=tf({windingRule:kr.ODD,elementType:us.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:S})}catch{ie=AW}ce=ie.vertexCount}let de=te+2*ce+2*Y,ue=te+2*ce,Ce={positions:new Float32Array(3*de),normals:new Float32Array(3*de),uvs:new Float32Array(2*de)},we=[];if(D.forEach(_e=>{this._extrudeRegion(_e,U,c,l,Ce,we,this._isGeometryClosed()&&!this._isOpenEnded())}),ie&&(this._closeEnd(ie,te,we,Ce,c[0],l[0],!1),this._closeEnd(ie,te+ce,we,Ce,c[c.length-1],l[l.length-1],!0)),q){Ce.positions.set(q.getAttribute("position").array,3*ue),Ce.normals.set(q.getAttribute("normal").array,3*ue),Ce.uvs.set(q.getAttribute("uv").array,2*ue);let _e=we.length;we.push(...q.getIndex().array.map(Be=>Be+ue)),ue+=Y,Ce.positions.set(q.getAttribute("position").array,3*ue),Ce.normals.set(q.getAttribute("normal").array,3*ue),Ce.uvs.set(q.getAttribute("uv").array,2*ue);let ye=we.length;we.push(...q.getIndex().array.map(Be=>Be+ue)),this.setAttribute("position",new ti(Ce.positions,3)),this.setAttribute("normal",new ti(Ce.normals,3)),this.setAttribute("uv",new ti(Ce.uvs,2)),this.setIndex(we);let Re=RIe;Re.copy(c[c.length-1]).setPosition(l[l.length-1]),this.applyMatrix4OnRange(Re,ue,de),Re.copy(c[0]).setPosition(l[0]).multiply(NIe.makeScale(1,1,-1)),this.applyMatrix4OnRange(Re,ue-Y,ue),this.reverseIndicesOnRange(_e,ye)}else this.setAttribute("position",new ti(Ce.positions,3)),this.setAttribute("normal",new ti(Ce.normals,3)),this.setAttribute("uv",new ti(Ce.uvs,2)),this.setIndex(we)}_extractPathPoints(){let e=hW(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach(n=>{t[t.length-1].distanceToSquared(n)>.001&&t.push(n)}),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],n=e.length,i=this.inputs.path.isClosed,r=new ne,o=new ne,s=new ne,a=new ne,l=new ne(0,1,0);for(let v=0;v<n;v++){let _,w,y=e[v];_=0===v?i?e[e.length-2]:y.clone().multiplyScalar(2).sub(e[1]):e[v-1],w=v===n-1?i?e[1]:y.clone().multiplyScalar(2).sub(e[v-1]):e[v+1];let O=y.clone().sub(_).normalize(),S=w.clone().sub(y).normalize(),D=O.clone().add(S).normalize();s.copy(D),0===v&&(D.equals(l)||D.clone().negate().equals(l))&&l.set(0,0,1);let U=l.clone().cross(D).normalize(),Y=D.clone().cross(U).normalize();l.copy(Y),a.copy(U),0===v&&(r.copy(Y),o.copy(D));let q=(new Ut).makeBasis(U,Y,D);t.push(q)}let c=i?o:s,h=i?r:new ne(0,1,0),d=c.clone().cross(a).normalize(),u=Math.acos(h.dot(d));if(isNaN(u))return t;let f=h.clone().cross(d);c.dot(f)>0&&(u*=-1);for(let v=1;v<t.length;v++){let y=(new Ut).makeRotationZ(u*v/t.length);t[v].multiply(y)}return t}_applyPathModifiers(e,t,n){let i=e.length,{angle:r,twist:o,startScale:s,endScale:a}=this.inputs.parameters.extrusion,l=new Ut,c=new Ut;return e.forEach((h,d)=>{let u=0===d?0:d===i-1?1:(d-t)/(i-(0===n?0:1)-(t+(1-n)));l.makeRotationZ(Ln.lerp(r,r+o,u)*Ln.DEG2RAD);let f=Ln.lerp(s,a,u);c.makeScale(f,f,f),h.multiply(l).multiply(c)}),e}_computeShapePoints(e=12,t=kr.ODD){let o,s,n=this.inputs.shapeData,i=n.extractShapePointsToFlatArray([],e),r=n.shapeHoles.map(f=>{let v=f.extractShapePointsToFlatArray([],e),y=[];for(let _=v.length-1;_>=1;_-=2)y.push(v[_-1],v[_-0]);return y});try{o=tf({windingRule:t,elementType:us.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[i]})}catch{o=ck}try{s=tf({windingRule:kr.ODD,elementType:us.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...r]})}catch{s=DW}if(!o)throw new Error("error generating geometry");let a=o.elementCount;if(s){o.elementCount+=s.elementCount;for(let f=0;f<s.elements.length;f++)o.elements.push(s.elements[f]+(f%2==0?o.vertexCount:0));for(let f=0;f<s.vertexIndices.length;f++)o.vertexIndices.push(s.vertexIndices[f]+o.vertexCount);for(let f=0;f<s.vertices.length;f++)o.vertices.push(s.vertices[f])}let l=1/0,c=-1/0,h=1/0,d=-1/0;for(let f=0,v=o.vertexCount;f<v;f++){let y=2*f,_=o.vertices[y+0],w=o.vertices[y+1];_<l&&(l=_),_>c&&(c=_),w<h&&(h=w),w>d&&(d=w)}let u=[];for(let f=o.elementCount-1;f>=0;f--){let v=f>=a,y=2*f,_=o.elements[y+0],w=o.elements[y+1],O=_+w,S={start:_,count:w,normals:[],isHole:v,continuous:[],verticesStart:0,verticesCount:0};u.push(S);let D=_,U=O-1,Y=_+1,q=n.roundedCurves.length;do{let K=D-_,ie=o.vertices[2*D+0],ce=o.vertices[2*D+1],de=o.vertices[2*Y+0],ue=o.vertices[2*Y+1],Ce=ie-o.vertices[2*U+0],we=ce-o.vertices[2*U+1],_e=Math.sqrt(Ce*Ce+we*we);Ce/=_e,we/=_e;let ye=ie-de,Re=ce-ue,Be=Math.sqrt(ye*ye+Re*Re);ye/=Be,Re/=Be,S.normals[2*K+0]=-Re,S.normals[2*K+1]=ye;let Ie=o.vertexIndices[D];if(Array.isArray(Ie))S.continuous[K]=!1;else{let[De,Ve]=n.getCurveIndexFromVertexId(Ie-1,!0);if(Ve>0&&Ve<1)S.continuous[K]=!0;else{let ke=1===Ve?De+1:De-1;ke=(ke+q)%q;let He=1===Ve?0:1,ze=n.roundedCurves[De].getTangent(Ve),it=n.roundedCurves[ke].getTangent(He);S.continuous[K]=ze.dot(it)>.95}}v&&(S.normals[2*K+0]*=-1,S.normals[2*K+1]*=-1),[U,D,Y]=[D,Y,Y+1],Y>=O&&(Y-=w)}while(Y!==_+1)}return{regions:[i,...r],infos:u,vertices:o.vertices}}_insertVertex(e,t,n,i,r){let o=2*t,s=3*t;e.positions[s+0]=n.x,e.positions[s+1]=n.y,e.positions[s+2]=n.z,e.normals[s+0]=i.x,e.normals[s+1]=i.y,e.normals[s+2]=i.z,e.uvs[o+0]=r.x,e.uvs[o+1]=r.y}_extrudeRegion(e,t,n,i,r,o,s){let a=new ne,l=new ne,c=new ne,h=new ne,d=new Fe;n.forEach((f,v)=>{let y=i[v],_=e.verticesStart*n.length+e.verticesCount*v;for(let w=0;w<e.count;w++){let O=2*(e.start+w);if(a.set(t[O+0],t[O+1],0),c.copy(a).applyMatrix4(f).add(y),e.continuous[w])h.set(e.normals[2*w+0],e.normals[2*w+1],0);else{let S=0===w?2*(e.start+e.count-1):O-2;l.set(t[S+0],t[S+1],0),h.copy(a).sub(l),h.set(-h.y,h.x,0),e.isHole||h.negate()}if(h.applyMatrix4(f).normalize(),d.set(0===w?1:w/e.count,v/(n.length-1)),this._insertVertex(r,_,c,h,d),_++,!e.continuous[w]||0===w){if(0===w)h.set(e.normals[2*w+0],e.normals[2*w+1],0),d.set(0,v/(n.length-1));else{let S=w===e.count-1?2*e.start:O+2;l.set(t[S+0],t[S+1],0),h.copy(l).sub(a),h.set(-h.y,h.x,0),e.isHole||h.negate()}h.applyMatrix4(f).normalize(),this._insertVertex(r,_,c,h,d),_++}}});let u=n.length-1;for(let f=0;f<u;f++){let v=e.verticesStart*n.length+e.verticesCount*f,y=e.verticesStart*n.length+e.verticesCount*(f+1),_=0;for(let w=0;w<e.count;w++){(!e.continuous[w]||0===w)&&_++;let O=w===e.count-1?0:_+1,S=v+_,D=v+O,U=y+O,Y=y+_;e.isHole?o.push(S,U,D,S,Y,U):o.push(S,D,U,S,U,Y),_++}}}_closeEnd(e,t,n,i,r,o,s){let a=e.vertexCount,l=new ne(0,0,s?-1:1).applyMatrix4(r),c=new ne,h=new Fe;for(let u=0;u<a;u++){let f=2*u;c.set(e.vertices[f+0],e.vertices[f+1],0).applyMatrix4(r).add(o),this._insertVertex(i,t+u,c,l,h)}let d=e.elements;for(let u=0;u<e.elementCount;u++){let f=3*u;n.push(d[f+0]+t,d[f+(s?1:2)]+t,d[f+(s?2:1)]+t)}}applyMatrix4OnRange(e,t,n){let o,s,a,l,i=e.elements,r=(new $o).getNormalMatrix(e).elements,c=this.attributes.position,h=this.attributes.normal;if(!c||!h)return;let d=c.array,u=h.array,f=c.itemSize;for(let v=t*f,y=n*f;v<y;v+=f)o=d[v+0],s=d[v+1],a=d[v+2],l=1/(i[3]*o+i[7]*s+i[11]*a+i[15]),d[v+0]=(i[0]*o+i[4]*s+i[8]*a+i[12])*l,d[v+1]=(i[1]*o+i[5]*s+i[9]*a+i[13])*l,d[v+2]=(i[2]*o+i[6]*s+i[10]*a+i[14])*l,o=u[v+0],s=u[v+1],a=u[v+2],u[v+0]=r[0]*o+r[3]*s+r[6]*a,u[v+1]=r[1]*o+r[4]*s+r[7]*a,u[v+2]=r[2]*o+r[5]*s+r[8]*a;c.needsUpdate=!0,h.needsUpdate=!0}reverseIndicesOnRange(e,t){let n=this.index;if(n){for(let i=e;i<t;i+=3){let r=n.getX(i),o=n.getX(i+1),s=n.getX(i+2);n.setXYZ(i,s,o,r)}n.needsUpdate=!0}}};function YW(){let e=new Vn;return e.setAttribute("position",new ti(new Float32Array([]),3)),e.setIndex(new ti(new Uint16Array([]),1)),e}var $W,xP,zIe=YW().attributes,XW=class extends Vn{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,zIe),this.userData={parameters:e,type:"TextGeometry"};let n=t.getFont(e.font);n?.isLoaded?(this.font=n,this.update(e)):this.updateFont(e.font,t).then(()=>{this.update(e),t?.requestRender()})}updateFont(e,t){var n=this;return(0,Yo.Z)(function*(){let i=t.getFont(e);i&&(n.font=i,yield i.loadingPromise)})()}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!t?.isLoaded)return void console.warn("Cannot update text because its font is not loaded");let{width:n,height:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:s,text:a,textTransform:l}=e,c=tc.getDisplayedValue(a),d=function VIe(e,t,n){let i=[""],r="";for(let o of n)r+=o," "===o||"\n"===o?(i[i.length-1]+=r,r="","\n"===o&&i.push("")):t.getTextWidth(i[i.length-1]+r,e)>e.width&&(i[i.length-1].length&&i.push(""),t.getTextWidth(i[i.length-1]+r,e)>e.width&&(1===r.length?(i[i.length-1]+=r,r=""):(i[i.length-1]+=r.slice(0,-1),r=r[r.length-1],i.push(""))));return i[i.length-1]+=r,i}(e,t,2===l?c.toUpperCase():3===l?c.toLowerCase():c),{shapes:u,charWidths:f,charCoords:v}=t.generateShapes(d,e),y=.5*("number"==typeof n?n:1),_=.5*("number"==typeof i?i:1),w=u.map(D=>(new Lo).fromShape(D,!0));this.vectorShapes=w;let O=w.map(D=>Hm.create({shape:D,parameters:{depth:r,extrudeBevelSegments:s,extrudeBevelSize:o,windingRule:r<=0?kr.NONZERO:kr.ODD,subdivisions:this.isLowResolution&&r>0?1:12}})),S=O.length?Bm(O):YW();S.translate(-y,_,0),this.dispose(),this.wrappedText=d,this.charCoords=v,this.charWidths=f,this.deleteAttribute("extrudeNormal"),Object.entries(S.attributes).forEach(([D,U])=>{this.setAttribute(D,U)}),this.setIndex(S.index),this.computeBoundingSphere()}clone(){let e=xu(new Vn,XW.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach(([t,n])=>{this.setAttribute(t,n)}),this.setIndex(e.index),this.userData={parameters:{...e.userData.parameters},type:"TextGeometry"},this}setText(e){var t=this;return(0,Yo.Z)(function*(){t.font&&(yield t.font.loadingPromise),yield t.update({...t.userData.parameters,text:e})})()}get text(){return this.userData.parameters.text??""}},_k=new Promise(e=>{$W=e}),KW=!1;function HIe(){if(!KW)return xP||(xP=function e(){return t.apply(this,arguments)}(),xP);function t(){return(t=(0,Yo.Z)(function*(){let i=g.e(526).then(g.bind(g,526)),[r,o]=yield Promise.all([i,fetch("https://unpkg.com/@splinetool/modelling-wasm@0.9.526/build/process.wasm").then(l=>l.arrayBuffer())]),s=r.default,a=yield s({wasmBinary:o});$W(a),KW=!0})).apply(this,arguments)}}var GIe=["font"];function wP(e,t,n,i){let r,o,s;"PathGeometry"===e.type?(o=JSON.parse(JSON.stringify(e)),s=[[],["extrusion"]]):(o={...e},s=[[]]);for(let c of s){let h=o;for(let d of c)h=h[d];for(r in h){let d=h[r];gG(d)&&!GIe.includes(r)&&(h[r]=t.getVariable(d,[i.uuid,"geometry",...c,r]),gG(h[r])&&(h[r]=1))}}let l,a={parameters:o,type:o.type};if("PathGeometry"===o.type)a.path=o.path;else if("VectorGeometry"===o.type){let c=Lo.createFromState(o.shape,o.width,o.height);a.shape=c}else if("NonParametricGeometry"===o.type)o.data.groups&&o.data.groups?.forEach(c=>c.materialIndex=Math.max(c.materialIndex??0,0)),a.geometry=(new Vj).parse(o);else{if("SubdivGeometry"===o.type){let c=new Ka(o,n);return c.data=e,c}if("TextGeometry"===o.type)return new XW(o,t)}try{l=oq(a)}catch(c){console.error(c)}if(!l){let c=Lo.createFromState(WM.defaultData(),100,100);a.shape=c,l=oq(a)}return l}var WIe=new Ut;function bk(e,t,n,i){let a,l,c,r=e.position.array,o=e.normal.array,s=WIe.makeScale(t,n,i).invert().elements;for(var h=0,d=r.length;h<d;h+=3)r[h]*=t,r[h+1]*=n,r[h+2]*=i,a=o[h],l=o[h+1],c=o[h+2],o[h]=s[0]*a+s[4]*l+s[8]*c,o[h+1]=s[1]*a+s[5]*l+s[9]*c,o[h+2]=s[2]*a+s[6]*l+s[10]*c;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var Xn,CP=new Ko,Wv=new ne;_k.then(e=>{Xn=e});var QW=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),ZW=new Uint32Array([0,1,2,3]),JW=new Uint8Array([4]),Ka=class extends Vn{constructor(e,t){super(),this.data=e,this.flatShading=t,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(e,t){this.freeSubdivPointer();let i=Rm.div(t,this.data.scaleBaked);this.subdividedGeometry&&bk(this.subdividedGeometry.attributes,...i),this.originalGeometry&&bk(this.originalGeometry.attributes,...i),this.data=e;let r=this.userData.parameters;this.userData.parameters={width:r.width*i[0],height:r.height*i[1],depth:r.depth*i[2]},this.originalGeometry.boundingSphere.center.multiply(Wv.fromArray(i));let o=Wv.set(r.width,r.height,r.depth).length();this.originalGeometry.boundingSphere.radius=o/2}ensureSubdivPointer(){return 0===this.subdivPointer&&this.rebuild(),this.subdivPointer}rebuild(){let e,t,n;try{({originalGeometry:e,subdividedGeometry:t,subdivPointer:n}=Ka.build(this.data,void 0,!this.flatShading,void 0))}catch{e=new rh(100,100,100),n=0}this.subdivPointer=n,this.originalGeometry=e,this.subdividedGeometry=t??void 0,Object.assign(this,this.subdividedGeometry??this.originalGeometry),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(Ka.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let e=this.originalGeometry;null===e.boundingSphere&&(e.boundingSphere=new ml,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let n=e.boundingSphere.center;CP.setFromBufferAttribute(e.attributes.position),CP.getCenter(n),e.boundingSphere.radius=n.distanceTo(CP.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),CP.getSize(Wv);let i={width:Wv.x,height:Wv.y,depth:Wv.z};return this.userData.parameters=i,i}static build(e,t,n,i){let r,o,s,a=e?.phongAngle??35;!1===n&&(a=-1),t&&(Xn.free_bvh(t),Xn.free_subdivision_surface(t));try{r=Ka.allocate(e,i)}catch(l){console.error(l,e),r=Ka.allocate({positionWASM:QW,indexWASM:ZW,verticesPerFaceWASM:JW},i)}if(Xn.set_destination_refinement_level(r,0),o=Ka.buildLevel(r,!0,a),e.subdivisions>0)try{Xn.set_destination_refinement_level(r,e.subdivisions),s=Ka.buildLevel(r,!1,a)}catch{try{Xn.set_destination_refinement_level(r,e.subdivisions-1),s=Ka.buildLevel(r,!1,a)}catch{s=null}}else s=null;return{subdivPointer:r,originalGeometry:o,subdividedGeometry:s}}static primitiveToQuads(e,t,n){e.widthSegments>16&&(e.widthSegments=16),e.heightSegments>16&&(e.heightSegments=16),e.depthSegments>16&&(e.depthSegments=16),e.radialSegments>16&&(e.radialSegments=16),"DodecahedronGeometry"===e.type&&(e.detail=0);let r,o,s,a,l,c,i=void 0!==e.shape||void 0!==e.path?t.geometry:wP(e,n,!1);if(r="TorusGeometry"===e.type&&e.arc===2*Math.PI?i.getClosedTorusIndicesForBooleanOrSubdiv():i.getIndex(),({positions:o,triIndices:l}=MP(i.getAttribute("position"),r)),"CylinderGeometry"===e.type&&0===e.cornerRadius&&0===e.hollow&&!1===e.openEnded){let h=e.radialSegments*e.heightSegments*3*2;c=[h,h+3*e.radialSegments]}return({indices:s,verticesPerFace:a}=tq(o,l,i,c)),{positions:o,indices:s,verticesPerFace:a}}static allocate(e,t){let n,i,r,o=[],s=[];e.positionWASM&&e.positionWASM.length>0?(n=e.positionWASM,i=e.indexWASM,r=e.verticesPerFaceWASM):(n=QW,i=ZW,r=JW);let O,a=n.length,l=i.length,c=r.length,h=n.length+o.length+s.length,d=i.length+r.length,u=h*Float32Array.BYTES_PER_ELEMENT+d*Uint32Array.BYTES_PER_ELEMENT,f=h*Float32Array.BYTES_PER_ELEMENT,y=(Uint32Array,Xn._malloc(u)),_=new Float32Array(Xn.HEAPF32.buffer,y,h),w=new Uint32Array(Xn.HEAPU32.buffer,y+f,d);_.set(n,0),_.set(o,n.length),_.set(s,n.length+o.length),w.set(i,0),w.set(r,i.length),e?.scaleBaked?.some(D=>1!==D)&&(O=(new Ut).makeScale(...e.scaleBaked)),t&&(O?O.premultiply(t):O=t);let S=O?Xn.alloc_subdivision_surface2(y,a,y+f,l,y+f+i.length*Uint32Array.BYTES_PER_ELEMENT,c,O.elements):Xn.alloc_subdivision_surface(y,a,y+f,l,y+f+i.length*Uint32Array.BYTES_PER_ELEMENT,c);return Xn._free(y),S}static buildLevel(e,t,n,i,r){let o=r?Xn.get_mesh_data2(e,t?Xn.Level.CONTROL:Xn.Level.REFINED,n,r.elements):Xn.get_mesh_data(e,t?Xn.Level.CONTROL:Xn.Level.REFINED,n),a=Xn.HEAPU32.subarray(o>>2,8+(o>>2)),l=a.subarray(4,8),c=0,h=Xn.HEAPU32[a[c]>>2],d=Xn.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let u=Xn.HEAPU32[a[c]>>2],f=Xn.HEAPF32.subarray(u>>2,(u>>2)+l[c]);c++;let v=Xn.HEAPU32[a[c]>>2],y=Xn.HEAPU32.subarray(v>>2,(v>>2)+l[c]);c++;let _=Xn.HEAPU32[a[c]>>2],w=Xn.HEAPU32.subarray(_>>2,(_>>2)+l[c]);if(c++,void 0===i){let O=new Vn;if(O.setIndex(new j0(w,1)),O.setAttribute("position",new wn(d,3)),O.setAttribute("normal",new wn(f,3)),t){O.setAttribute("faceMap",new j0(y,1));let S=new Float32Array(f.length/3*4).fill(0);O.setAttribute("color",new ti(S,4))}return Xn.free_mesh_data(o),O.userData.type="SubdivGeometry",O}i.getAttribute("position").copyArray(d),i.getAttribute("normal").copyArray(f),i.attributes.position.needsUpdate=!0,i.attributes.normal.needsUpdate=!0,Xn.free_mesh_data(o)}static freeSubdivPointer(e){Xn.free_bvh(e),Xn.free_subdivision_surface(e)}static buildControlCageWireframe(e,t,n){let i=Xn.get_wireframe_data_for_base_level(e),o=Xn.HEAPU32.subarray(i>>2,4+(i>>2)),s=o.subarray(2,4),a=0,l=Xn.HEAPU32[o[a]>>2],c=Xn.HEAPF32.subarray(l>>2,(l>>2)+s[a]);a++;let h=Xn.HEAPU32[o[a]>>2],d=Xn.HEAPU32.subarray(h>>2,(h>>2)+s[a]);if(void 0===t){let u=new Vn;u.setAttribute("position",new wn(c,3));let f=new Float32Array(c.length);for(let v=0,y=c.length;v<y;)f[v++]=n.r,f[v++]=n.g,f[v++]=n.b;return u.setAttribute("color",new ti(f,3)),u.setIndex(new j0(d,1)),Xn.free_wireframe_data_for_base_level(i),u}t.getAttribute("position").copyArray(c),t.attributes.position.needsUpdate=!0,Xn.free_wireframe_data_for_base_level(i)}static updateCollabMesh(e,t,n){let i=0===t;i||Xn.set_destination_refinement_level(e,t);let r=n?Xn.get_topological_data2(e,i?Xn.Level.CONTROL:Xn.Level.REFINED,n.elements):Xn.get_topological_data(e,i?Xn.Level.CONTROL:Xn.Level.REFINED),s=Xn.HEAPU32.subarray(r>>2,6+(r>>2)),a=s.subarray(3,6),l=0,c=Xn.HEAPU32[s[l]>>2],h=new Float32Array(Xn.HEAPF32.subarray(c>>2,(c>>2)+a[l]));l++;let d=Xn.HEAPU32[s[l]>>2],u=new Uint32Array(Xn.HEAPU32.subarray(d>>2,(d>>2)+a[l]));l++;let f=Xn.HEAPU32[s[l]>>2],v=new Uint8Array(Xn.HEAPU32.subarray(f>>2,(f>>2)+a[l]));return Xn.free_topological_data(r),{positions:h,indices:u,verticesPerFace:v}}},eq=["getX","getY","getZ"];function MP(e,t){let n={},i=t?t.count:e.count,r=0,o=[],s=[];for(let c=0;c<i;c++){let h=t?t.getX(c):c,d="";for(let u=0;u<3;u++)d+=~~(1e4*e[eq[u]](h))+",";if(d in n)o.push(n[d]);else{for(let u=0;u<3;u++)s.push(e[eq[u]](h));n[d]=r,o.push(r),r++}}let l=[];for(let c=0;c<o.length;c+=3)o[c]===o[c+1]||o[c]===o[c+2]||o[c+1]===o[c+2]||l.push(o[c],o[c+1],o[c+2]);return{positions:s,triIndices:l}}var PP=new ne,xk=new ne,wk=new ne,Ck=new ne;function tq(e,t,n,i){let r=[],o=[];if(void 0!==n.userData.shape&&0===n.userData.parameters.depth&&0===n.userData.shape.shapeHoles.length){let l=n.userData.shape.extractShapePointsToFlatArray([]),c=n.userData.parameters.spikes;if("EllipseGeometry"===n.userData.type&&c<=24&&c%4==0&&n.userData.parameters.angle>=360){let u=l.length/2/c;l=l.filter((f,v)=>Math.floor(v/2)%u==0)}let h=0;for(let u=0;u<l.length;u+=2)h+=(l[u]-l[(0===u?l.length:u)-2])*(l[u+1]+l[(0===u?l.length:u)-1]);e.length=0;let d=0;if(h<0)for(let u=0;u<l.length;u+=2)e.push(l[u],l[u+1],0),r.push(d++);else for(let u=l.length-2;u>=0;u-=2)e.push(l[u],l[u+1],0),r.push(d++);return o.push(d),{indices:r,verticesPerFace:o}}let s=new Float32Array([n.userData.parameters.depth])[0],a=0;for(;a<t.length;){if(n.useNgonForTopBottomFaceDuringBake){let l=0;if((e[3*t[a]+2]===s||0===e[3*t[a]+2])&&l++,(e[3*t[a+1]+2]===s||0===e[3*t[a+1]+2])&&l++,(e[3*t[a+2]+2]===s||0===e[3*t[a+2]+2])&&l++,3===l)break}if(t[a+1]===t[a+3]&&t[a+2]===t[a+5]||t[a+0]===t[a+3]&&t[a+2]===t[a+4]){PP.set(e[3*t[a]],e[3*t[a]+1],e[3*t[a]+2]),xk.set(e[3*t[a+1]],e[3*t[a+1]+1],e[3*t[a+1]+2]),wk.set(e[3*t[a+4]],e[3*t[a+4]+1],e[3*t[a+4]+2]),Ck.set(e[3*t[a+5]],e[3*t[a+5]+1],e[3*t[a+5]+2]),xk.sub(PP).normalize(),wk.sub(PP).normalize(),Ck.sub(PP).normalize();let l=xk.cross(wk).dot(Ck);Math.abs(l)>.005||i&&i.some((c,h)=>h%2!=1&&a>=i[h]&&a<i[h+1])?(r.push(t[a],t[a+1],t[a+2]),o.push(3),a+=3):(r.push(t[a],t[a+1],t[a+4],t[a+5]),o.push(4),a+=6)}else r.push(t[a],t[a+1],t[a+2]),o.push(3),a+=3}if(n.useNgonForTopBottomFaceDuringBake){let l=[],c=[],h=0;for(let d=0,u=0;d<e.length;d+=3,u++)0===e[d+2]&&(l.push(u),h++),e[d+2]===s&&c.push(u);if(0===n.userData.parameters.extrudeBevelSize){let d=c[0];c[0]=c[1],c[1]=d}l.reverse(),r.push(...l,...c),o.push(h,h)}return{indices:r,verticesPerFace:o}}var Ou={};((e,t)=>{for(var n in t)dC(e,n,{get:t[n],enumerable:!0})})(Ou,{calcBoolean:()=>KIe,calcBooleanTopological:()=>$Ie,freeMeshSet:()=>eRe,getMeshSet:()=>QIe,hasOpenEdges:()=>ZIe,transformMeshSet:()=>JIe});var nq,OP,Vi,qv,qIe=new Promise(e=>{nq=e});function YIe(){if(OP)return OP;function t(){return(t=(0,Yo.Z)(function*(){let i=g.e(226).then(g.bind(g,6226)),[r,o]=yield Promise.all([i,fetch("https://unpkg.com/@splinetool/boolean-wasm@0.9.526/build/boolean.wasm").then(l=>l.arrayBuffer())]),s=r.default,a=yield s({wasmBinary:o});nq(a)})).apply(this,arguments)}return OP=function e(){return t.apply(this,arguments)}(),OP}function iq(e){let t=e.length,n=t*Uint32Array.BYTES_PER_ELEMENT,i=t*Float32Array.BYTES_PER_ELEMENT,r=Number.isInteger(e[0])?n:i,o=Vi._malloc(r);return(Number.isInteger(e[0])?new Uint32Array(Vi.HEAPU32.buffer,o,t):new Float32Array(Vi.HEAPF32.buffer,o,t)).set(e,0),o}function rq(e){switch(e){case 0:return Vi.OP.UNION;case 1:return Vi.OP.INTERSECTION;case 2:return Vi.OP.A_MINUS_B;case 3:return Vi.OP.B_MINUS_A;case 4:return Vi.OP.SYMMETRIC_DIFFERENCE;case 5:return Vi.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function $Ie(e,t){void 0===qv&&(qv=Vi.init_csg());let n=iq(e),i=Vi.csg_calc_topological(qv,n,e.length,rq(t));Vi._free(n);let o=Vi.HEAPU32.subarray(i>>2,6+(i>>2)),s=o.subarray(3,6),a=0,l=Vi.HEAPU32[o[a]>>2],c=new Float32Array(Vi.HEAPF32.subarray(l>>2,(l>>2)+s[a]));a++;let h=Vi.HEAPU32[o[a]>>2],d=new Uint32Array(Vi.HEAPU32.subarray(h>>2,(h>>2)+s[a]));a++;let u=Vi.HEAPU32[o[a]>>2],f=new Uint8Array(Vi.HEAPU32.subarray(u>>2,(u>>2)+s[a]));return Vi.free_mesh_data(i),{positions:c,indices:d,verticesPerFace:f}}function KIe(e,t,n,i){void 0===qv&&(qv=Vi.init_csg());let r=iq(e),o=Vi.csg_calc(qv,r,e.length,i,rq(t));Vi._free(r);let a=Vi.HEAPU32.subarray(o>>2,5+(o>>2)),l=a.subarray(2,5),c=0,h=Vi.HEAPU32[a[c]>>2],d=Vi.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let u=Vi.HEAPU32[a[c]>>2],f=Vi.HEAPF32.subarray(u>>2,(u>>2)+l[c]);c++;let v=l[c];n.setAttribute("position",new wn(d,3)),n.setAttribute("normal",new wn(f,3));let y=Vi.HEAPF32.subarray(5+(o>>2),5+(o>>2)+6);return null===n.boundingSphere&&(n.boundingSphere=new ml),n.boundingSphere.radius=-1,n.userData.parameters={width:2*y[3],height:2*y[4],depth:2*y[5]},Vi.free_mesh_data(o),v}function QIe(e,t,n){if(void 0===Vi)return-1;let i,r,o;if(t&&void 0!==e.userData.positions){let w=e.userData;o=w.verticesPerFace.length,i=w.positions,r=Array(w.verticesPerFace.reduce((O,S)=>O+S,0)+o);for(let O=0,S=0,D=0;O<w.verticesPerFace.length;O++){r[D++]=w.verticesPerFace[O];for(let U=0;U<w.verticesPerFace[O];U++)r[D++]=w.indices[S++]}}else({positions:i,faceIndices:r,nFaces:o}=function XIe(e,t,n){let i,r;r="TorusGeometry"===e.userData.parameters.type&&e.userData.parameters.arc===2*Math.PI?e.getClosedTorusIndicesForBooleanOrSubdiv():e.getIndex();let a,{positions:o,triIndices:s}=MP(e.getAttribute("position"),r);if(t&&n){let{indices:l,verticesPerFace:c}=tq(o,s,e);a=c.length,i=[];for(let h=0,d=0;h<a;h++){i.push(c[h]);for(let u=0;u<c[h];u++)i.push(l[d++])}}else{let l=s.length;i=Array(l+l/3),a=0;for(let c=0,h=0;h<i.length;)i[h++]=3,a++,i[h++]=s[c++],i[h++]=s[c++],i[h++]=s[c++]}return{positions:o,faceIndices:i,nFaces:a}}(e,t,n));let s=i.length,a=r.length,l=i.length,c=r.length,h=l*Float32Array.BYTES_PER_ELEMENT+c*Uint32Array.BYTES_PER_ELEMENT,d=l*Float32Array.BYTES_PER_ELEMENT,f=(Uint32Array,Vi._malloc(h)),v=new Float32Array(Vi.HEAPF32.buffer,f,l),y=new Uint32Array(Vi.HEAPU32.buffer,f+d,c);v.set(i,0),y.set(r,0);let _=Vi.get_csg_mesh(f,s,f+d,a,o);return Vi._free(f),_}function ZIe(e){return Vi.has_open_edges(e)}function JIe(e,t){Vi.transform_csg_mesh(e,t.elements)}function eRe(e){Vi.free_csg_mesh(e)}qIe.then(e=>Vi=e);var tRe={ConeGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return n.thetaLength=Ln.clamp(n.thetaLength,0,360),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let u,{width:t,depth:n,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l,cornerRadiusTop:c,cornerRadiusBottom:h,cornerSegments:d}=e.parameters;return 0===l?(u=new Vn,u.setAttribute("position",new wn([],3))):u=c>0||h>0||l<360?new fW(0,t/2,i,r,o,s,a,l*Math.PI/180,c,h,d,0,!0):new bj(t/2,i,r,o,s),u.scale(1,1,n/t),Object.assign(u,{userData:{...e,type:"ConeGeometry"}})}},CubeGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let c,{width:t,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:s,cornerRadius:a,cornerSegments:l}=e.parameters;return c=0==a?new rh(t,n,i,r,o,s):new wke(t,n,i,r,o,s,a,l),Object.assign(c,{userData:{...e,type:"CubeGeometry"}})}},CylinderGeometry:uW,DodecahedronGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,detail:r,corner:o,cornerSides:s}=e.parameters,a=0===r&&0!==o?new mW(.5*t,o,s):new xj(.5*t,r);return a.scale(1,n/t,i/t),Object.assign(a,{userData:{...e,type:"DodecahedronGeometry"}})}},EllipseGeometry:uk,HelixGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??i),o=Math.abs(n.depth??i),s=Math.abs(Math.min(i,o))/2;return{parameters:Object.assign(n,{width:i,height:r,depth:o,radius:s,segments:Math.round(n.segments),pathSegments:Math.round(n.pathSegments),cornerSegments:Math.round(n.cornerSegments)})}}static build(e){let{width:t,height:n,depth:i,radius:r,revolutions:o,segments:s,pathRadius:a,pathType:l,pathSegments:c,cornerRadius:h,cornerSegments:d}=e.parameters,u=new BW(!1,t,n,i,r,o,s,a,l,c,h,d);return Object.assign(u,{userData:{...e,type:"HelixGeometry"}})}},IcosahedronGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,detail:r,corner:o,cornerSides:s}=e.parameters,a=0===r&&0!==o?new zW(.5*t,o,s):new Dj(.5*t,r);return a.scale(1,n/t,i/t),Object.assign(a,{userData:{...e,type:"IcosahedronGeometry"}})}},LatheGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){(e.parameters?.points??[]).forEach(i=>{Array.isArray(i)&&(i.x=i[0],i.y=i[1])});let n=Object.assign({},t?.parameters??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{points:t,segments:n,verticalSegments:i}=e.parameters,r=new YC;r.moveTo(t[0].x,t[0].y),r.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let o=new _j(r.extractPoints(i).shape,n);return o.rotateZ(Math.PI),Object.assign(o,{userData:{...e,type:"LatheGeometry"}})}},NonParametricGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i,n=e.geometry??t?.geometry??(new Vn).copy(new rh(100,100,100));void 0===t?(n.computeBoundingBox(),n.boundingBox.getSize(Is),i={width:Is.x,height:Is.y,depth:Is.z,subdivisions:0}):i=t.parameters;let r={...i,...e.parameters};return{parameters:{width:Math.abs(r.width),height:Math.abs(r.height),depth:Math.abs(r.depth),subdivisions:Math.abs(r.subdivisions)},geometry:n}}static build(e){let{width:t,height:n,depth:i,subdivisions:r}=e.parameters,o=e.geometry??(new Vn).copy(new rh(100,100,100)),s=o.userData.parameters;void 0===s?(o.computeBoundingBox(),o.boundingBox.getSize(Is)):Is.set(s.width,s.height,s.depth),(t!==Is.x||n!==Is.y||i!==Is.z)&&o.scale(0===Is.x?1:t/Is.x,0===Is.y?1:n/Is.y,0===Is.z?1:i/Is.z);let a=o.originalGeometry;try{r>0?(void 0===a||s?.subdivisions!==r)&&(void 0===a&&(a=o),o=new class{constructor(e=1){this.subdivisions=e}modify(e){(e=e instanceof Vn?(new vP).fromBufferGeometry(e):e.clone()).mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let n,i,r,o,s,t=new ne,a=e.vertices,l=e.faces,c=e.faceVertexUvs[0],h=void 0!==c&&c.length>0,d=[],u=new Map;!function lIe(e,t,n,i){let r,o,s;for(r=0,o=e.length;r<o;r++)n[r]={edges:[]};for(r=0,o=t.length;r<o;r++)s=t[r],vk(s.a,s.b,e,i,s,n),vk(s.b,s.c,e,i,s,n),vk(s.c,s.a,e,i,s,n)}(a,l,d,u);let v,y,_,w,O,S,D,f=[];for(let it of Array.from(u.keys())){for(y=u.get(it),_=new ne,O=3/8,S=1/8,D=y.faces.length,2!=D&&(O=.5,S=0),_.addVectors(y.a,y.b).multiplyScalar(O),t.set(0,0,0),o=0;o<D;o++){for(w=y.faces[o],s=0;s<3&&(v=a[aIe(w,sIe[s])],v===y.a||v===y.b);s++);v&&t.add(v)}t.multiplyScalar(S),_.add(t),y.newEdge=f.length,f.push(_)}let U,Y,q,K,Z,te,ie,ce=[];for(i=0,r=a.length;i<r;i++){for(te=a[i],Z=d[i].edges,n=Z.length,3==n?U=3/16:n>3&&(U=3/(8*n)),Y=1-n*Number(U),q=U,n<=2&&2==n&&(Y=3/4,q=1/8),ie=te.clone().multiplyScalar(Y),t.set(0,0,0),o=0;o<n;o++)K=Z[o],v=K.a!==te?K.a:K.b,t.add(v);t.multiplyScalar(Number(q)),ie.add(t),ce.push(ie)}let Ce,we,_e,Be,Ie,De,Ve,de=ce.concat(f),ue=ce.length,ye=[],Re=[],ke=new Fe,He=new Fe,ze=new Fe;for(i=0,r=l.length;i<r;i++)w=l[i],Ce=Number(gk(w.a,w.b,u).newEdge)+ue,we=Number(gk(w.b,w.c,u).newEdge)+ue,_e=Number(gk(w.c,w.a,u).newEdge)+ue,_P(ye,Ce,we,_e,w.materialIndex),_P(ye,w.a,Ce,_e,w.materialIndex),_P(ye,w.b,we,Ce,w.materialIndex),_P(ye,w.c,_e,we,w.materialIndex),h&&(Be=c[i],Ie=Be[0],De=Be[1],Ve=Be[2],ke.set(Hv(Ie.x,De.x),Hv(Ie.y,De.y)),He.set(Hv(De.x,Ve.x),Hv(De.y,Ve.y)),ze.set(Hv(Ie.x,Ve.x),Hv(Ie.y,Ve.y)),bP(Re,ke,He,ze),bP(Re,Ie,ke,ze),bP(Re,De,He,ke),bP(Re,Ve,ze,He));e.vertices=de,e.faces=ye,h&&(e.faceVertexUvs[0]=Re)}}(r).modify(a).toBufferGeometry()):(void 0!==a&&(o=a),a=void 0,void 0===o.getAttribute("normal")&&o.computeVertexNormals())}catch{void 0!==a&&(o=a),a=void 0,void 0===o.getAttribute("normal")&&o.computeVertexNormals()}return void 0!==a&&Object.assign(o,{originalGeometry:a}),delete e.geometry,Object.assign(o,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,n){new Vj(n).load(e,i=>{let r=this.normalizeInputs({geometry:i});i.boundingBox.getSize(Is);let o=100/Is.x;Object.assign(r.parameters,{width:100,height:Is.y*o,depth:Is.z*o}),t(this.build(r))})}},PolygonGeometry:HW,PyramidGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,radialSegments:r,heightSegments:o,openEnded:s,cornerRadius:a,cornerSegments:l}=e.parameters,c=new pIe(.5*t,n,r,o,s,a,l);return c.scale(1,1,i/t),Object.assign(c,{userData:{...e,type:"PyramidGeometry"}})}},RectangleGeometry:GW,SphereGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return n.thetaLength=Ln.clamp(n.thetaLength,0,180),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let h,{width:t=100,height:n=t,depth:i=t,widthSegments:r=64,heightSegments:o=64,phiStart:s,phiLength:a,thetaStart:l,thetaLength:c}=e.parameters;return 0===c?(h=new Vn,h.setAttribute("position",new wn([],3))):h=new ZA(.5*t,r,o,s,a,l,c*Ln.DEG2RAD),h.scale(1,n/t,i/t),Object.assign(h,{userData:{...e,type:"SphereGeometry"}})}},PlaneGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:0})}}static build(e){let{width:t=100,height:n=t,widthSegments:i=8,heightSegments:r=8}=e.parameters,o=new FC(t,n,i,r);return o.scale(1,1,1),Object.assign(o,{userData:{...e,type:"PlaneGeometry"}})}},BackdropGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,angle:r,cornerRadius:o,cornerSegments:s}=e.parameters,a=new vIe(t,n,i,r,o,s);return Object.assign(a,{userData:{...e,type:"BackdropGeometry"}})}},StarGeometry:WW,TextFrameGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n}=e.parameters,i=new FC(t,n);return Object.assign(i,{userData:{...e,type:"TextFrameGeometry"}})}},TorusGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.round(Math.abs(n.depth??.25*n.width));return{parameters:Object.assign(n,{width:i,height:r,depth:o})}}static build(e){let{width:t,height:n,depth:i,radialSegments:r,tubularSegments:o,arc:s,cornerRadius:a,cornerSegments:l}=e.parameters,c=function bIe(e,t,n,i,r,o,s,a,l,c,h){[t,n]=[n,t],s=t/2;let d=Ln.clamp(r/360,0,1);if(0===d){let u=new Vn;return u.setAttribute("position",new wn([],3)),u}return 1===d&&(c=0),new BW(!0,e,t,n,i,d,o,s,a,l,c,h)}(t,n,i,.5*t,s,o,0,0,r,a,l);return c.scale(1,n/t,1),Object.assign(c,{userData:{...e,type:"TorusGeometry"}})}},TorusKnotGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),tube:n.tube??.125*n.width})}}static build(e){let{width:t,tube:n,tubularSegments:i,radialSegments:r,p:o,q:s}=e.parameters,a=.5*t;a!==n&&(a-=n);let l=new Aj(a,n,i,r,o,s);return Object.assign(l,{userData:{...e,type:"TorusKnotGeometry"}})}},TriangleGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof Lo?e.shape:new Lo,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width*(n.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t=100,height:n,cornerRadius:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:s,isRect:a}=e.parameters,l=e.shape,c=.5*t,h=.5*n;a?(l.addPoint(l.createPoint(-c,h)),l.addPoint(l.createPoint(c,-h)),l.addPoint(l.createPoint(-c,-h))):(l.addPoint(l.createPoint(0,h)),l.addPoint(l.createPoint(c,-h)),l.addPoint(l.createPoint(-c,-h))),l.isClosed=!0;for(let u=0,f=l.points.length;u<f;u++)l.points[u].roundness=i;l.roundness=i,l.update();let d=Hm.create({shape:l,parameters:{roundness:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:s}});return Object.assign(d,{userData:{...e,type:"TriangleGeometry"}})}},PathGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.abs(n.depth??0),s=t?.shapeData??uk.create({parameters:SG}).userData.shape;return{path:e.path??qM.defaultData(),parameters:Object.assign(n,{width:i,height:r,depth:o,extrusion:{...EG,...n.extrusion}}),shapeData:s}}static build(e){if(e.path.points.length>=2){let t=new BIe(e);return Object.assign(t,{userData:{...e,type:"PathGeometry"}})}return Object.assign(new Vn,{userData:{...e,type:"PathGeometry"}})}},VectorGeometry:Hm},oq=e=>tRe[e.type].create(e);function Yv(e){return null!==e&&"booleanOp"in e}var sq=class extends(Q3(Ha)){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new Ut}updateVisible(e){super.updateVisible(e),this.visible=!Yv(this.parent)&&this.visible,Yv(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){-1!==this.booleanMeshSetAddress&&(Ou.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),Yv(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof sq&&(e.freeBooleanPointer(),Yv(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let n=super.updateTransformState(e,t);return n&&Yv(this.parent)&&this.invalidateDownstreamBooleanData(!0),n}onVariableUpdate(e=!1){super.onVariableUpdate(e),Yv(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},SP=new Ko;function Mk(e,t=0,n=e.count,i,r){let o=1/0,s=1/0,a=1/0,l=-1/0,c=-1/0,h=-1/0;for(let d=t;d<n;d++){let u=e.getX(d),f=e.getY(d),v=e.getZ(d);u<o&&(o=u),f<s&&(s=f),v<a&&(a=v),u>l&&(l=u),f>c&&(c=f),v>h&&(h=v)}SP.min.set(o,s,a),SP.max.set(l,c,h),SP.getCenter(i),SP.getSize(r).multiplyScalar(.5)}var nRe=new Vn,iRe=new d_,_l=class extends sq{constructor(e,t){super(nRe,iRe),this.super_Entity(e,t)}updateState(e,t){this.updateState_Entity(e,t)}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?Mk(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},aq=class{constructor(e){this.name=(e=e??{}).name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},nf=class{constructor(e){this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},this.uuid=Ln.generateUUID(),this.type=e,this.name=""}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,n){return this.analyze(e,n=n??{}),this.flow(e,t,n)}flow(e,t,n){e.addFlow((n=n??{}).slot,n.cache,n.context);let i={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),i}build(e,t,n){t=t??this.getType(e,t);let i=e.getNodeData(n??this);return e.analyzing&&this.appendDepsNode(e,i,t),-1===e.nodes.indexOf(this)&&e.nodes.push(this),void 0!==this.updateFrame&&-1===e.updaters.indexOf(this)&&e.updaters.push(this),this.generate(e,t,n)}updateFrame(e){}generateReadonly(e,t,n,i,r,o){return""}generate(e,t,n,i,r){return""}parse(e,t,n,i){}appendDepsNode(e,t,n){t.deps=(t.deps||0)+1;let i=e.getTypeLength(n);(i>(t.outputMax||0)||this.getType(e,n))&&(t.outputMax=i,t.output=n)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return"sampler2D"===t||"samplerCube"===t?t:this.type}getHash(){let t,n,e="{";for(t in this)n=this[t],n instanceof nf&&(e+='"'+t+'":'+n.getHash()+",");if(this.hashProperties)for(let i=0;i<this.hashProperties.length;i++)t=this.hashProperties[i],n=this[t],e+='"'+t+'":"'+String(n)+'",';return e+='"id":"'+this.uuid+'"}',e}},bl=new class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,n){this.keywords[e]={callback:t,cache:n=void 0===n||n}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return void 0!==this.nodes[e]}containsKeyword(e){return void 0!==this.keywords[e]}},Ir=class extends nf{constructor(e,t){super(e),this.scope="",this.shared=void 0===(t=t??{}).shared||t.shared,this.unique=void 0!==t.unique&&t.unique}build(e,t,n,i){if(t=t??this.getType(e),this.getShared(e,t)){let r=this.getUnique(e,t);r&&void 0===this.uuid&&(this.uuid=Ln.generateUUID()),n=e.getUUID(n??this.getUUID(),!r);let o=e.getNodeData(n),s=o.output||this.getType(e);if(e.analyzing)return(o.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,o,t),this.generate(e,t,n)):super.build(e,t,n);if(r)return o.name=o.name||super.build(e,t,n),o.name;if(!this.getLabel()&&(!this.getShared(e,s)||e.context.ignoreCache||1===o.deps))return super.build(e,t,n);n=this.getUUID(!1);let a=this.getTemp(e,n);if(a)return e.format(a,s,t);{a=super.generate(e,t,n,o.output,i);let l=this.generate(e,s,n);return e.addNodeCode(a+" = "+l+";"),e.format(a,s,t)}}return super.build(e,t,n)}getShared(e,t){return"sampler2D"!==t&&"samplerCube"!==t&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return"string"==typeof this.scope&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let n=e.getVars()[t];return n?n.name:void 0}generate(e,t,n,i,r){return this.getShared(e,t)||console.error("TempNode is not shared"),e.getTempVar(n=n??this.uuid,i??this.getType(e),r,this.getLabel()).name}},xl=class extends Ir{constructor(e,t){(t=t??{}).shared=void 0!==t.shared&&t.shared,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,n,i,r,o){n=e.getUUID(n??this.getUUID()),i=i??this.getType(e);let s=e.getNodeData(n);return this.getReadonly()&&void 0!==this.generateReadonly?this.generateReadonly(e,t,n,i,r,o):e.isShader("vertex")?(s.vertex||(s.vertex=e.createVertexUniform(i,this,r,o,this.getLabel())),e.format(s.vertex.name,i,t)):(s.fragment||(s.fragment=e.createFragmentUniform(i,this,r,o,this.getLabel())),e.format(s.fragment.name,i,t))}},na=class extends xl{constructor(e=0,t){super("v2"),this.nodeType="Vector2",this.value=e instanceof Fe?e:new Fe(e,t)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}generateReadonly(e,t,n,i,r,o){return e.format("vec2("+this.value.x+", "+this.value.y+")",i,t)}},kc=class extends xl{constructor(e=0,t,n){super("v3"),this.nodeType="Vector3",this.value=e instanceof ne?e:new ne(e,t,n)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,n,i,r,o){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",i,t)}},wl=class extends qn{constructor(e,t,n,i){super(e,t,n),this.isColorA=!0,this.a=i}setRGBA(e,t,n,i){super.setRGB(e,t,n),this.a=i}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}setStyle(e,t="srgb"){let n;if("transparent"===e)return this.setRGBA(0,0,0,0),this;if(n=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a="rgba"===r?parseFloat(i[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a="hsla"===r?parseFloat(i[4]):1,super.setStyle(e,t)}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},Su=class extends xl{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof wl?e:new wl(e.r,e.g,e.b,e.a)}generateReadonly(e,t,n,i,r,o){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",i,t)}},oRe=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,lq=/[a-z_0-9]+/gi,an=class extends Ir{constructor(e,t,n,i,r){super(r),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=void 0===r,this.isInterface=!1,this.parse(e,t,n,i)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,n,i,r){let o,s=0,a=this.src;if(this.includes)for(let c=0;c<this.includes.length;c++)e.include(this.includes[c],this);for(let c in this.extensions)e.extensions[c]=!0;let l=[];for(;o=lq.exec(this.src);)l.push(o);for(let c=0;c<l.length;c++){let h=l[c],d=h[0],u=!this.isMethod||!this.getInputByName(d),f=d;if(this.keywords[d]||this.useKeywords&&u&&bl.containsKeyword(d)){let v=this.keywords[d];if(!v){let y=bl.getKeywordData(d);y.cache&&(v=e.keywords[d]),v=v||bl.getKeyword(d,e),y.cache&&(e.keywords[d]=v)}f=v.build(e)}d!==f&&"."!==a[h.index+s-1]&&(a=a.substring(0,h.index+s)+f+a.substring(h.index+d.length+s),s+=f.length-d.length),void 0===this.getIncludeByName(f)&&bl.contains(f)&&e.include(bl.get(f))}return"source"===t?a:this.isMethod?(this.isInterface||e.include(this,void 0,a),this.name):e.format("( "+a+" )",this.getType(e),t)}parse(e,t,n,i){if(this.src=e||"",this.includes=t??[],this.extensions=n??{},this.keywords=i??{},this.isMethod){let r=oRe.exec(this.src);if(this.inputs=[],r&&4==r.length){this.type=r[1],this.name=r[2];let o=r[3].match(lq);if(o){let s=0;for(;s<o.length;){let l,a=o[s++];"in"===a||"out"===a||"inout"===a?l=o[s++]:(l=a,a="");let c=o[s++];this.inputs.push({name:c,type:l,qualifier:a})}}this.isInterface=-1===this.src.indexOf("{")}else this.type="",this.name=""}}},sRe=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,cq=class extends Ir{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||cq.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,n,i,r){this.src=e||"";let o,s,a="",l=sRe.exec(e);this.useDefine=r??"#"===this.src.charAt(0),l&&l.length>1?(s=l[1],o=l[2],a=l[3]):(o=this.src,s="f"),this.name=o,this.type=s,this.value=a}build(e,t){if("source"===t){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,n,i,r){return e.format(this.name,this.getType(e),t)}},Rr=cq;Rr.PI="PI",Rr.PI2="PI2",Rr.RECIPROCAL_PI="RECIPROCAL_PI",Rr.RECIPROCAL_PI2="RECIPROCAL_PI2",Rr.LOG2="LOG2",Rr.EPSILON="EPSILON";var aRe=new RegExp("^structs*([a-z_0-9]+)s*{s*((.|\n)*?)}","gim"),lRe=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),dq=class extends Ir{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,n,i,r){return"source"===t?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=aRe.exec(e);if(t){let i,n=t[2];for(;i=lRe.exec(n);)this.inputs.push({type:i[1],name:i[2]});this.name=t[1]}else this.name="";this.type=this.name}},Pk=class extends Ir{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let n=this.index>0?this.index+1:"",i=e.isShader("vertex")?"uv"+n:"vUv"+n;return e.format(i,this.getType(e),t)}};bl.addKeyword("uv",function(){return new Pk}),bl.addKeyword("uv2",function(){return new Pk(1)});var Xv=class extends Ir{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??Xv.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case nh:return["Linear"];case wi:return["sRGB"];default:return[]}}generate(e,t){let n=this.input.build(e,"v4"),i=this.getType(e),r=Xv.Nodes[this.method],o=e.include(r);if(o===Xv.LINEAR_TO_LINEAR)return e.format(n,i,t);if(2===r.inputs?.length){let s=this.factor.build(e,"f");return e.format(o+"( "+n+", "+s+" )",i,t)}return e.format(o+"( "+n+" )",i,t)}fromEncoding(e){let t=Xv.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=Xv.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},bh=Xv;bh.Nodes={LinearToLinear:new an(["vec4 LinearToLinear( in vec4 value ) {","\treturn value;","}"].join("\n")),sRGBToLinear:new an(["vec4 sRGBToLinear( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join("\n")),LinearTosRGB:new an(["vec4 LinearTosRGB( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join("\n"))},bh.LINEAR_TO_LINEAR="LinearToLinear",bh.SRGB_TO_LINEAR="sRGBToLinear",bh.LINEAR_TO_SRGB="LinearTosRGB";var co=class extends an{constructor(e="",t,n,i,r){super(e,r,i,n,t),this.nodeType="Expression"}},Eu=class extends xl{constructor(e=new Ds,t,n,i){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new Pk,this.bias=n,this.project=void 0!==i&&i}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if("sampler2D"===t)return this.getTexture(e,t);let o,s,n=this.getTexture(e,t),i=this.uv.build(e,this.project?"v4":"v2"),r=this.bias?this.bias.build(e,"f"):void 0;void 0===r&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f")),o=this.project?"texture2DProj":r?"tex2DBias":"tex2D",s=r?o+"( "+n+", "+i+", "+r+" )":o+"( "+n+", "+i+" )";let a={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(a),this.colorSpace=this.colorSpace??new bh(new co("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(s),s=this.colorSpace.build(e,l),e.removeContext(),e.format(s,l,t)}},On=class extends xl{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,n,i,r,o){return e.format(this.value+(this.value%1?"":".0"),i,t)}},hq=class extends Ir{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,n,i,r){i=this.getType(e);let o=this.value,s=o.build(e,t)+"( ",a=[];if(o.inputs){for(let l=0;l<o.inputs.length;l++){let c=o.inputs[l];a.push((this.inputs[l]||this.inputs[c.name]).build(e,e.getTypeByFormat(c.type)))}s+=a.join(", ")+" )"}return e.format(s,i,t)}},uq=class extends Ir{constructor(e,t,n=uq.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=n}getType(e){let t=this.a.getType(e),n=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(n)>e.getTypeLength(t)?n:t}generate(e,t){let n=this.getType(e);this.type=n;let i=this.a.build(e,n),r=this.b.build(e,n);return e.format("( "+i+" "+this.op+" "+r+" )",n,t)}},Cl=uq;Cl.ADD="+",Cl.SUB="-",Cl.MUL="*",Cl.DIV="/";var Nr=class extends Ir{constructor(e,t=Nr.ABS,n,i){super(),this.nodeType="Math",this.a=e,"string"!=typeof t?this.b=t:i=t,"string"!=typeof n?this.c=n:i=n,this.method=i,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case Nr.MIX:case Nr.CLAMP:case Nr.REFRACT:case Nr.SMOOTHSTEP:case Nr.FACEFORWARD:return 3;case Nr.MIN:case Nr.MAX:case Nr.MOD:case Nr.STEP:case Nr.REFLECT:case Nr.DISTANCE:case Nr.DOT:case Nr.CROSS:case Nr.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),n=this.b?e.getTypeLength(this.b.getType(e)):0,i=this.c?e.getTypeLength(this.c.getType(e)):0;return t>n&&t>i?this.a.getType(e):n>i?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case Nr.LENGTH:case Nr.DISTANCE:case Nr.DOT:return"f";case Nr.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let n,i,r,o=this.a?e.getTypeLength(this.a.getType(e)):0,s=this.b?e.getTypeLength(this.b.getType(e)):0,a=this.c?e.getTypeLength(this.c.getType(e)):0,l=this.getInputType(e),c=this.getType(e);switch(this.type=c,this.method){case Nr.NEGATE:return e.format("( -"+this.a.build(e,l)+" )",l,t);case Nr.INVERT:return e.format("( 1.0 - "+this.a.build(e,l)+" )",l,t);case Nr.CROSS:n=this.a.build(e,"v3"),i=this.b.build(e,"v3");break;case Nr.STEP:n=this.a.build(e,1===o?"f":l),i=this.b.build(e,l);break;case Nr.MIN:case Nr.MAX:case Nr.MOD:n=this.a.build(e,l),i=this.b.build(e,1===s?"f":l);break;case Nr.REFRACT:n=this.a.build(e,l),i=this.b.build(e,l),r=this.c.build(e,"f");break;case Nr.MIX:n=this.a.build(e,l),i=this.b.build(e,l),r=this.c.build(e,1===a?"f":l);break;default:n=this.a.build(e,l),this.b&&(i=this.b.build(e,l)),this.c&&(r=this.c.build(e,l))}let h=[];h.push(n),i&&h.push(i),r&&h.push(r);let d=this.getNumInputs(e);if(h.length!==d)throw Error(`Arguments not match used in "${this.method}". Require ${d}, currently ${h.length}.`);return e.format(this.method+"( "+h.join(", ")+" )",c,t)}},bi=Nr;bi.RAD="radians",bi.DEG="degrees",bi.EXP="exp",bi.EXP2="exp2",bi.LOG="log",bi.LOG2="log2",bi.SQRT="sqrt",bi.INV_SQRT="inversesqrt",bi.FLOOR="floor",bi.CEIL="ceil",bi.NORMALIZE="normalize",bi.FRACT="fract",bi.SATURATE="saturate",bi.SIN="sin",bi.COS="cos",bi.TAN="tan",bi.ASIN="asin",bi.ACOS="acos",bi.ARCTAN="atan",bi.ABS="abs",bi.SIGN="sign",bi.LENGTH="length",bi.NEGATE="negate",bi.INVERT="invert",bi.MIN="min",bi.MAX="max",bi.MOD="mod",bi.STEP="step",bi.REFLECT="reflect",bi.DISTANCE="distance",bi.DOT="dot",bi.CROSS="cross",bi.POW="pow",bi.MIX="mix",bi.CLAMP="clamp",bi.REFRACT="refract",bi.SMOOTHSTEP="smoothstep",bi.FACEFORWARD="faceforward";var rb=class extends Ir{constructor(e,t,n){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=n}bilinearCubeUV(e,t,n,i){let r=new hq(rb.Nodes.bilinearCubeUV,[t,n,i]);this.colorSpaceTL=this.colorSpaceTL??new bh(new co("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(r.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new bh(new co("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(r.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new bh(new co("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(r.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new bh(new co("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(r.build(e)+".br");let o={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(o),this.colorSpaceTLExp=new co(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new co(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new co(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new co(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let s=new co("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return s.keywords.cubeUV_TL=this.colorSpaceTLExp,s.keywords.cubeUV_TR=this.colorSpaceTRExp,s.keywords.cubeUV_BL=this.colorSpaceBLExp,s.keywords.cubeUV_BR=this.colorSpaceBRExp,s.keywords.cubeUV=r,s}generate(e,t){if(e.isShader("fragment")){let n=this.uv,r=new hq(rb.Nodes.roughnessToMip,[this.bias||e.context.roughness]),o=new bi(r,rb.Nodes.m0,rb.Nodes.cubeUV_maxMipLevel,bi.CLAMP),s=new bi(o,bi.FLOOR),a=new bi(o,bi.FRACT),l=this.bilinearCubeUV(e,this.value,n,s),c=this.bilinearCubeUV(e,this.value,n,new Cl(s,new On(1).setReadonly(!0),Cl.ADD)),h=new bi(l,c,a,bi.MIX);return e.format(h.build(e),"v4",t)}return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},Ok=rb;Ok.Nodes=function(){let e=new dq("struct TextureCubeUVData {\n\t\t\tvec4 tl;\n\t\t\tvec4 tr;\n\t\t\tvec4 br;\n\t\t\tvec4 bl;\n\t\t\tvec2 f;\n\t\t}"),t=new Rr("float cubeUV_maxMipLevel 8.0",!0),n=new Rr("float cubeUV_minMipLevel 4.0",!0),i=new Rr("float cubeUV_maxTileSize 256.0",!0),r=new Rr("float cubeUV_minTileSize 16.0",!0),o=new an("float getFace(vec3 direction) {\n\t\t\t\tvec3 absDirection = abs(direction);\n\t\t\t\tfloat face = -1.0;\n\t\t\t\tif (absDirection.x > absDirection.z) {\n\t\t\t\t\tif (absDirection.x > absDirection.y)\n\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t} else {\n\t\t\t\t\tif (absDirection.z > absDirection.y)\n\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t}\n\t\t\t\treturn face;\n\t\t}");o.useKeywords=!1;let s=new an("vec2 getUV(vec3 direction, float face) {\n\t\t\t\tvec2 uv;\n\t\t\t\tif (face == 0.0) {\n\t\t\t\t\tuv = vec2(direction.z, direction.y) / abs(direction.x); // pos x\n\t\t\t\t} else if (face == 1.0) {\n\t\t\t\t\tuv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y\n\t\t\t\t} else if (face == 2.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z\n\t\t\t\t} else if (face == 3.0) {\n\t\t\t\t\tuv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x\n\t\t\t\t} else if (face == 4.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y\n\t\t\t\t} else {\n\t\t\t\t\tuv = vec2(direction.x, direction.y) / abs(direction.z); // neg z\n\t\t\t\t}\n\t\t\t\treturn 0.5 * (uv + 1.0);\n\t\t}");s.useKeywords=!1;let a=new an("TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n\t\t\tfloat face = getFace(direction);\n\t\t\tfloat filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n\t\t\tmipInt = max(mipInt, cubeUV_minMipLevel);\n\t\t\tfloat faceSize = exp2(mipInt);\n\t\t\tfloat texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n\t\t\tvec2 uv = getUV(direction, face) * (faceSize - 1.0);\n\t\t\tvec2 f = fract(uv);\n\t\t\tuv += 0.5 - f;\n\t\t\tif (face > 2.0) {\n\t\t\t\tuv.y += faceSize;\n\t\t\t\tface -= 3.0;\n\t\t\t}\n\t\t\tuv.x += face * faceSize;\n\t\t\tif(mipInt < cubeUV_maxMipLevel){\n\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t\t}\n\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\t\tuv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n\t\t\tuv *= texelSize;\n\t\t\tvec4 tl = texture2D(envMap, uv);\n\t\t\tuv.x += texelSize;\n\t\t\tvec4 tr = texture2D(envMap, uv);\n\t\t\tuv.y += texelSize;\n\t\t\tvec4 br = texture2D(envMap, uv);\n\t\t\tuv.x -= texelSize;\n\t\t\tvec4 bl = texture2D(envMap, uv);\n\t\t\treturn TextureCubeUVData( tl, tr, br, bl, f );\n\t\t}",[e,o,s,t,n,i,r]);a.useKeywords=!1;let l=new Rr("float r0 1.0",!0),c=new Rr("float v0 0.339",!0),h=new Rr("float m0 -2.0",!0),d=new Rr("float r1 0.8",!0),u=new Rr("float v1 0.276",!0),f=new Rr("float m1 -1.0",!0),v=new Rr("float r4 0.4",!0),y=new Rr("float v4 0.046",!0),_=new Rr("float m4 2.0",!0),w=new Rr("float r5 0.305",!0),O=new Rr("float v5 0.016",!0),S=new Rr("float m5 3.0",!0),D=new Rr("float r6 0.21",!0),U=new Rr("float v6 0.0038",!0),Y=new Rr("float m6 4.0",!0);return{bilinearCubeUV:a,roughnessToMip:new an("float roughnessToMip(float roughness) {\n\t\t\tfloat mip = 0.0;\n\t\t\tif (roughness >= r1) {\n\t\t\t\tmip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n\t\t\t} else if (roughness >= r4) {\n\t\t\t\tmip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n\t\t\t} else if (roughness >= r5) {\n\t\t\t\tmip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n\t\t\t} else if (roughness >= r6) {\n\t\t\t\tmip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n\t\t\t} else {\n\t\t\t\tmip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\n\t\t\t}\n\t\t\treturn mip;\n\t\t}",[l,c,h,d,u,f,v,y,_,w,O,S,D,U,Y]),m0:h,cubeUV_maxMipLevel:t}}();var $v=class extends Ir{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??$v.VIEW}getShared(){return this.scope===$v.WORLD}build(e,t,n,i){let r=e.context[this.scope+"Normal"];return r?r.build(e,t,n,i):super.build(e,t,n)}generate(e,t,n,i,r){let o;switch(this.scope){case $v.VIEW:o=e.isShader("vertex")?"transformedNormal":"geometryNormal";break;case $v.LOCAL:e.isShader("vertex")?o="objectNormal":(e.requires.normal=!0,o="vObjectNormal");break;case $v.WORLD:e.isShader("vertex")?o="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,o="vWNormal")}return e.format(o,this.getType(e),t)}},Ml=$v;Ml.LOCAL="local",Ml.WORLD="world",Ml.VIEW="view",Ml.NORMAL="normal",bl.addKeyword("viewNormal",function(){return new Ml(Ml.VIEW)}),bl.addKeyword("localNormal",function(){return new Ml(Ml.NORMAL)}),bl.addKeyword("worldNormal",function(){return new Ml(Ml.WORLD)});var Du=class extends Ir{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??Du.LOCAL}getType(){return this.scope===Du.PROJECTION?"v4":this.type}getShader(){switch(this.scope){case Du.LOCAL:case Du.WORLD:return!1}return!0}generate(e,t,n,i,r){let o;switch(this.scope){case Du.LOCAL:e.isShader("vertex")?o="transformed":(e.requires.position=!0,o="vPosition");break;case Du.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,o="vWPosition";break;case Du.VIEW:o=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case Du.PROJECTION:o=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )"}return e.format(o,this.getType(),t)}},xd=Du;xd.LOCAL="local",xd.WORLD="world",xd.VIEW="view",xd.PROJECTION="projection",bl.addKeyword("position",function(){return new xd}),bl.addKeyword("worldPosition",function(){return new xd(xd.WORLD)}),bl.addKeyword("viewPosition",function(){return new xd(xd.VIEW)});var xh=class extends Ir{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??xh.CUBE}getUnique(e){return!e.context.viewNormal}getType(){return this.scope===xh.SPHERE?"v2":this.type}generate(e,t){let n=this.getUnique(e);if(e.isShader("fragment")){let i;switch(this.scope){case xh.VECTOR:{let r=new Ml(Ml.VIEW),o=e.context.roughness,s=r.build(e,"v3"),a=new xd(xd.VIEW).build(e,"v3"),l=o?o.build(e,"f"):void 0,c=`reflect( -normalize( ${a} ), ${s} )`;l&&(c=`normalize( mix( ${c}, ${s}, ${l} * ${l} ) )`);let h=`inverseTransformDirection( ${c}, viewMatrix )`;n?(e.addNodeCode(`vec3 reflectVec = ${h};`),i="reflectVec"):i=h;break}case xh.CUBE:{let r=new xh(xh.VECTOR).build(e,"v3"),o="vec3( -"+r+".x, "+r+".yz )";n?(e.addNodeCode(`vec3 reflectCubeVec = ${o};`),i="reflectCubeVec"):i=o;break}case xh.SPHERE:{let r="normalize( ( viewMatrix * vec4( "+new xh(xh.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";n?(e.addNodeCode(`vec2 reflectSphereVec = ${r};`),i="reflectSphereVec"):i=r;break}}return e.format(i,this.getType(),t)}return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},Kv=xh;Kv.CUBE="cube",Kv.SPHERE="sphere",Kv.VECTOR="vector";var cRe=class extends Ir{constructor(e=new Eu,t,n){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new Ok(this.value,t??new Kv(Kv.VECTOR),n),this.irradianceNode=new Ok(this.value,new Ml(Ml.WORLD),new On(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),("irradiance"===e.slot?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},dRe=class extends xl{constructor(e=new AA,t,n){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new Kv,this.bias=n}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){if("samplerCube"===t)return this.getTexture(e,t);let o,n=this.getTexture(e,t),i=this.uv?.build(e,"v3"),r=this.bias?this.bias.build(e,"f"):void 0;void 0===r&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f")),o=r?"texCubeBias( "+n+", "+i+", "+r+" )":"texCube( "+n+", "+i+" )";let s={include:e.isShader("vertex"),ignoreCache:!0},a=this.getType(e);return e.addContext(s),this.colorSpace=this.colorSpace??new bh(new co("",a)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(o),o=this.colorSpace.build(e,a),e.removeContext(),e.format(o,a,t)}},pq=["x","y","z","w"],mRe=["float","vec2","vec3","vec4"],gRe={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},vRe={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},Bo=class extends xl{constructor(e=0,t,n,i){super("c"),this.nodeType="Color",this.value=e instanceof wl?e:new wl(e||0,t,n,i)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,n,i,r,o){n=e.getUUID(n??this.getUUID()),i=i??this.getType(e);let s=e.getNodeData(n),a=this.getReadonly()&&void 0!==this.generateReadonly;if(this.alpha){let l=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${l};`)}return a?this.generateReadonly(e,t,n,i,r,o):e.isShader("vertex")?(s.vertex||(s.vertex=e.createVertexUniform(i,this,r,o,this.getLabel())),e.format(s.vertex.name,i,t)):(s.fragment||(s.fragment=e.createFragmentUniform(i,this,r,o,this.getLabel())),e.format(s.fragment.name,i,t))}generateReadonly(e,t,n,i,r,o){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",i,t)}},Wr=class extends xl{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,n,i,r,o){return e.format(this.value.toString(),i,t)}},Qa=class extends xl{constructor(e){super("b"),this.nodeType="Bool",this.value=e??!1}generateReadonly(e,t,n,i){return e.format(this.value?"true":"false",i,t)}},Gm=class extends xl{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:"number"==typeof t?new Array(e).fill(t):new Array(e).fill(0)}},Sk=class extends xl{},_Re=class extends Sk{constructor(e){super("v3"),this.image=e,this._value=new ne}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},Ek=class extends Sk{constructor(e,t){super("t"),this.image=e,this.wrap=t}get value(){return this.image.getTexture(this.wrap)}},fq=class extends xl{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new $o}generateReadonly(e,t,n,i,r,o){return e.format("mat3("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},wh=class extends xl{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e??new Ut}generateReadonly(e,t,n,i,r,o){return e.format("mat4("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function mq(e,t,n){e.setUvTransform(n[0],n[1],t[0],t[1],0,0,0)}var bRe=class extends fq{constructor(e,t){super(new $o),this.repeat=e,this.offset=t,mq(this.value,e,t)}updateMatrix(){mq(this.value,this.repeat,this.offset)}},Wm=class extends xl{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof Ci?new Array(e).fill(t):new Array(e).fill(new Ci(0))}},gq=class extends Ir{constructor(e,t,n,i){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=n,this.mode=i}generate(e,t){if(e.isShader("fragment")){let n=[];return n.push(this.a.build(e,"c")),n.push(this.b.build(e,"c")),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),e.format("spe_blend("+n.join(",")+")",this.getType(e),t)}return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},vq=class extends Ir{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(vq.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.color.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Dk=vq;Dk.Nodes={customColor:new an("vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {\n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha;\n\n\t\t\t\treturn color;\n\t\t\t}")};var yq=class extends Ir{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(yq.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.cnormal.build(e,"v3")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},_q=yq;_q.Nodes={customNormal:new an("vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {\n\t\t\t\tvec3 normal = packNormalToRGB( norm ).rgb;\n\t\t\t\tnormal *= step( vec3(0.5), cnormal );\n\n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\n\t\t\t\treturn normal;\n\t\t\t}")};var sb=class extends Ir{constructor(e,t,n,i,r,o,s,a,l,c,h,d){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=n,this.projection=i,this.axis=r,this.side=o,this.size=s,this.blending=a,this.mat=l,this.isMask=d,this.alpha=c,this.mode=h,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let i,n=`g${this.uuid.toString().replace(/-/g,"")}`;switch(this.projection.value){case 3:i=e.include(sb.Nodes.cylindrical);break;case 2:i=e.include(sb.Nodes.spherical);break;case 1:let o=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],a=new an(`\n\t\tvec3 ${n}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n\t\t\t\tvec2 projected = (1. + (position.${["zy","xz","xy"][this.axis.value]})) / 2.;\n\t\t\t\tvec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n\t\t\t\tvec4 tmp = texture2D( tex, uvs );\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\t${2===this.side.value?"":`lalpha *= step(0.0, ${1===this.side.value?"-1.0 * ":""}dot(vObjectNormal, ${o}));`}\n\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}`);i=e.include(a);break;case 4:i=e.include(sb.Nodes.triplanar);break;default:i=e.include(sb.Nodes.uv)}e.addFragmentVariable(this.calpha,"float");let r=[];if(r.push("normal"),r.push(this.texture.generate(e,"t")),r.push(this.textureSize.build(e,"v2")),r.push(this.crop.build(e,"f")),r.push(this.mat.build(e,"mat3")),r.push(this.size.build(e,"v2")),r.push(this.blending.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),4===this.projection.value){let o=`${n}_writeUvs`,s=o+"0",a=o+"1",l=o+"2",c=`${n}_triplanarWeights`;e.addFragmentVariable(s,"vec2"),e.addFragmentVariable(a,"vec2"),e.addFragmentVariable(l,"vec2"),e.addFragmentVariable(c,"vec3"),r.push(s),r.push(a),r.push(l),r.push(c)}else{let o=`${n}_writeUvs`;e.addFragmentVariable(o,"vec2"),r.push(o)}return e.format(i+"("+r.join(",")+")",this.getType(e),t)}},Ak=sb;Ak.Nodes={cylindrical:new an("\nvec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n                vec3 posN = normalize(position);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float scaledHeight = position.y / (size.y * 0.5);\n                float v =  (scaledHeight / 2.) + .5;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\t\t\t\t\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}\n"),spherical:new an("\nvec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n                vec3 posN = normalize(vPosition);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float v = 0.5 + asin(posN.y) / 3.1415;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}\n"),uv:new an("vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n\t\t\t\tvec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n\t\t\t\tvec4 tmp = texture2D( tex, uvs );\n\n\t\t\t\tvec3 col = tmp.rgb;\n\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}"),triplanar:new an("vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {\n\t\t\t\tvec3 p = position;\n\t\t\t\tvec2 uv0 = (1.0 + p.xy) / 2.0;     \n\t\t\t\tvec2 uv1 = (1.0 + p.zy) / 2.0;\t\t\n\t\t\t\tvec2 uv2 = (1.0 + p.xz) / 2.0;\t\t\n\t\n\t\t\t\tuv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\t\t\t\tuv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\t\t\t\tuv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\n\t\t\t\t// Range from 3 to 128 seems to be good\n\t\t\t\tfloat exponent = (1.0 - blending) * 125.0 + 3.0;\n\n\t\t\t\tvec3 n = vObjectNormal;\n\t\t\t\tvec3 weights = abs(normalize(n));\n\t\t\t\tweights = pow(weights, vec3(exponent));\n\t\t\t\tweights /= dot(weights, vec3(1.0));\n\n\t\t\t\t// Write out all sets of UVs that we generated\n\t\t\t\twriteUvs0 = uv0;\n\t\t\t\twriteUvs1 = uv1;\n\t\t\t\twriteUvs2 = uv2;\n\t\t\t\twriteWeights = weights;\n\n\t\t\t\t// Derivatives for LOD\n\t\t\t\tvec2 df0 = fwidth(uv0);\n\t\t\t\tvec2 df1 = fwidth(uv1);\n\t\t\t\tvec2 df2 = fwidth(uv2);\n\t\t\t\tif (df0.x > 0.5) df0.x = 0.0;\n\t\t\t\tif (df1.x > 0.5) df1.x = 0.0;\n\t\t\t\tif (df2.x > 0.5) df2.x = 0.0;\n\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                \tvec4 tmp = \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;\n\t\t\t\t#else\n                \tvec4 tmp = \n\t\t\t\t\t\ttextureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + \n\t\t\t\t\t\ttextureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + \n\t\t\t\t\t\ttextureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\n\t\t\t\t// Apply cropping across all 3 planes\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;//n * 0.5 + 0.5;\n\t\t\t}\t\t\t\n\t\t\t")};var ab=class extends Ir{constructor(e,t,n,i,r,o,s,a,l,c,h,d){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=n,this.far=i,this.isVector=r,this.isWorldSpace=o,this.origin=s,this.direction=a,this.colors=l,this.steps=c,this.isMask=d,this.alpha=h,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`,i=new an(`vec3 ${n}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${n}_MAX_COLORS], float steps[${n}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {\n               vec4 color = colors[0];\n               #ifdef ${n}_IS_VECTOR\n                   #ifdef ${n}_LINEAR\n                       #ifdef ${n}_WORLDSPACE\n                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);\n                       #else\n                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);\n                       #endif\n                   #else\n                       #ifdef ${n}_WORLDSPACE\n                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);\n                       #else\n                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);\n                       #endif\n                   #endif\n               #else\n                   float dist = length(vWPosition - cameraPosition);\n\t\t\t       float depth = ( dist - near ) / ( far - near );\n               #endif\n\n\n              float p;\n              #ifdef ${n}_SMOOTH\n\t\t\t\tfor ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {\n\t\t\t\t\t\tp = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t\t}\n              #else\n                for ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {\n                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);\n                   color = mix(color, colors[i], p);\n                 }\n              #endif\n\n               float lalpha = alpha * color.a * mask;\n               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t   \n               return color.rgb;\n\t\t\t}`,[ab.Nodes.vectorLinearWorldSpaceDepth,ab.Nodes.vectorLinearObjectSpaceDepth,ab.Nodes.vectorSphericalObjectSpaceDepth,ab.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${n}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${n}_SMOOTH`),this.isVector.value>.5&&e.define(`${n}_IS_VECTOR`),0===this.gradientType.value&&e.define(`${n}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${n}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let r=e.include(i),o=[];return o.push(this.near.build(e,"f")),o.push(this.far.build(e,"f")),o.push(this.origin.build(e,"v3")),o.push(this.direction.build(e,"v3")),o.push(this.colors.build(e,"v4[]")),o.push(this.steps.build(e,"f[]")),o.push(this.isMask.build(e,"b")),o.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),o.push(this.alpha.build(e,"f")),o.push(this.calpha),e.format(r+"("+o.join(",")+")",this.getType(e),t)}return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},bq=ab;bq.Nodes={vectorLinearWorldSpaceDepth:new an("float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorLinearObjectSpaceDepth:new an("float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorSphericalWorldSpaceDepth:new an("float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(vWPosition - origin);\n               return ( dist - near ) / ( far - near );\n            }"),vectorSphericalObjectSpaceDepth:new an("float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(position - origin);\n               return ( dist - near ) / ( far - near );\n            }")};var xRe=class extends Ir{constructor(e,t,n,i,r,o,s,a){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=n,this.intensity=i,this.factor=r,this.isMask=a,this.alpha=o,this.mode=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=new an("vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {\n\t\t\t\t\tfloat fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );\n\n\t\t\t\t\tfloat lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\t\treturn color;\n\t\t\t\t}"),i=e.include(n),r=[];return r.push(this.color.build(e,"c")),r.push(this.bias.build(e,"f")),r.push(this.scale.build(e,"f")),r.push(this.intensity.build(e,"f")),r.push(this.factor.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},xq=class extends Ir{constructor(e,t,n,i,r,o,s,a,l){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=n,this.steps=i,this.offset=r,this.morph=o,this.angle=s,this.isMask=l,this.alpha=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(xq.Nodes.gradient),i=[];return i.push(this.gradientType.build(e,"i")),i.push(this.smooth.build(e,"b")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.offset.build(e,"v2")),i.push(this.morph.build(e,"v2")),i.push(this.angle.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},wq=xq;wq.Nodes={gradient:new an("vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\tvec4 color = colors[0];\n\t\t\t\tvec2 m = morph / vUv.xy;\n\t\t\t\tvec2 rot = vec2( 0.5 + m.x, m.y );\n\t\t\t\tvec2 dt = vec2(\n\t\t\t\t\tcos( angle ) * rot.x - sin( angle ) * rot.y,\n\t\t\t\t\tsin( angle ) * rot.x + cos( angle ) * rot.y\n\t\t\t\t);\n\t\t\t\tvec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;\n\t\t\t\tfloat t = dot( pt, dt ) / dot( dt, dt );\n\t\t\t\tif ( gradientType == 1 ) {\n\t\t\t\t\tt = distance (\n\t\t\t\t\t\t( vUv + morph ) * 3.0,\n\t\t\t\t\t\t( vUv + offset ) + 1.0\n\t\t\t\t\t) + angle;\n\t\t\t\t} else if ( gradientType == 2 ) {\n\t\t\t\t\tfloat polar = atan(\n\t\t\t\t\t\tvUv.x + morph.x - 0.5 + offset.x,\n\t\t\t\t\t\tvUv.y + morph.y - 0.5 + offset.y\n\t\t\t\t\t) * -1.0;\n\t\t\t\t\tt = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );\n\t\t\t\t}\n\n\t\t\t\tfloat p;\n\t\t\t\tif (smoothed) {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], p);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t\t\n\t\t\t\treturn color.xyz;\n\t\t\t}")};var Cq=class extends Ir{constructor(e,t,n,i){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=i,this.alpha=t,this.mode=n,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=e.include(Cq.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let i=[];return i.push(this.texture.generate(e,"t")),i.push("normal"),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Mq=Cq;Mq.Nodes={matcap:new an("vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha) {\n\t\t\t\t\tvec3 viewDir = normalize( vViewPosition );\n\t\t\t\t\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\t\t\t\t\tvec3 y = cross( viewDir, x );\n\t\t\t\t\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\t\t\t\t\tvec4 matcapColor = texture2D( matcapTex, uv );\n\n\t\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t\t\t\n\t\t\t\t\treturn matcapColor.rgb;\n            \t}")};var Tk=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e.VORONOI="voronoi",e))(Tk||{}),Pl=function(){let e=new an("vec3 random3(vec3 c) {\n\t\t\tfloat j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n\t\t\tvec3 r;\n\t\t\tr.z = fract(512.0*j);\n\t\t\tj *= .125;\n\t\t\tr.x = fract(512.0*j);\n\t\t\tj *= .125;\n\t\t\tr.y = fract(512.0*j);\n\t\t\treturn r-0.5;\n\t\t}"),t=new an("float simplex3d(vec3 p) {\n\t\t\t vec3 s = floor(p + dot(p, vec3(F3)));\n\t\t\t vec3 x = p - s + dot(s, vec3(G3));\n\t\t\t \n\t\t\t vec3 e = step(vec3(0.0), x - x.yzx);\n\t\t\t vec3 i1 = e*(1.0 - e.zxy);\n\t\t\t vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n\t\t\t\t\n\t\t\t vec3 x1 = x - i1 + G3;\n\t\t\t vec3 x2 = x - i2 + 2.0*G3;\n\t\t\t vec3 x3 = x - 1.0 + 3.0*G3;\n\t\t\t \n\t\t\t vec4 w, d;\n\t\t\t \n\t\t\t w.x = dot(x, x);\n\t\t\t w.y = dot(x1, x1);\n\t\t\t w.z = dot(x2, x2);\n\t\t\t w.w = dot(x3, x3);\n\t\t\t \n\t\t\t w = max(0.6 - w, 0.0);\n\t\t\t \n\t\t\t d.x = dot(random3(s), x);\n\t\t\t d.y = dot(random3(s + i1), x1);\n\t\t\t d.z = dot(random3(s + i2), x2);\n\t\t\t d.w = dot(random3(s + 1.0), x3);\n\t\t\t \n\t\t\t w *= w;\n\t\t\t w *= w;\n\t\t\t d *= w;\n\t\t\t \n\t\t\t return dot(d, vec4(52.0));\n\t\t}",[e]);t.keywords.F3=new Rr("float F3 0.3333333"),t.keywords.G3=new Rr("float G3 0.1666667");let n=new an("float simplex3dFractal(vec3 m) {\n\t\t\tmat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);\n\t\t\tmat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);\n\t\t\tmat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);\n\t\t\treturn 0.5333333 * simplex3d(m * rot1)\n\t\t\t\t + 0.2666667 * simplex3d(2.0 * m * rot2)\n\t\t\t\t + 0.1333333 * simplex3d(4.0 * m * rot3)\n\t\t\t\t + 0.0666667 * simplex3d(8.0 * m);\n\t\t}",[t]),i=new an("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),r=new an("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),o=new an("float simplexAshima(vec3 v) {\n\t\t  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n\t\t  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\t\t  vec3 i  = floor(v + dot(v, C.yyy) );\n\t\t  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\t\t  vec3 g = step(x0.yzx, x0.xyz);\n\t\t  vec3 l = 1.0 - g;\n\t\t  vec3 i1 = min( g.xyz, l.zxy );\n\t\t  vec3 i2 = max( g.xyz, l.zxy );\n\t\t  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n\t\t  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n\t\t  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\t\t  i = mod(i, 289.0 ); \n\t\t  vec4 p = permute( permute( permute( \n\t\t\t\t\t i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n\t\t\t\t   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n\t\t\t\t   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\t\t  float n_ = 1.0/7.0; // N=7\n\t\t  vec3  ns = n_ * D.wyz - D.xzx;\n\t\t  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\t\t  vec4 x_ = floor(j * ns.z);\n\t\t  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\t\t  vec4 x = x_ *ns.x + ns.yyyy;\n\t\t  vec4 y = y_ *ns.x + ns.yyyy;\n\t\t  vec4 h = 1.0 - abs(x) - abs(y);\n\t\t  vec4 b0 = vec4( x.xy, y.xy );\n\t\t  vec4 b1 = vec4( x.zw, y.zw );\n\t\t  vec4 s0 = floor(b0)*2.0 + 1.0;\n\t\t  vec4 s1 = floor(b1)*2.0 + 1.0;\n\t\t  vec4 sh = -step(h, vec4(0.0));\n\t\t  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n\t\t  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\t\t  vec3 p0 = vec3(a0.xy,h.x);\n\t\t  vec3 p1 = vec3(a0.zw,h.y);\n\t\t  vec3 p2 = vec3(a1.xy,h.z);\n\t\t  vec3 p3 = vec3(a1.zw,h.w);\n\t\t  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n\t\t  p0 *= norm.x;\n\t\t  p1 *= norm.y;\n\t\t  p2 *= norm.z;\n\t\t  p3 *= norm.w;\n\t\t  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n\t\t  m = m * m;\n\t\t  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n\t\t\t\t\t\t\t\t\t\tdot(p2,x2), dot(p3,x3) ) );\n\t\t}",[i,r]),s=new an("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),a=new an("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[s]),l=new an("float noise(vec3 p){\n\t\t\tvec3 a = floor(p);\n\t\t\tvec3 d = p - a;\n\t\t\td = d * d * (3.0 - 2.0 * d);\n\t\t\tvec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n\t\t\tvec4 k1 = perm(b.xyxy);\n\t\t\tvec4 k2 = perm(k1.xyxy + b.zzww);\n\t\t\tvec4 c = k2 + a.zzzz;\n\t\t\tvec4 k3 = perm(c);\n\t\t\tvec4 k4 = perm(c + 1.0);\n\t\t\tvec4 o1 = fract(k3 * (1.0 / 41.0));\n\t\t\tvec4 o2 = fract(k4 * (1.0 / 41.0));\n\t\t\tvec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n\t\t\tvec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\t\t\treturn o4.y * d.y + o4.x * (1.0 - d.y);\n\t\t}",[a]),c=new an("float fbm(vec3 x) {\n\t\t\tfloat v = 0.0;\n\t\t\tfloat a = 0.5;\n\t\t\tvec3 shift = vec3(100);\n\t\t\tfor (int i = 0; i < NUM_OCTAVES; ++i) {\n\t\t\t\tv += a * noise(x);\n\t\t\t\tx = x * 2.0 + shift;\n\t\t\t\ta *= 0.5;\n\t\t\t}\n\t\t\treturn v;\n\t\t}",[l]);c.keywords.NUM_OCTAVES=new Rr("int NUM_OCTAVES 5");let h=new an("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),d=new an("float perlin(vec3 P){\n\t\t  vec3 Pi0 = floor(P);\n\t\t  vec3 Pi1 = Pi0 + vec3(1.0);\n\t\t  Pi0 = mod(Pi0, 289.0);\n\t\t  Pi1 = mod(Pi1, 289.0);\n\t\t  vec3 Pf0 = fract(P);\n\t\t  vec3 Pf1 = Pf0 - vec3(1.0);\n\t\t  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\t\t  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n\t\t  vec4 iz0 = Pi0.zzzz;\n\t\t  vec4 iz1 = Pi1.zzzz;\n\t\t  vec4 ixy = permute(permute(ix) + iy);\n\t\t  vec4 ixy0 = permute(ixy + iz0);\n\t\t  vec4 ixy1 = permute(ixy + iz1);\n\t\t  vec4 gx0 = ixy0 / 7.0;\n\t\t  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n\t\t  gx0 = fract(gx0);\n\t\t  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n\t\t  vec4 sz0 = step(gz0, vec4(0.0));\n\t\t  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n\t\t  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\t\t  vec4 gx1 = ixy1 / 7.0;\n\t\t  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n\t\t  gx1 = fract(gx1);\n\t\t  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n\t\t  vec4 sz1 = step(gz1, vec4(0.0));\n\t\t  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n\t\t  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\t\t  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n\t\t  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n\t\t  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n\t\t  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n\t\t  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n\t\t  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n\t\t  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n\t\t  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\t\t  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n\t\t  g000 *= norm0.x;\n\t\t  g010 *= norm0.y;\n\t\t  g100 *= norm0.z;\n\t\t  g110 *= norm0.w;\n\t\t  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n\t\t  g001 *= norm1.x;\n\t\t  g011 *= norm1.y;\n\t\t  g101 *= norm1.z;\n\t\t  g111 *= norm1.w;\n\t\t  float n000 = dot(g000, Pf0);\n\t\t  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n\t\t  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n\t\t  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n\t\t  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n\t\t  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n\t\t  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n\t\t  float n111 = dot(g111, Pf1);\n\t\t  vec3 fade_xyz = fade(Pf0);\n\t\t  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n\t\t  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n\t\t  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n\t\t  return 2.2 * n_xyz;\n\t\t}",[i,r,h]),u=new an("float hashwithoutsine13(vec3 p3)\n\t\t{\n\t\t\tp3  = fract(p3 * .1031);\n\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t}"),f=new an("vec3 hashwithoutsine33(vec3 p3)\n\t\t{\n\t\t\tp3 = fract(p3 * vec3(.1031, .1030, .0973));\n\t\t\tp3 += dot(p3, p3.yxz+33.33);\n\t\t\treturn fract((p3.xxy + p3.yxx)*p3.zyx);\n\t\t}"),v=new an("float metric(in vec3 p)\n\t\t{\n\t\t\t// L2 \n\t\t\treturn length(p);\n\n\t\t\t// Chebyshev \n\t\t\t// vec3 a = abs(p);\n\t\t\t// return max(a.x, max(a.y, a.z));\n\t\t}"),y=new an("float smin( float a, float b, float k )\n\t\t{\n\t\t\tfloat h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);\n\t\t\tfloat correction = k * h * (1.0 - h);\n\t\t\treturn mix(b, a, h) - correction;\n\t\t}"),_=new an("float smax( float a, float b, float k )\n\t\t{\n\t\t\tfloat h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);\n\t\t\tfloat correction = k * h * (1.0 - h);\n\t\t\treturn mix(a, b, h) + correction;\n\t\t}"),w=new an("float remap(float value, float input_min, float input_max, float output_min, float output_max) {\n\t\t\t// Compute width of each interval\n\t\t\tfloat input_width = input_max - input_min;\n\t\t\tfloat output_width = output_max - output_min;\n\t\t\n\t\t\t// Convert input range into a 0-1 range \n\t\t\tfloat scaled = (value - input_min) / input_width;\n\t\t\n\t\t\t// Convert the 0-1 range into a value in output range\n\t\t\treturn output_min + (scaled * output_width);\n\t\t}");return{simplex:t,simplexFractal:n,simplexAshima:o,fbm:c,perlin:d,voronoi:new an('float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) \n\t\t{\n\t\t\t// Integer and fractional parts of this point\'s coordinates\n\t\t\tivec3 p = ivec3(floor(x));\n\t\t\tvec3 f = fract(x);\n\n\t\t\t// Different variables that we will use to construct noise:\n\t\t\t//\n\t\t\t// f1: distance to the closest feature point\n\t\t\t// f2: distance to the second closest feature point\n\t\t\t// e: distance to the closest edge (cell boundary)\n\t\t\t//\n\t\t\t// We also compute "smooth" versions of all of the above quantites, essentially\n\t\t\t// replacing "hard" minimums with "smooth" minimums (described by IQ)\n\t\t\tfloat f1_smooth = 8.0;\n\t\t\tfloat f1 = 8.0;\n\t\t\tfloat f2_smooth = 8.0;\n\t\t\tfloat f2 = 8.0;\n\t\t\tfloat e_smooth = 8.0;\n\t\t\tfloat e = 8.0;\n\n\t\t\t// Variables stored from closest cell\n\t\t\tivec3 mb;\n\t\t\tvec3 mr; \n\n\t\t\tint steps = quality;\n\t\t\t\n\t\t\tfor (int x = -steps; x <= steps; x++) \n\t\t\tfor (int y = -steps; y <= steps; y++)\n\t\t\tfor (int z = -steps; z <= steps; z++)\n\t\t\t{\n\t\t\t\tivec3 b = ivec3(x, y, z);\n\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\tfloat d = length(r);\n\t\t\t\t\n\t\t\t\tf1_smooth = smin(d, f1_smooth, smoothness);\n\n\t\t\t\t// Store un-smoothed distances too \n\t\t\t\tif (d < f1) \n\t\t\t\t{\n\t\t\t\t\tf2 = f1;\n\t\t\t\t\tf1 = d;\n\n\t\t\t\t\tmb = ivec3(x, y, z);\n\t\t\t\t\tmr = r;\n\t\t\t\t} \n\t\t\t\telse if (d < f2) \n\t\t\t\t{\n\t\t\t\t\tf2 = d;\n\t\t\t\t}\n\t\t\t}\t\n\t\t\t\n\t\t\tfloat id = hashwithoutsine13(vec3(p + mb) + seed);\n\n\t\t\t// Second pass for edge distance  \n\t\t\tfor (int x = -steps; x <= steps; x++) \n\t\t\tfor (int y = -steps; y <= steps; y++)\n\t\t\tfor (int z = -steps; z <= steps; z++)\n\t\t\t{\n\t\t\t\t// Start search at the cell that contains the closest point to "x" (found in 1st pass)\n\t\t\t\tivec3 b = mb + ivec3(x, y, z);\n\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\tfloat d1 = dot(0.5 * (mr + r), (r - mr)); \t\t\t\t// IQ normalizes "r - mr" but that breaks things for the smooth version?\n\t\t\t\tfloat d2 = dot(0.5 * (mr + r), normalize(r - mr));\n\n\t\t\t\te_smooth = smin(d1, e_smooth, smoothness);\n\n\t\t\t\te = min(e, d2);\n\n\t\t\t\t// Also compute a smooth version of F2 in this pass\n\t\t\t\t{\n\t\t\t\t\tivec3 b = ivec3(x, y, z);\n\t\t\t\t\tif (b != mb) \n\t\t\t\t\t{\n\t\t\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\t\t\tfloat d = length(r);\n\n\t\t\t\t\t\tf2_smooth = smin(d, f2_smooth, smoothness);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Different visualization modes \n\t\t\tif (style == 0) \n\t\t\t{\n\t\t\t\treturn f1_smooth;\n\t\t\t}\n\t\t\tif (style == 1) \n\t\t\t{\n\t\t\t\treturn f2_smooth;\n\t\t\t}\n\t\t\tif (style == 2) \n\t\t\t{\n\t\t\t\treturn f2_smooth - f1_smooth;\n\t\t\t\t\n\t\t\t\t// "Pebbles" also cool\n\t\t\t\t//return step(0.2, f2_smooth - f1_smooth);\n\t\t\t}\n\t\t\tif (style == 3) \n\t\t\t{\n\t\t\t\t// This one is really good for rock / stone effects\n\t\t\t\tfloat a = f1; \n\t\t\t\tfloat b = f2;\n\t\t\t\tfloat k = 3.0;\n\t\t\t\tfloat h = max(k - abs(a - b), 0.0) / k;\n\t\t\t\tfloat final = min(a, b) - h * h * k * (1.0 / 4.0);\n\t\t\t\treturn final;\n\t\t\t}\n\t\t\tif (style == 4) \n\t\t\t{\n\t\t\t\t// Some random adjustments to make this style stand out more \n\t\t\t\treturn exp(5.0 * e_smooth);\n\t\t\t}\n\t\t\tif (style == 5) \n\t\t\t{\n\t\t\t\treturn pow(f1_smooth, 3.0);\n\t\t\t}\n\t\t\tif (style == 6) \n\t\t\t{\t\t\t\t\n\t\t\t\tconst float eps = 0.0125;\n\n\t\t\t\t// Thicker lines as the user increases the smoothness slider\n\t\t\t\tfloat thickness = smoothness * 0.25 + eps;\n\n\t\t\t\t// Blurrier lines as the user increases the smoothness slider\n\t\t\t\tfloat blur = pow(smoothness, 3.0) * 0.25 + eps;\n\n\t\t\t\treturn smoothstep(\n\t\t\t\t\tthickness - thickness * blur, \n\t\t\t\t\tthickness + thickness * blur, \n\t\t\t\t\te\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (style == 7) \n\t\t\t{\n\t\t\t\treturn hashwithoutsine13(vec3(p + mb) + seed);\n\t\t\t}\n\t\t}\n\t',[u,f,v,y,_,w])}}(),Pq=class extends Ir{constructor(e,t,n,i,r,o,s,a,l,c,h,d,u,f,v,y,_,w,O){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=n,this.fA=i,this.fB=r,this.distortion=o,this.colorA=s,this.colorB=a,this.colorC=l,this.colorD=c,this.noiseType=d,this.voronoiStyle=f,this.highCut=v,this.lowCut=y,this.smoothness=_,this.seed=w,this.quality=O,this.isMask=u,this.alpha=h,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,n,i,r){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let o=Object.values(Tk)[this.noiseType.value],a=new an(`vec3 ${o}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) \n\t\t\t{\n                // Prevent scale of zero \n\t\t\t\tscale = max(abs(scale), 0.001);\n\n\t\t\t\tvec3 st = position / size;\n\t\t\t\tst /= scale;\n\n\t\t\t\t${"voronoi"==o?`\n\t\tfloat v = ${o}(st + move, voronoiStyle, smoothness, seed, quality);\n\n\t\t// Apply clipping to colors\n\t\tv = remap(v, lowCut, highCut, 0.0, 1.0);\n\t\tv = smax(v, 0.0, smoothness * 0.25);\n\t\tv = smin(v, 1.0, smoothness * 0.25);\n\n\t\t// Note that the voronoi mode only uses colors "A" and "C" from the UI \n\t\tvec4 color = mix(colorA, colorC, v); \n\t\t`:`\n\t\tvec3 q = vec3(${o}(st),\n\t\t\t\t\t   ${o}(st + vec3(1.0)),\n\t\t\t\t\t   ${o}(st + vec3(1.0)));\n\t\tvec3 r = vec3(${o}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),\n\t\t\t\t\t  ${o}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), \n\t\t\t\t\t  ${o}(st * q));\n\t\tfloat f = ${o}(st + r);\n\t\tvec4 color;\n\t\tcolor = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));\n\t\tcolor = mix(color, colorC, clamp(length(q), 0.0, 1.0));\n\t\tcolor = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));\n\t\t`}\n\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn clamp(color, 0.0, 1.0).rgb;\n\t\t\t}`,[Pl.simplex,Pl.simplexFractal,Pl.simplexAshima,Pl.fbm,Pl.perlin,Pl.voronoi]),l=e.include(a),c=[];return c.push(this.scale.build(e,"f")),c.push(this.size.build(e,"v3")),c.push(this.move.build(e,"f")),c.push(this.fA.build(e,"v2")),c.push(this.fB.build(e,"v2")),c.push(this.distortion.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.colorC.build(e,"v4")),c.push(this.colorD.build(e,"v4")),c.push(this.voronoiStyle.build(e,"i")),c.push(this.highCut.build(e,"f")),c.push(this.lowCut.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.seed.build(e,"f")),c.push(this.quality.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}};Pq.numOctaves=5;var Oq=class extends Ir{constructor(e,t,n,i,r,o,s,a,l,c,h,d,u,f,v,y){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=n,this.contourWidth=i,this.contourThreshold=r,this.outlineThreshold=o,this.contourFrequency=s,this.outlineSmoothing=a,this.contourDirection=l,this.positionalLines=c,this.compensation=h,this.resolution=d,this.normalMap=u,this.depthMap=f,this.pixelRatio=v,this.alpha=y,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${n}_offset`),this.firstTime){let i=this.outlineWidth.build(e,"f"),r=this.resolution.build(e,"v2"),o=this.compensation.build(e,"b"),s=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(i,"uniform float"),e.addVertexParsVariable(r,"uniform vec2"),e.addVertexParsVariable(o,"uniform bool"),e.addVertexParsVariable(s,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`\n                vID = randomColor.r;\n                vec2 ${n}_offset = vec2(0.0);\n                if (${o}) {\n                    vec4 ${n}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));\n                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the\n                    // normals face the camera directly. So we hackily fix this by offsetting the normal\n                    // by a tiny amount.\n                    vec3 ${n}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;\n                    ${n}_offset = normalize(${n}_clipNormal.xy) / ${r} * (${i} / 2.0) * ${n}_clipPosition.w * 2.0 * ${s};\n                    ${n}_clipPosition.xy += ${n}_offset;\n                    // TODO(MAX): To handle multiple outline layers, we only want to extrude\n                    // if this offset is the biggest of all the potential offsets\n                    gl_Position = ${n}_clipPosition;\n                }\n            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let i=e.include(Oq.Nodes.outline),r=[];return r.push(this.outlineColor.build(e,"c")),r.push(this.contourColor.build(e,"c")),r.push(this.outlineWidth.build(e,"f")),r.push(this.contourWidth.build(e,"f")),r.push(this.contourThreshold.build(e,"f")),r.push(this.outlineThreshold.build(e,"f")),r.push(this.contourFrequency.build(e,"f")),r.push(this.outlineSmoothing.build(e,"f")),r.push(this.contourDirection.build(e,"v3")),r.push(this.positionalLines.build(e,"b")),r.push(this.resolution.build(e,"v2")),r.push(this.normalMap.getTexture(e,"t")),r.push(this.depthMap.getTexture(e,"t")),r.push(this.pixelRatio.build(e,"f")),r.push(this.compensation.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),this.firstTime=!this.firstTime,e.format(i+"("+r.join(",")+")",this.getType(e),t)}return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},Sq=Oq;Sq.Nodes=function(){let e=new an("\nfloat sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)\n{\n    vec2 halton = haltonSequence[frameIndex];\n    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n    float temporalAngle  = temporalOffset * PI2;\n\n    vec2 texelSize = (vec2(1.0) / resolution);\n    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;\n\n    vec2 uvSamples[9];\n    vec4 normalSamples[9];\n\n\tuvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);\n\tuvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);\n\tuvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);\n\tuvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);\n\tuvSamples[4] = uv;\n\tuvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);\n\tuvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);\n\tuvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);\n\tuvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);\n\n\n    normalSamples[0] = texture2D(t, uvSamples[0]);\n    normalSamples[1] = texture2D(t, uvSamples[1]);\n    normalSamples[2] = texture2D(t, uvSamples[2]);\n    normalSamples[3] = texture2D(t, uvSamples[3]);\n    normalSamples[4] = texture2D(t, uvSamples[4]);\n    normalSamples[5] = texture2D(t, uvSamples[5]);\n    normalSamples[6] = texture2D(t, uvSamples[6]);\n    normalSamples[7] = texture2D(t, uvSamples[7]);\n    normalSamples[8] = texture2D(t, uvSamples[8]);\n\n    float depthBias = 0.0001;\n    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!\n    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n\n    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);\n  \tvec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);\n\n    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));\n    return edgeNormal;\n}\n");return{outline:new an("vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {\n                vec3 result = outlineColor;\n                float resultAlpha = 0.0;\n\n                vec3 N = normalize(vWNormal);\n                vec2 nuv = (gl_FragCoord.xy / resolution);\n                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);\n                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);\n\n                //resultAlpha = 1.0;\n                //result = vec3(sobelSample);\n\n                float t = 1.0 - contourThreshold;\n                if(positionalLines) {\n                    vec3 NDir = position * contourDirection;\n                    float NT = NDir.x + NDir.y + NDir.z;\n                    float f  = fract(NT * contourFrequency * 0.01);\n                    float df = fwidth(NT * contourFrequency);\n\n                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);\n                    if (g < 1.0 && resultAlpha == 0.0) {\n                        result = contourColor;\n                        resultAlpha = 1.0;\n                    }\n                 }\n                 else {\n                    vec3 NDir = N * contourDirection;\n                    float NT = NDir.x + NDir.y + NDir.z;\n                    float df = fwidth(NT * contourThreshold);\n                    float f = sin(NT * 1.0 * contourFrequency);\n                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);\n\n                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {\n                        result = contourColor;\n                        resultAlpha = 1.0 - g;\n                    }\n                 }\n\n                 float lalpha = alpha * resultAlpha * mask;\n                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\t\t\t\t \n                 return result;\n             }",[e])}}();var Au=class extends Ir{constructor(e,t,n,i,r,o,s,a,l,c,h,d,u,f,v,y,_,w){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=n,this.blending=i,this.offset=r,this.colorA=o,this.colorB=s,this.frequency=a,this.size=l,this.variation=c,this.smoothness=h,this.zigzag=d,this.rotation=u,this.vertical=f,this.horizontal=v,this.sides=y,this.isMask=w,this.alpha=_,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n;switch(e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float"),this.style.value){case 0:default:n="circle";break;case 1:n="ring";break;case 2:n="polygon";break;case 3:n="xcross";break;case 4:n="diamond";break;case 5:n="checkerboard";break;case 6:n="line";break;case 7:n="wave"}let i=`g${this.uuid.toString().replace(/-/g,"")}`,r=new an("float hashwithoutsine12(vec2 p)\n\t\t\t\t{\n\t\t\t\t\tvec3 p3 = fract(vec3(p.xyx) * .1031);\n\t\t\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t\t\t}"),o=new an("vec2 rotate_uv(in vec2 uv, float a, bool repeat) \n\t\t\t\t{\n\t\t\t\t\tconst float mid = 0.5;\n\t\t\t\t\tfloat radians = a * (PI / 180.0);\n\t\t\t\t\tvec2 rotated = vec2(\n\t\t\t\t\t\tcos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,\n\t\t\t\t\t\tcos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid\n\t\t\t\t\t);\n\t\t\t\t\treturn repeat ? fract(rotated): rotated;\n\t\t\t\t}"),s="";if(4===this.projection.value)s=`\n\t\t\t\tvec3 p = position;\n\t\t\t\tfloat factor = 0.0125;\n\t\t\t\tvec2 uv0 = fract(p.xy * factor);\n\t\t\t\tvec2 uv1 = fract(p.zy * factor);\n\t\t\t\tvec2 uv2 = fract(p.xz * factor);\n\t\t\t\t\n\t\t\t\tuv0 = rotate_uv(uv0 + offset, rotation, true);\n\t\t\t\tuv1 = rotate_uv(uv1 + offset, rotation, true);\n\t\t\t\tuv2 = rotate_uv(uv2 + offset, rotation, true);\n\t\n\t\t\t\tfloat d0 = ${2===this.style.value?`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\tfloat d1 = ${2===this.style.value?`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\tfloat d2 = ${2===this.style.value?`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\t\n\t\t\t\t// Range from 3 to 128 seems to be good\n\t\t\t\tfloat exponent = (1.0 - blending) * 125.0 + 3.0;\n\n\t\t\t\tvec3 n = vObjectNormal;\n\t\t\t\tvec3 weights = abs(normalize(n));\n\t\t\t\tweights = pow(weights, vec3(exponent));\n\t\t\t\tweights /= dot(weights, vec3(1.0));\n\t\t\t\td0 *= weights.z;\n\t\t\t\td1 *= weights.x;\n\t\t\t\td2 *= weights.y;\n\t\t\t\tfloat draw = d0 + d1 + d2;\n\t\n\t\t\t\tvec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;\n\t\t\t\t`;else{let h=2===this.style.value?`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d="";d=0===this.axis.value?"float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.y, p.z);\n\t\t\t\t\tfloat phi = acos(p.x / radius);":1===this.axis.value?"float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.x, p.z);\n\t\t\t\t\tfloat phi = acos(p.y / radius);":"float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.y, p.x);\n\t\t\t\t\tfloat phi = acos(p.z / radius);";let u="";switch(this.projection.value){case 0:u="custom_uv = vUv.st;";break;case 1:case 3:default:break;case 2:u=`\n\t\t\t\t\t\t\tvec3 p = position;\n\t\t\t\t\t\t\t${d}\n\t\t\t\t\t\t\tcustom_uv = vec2(theta, phi);\n\t\t\t\t\t\t\tcustom_uv /= PI;\n\t\t\t\t\t\t\t`}s=`\n\t\t\t\tvec2 custom_uv;\n\t\t\t\t${u}\n\t\n\t\t\t\tcustom_uv += offset;\n\t\t\t\tcustom_uv = fract(custom_uv);\n\t\t\t\tcustom_uv = rotate_uv(custom_uv, rotation, true);\n\t\n\t\t\t\tfloat draw = ${h};\n\t\t\t\t`}let a=new an(`vec3 ${i}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\t\tconst float TWO_PI = PI * 2.0;\n\t\t\t\t\tfloat smoothness_remapped = pow(smoothness, 5.0);\t\n\n\t\t\t\t\t${s}\n\n\t\t\t\t\t// Construct final output color\n\t\t\t\t\tvec4 color = mix(colorA, colorB, draw);\n\t\t\t\t\tcolor.a = clamp(color.a, 0.0, 1.0);\n\n\t\t\t\t\t// Apply cuts\n\t\t\t\t\tcolor.a *= \n\t\t\t\t\t\tstep(vertical.x, custom_uv.y) * \n\t\t\t\t\t\tstep(custom_uv.y, vertical.y);\n\t\t\t\t\tcolor.a *= \n\t\t\t\t\t\tstep(horizontal.x, abs(custom_uv.x)) * \n\t\t\t\t\t\tstep(abs(custom_uv.x), horizontal.y);\n\n\t\t\t\t\t// Accumulate alpha \n\t\t\t\t\tfloat lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\t\treturn clamp(color, 0.0, 1.0).rgb;\n\t\t\t\t}`,[o,r,Au.DrawFunctions.circle,Au.DrawFunctions.ring,Au.DrawFunctions.polygon,Au.DrawFunctions.cross,Au.DrawFunctions.diamond,Au.DrawFunctions.checkerboard,Au.DrawFunctions.line,Au.DrawFunctions.wave]),l=e.include(a),c=[];return c.push("normal"),c.push(this.blending.build(e,"f")),c.push(this.style.build(e,"i")),c.push(this.offset.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.frequency.build(e,"v2")),c.push(this.size.build(e,"f")),c.push(this.variation.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.zigzag.build(e,"f")),c.push(this.rotation.build(e,"f")),c.push(this.vertical.build(e,"v2")),c.push(this.horizontal.build(e,"v2")),c.push(this.sides.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},Eq=Au;Eq.DrawFunctions=function(){let e=new an("float hashwithoutsine12(vec2 p) {\n\t\t\t\tvec3 p3 = fract(vec3(p.xyx) * 0.1031);\n\t\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t\t}"),t=new an("vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {\n                // Create tiles in UV-space\n                uv *= frequency;\n\n                // Integer coords\n                vec2 i = floor(uv);\n\n                // Offset every other row based on zigzag param, then compute fractional coords\n                float row_offset = mod(i.y, 2.0);\n                uv.x += row_offset * zigzag;\n                vec2 f = fract(uv);\n\n\t\t\t\t// Rotate the tile itself:\n\t\t\t\t// const float mid = 0.5;\n\t\t\t\t// f = vec2(\n\t\t\t\t// \tcos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,\n\t\t\t\t// \tcos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid\n\t\t\t\t// );\n\t\t\t\t// f = fract(f);\n\n                f = f * 2.0 - 1.0;\n\n\t\t\t\t// Recompute integer coords after shifting - then, random value per tile \n\t\t\t\ti = floor(uv);\n\t\t\t\tfloat rand = (hashwithoutsine12(i) * 5.0 + 1.0);\n\t\t\t\tfloat jitter = mix(1.0, rand, variation);\n\t\t\t\tf *= jitter;\n\n                return f;\n            }",[e]);return{tileAndCenter:t,circle:new an("float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(\n                    -smoothness, \n                     smoothness, \n                     length(f) - size\n                );\n            }",[t]),ring:new an("float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n\n\t\t\t\tfloat d = length(f);\n                const float inner_width = 0.5;\n\n                float outer = smoothstep(-smoothness, smoothness, d - size);\n                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);\n\t\t\t\treturn outer + (1.0 - inner);   \n            }",[t]),polygon:new an("float sdf_ngon(in vec2 p, in float r, in int n) {\n                float an = (PI * 2.0) / float(n);\n                float he = r * tan(0.5 * an);\n                \n                // Rotate to first sector\n                p = -p.yx; \n                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);\n                vec2  cs = vec2(cos(bn), sin(bn));\n                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;\n            \n                // Side of polygon\n                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);\n            }\n            \n            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));\n            }",[t]),cross:new an("float sdf_cross(in vec2 p, in vec2 b, float r ) {\n                p = abs(p); \n\t\t\t\tp = (p.y > p.x) ? p.yx : p.xy;\n                vec2  q = p - b;\n                float k = max(q.y, q.x);\n                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);\n                return sign(k) * length(max(w, 0.0)) + r;\n            }\n            \n            // Avoid namespace conflicts \n            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));\n            }",[t]),diamond:new an("float ndot(vec2 a, vec2 b) { \n                return a.x*b.x - a.y*b.y; \n            }\n            \n            float sdf_diamond(in vec2 p, in vec2 b) {\n                p = abs(p);\n                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);\n                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));\n                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);\n            }\n\n            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n\t            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));\n            }",[t]),checkerboard:new an("float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                uv *= frequency;\n                vec2 i = floor(uv);\n\n                float offset = mod(i.y, 2.0);\n\n                uv.x += offset + zigzag * offset;\n                float x = floor(uv.x);\n                \n                return mod(x, 2.0);\n            }"),line:new an("float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);\n\t\t\t\t\n\t\t\t\t// Different approach for variation param here\n\t\t\t\tfloat row = floor(uv * frequency).y;\n\t\t\t\tfloat rand = hashwithoutsine12(vec2(row));\n\t\t\t\tfloat s = mix(size, size * rand, variation);\n\n\t\t\t\treturn smoothstep(\n\t\t\t\t\ts - smoothness, \n\t\t\t\t\ts + smoothness, \n\t\t\t\t\tabs(f.y)\n\t\t\t\t);\n            }",[t]),wave:new an("// Uses bisection \n            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {\n                // Convert all data to a primitive cosine wave\n                p = c * (p - vec2(d, a));\n                \n                const float TWO_PI = PI * 2.0;\n\n                // Reduce to principal half cycle\n                p.x = mod(p.x, TWO_PI); \n                if (p.x > PI) {\n                    p.x = TWO_PI - p.x;\n                }\n            \n                // Find zero of derivative (minimize distance)\n                float xa = 0.0;\n                float xb = TWO_PI;\n\n                // 24 bit precision\n                for (int i = 0; i < 24; i++) {\n                    float x = 0.5 * (xa + xb);\n                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));\n                    if (y < 0.0) xa = x; \n                    else xb = x;\n                }\n                float x = 0.5 * (xa + xb);\n                \n                // Compute distance    \n                vec2 q = vec2(x, b * c * cos(x));\n                return length(p - q) / c;\n            }\n\n            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                float repeat = frequency.x;\n                uv *= repeat;\n                vec2 i = floor(uv);\n                float row_offset = mod(i.y, 2.0);\n                uv.x += row_offset * zigzag;\n                vec2 f = vec2(uv.x, fract(uv.y));\n\n                // Generalized cosine: y(x) = a + b * cos(cx + d)\n                const float amplitude = 0.125;\n                float wave_frequency = frequency.y * 0.1;\n                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);\n\n\t\t\t\t// Different approach for variation param here\n\t\t\t\tfloat rand = hashwithoutsine12(vec2(i.y));\n\t\t\t\tfloat s = mix(size, size * rand, variation);\n\n                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);\n            }")}}();var Dq=class extends Ir{constructor(e,t,n,i,r,o,s,a){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=n,this.noiseStrength=i,this.noiseScale=r,this.offset=o,this.isMask=a,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(Dq.Nodes.rainbow),i=[];return i.push(this.filmThickness.build(e,"f")),i.push(this.movement.build(e,"f")),i.push(this.wavelengths.build(e,"v3")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.offset.build(e,"v3")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Aq=Dq;Aq.Nodes=function(){let e=new an("vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {\n                 vec3 st = position / noiseScale;\n\t\t\t\t vec3 q = vec3(simplex3d(st),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)));\n\n\t\t\t\t vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st * q));\n\n                 float noise = simplex3d(st + r);\n\n                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);\n             }",[Pl.simplex]);return{rainbow:new an("vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\tvec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);\n\n\t\t\t\tfloat rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);\n\n\t\t\t\tfloat lalpha = alpha * rainbowContribution * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn res;\n             }",[e])}}();var Tq=class extends Ir{constructor(e,t,n,i,r,o,s,a,l,c){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=n,this.source=i,this.isWorldSpace=r,this.noiseStrength=o,this.noiseScale=s,this.shadowColor=a,this.offset=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let n=e.include(Tq.Nodes.toon),i=[];return i.push(this.positioning.build(e,"i")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.source.build(e,"v3")),i.push(this.isWorldSpace.build(e,"b")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.shadowColor.build(e,"v4")),i.push(this.offset.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},kq=Tq;kq.Nodes=function(){let e=new an("float rand(float n) {\n\t\t\t\treturn fract(sin(n) * 43758.5453123);\n\t\t\t}"),t=new an("float hash1(float p) { \n\t\t\t\tp = fract(p * 0.011); \n\t\t\t\tp *= p + 7.5; \n\t\t\t\tp *= p + p; \n\t\t\t\treturn fract(p); \n\t\t\t}"),n=new an("float valueNoise(vec3 x) {\n\t\t\t\tconst vec3 step = vec3(110, 241, 171);\n\t\t\t\n\t\t\t\tvec3 i = floor(x);\n\t\t\t\tvec3 f = fract(x);\n\t\t\t \n\t\t\t\t// For performance, compute the base input to a 1D hash from the integer part of the argument and the \n\t\t\t\t// incremental change to the 1D based on the 3D -> 1D wrapping\n\t\t\t\tfloat n = dot(i, step);\n\t\t\t\n\t\t\t\tvec3 u = f * f * (3.0 - 2.0 * f);\n\t\t\t\treturn mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),\n\t\t\t\t\t\t\t   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\n\t\t\t\t\t\t   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),\n\t\t\t\t\t\t\t   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\n\t\t\t}",[t]),i=new an("vec3 hash3(vec3 x) {\n\t\t\t\tx = vec3(dot(x,vec3(127.1, 311.7, 74.7)),\n\t\t\t\t\t\t dot(x,vec3(269.5, 183.3, 246.1)),\n\t\t\t\t\t\t dot(x,vec3(113.5, 271.9, 124.6)));\n\t\t\t\n\t\t\t\treturn fract(sin(x)*43758.5453123);\n\t\t\t}"),r=new an('vec3 voronoiNoise(in vec3 x)\n\t\t\t{\n\t\t\t\tvec3 p = floor(x);\n\t\t\t\tvec3 f = fract(x);\n\n\t\t\t\tfloat id = 0.0;\n\t\t\t\tvec2 res = vec2(100.0);\n\n\t\t\t\tfor(int k=-1; k<=1; k++)\n\t\t\t\tfor(int j=-1; j<=1; j++)\n\t\t\t\tfor(int i=-1; i<=1; i++)\n\t\t\t\t{\n\t\t\t\t\tvec3 b = vec3(float(i), float(j), float(k));\n\n\t\t\t\t\t// Comment out the "+ hash(p + b);" part below to get "square" cells\n\t\t\t\t\tvec3 r = vec3(b) - f + hash3(p + b);\n\t\t\t\t\tfloat d = dot(r, r);\n\n\t\t\t\t\tif (d < res.x)\n\t\t\t\t\t{\n\t\t\t\t\t\tid = dot(p + b, vec3(1.0, 57.0, 113.0));\n\t\t\t\t\t\tres = vec2(d, res.x);\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse if (d < res.y)\n\t\t\t\t\t{\n\t\t\t\t\t\tres.y = d;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn vec3(sqrt(res), abs(id));\n\t\t\t}\n\t\t\t',[i]);return{toon:new an('vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {\n\t\t\t\tfloat t = 0.0;\n\t\t\t\tfloat shadow = 1.0;\n\n\t\t\t\tif (positioning == 0) {\n\n\t\t\t\t\t// Can\'t do this mode if lighting is "none"\n\t\t\t\t\t#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))\n\n\t\t\t\t\t\t// Algorithm from Chapter 10 of Graphics Shaders\n\t\t\t\t\t\tconst vec3 weights = vec3(0.2125, 0.7154, 0.0721);\n\t\t\t\t\t\tvec3 lpos;\n\t\t\t\t\t\tvec3 l;\n\t\t\t\t\t\tfloat dproduct;\n\n\t\t\t\t\t\t#if (NUM_POINT_LIGHTS > 0)\n\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tPointLightShadow pointLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_POINT_LIGHTS; i++) {\n\t\t\t\t\t\t\t\t// Light positions are in view-space for some reason?\n\t\t\t\t\t\t\t\tlpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;\n\t\t\t\t\t\t\t\tl = normalize(lpos - worldPosition);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// TODO: we want to use "intensity" but it isn\'t available in the shader code\n\t\t\t\t\t\t\t\t//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);\n\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tpointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getPointShadow( \n\t\t\t\t\t\t\t\t\t\t\tpointShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowRadius,\n\t\t\t\t\t\t\t\t\t\t\tvPointShadowCoord[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowCameraNear, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowCameraFar);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#if NUM_DIR_LIGHTS > 0 \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tDirectionalLightShadow directionalLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_DIR_LIGHTS; i++) {\n\t\t\t\t\t\t\t\t// Use the direction vector for directional lights instead\n\t\t\t\t\t\t\t\tl = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;\n\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tdirectionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getShadow( \n\t\t\t\t\t\t\t\t\t\tUNROLLED_LOOP_INDEX,\n\t\t\t\t\t\t\t\t\t\tdirectionalShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowRadius, \n\t\t\t\t\t\t\t\t\t\tvDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#if NUM_SPOT_LIGHTS > 0 \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tSpotLightShadow spotLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_SPOT_LIGHTS; i++) {\n\t\t\t\t\t\t\t\tlpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;\n\t\t\t\t\t\t\t\tl = normalize(lpos - worldPosition);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tspotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getShadow(\n\t\t\t\t\t\t\t\t\t\tUNROLLED_LOOP_INDEX,\n\t\t\t\t\t\t\t\t\t\tspotShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowRadius, \n\t\t\t\t\t\t\t\t\t\tvSpotLightCoord[UNROLLED_LOOP_INDEX]);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\tt = clamp(t, 0.0, 1.0);\n\t\t\t\t\n\t\t\t\t\t#endif\n\n\t\t\t\t} else if (positioning == 1) {\n\t\t\t\t\t\n\t\t\t\t\tvec3 origin = mix(position, worldPosition, float(isWorldSpace));\n\t\t\t\t\tvec3 direction = normalize(source - origin);\n\t\t\t\t\tt = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;\t\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvec3 origin = worldPosition;\n\t\t\t\t\tvec3 source = cameraPosition - offset;\n\t\t\t\t\tvec3 direction = normalize(source - origin);\n\t\t\t\t\tt = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;\t\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\tif (noiseStrength > 0.0) {\n\t\t\t\t\t// Distort with noise\n\t\t\t\t\tvec3 st = position / noiseScale;\n\t\t\t\t\t\n\t\t\t\t\t// Voronoi "smooth" noise\n\t\t\t\t\tfloat noise = 1.0 - voronoiNoise(st).x;\n\n\t\t\t\t\t// Voronoi cellular noise\n\t\t\t\t\t//float noise = 1.0 - rand(voronoiNoise(st).z);\n\n\t\t\t\t\t// Position warp noise\n\t\t\t\t\t// vec3 offset = vec3(\n\t\t\t\t\t// \tsimplex3d(st),\n\t\t\t\t\t// \tsimplex3d(st + vec3(111.1, 143.89, 217.19)),\n\t\t\t\t\t// \tsimplex3d(st + vec3(171.1, 247.89, 117.23))\n\t\t\t\t\t// );\n\t\t\t\t\t// st += offset;\n\t\t\t\t\t// float noise = valueNoise(st);\n\n\t\t\t\t\tt += noise * noiseStrength;\n\t\t\t\t}\n\n\t\t\t\tt = clamp(t, 0.0, 1.0);\n\n\t\t\t\t// Compute ramp color\n\t\t\t\tfloat p;\n\t\t\t\tvec4 color = colors[0];\n\t\t\t\tfor (int i = 1; i < COLORS_MAX; i++) {\n\t\t\t\t\tp = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);\n\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t}\n\n\t\t\t\t// Incorporate custom shadow color\n\t\t\t\tif (positioning == 0) {\n\n\t\t\t\t\tvec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);\n\t\t\t\t\tcolor.rgb = mix(blendedShadow, color.rgb, shadow);\n\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t// Accumulate alpha as usual\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha;\n\n\t\t\t\treturn color.xyz;\n\n            }',[Pl.simplex,e,n,r])}}();var wRe={textureBicubic:new an("float w0( float a ) {\n            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n        }\n    \n        float w1( float a ) {\n            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n        }\n    \n        float w2( float a ){\n            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n        }\n    \n        float w3( float a ) {\n            return ( 1.0 / 6.0 ) * ( a * a * a );\n        }\n    \n        // g0 and g1 are the two amplitude functions\n        float g0( float a ) {\n            return w0( a ) + w1( a );\n        }\n    \n        float g1( float a ) {\n            return w2( a ) + w3( a );\n        }\n    \n        // h0 and h1 are the two offset functions\n        float h0( float a ) {\n            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n        }\n    \n        float h1( float a ) {\n            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n        }\n    \n        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n            uv = uv * texelSize.zw + 0.5;\n    \n            vec2 iuv = floor( uv );\n            vec2 fuv = fract( uv );\n    \n            float g0x = g0( fuv.x );\n            float g1x = g1( fuv.x );\n            float h0x = h0( fuv.x );\n            float h1x = h1( fuv.x );\n            float h0y = h0( fuv.y );\n            float h1y = h1( fuv.y );\n    \n            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    \n            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + \n                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n        }\n\n        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n            vec2 fLodSizeInv = 1.0 / fLodSize;\n            vec2 cLodSizeInv = 1.0 / cLodSize;\n            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n            return mix( fSample, cSample, fract( lod ) );\n        }")},Iq=class extends Ir{constructor(e,t,n,i,r,o,s,a){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=n,this.transmissionSamplerSize=i,this.transmissionSamplerMap=r,this.transmissionDepthMap=o,this.aspectRatio=s,this.alpha=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,$n.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let n=e.include(Iq.Nodes.transmission),i=[];return i.push(this.thickness.build(e,"f")),i.push(this.ior.build(e,"f")),i.push(this.roughness.build(e,"f")),i.push(this.transmissionSamplerSize.build(e,"v2")),i.push(this.transmissionSamplerMap.getTexture(e,"t")),i.push(this.transmissionDepthMap.getTexture(e,"t")),i.push(this.aspectRatio.build(e,"v2")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Rq=Iq;Rq.Nodes=function(){let e=new an("vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {\n                // Slightly modified version of this:\n                // https://www.shadertoy.com/view/ltScRG\n\n\t\t\t\t// Special case for blur == 0.0\n\t\t\t\tif (lod == 0.0) {\n\t\t\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\t\treturn texture2DLodEXT( sp, U, 0.0).rgb;\n\t\t\t\t\t#else\n\t\t\t\t\treturn textureLod( sp, U, 0.0).rgb;\n\t\t\t\t\t#endif\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec2 texelSize = vec2(1.0) / resolution;\n                vec2 halton = haltonSequence[frameIndex];\n                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n                float temporalAngle  = temporalOffset * PI2;\n\t\t\t\tvec3 res = vec3(0.0);\n                vec2 uv = vec2(0.0);\n                vec2 offset = vec2(0.0);\n                vec2 vogelSample = vec2(0.0);\n                for (int i = 0; i < NUM_SAMPLES; i++) {\n                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;\n                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20\n                    uv = U + offset;\n                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));\n                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {\n                        uv = unrefractedU;\n                        lod = lod > 4.0 ? lod : lod / 2.0;\n                    }\n                    res += textureLod(sp, uv, lod).rgb;\n                }\n                return res / float(NUM_SAMPLES);\n            }"),t=new an("vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\t        // Direction of refracted light.\n\t\t        vec3 refractionVector = refract( -v,  n, 1.0 / ior );\n\t\t        \n\t\t\t\t// Compute rotation-independant scaling of the model matrix.\n\t\t        vec3 modelScale;\n\t\t        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\t        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\t        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\n\t\t        // The thickness is specified in local space\n\t\t        return normalize( refractionVector ) * thickness * modelScale;\n\t        }"),n=new an("float applyIorToRoughness( float roughness, float ior ) {\n\t\t\t\t// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and\n\t\t\t\t// an IOR of 1.5 results in the default amount of microfacet refraction.\n\t\t\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t\t\t}"),i=new an('vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {\n\t\t\t\t// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see\n\t\t\t\t// also the code in convertTransmission.ts, which runs during export\n\t\t\t\t#ifdef IS_THREEJS_EXPORT\n\t\t\t\t\tfloat lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);\n\t\t\t\t\treturn textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;\n\t\t\t\t#else\n\t\t\t\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t\t\t\tfloat lod = applyIorToRoughness(roughness, ior);\n\t\t\t\t\treturn blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);\n\t\t\t\t#endif\n\t\t\t}',[wRe.textureBicubic,n,e]),r=new an("vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\n\t\t\t\t// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\n\t\t\t\tvec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );\n\t\t\t\tvec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;\n\t\t\t\tunrefractedCoords += 1.0;\n\t\t\t\tunrefractedCoords /= 2.0;\n\n\t\t\t\t// Sample framebuffer to get pixel the refracted ray hits.\n\t\t\t\treturn getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );\n    \t\t}",[i,t]);return{transmission:new an("vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {\n                vec3 v = vec3(0.);\n                if (isOrthographic) {\n                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n                } else {\n                    v = normalize(vWPosition - cameraPosition);\n                }\n                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );\n                \n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * alpha;\n\n\t\t\t\treturn transmission;\n            }",[r])}}();var kk=(e=>(e.NOISE="noise",e.MAP="map",e))(kk||{}),Nq=class extends Ir{constructor(e,t,n,i,r,o,s,a,l,c,h){super("v3"),this.displacementTypeIndex=new Wr(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,"map"===Object.values(kk)[this.displacementTypeIndex.value]&&(this.mat=new fq(this.movementOrTexture.value.matrix)),this.cropOrOffset=n,this.scale=c,this.noiseFunctionIndex=h,this.voronoiStyle=i,this.smoothness=r,this.seed=o,this.highCut=s,this.lowCut=a,this.quality=l}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let n,i=[];switch(i.push("displaced_position"),i.push("displaced_normal"),Object.values(kk)[this.displacementTypeIndex.value]){case"map":n=e.include(Nq.Nodes.map),i.push(this.movementOrTexture.getTexture(e,"t")),i.push("uv"),i.push(this.cropOrOffset.build(e,"f")),this.mat&&i.push(this.mat.build(e,"mat3"));break;case"noise":{let r=Object.values(Tk)[this.noiseFunctionIndex.value],o=new an("vec3 orthogonal(vec3 v) {\n\t\t\t\t\t\t\treturn normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n\t\t\t\t\t\t}"),a=new an(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {\n\t\t\t\t\t\t\t${"voronoi"==r?`\n\t\t\t\t\tfloat v = ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);\n\t\t\t\t\tv = remap(v, lowCut, highCut, 0.0, 1.0);\n\t\t\t\t\tv = smax(v, 0.0, smoothness * 0.25);\n\t\t\t\t\tv = smin(v, 1.0, smoothness * 0.25);\n\n\t\t\t\t\treturn p + n * v * intensity;\n\t\t\t\t\t`:`\n\t\t\t\t\treturn p + n * ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;\n\t\t\t\t\t`}\n\t\t\t\t\t\t}`,[Pl.simplex,Pl.simplexFractal,Pl.simplexAshima,Pl.fbm,Pl.perlin,Pl.voronoi]),l=new an("vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {\n\t\t\t\t\t\t\tvec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tvec3 tangent1 = orthogonal(normal);\n\t\t\t\t\t\t\tvec3 tangent2 = normalize(cross(normal, tangent1));\n\n                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.\n                            // This caused some small oval/circular visual artifacts in the lighting.\n                            // For now, simply using neighbors further away betters the problem,\n                            // but we should figure out the underlying cause when we have some time.\n                            // Maybe its related to how we calculate the tangent and bitangent?\n\t\t\t\t\t\t\tvec3 nearby1 = position + tangent1;\n\t\t\t\t\t\t\tvec3 nearby2 = position + tangent2;\n\t\t\t\t\t\t\tvec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tvec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tdisplaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n\t\t\t\t\t\t\treturn displaced_position;\n\t\t\t\t\t\t}",[a,o]);n=e.include(l),i.push(this.scale.build(e,"f")),i.push(this.cropOrOffset.build(e,"v3")),i.push(this.movementOrTexture.build(e,"f")),i.push(this.voronoiStyle.build(e,"i")),i.push(this.smoothness.build(e,"f")),i.push(this.seed.build(e,"f")),i.push(this.highCut.build(e,"f")),i.push(this.lowCut.build(e,"f")),i.push(this.quality.build(e,"i"));break}}return i.push(this.intensity.build(e,"f")),i.push("displaced_normal"),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Fq=Nq;Fq.Nodes=function(){let e=new an("vec3 orthogonal(vec3 v) {\n\t\t\t\treturn normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n\t\t\t}"),t=new an("float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {\n\t\t\t\tvec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;\n\t\t\t\tvec4 tmp = texture2D(tex, uvs);\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tif (crop > 0.5) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\treturn 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn col.r;\n\t\t\t}");return{map:new an("vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {\n\t\t\t\tvec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;\n\t\t\t\tvec3 tangent1 = normalize(orthogonal(normal));\n\t\t\t\tvec3 tangent2 = normalize(cross(normal, tangent1));\n\t\t\t\tvec3 nearby1 = position + tangent1 * 0.1;\n\t\t\t\tvec3 nearby2 = position + tangent2 * 0.1;\n\t\t\t\tvec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tvec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tdisplaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n\t\t\t\treturn displaced_position;\n\t\t\t}",[e,t])}}();var $n={normalRenderTarget:new Eu,normalRenderTargetDepth:new Eu,transmissionRenderTarget:new Eu,aspectRatio:new na,transmissionSize:new na(2048,2048),transmissionRenderTargetDepth:new Eu,aoRenderTarget:new Eu,aoEnabled:new Qa,pixelRatioNode:new On(1),resolution:new na,penumbraSize:new Gm(5,.5),frameIndex:new Wr(0),transmissionLod:new Wr(2)};for(let e of Object.values($n))e.isRenderGlobal=!0;var Ik,Lq=class extends nf{constructor(){super("basic"),this.nodeType="Basic",this.color=new Bo(Tc),this.shadingAlpha=new On(1),this.shadingBlend=new Wr(0),this.previousModelViewMatrix=new wh,this.previouseProjectionMatrix=new wh}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:$n.frameIndex}),e.mergeUniform({resolution:$n.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(W0.merge([rn.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","\tvNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{void 0===this.color&&(this.color=new Bo(Tc)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let n=this.color.flow(e,"c",{slot:"color"}),i=this.alpha?this.alpha.flow(e,"f"):void 0,r=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=void 0!==i,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join("\n"));let s=["#include <normal_fragment_begin>",n.code];i&&s.push(i.code,"#ifdef ALPHATEST"," if ( "+i.result+" <= ALPHATEST ) discard;","#endif"),o?s.push(o.code,`vec3 outgoingLight = ${n.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`):s.push(`vec3 finalColor = ${n.result};`);let a="1.0";this.mask&&(this.mask.analyze(e),a=`luminance(${this.mask.flow(e,"v3").result})`),s.push(i?`gl_FragColor = vec4( finalColor, accumAlpha * ${i.result} * ${a} );`:"gl_FragColor = vec4("+n.result+", 1.0 );"),r&&s.push(`gl_FragColor.a *= ${r.result};`),s.push("#include <fog_fragment>","#include <dithering_fragment>"),t=s.join("\n")}return t}},MRe=class extends nf{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new Bo(Tc),this.emissive=new Bo(0),this.emissiveIntensity=new On(1),this.previousModelViewMatrix=new wh,this.previouseProjectionMatrix=new wh,this.shadingAlpha=new On(1),this.shadingBlend=new Wr(0),this.occlusion=new Qa(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:$n.frameIndex}),e.mergeUniform({resolution:$n.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(W0.merge([rn.fog,rn.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\n\t\t\t\t\tvec3 diffuse = vec3( 1.0 );\n\t\t\t\t\tGeometricContext geometry;\n\t\t\t\t\tgeometry.position = mvPosition.xyz;\n\t\t\t\t\tgeometry.normal = normalize( transformedNormal );\n\t\t\t\t\tgeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\n\t\t\t\t"),i.push("\n\t\t\t\t\tGeometricContext backGeometry;\n\t\t\t\t\tbackGeometry.position = geometry.position;\n\t\t\t\t\tbackGeometry.normal = -geometry.normal;\n\t\t\t\t\tbackGeometry.viewDir = geometry.viewDir;\n\t\t\t\t\tvLightFront = vec3( 0.0 );\n\t\t\t\t\tvIndirectFront = vec3( 0.0 );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvLightBack = vec3( 0.0 );\n\t\t\t\t\t\tvIndirectBack = vec3( 0.0 );\n\t\t\t\t\t#endif\n\t\t\t\t\tIncidentLight directLight;\n\t\t\t\t\tfloat dotNL;\n\t\t\t\t\tvec3 directLightColor_Diffuse;\n\t\t\t\t\tvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\tvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\t\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_POINT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_SPOT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_DIR_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_HEMI_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:$n.penumbraSize}),e.mergeUniform({frameIndex:$n.frameIndex}),e.mergeUniform({aoMap:$n.aoRenderTarget}),e.mergeUniform({aoEnabled:$n.aoEnabled}),void 0===this.color&&(this.color=new Bo(Tc)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.emissive.flow(e,"c",{slot:"emissive"}),r=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),o=this.occlusion.flow(e,"b",{slot:"occlusion"}),s=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,h=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let d=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx, viewdy));\n\t\t\t\tbool isFrontFacing = (dot(normal, faceNormal) >= 0.0);\n\t\t\t\t","#include <clipping_planes_fragment>"];d.push(n.code,"vec3 diffuseColor = "+n.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),c&&d.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),d.push("#ifdef DOUBLE_SIDED","\treflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","\treflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","\treflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","\treflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),i&&d.push(i.code,"reflectedLight.directDiffuse += "+i.result+" * "+r.result+";"),d.push("vec3 ao = aoEnabled && "+o.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let u="1.0";this.mask&&(this.mask.analyze(e),u=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${u} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${u}, ${a.result} );\n\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),l&&d.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),d.push(c?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),h&&d.push(`gl_FragColor.a *= ${h.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join("\n")}return t}},Qv={dHdxy:new an("vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {\n\n            // Gradient of UVs w.r.t. X coordinate (in screen-space)\n            vec2 dSTdx = dFdx(bumpMapUv);\n\n            // Gradient of UVs w.r.t. Y coordinate (in screen-space)\n            vec2 dSTdy = dFdy(bumpMapUv);\n            \n            // Forward differencing\n            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);\n            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;\n            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;\n            \n            return vec2( dBx, dBy );\n        }"),perturbNormalArb:new an("vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n            vec3 vSigmaX = dFdx( surf_pos.xyz );\n            vec3 vSigmaY = dFdy( surf_pos.xyz );\n            vec3 vN = surf_norm; // normalized\n            \n            vN = normalize(vN);\n\n            vec3 R1 = cross( vSigmaY, vN );\n            vec3 R2 = cross( vN, vSigmaX );\n\n            R1 = normalize(R1);\n            R2 = normalize(R2);\n    \n            float fDet = dot( vSigmaX, R1 ) * faceDirection;\n    \n            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n            return normalize( abs( fDet ) * vN - vGrad );\n        }")},PRe=class extends nf{constructor(){super("phong"),this.nodeType="Phong",this.color=new Bo(Tc),this.specular=new Bo(1118481),this.shininess=new On(30),this.previousModelViewMatrix=new wh,this.previouseProjectionMatrix=new wh,this.shadingAlpha=new On(1),this.shadingBlend=new Wr(0),this.occlusion=new Qa(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:$n.frameIndex}),e.mergeUniform({resolution:$n.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(W0.merge([rn.fog,rn.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t#include <skinnormal_vertex>\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = objectNormal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:$n.penumbraSize}),e.mergeUniform({frameIndex:$n.frameIndex}),e.mergeUniform({aoMap:$n.aoRenderTarget}),e.mergeUniform({aoEnabled:$n.aoEnabled}),void 0===this.color&&(this.color=new Bo(Tc)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let n=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let i=this.color.flow(e,"c",{slot:"color"}),r=this.specular.flow(e,"c"),o=this.shininess.flow(e,"f"),s=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,h=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let d=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tBlinnPhongMaterial material;"];if(this.bumpMap){e.include(Qv.dHdxy),e.include(Qv.perturbNormalArb);let f=this.bumpMap.texture.flow(e,"t"),v=this.bumpMap.flow(e,"v3"),y=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",_="";_=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${f.result}, uv0, ${y});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${f.result}, uv1, ${y});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${f.result}, uv2, ${y});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${f.result}, bumpMapCachedUv, ${y});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,d.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${v.result};\n\t\t\t\t\t${_}\n\t\t\t\t\t`)}d.push(i.code,"\tvec3 diffuseColor = "+i.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","\tvec3 totalEmissiveRadiance = emissive;",r.code,"\tvec3 specular = "+r.result+";",o.code,"\tfloat shininess = max( 0.0001, "+o.result+" );","\tfloat specularStrength = 1.0;"),c&&d.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),d.push("material.diffuseColor = diffuseColor;"),d.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),d.push("vec3 ao = aoEnabled && "+n.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let u="1.0";this.mask&&(this.mask.analyze(e),u=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${u} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${u}, ${a.result} );\n\t\t\t\t\t\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),l&&d.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),d.push(c?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result});`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),h&&d.push(`gl_FragColor.a *= ${h.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join("\n")}return t}},ORe=class extends nf{constructor(){super("standard"),this.nodeType="Standard",this.color=new Bo(Tc),this.roughness=new On(.3),this.metalness=new On(0),this.reflectivity=new On(.5),this.previousModelViewMatrix=new wh,this.previouseProjectionMatrix=new wh,this.shadingAlpha=new On(1),this.shadingBlend=new Wr(0),this.occlusion=new Qa(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:$n.frameIndex}),e.mergeUniform({resolution:$n.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(W0.merge([rn.fog,rn.lights])),rn.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:$n.penumbraSize}),e.mergeUniform({frameIndex:$n.frameIndex}),e.mergeUniform({aoMap:$n.aoRenderTarget}),e.mergeUniform({aoEnabled:$n.aoEnabled});let n={gamma:!0};void 0===this.color&&(this.color=new Bo(Tc)),this.color.analyze(e,{slot:"color",context:n}),this.roughness.analyze(e),this.metalness.analyze(e);let i=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let r=this.color.flow(e,"c",{slot:"color",context:n}),o=this.roughness.flow(e,"f"),s=this.metalness.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),c=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,h=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,u=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=void 0!==h,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join("\n"));let f=["#include <clipping_planes_fragment>","\t#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tPhysicalMaterial material;","\tmaterial.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(Qv.dHdxy),e.include(Qv.perturbNormalArb);let y=this.bumpMap.texture.flow(e,"t"),_=this.bumpMap.flow(e,"v3"),w=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",O="";O=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${y.result}, uv0, ${w});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${y.result}, uv1, ${w});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${y.result}, uv2, ${w});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${y.result}, bumpMapCachedUv, ${w});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${_.result};\n\t\t\t\t\t${O}\n\t\t\t\t\t`)}if(f.push(r.code,"\tvec3 diffuseColor = "+r.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",s.code,"\tfloat metalnessFactor = "+s.result+";"),this.roughnessMap){let y=this.roughnessMap.texture.flow(e,"t"),_=this.roughnessMap.flow(e,"v3"),w="";w=4===this.roughnessMap.projection.value?`\n\t\t\t\t\tfloat roughnessChange = 1.0;\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tfloat r0 = luminance(texture(${y.result}, uv0).rgb) * roughnessScale;\n\t\t\t\t\t\tfloat r1 = luminance(texture(${y.result}, uv1).rgb) * roughnessScale;\n\t\t\t\t\t\tfloat r2 = luminance(texture(${y.result}, uv2).rgb) * roughnessScale;\n\n\t\t\t\t\t\troughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);\n\t\t\t\t\t}\n\t\t\t\t\tfloat roughnessFactor = roughnessChange * ${o.result};\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\n\t\t\t\t\tvec4 vals = texture(${y.result},  roughnessMapCachedUv);\n\t\t\t\t\tfloat roughnessFactor = luminance(vals.rgb) * ${o.result};\n\t\t\t\t\t`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${_.result};\n\n\t\t\t\t\tconst float roughnessScale = 1.0;\n\n\t\t\t\t\t${w}\n\t\t\t\t`)}else f.push(o.code,"\tfloat roughnessFactor = "+o.result+";");h&&f.push(h.code,"#ifdef ALPHATEST","\tif ( "+h.result+" <= ALPHATEST ) discard;","#endif"),f.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),f.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),u?f.push(u.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+u.result+" ) ), diffuseColor, metalnessFactor );"):f.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),f.push("#include <lights_fragment_begin>"),f.push("#include <lights_fragment_end>"),f.push("vec3 ao = aoEnabled && "+i.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let v="1.0";this.mask&&(this.mask.analyze(e),v=`luminance(${this.mask.flow(e,"v3").result})`),f.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * ${v} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result} * ${v}, ${l.result} );\n\t\t\t\t\t\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),c&&f.push(c.code,`outgoingLight = spe_blend(outgoingLight, ${c.result}, 1.0, SPE_BLENDING_NORMAL);`),f.push(h?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${h.result} );`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&f.push(`gl_FragColor.a *= ${d.result};`),f.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=f.join("\n")}return t}},SRe=class extends nf{constructor(){super("toon"),this.nodeType="Toon",this.color=new Bo(Tc),this.specular=new Bo(1118481),this.shininess=new On(30),this.previousModelViewMatrix=new wh,this.previouseProjectionMatrix=new wh,this.shadingAlpha=new On(1),this.shadingBlend=new Wr(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:$n.frameIndex}),e.mergeUniform({resolution:$n.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(W0.merge([rn.fog,rn.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("\t#include <project_vertex>","\t#include <fog_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:$n.penumbraSize}),e.mergeUniform({frameIndex:$n.frameIndex}),e.mergeUniform({aoMap:$n.aoRenderTarget}),e.mergeUniform({aoEnabled:$n.aoEnabled}),void 0===this.color&&(this.color=new Bo(Tc)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),r=this.shininess.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0,c=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==l,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>","\n\t\t\t\t\tvarying vec3 vViewPosition;\n\t\t\t\t\tstruct ToonMaterial {\n\t\t\t\t\t\tvec3\tdiffuseColor;\n\t\t\t\t\t\tvec3\tspecularColor;\n\t\t\t\t\t\tfloat\tspecularShininess;\n\t\t\t\t\t\tfloat\tspecularStrength;\n\t\t\t\t\t};\n\t\t\t\t\tvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t\t\t\n\t\t\t\t\t\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n\t\t\t\t\t}\n\t\t\t\t\tvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t}\n\t\t\t\t\t#define RE_Direct\t\t\t\tRE_Direct_Toon\n\t\t\t\t\t#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n\t\t\t\t\t#define Material_LightProbeLOD( material )\t(0)\n\t\t\t\t\t","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join("\n"));let h=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tToonMaterial material;"];if(this.bumpMap){e.include(Qv.dHdxy),e.include(Qv.perturbNormalArb);let u=this.bumpMap.texture.flow(e,"t"),f=this.bumpMap.flow(e,"v3"),v=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",y="";y=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${u.result}, uv0, ${v});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${u.result}, uv1, ${v});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${u.result}, uv2, ${v});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${u.result}, bumpMapCachedUv, ${v});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,h.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${f.result};\n\t\t\t\t\t${y}\n\t\t\t\t\t`)}h.push(n.code,"\tvec3 diffuseColor = "+n.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",i.code,"\tvec3 specular = "+i.result+";",r.code,"\tfloat shininess = max( 0.0001, "+r.result+" );","\tfloat specularStrength = 1.0;"),l&&h.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),h.push("material.diffuseColor = diffuseColor;"),h.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),h.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let d="1.0";this.mask&&(this.mask.analyze(e),d=`luminance(${this.mask.flow(e,"v3").result})`),h.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${d} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${d}, ${s.result} );\n\t\t\t\t}\n\t\t\t\t`),a&&h.push(a.code,`outgoingLight = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`),h.push(l?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),c&&h.push(`gl_FragColor.a *= ${c.result};`),h.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=h.join("\n")}return t}};var Bq=class extends class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount-=1,0===this.refCount&&(this.cache.remove(this),this.dispose())}dispose(){}}{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isVideo="video"===e.type,this.updateSrc(e.data)}updateSrc(e){var t=this;return(0,Yo.Z)(function*(){if(typeof document>"u")return;t.disposeTextures(),t.loaded=!1;let n=()=>{t.loaded=!0;let r=[1e3,1001,1002];for(let o of r){let s=t[o];s&&(s.image=t.img,s.needsUpdate=!0)}t.shared.requestRender()};if(t.isVideo){if(t.img=document.createElement("video"),t.img.preload="auto",t.img.playsInline=!0,t.img.currentTime=.01,"string"!=typeof e){var i=new FileReader;let r;i.readAsDataURL(new Blob([e],{type:"video/mp4"})),yield new Promise(o=>{i.onloadend=s=>{r=s.target?.result,o(null)}}),t.img.src=r}else t.img.src=e;t.img.onloadeddata=()=>{n()}}else t.img=new Image,t.img.src=function ARe(e){return"string"==typeof e?e:(Ik||(Ik=new class extends class{constructor(e=1e4){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(e){return this.cache.get(e)?.data}load(e){let t=Date.now(),n=this.cache.get(e);return void 0===n?(n={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,n)):(n.time=t,n.prev.next=n.next,n.next.prev=n.prev),n.prev=this.tail.prev,n.next=this.tail,this.tail.prev.next=n,this.tail.prev=n,this.scheduleCleanup(),n.data}}{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}}),Ik.load(e))}(e),t.img.onload=n})()}getTexture(e){let t=this[e];if(t)return t;{let n;return n=this.isVideo?new Ewe(this.img,void 0,e,e):new Ds(this.img,void 0,e,e),this.loaded&&(n.needsUpdate=!0),this[e]=n,n}}disposeTextures(){this[1e3]?.dispose(),this[1e3]=void 0,this[1001]?.dispose(),this[1001]=void 0,this[1002]?.dispose(),this[1002]=void 0}dispose(){super.dispose(),this.disposeTextures()}},qm=class extends Bq{};var RRe={year:0,month:1,day:2,hour:3,minute:4,second:5},Rk={};function zq(e,t,n,i,r,o,s){var a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(i,r,o,s),a}var Nk={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function jq(e,t,n){var i,r,o;if(!e||(i=Nk.timezoneZ.exec(e)))return 0;if(i=Nk.timezoneHH.exec(e))return Vq(o=parseInt(i[1],10))?-36e5*o:NaN;if(i=Nk.timezoneHHMM.exec(e)){o=parseInt(i[1],10);var s=parseInt(i[2],10);return Vq(o,s)?(r=36e5*Math.abs(o)+6e4*s,o>0?-r:r):NaN}if(function jRe(e){if(Hq[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Hq[e]=!0,!0}catch{return!1}}(e)){t=new Date(t||Date.now());var a=n?t:function zRe(e){return zq(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),l=Fk(a,e),c=n?l:function URe(e,t,n){var r=e.getTime()-t,o=Fk(new Date(r),n);if(t===o)return t;r-=o-t;var s=Fk(new Date(r),n);return o===s?o:Math.max(o,s)}(t,l,e);return-c}return NaN}function Fk(e,t){var n=function IRe(e,t){var n=function LRe(e){if(!Rk[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));Rk[e]="06/25/2014, 00:00:00"===t||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===t?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Rk[e]}(t);return n.formatToParts?function NRe(e,t){try{for(var n=e.formatToParts(t),i=[],r=0;r<n.length;r++){var o=RRe[n[r].type];o>=0&&(i[o]=parseInt(n[r].value,10))}return i}catch(s){if(s instanceof RangeError)return[NaN];throw s}}(n,e):function FRe(e,t){var n=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[i[3],i[1],i[2],i[4],i[5],i[6]]}(n,e)}(e,t),i=zq(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=e.getTime(),o=r%1e3;return i-(r-(o>=0?o:1e3+o))}function Vq(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var Hq={},VRe=Vs(hve(),1),Gq=Vs(uve(),1),Lk=36e5,Za={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function YRe(e){var i,t={},n=Za.dateTimePattern.exec(e);if(n?(t.date=n[1],i=n[3]):(n=Za.datePattern.exec(e))?(t.date=n[1],i=n[2]):(t.date=null,i=e),i){var r=Za.timeZone.exec(i);r?(t.time=i.replace(r[1],""),t.timeZone=r[1].trim()):t.time=i}return t}function XRe(e,t){var r,n=Za.YYY[t],i=Za.YYYYY[t];if(r=Za.YYYY.exec(e)||i.exec(e)){var o=r[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(r=Za.YY.exec(e)||n.exec(e)){var s=r[1];return{year:100*parseInt(s,10),restDateString:e.slice(s.length)}}return{year:null}}function $Re(e,t){if(null===t)return null;var n,i,r,o;if(0===e.length)return(i=new Date(0)).setUTCFullYear(t),i;if(n=Za.MM.exec(e))return i=new Date(0),Xq(t,r=parseInt(n[1],10)-1)?(i.setUTCFullYear(t,r),i):new Date(NaN);if(n=Za.DDD.exec(e)){i=new Date(0);var s=parseInt(n[1],10);return function JRe(e,t){if(t<1)return!1;var n=Yq(e);return!(n&&t>366||!n&&t>365)}(t,s)?(i.setUTCFullYear(t,0,s),i):new Date(NaN)}if(n=Za.MMDD.exec(e)){i=new Date(0),r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return Xq(t,r,a)?(i.setUTCFullYear(t,r,a),i):new Date(NaN)}if(n=Za.Www.exec(e))return $q(0,o=parseInt(n[1],10)-1)?qq(t,o):new Date(NaN);if(n=Za.WwwD.exec(e)){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return $q(0,o,l)?qq(t,o,l):new Date(NaN)}return null}function KRe(e){var t,n,i;if(t=Za.HH.exec(e))return Bk(n=parseFloat(t[1].replace(",",".")))?n%24*Lk:NaN;if(t=Za.HHMM.exec(e))return Bk(n=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")))?n%24*Lk+6e4*i:NaN;if(t=Za.HHMMSS.exec(e)){n=parseInt(t[1],10),i=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return Bk(n,i,r)?n%24*Lk+6e4*i+1e3*r:NaN}return null}function qq(e,t,n){t=t||0,n=n||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var o=7*t+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+o),i}var QRe=[31,28,31,30,31,30,31,31,30,31,30,31],ZRe=[31,29,31,30,31,30,31,31,30,31,30,31];function Yq(e){return e%400==0||e%4==0&&e%100!=0}function Xq(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var i=Yq(e);if(i&&n>ZRe[t]||!i&&n>QRe[t])return!1}return!0}function $q(e,t,n){return!(t<0||t>52||null!=n&&(n<0||n>6))}function Bk(e,t,n){return!(null!=e&&(e<0||e>=25)||null!=t&&(t<0||t>=60)||null!=n&&(n<0||n>=60))}function Ja(e,t){return t.color(e)}function Kq(e=new Date,t){let n=t.format,i=e.getSeconds(),r=e;t&&null!==t.timeZone&&(r=function e4e(e,t,n){var i=function qRe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},i=null==n.additionalDigits?2:(0,VRe.default)(n.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var r=YRe(e),o=XRe(r.date,i),l=$Re(o.restDateString,o.year);if(isNaN(l))return new Date(NaN);if(l){var d,c=l.getTime(),h=0;if(r.time&&(h=KRe(r.time),isNaN(h)))return new Date(NaN);if(r.timeZone||n.timeZone){if(d=jq(r.timeZone||n.timeZone,new Date(c+h)),isNaN(d))return new Date(NaN)}else d=(0,Gq.default)(new Date(c+h)),d=(0,Gq.default)(new Date(c+h+d));return new Date(c+h+d)}return new Date(NaN)}(e,n),r=jq(t,i,!0),o=new Date(i.getTime()-r),s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}(new Date,t.timeZone));let a,o=r.getHours(),s=r.getMinutes();"12ampm"===t.format12h24h&&(a=o>=12?"PM":"AM");let c,h,l=o;switch("24"!==t.format12h24h&&(l=o%12,0===l&&(l=12)),n){case"HH:mm:ss":c=[l,s,i];break;case"HH:mm":c=[l,s];break;case"HH":c=[l],a=void 0;break;case"mm":c=[s],a=void 0;break;case"ss":c=[i],a=void 0;break;case"year":h=r.getFullYear();break;case"month":h=r.getMonth()+1;break;case"dayOfYear":h=Math.floor((r.getTime()-new Date(r.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":h=r.getDate();break;case"secondOfDay":h=60*o*60+60*s+i;break;default:console.error("Unknown time format",n),h=0}return void 0!==c?{textValue:c,suffix:a}:h}function n4e(e){return{type:e.type}}function wd(e,t){let{alpha:n,mode:i,isMask:r}=e,o="string"==typeof n?(Number(t.getVariable(n))??100)/100:n;return{...n4e(e),alpha:o,mode:i,isMask:r}}var EP=class extends wl{},Qq={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},Zq={depth:["colors"]};function f4e(e,t,n){if("isMask"===t)return!0;let i=Qq[e.type],r=Zq[e.type];if(void 0!==r){let o=e.color;if(r.includes(t)){let s=o[t]?.value?.length;if(void 0!==s&&s!==n.length)return!0}}return void 0!==i&&i.includes(t)}function Jq(e,t,n){let i=n.uniforms[`f${n.id}_texture`];if(!i)return!1;let o=e;if("image"in o){let a=t.image(o.image),l=i;l.image instanceof qm||l.image.deref(),l.image=a}if("video"in o){let a=t.video(o.video),l=i;l.image instanceof qm||l.image.deref(),l.image=a}if("wrapping"in o&&(i.wrap=o.wrapping),"repeat"in o||"offset"in o){let a=n.uniforms[`f${n.id}_mat`];"repeat"in o&&(a.repeat=o.repeat),"offset"in o&&(a.offset=o.offset),a.updateMatrix()}return!1}var Ym=(e,t,n)=>Math.max(0,Math.min(1,Number(t.getVariable("number"==typeof e?100*e:e,n)??100)/100))??1,Xm=class{constructor(e,t,n,i,r){this.id=e,this.uuid=t,this.data=n,this.uniforms={};for(let o in i)this.uniforms[`f${this.id}_${o}`]=i[o];for(let o in n)tY(o,this,n,r)}get type(){return this.data.type}static create(e,t,n,i){if("light"===n.type)return Tu.createLigherLayer(e,t,n,i);if("texture"===n.type||"video"===n.type){let r="texture"===n.type?i.image(n.texture.image):i.video(n.texture.video),o=new Ek(r,n.texture.wrapping),s=new _Re(r),a=new bRe(n.texture.repeat,n.texture.offset),l=new On(n.crop?1:0),c=new Wr(n.projection??0),h=new Wr(["x","y","z"].indexOf(n.axis)??0),d=new Wr(n.side??0),u=new na(n.size?new Fe(n.size[0],n.size[1]):new Fe(100,100)),f=new On(n.blending??0),v=new On(Ym(n.alpha,i)),y=new Wr(n.mode??0),_=new Qa(n.isMask??!1),w=new Ak(o,s,l,c,h,d,u,f,a,v,y,_),O=new co(w.calpha,"f");return new zo(e,t,n,{texture:o,textureSize:s,crop:l,projection:c,axis:h,side:d,size:u,blending:f,mat:a,alpha:v,mode:y,isMask:_},w,y,O,_,i)}if("matcap"===n.type){let r=i.image(n.texture.image),o=new Ek(r,n.texture.wrapping),s=new On(Ym(n.alpha,i)),a=new Wr(n.mode??0),l=new Qa(n.isMask??!1),c=new Mq(o,s,a,l),h=new co(c.calpha,"f");return new zo(e,t,n,{texture:o,alpha:s,mode:a,isMask:l},c,a,h,l,i)}if("displace"===n.type){if("noise"===n.displacementType){let r=new kc(new ne(...n.offset)),o=new On(n.scale??10),s=new On(n.intensity??8),a=new On(n.movement??1),l=new Wr(n.noiseType??0),c=new Wr(n.voronoiStyle??0),h=new On(n.smoothness??.5),d=new On(n.seed??0),u=new On(n.highCut??1),f=new On(n.lowCut??0),v=new Wr(n.quality??1),y=new Fq(s,a,r,c,h,d,u,f,v,o,l);return new eY(e,t,n,{offset:r,scale:o,intensity:s,movement:a,noiseType:l,voronoiStyle:c,smoothness:h,seed:d,highCut:u,lowCut:f,quality:v},y,i)}throw new Error}return function y4e(e,t,n,i){let r=function t4e(e,t){switch(e.type){case"fresnel":return function r4e(e,t){let{bias:n,scale:i,intensity:r,factor:o,color:s}=e;return{...wd(e,t),color:Ja(s,t),bias:n,scale:i,intensity:r,factor:o}}(e,t);case"gradient":return function o4e(e,t){let{gradientType:n,smooth:i,colors:r,steps:o,angle:s,offset:a,morph:l}=e;return{...wd(e,t),gradientType:n,smooth:i,colors:r.map(c=>new Ci(c[0],c[1],c[2],c[3])),num:r.length,steps:o,offset:new Fe(...a),morph:new Fe(...l),angle:s}}(e,t);case"depth":return function s4e(e,t){let{gradientType:n,near:i,far:r,isVector:o,isWorldSpace:s,origin:a,direction:l,colors:c,steps:h,smooth:d}=e;return{...wd(e,t),gradientType:n,near:i,far:r,isVector:o,isWorldSpace:s,origin:new ne(...a),direction:l?new ne(...l):new ne(1,0,0),colors:c.map(u=>void 0!==u?new Ci(u[0],u[1],u[2],u[3]):new Ci(0,0,0,0)),steps:h.slice(0,c.length),smooth:d}}(e,t);case"normal":return function a4e(e,t){let{cnormal:n}=e;return{...wd(e,t),cnormal:new ne(n[0],n[1],n[2])}}(e,t);case"noise":return function l4e(e,t){return{...wd(e,t),scale:e.scale,move:e.move,fA:new Fe(...e.fA),fB:new Fe(...e.fB),size:new ne(...e.size),distortion:new Fe(...e.distortion),colorA:Ja(e.colorA,t),colorB:Ja(e.colorB,t),colorC:Ja(e.colorC,t),colorD:Ja(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality}}(e,t);case"rainbow":return function c4e(e,t){return{...wd(e,t),filmThickness:e.filmThickness,movement:e.movement,wavelengths:new ne(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new ne(...e.offset)}}(e,t);case"toon":return function d4e(e,t){return{...wd(e,t),positioning:e.positioning,colors:e.colors.map(n=>new Ci(n[0],n[1],n[2],n[3])),num:e.colors.length,steps:e.steps,source:new ne(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:Ja(e.shadowColor,t),offset:new ne(...e.offset)}}(e,t);case"outline":return function h4e(e,t){return{...wd(e,t),outlineColor:Ja(e.outlineColor,t),contourColor:Ja(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new ne(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation}}(e,t);case"transmission":return function u4e(e,t){return{...wd(e,t),thickness:e.thickness,ior:e.ior,roughness:e.roughness}}(e,t);case"color":return function i4e(e,t){return{...wd(e,t),color:Ja(e.color,t)}}(e,t);case"pattern":return function p4e(e,t){return{...wd(e,t),style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new Fe(...e.offset),colorA:Ja(e.colorA,t),colorB:Ja(e.colorB,t),frequency:new Fe(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new Fe(...e.vertical),horizontal:new Fe(...e.horizontal),sides:e.sides}}(e,t)}}(n,i);return function v4e(e,t,n,i,r){switch(e.type){case"color":{let o=new Bo(i.color??Tc),s=Ic(i),a=new Dk(o,s.alpha),l=new co(a.calpha,"f");return new zo(t,n,e,{color:o,...s},a,s.mode,l,s.isMask,r)}case"fresnel":{let o=new Bo(i.color??16777215),s=new On(i.bias??.1),a=new On(i.scale??1),l=new On(i.intensity??2),c=new On(i.factor??1),h=Ic(i),d=new xRe(o,s,a,l,c,h.alpha,h.mode,h.isMask),u=new co(d.calpha,"f");return new zo(t,n,e,{color:o,bias:s,scale:a,intensity:l,factor:c,...h},d,h.mode,u,h.isMask,r)}case"rainbow":{let o=new On(i.filmThickness??30),s=new On(i.movement??0),a=new kc(i.wavelengths??new ne(0,0,0)),l=new On(i.noiseStrength??0),c=new On(i.noiseScale??1),h=new kc(i.offset??new ne(0,0,0)),d=Ic(i),u=new Aq(o,s,a,l,c,h,d.alpha,d.isMask),f=new co(u.calpha,"f");return new zo(t,n,e,{filmThickness:o,movement:s,wavelengths:a,noiseStrength:l,noiseScale:c,offset:h,...d},u,d.mode,f,d.isMask,r)}case"transmission":{let o=new On(i.thickness??10),s=new On(i.ior??1.5),a=new On(i.roughness??.5),l=$n.transmissionSize,c=$n.transmissionRenderTarget,h=$n.transmissionRenderTargetDepth,d=window.innerWidth,u=window.innerHeight,f=d>=u?new na(u/d,1):new na(1,d/u),v=Ic(i),y=new Rq(o,s,a,l,c,h,f,v.alpha),_=new co(y.calpha,"f");return new zo(t,n,e,{thickness:o,ior:s,roughness:a,aspectRatio:f,...v},y,v.mode,_,v.isMask,r)}case"toon":{let s,a,o=new Wr(i.positioning??0);i.colors?s=new Wm(i.colors.length,i.colors):(s=new Wm(10,new Ci(0,0,0,1)),s.value[1]=new Ci(1,1,1,1)),i.steps?a=new Gm(i.steps.length,i.steps):(a=new Gm(10,1),a.value[0]=0);let l=new kc(i.source??new ne(0,0,0)),c=new Qa(i.isWorldSpace??!0),h=new On(i.noiseStrength??0),d=new On(i.noiseScale??1),u=new Su(i.shadowColor),f=new kc(i.offset??new ne(0,0,0)),v=Ic(i),y=new kq(o,s,a,l,c,h,d,u,f,v.alpha),_=new co(y.calpha,"f");return new zo(t,n,e,{positioning:o,colors:s,steps:a,source:l,isWorldSpace:c,noiseStrength:h,noiseScale:d,shadowColor:u,offset:f,...v},y,v.mode,_,v.isMask,r)}case"outline":{let o=new Bo(i.outlineColor??16777215),s=new Bo(i.contourColor??16777215),a=new On(i.outlineWidth??.1),l=new On(i.contourWidth??.1),c=new On(i.outlineThreshold??.1),h=new On(i.contourThreshold??.1),d=new On(i.outlineSmoothing??.1),u=new On(i.contourFrequency??.1),f=new kc(i.contourDirection??new ne(0,1,0)),v=new Qa(i.positionalLines??!1),y=new Qa(i.compensation??!0),_=$n.normalRenderTarget,w=$n.normalRenderTargetDepth,O=$n.pixelRatioNode,S=$n.resolution,D=Ic(i),U=new Sq(o,s,a,l,c,h,d,u,f,v,y,S,_,w,O,D.alpha),Y=new co(U.calpha,"f");return new zo(t,n,e,{outlineColor:o,contourColor:s,outlineWidth:a,contourWidth:l,outlineThreshold:c,contourThreshold:h,outlineSmoothing:d,contourFrequency:u,contourDirection:f,positionalLines:v,compensation:y,...D},U,D.mode,Y,D.isMask,r)}case"depth":{let f,v,o=new Wr(i.gradientType??0),s=new Qa(i.smooth??!1),a=new On(i.near??50),l=new On(i.far??200),c=new On(i.isVector??1),h=new On(i.isWorldSpace??0),d=new kc(i.origin??new ne),u=new kc(i.direction??new ne);i.colors?f=new Wm(i.colors.length,i.colors):(f=new Wm(2,new Ci(0,0,0,1)),f.value[1]=new Ci(1,1,1,1)),i.steps?v=new Gm(i.steps.length,i.steps):(v=new Gm(2,1),v.value[0]=0);let y=Ic(i),_=new bq(o,s,a,l,c,h,d,u,f,v,y.alpha,y.isMask),w=new co(_.calpha,"f");return new zo(t,n,e,{gradientType:o,smooth:s,near:a,far:l,isVector:c,isWorldSpace:h,origin:d,direction:u,colors:f,steps:v,...y},_,y.mode,w,y.isMask,r)}case"noise":{let o=new On(i.scale??1),s=new kc(i.size??new ne(100,100,100)),a=new On(i.move??1),l=new na(i.fA??new Fe(1.7,9.2)),c=new na(i.fB??new Fe(8.3,2.8)),h=new na(i.distortion??new Fe(1,1)),d=new Su(i.colorA),u=new Su(i.colorB),f=new Su(i.colorC),v=new Su(i.colorD),y=new Wr(i.noiseType??0),_=new Wr(i.voronoiStyle??0),w=new On(i.highCut??1),O=new On(i.lowCut??0),S=new On(i.smoothness??.5),D=new On(i.seed??.5),U=new Wr(i.quality??1),Y=Ic(i),q=new Pq(o,s,a,l,c,h,d,u,f,v,Y.alpha,y,Y.isMask,_,w,O,S,D,U),K=new co(q.calpha,"f");return new zo(t,n,e,{scale:o,size:s,move:a,fA:l,fB:c,distortion:h,colorA:d,colorB:u,colorC:f,colorD:v,noiseType:y,...Y,voronoiStyle:_,highCut:w,lowCut:O,smoothness:S,seed:D,quality:U},q,Y.mode,K,Y.isMask,r)}case"normal":{let o=new kc(i.cnormal??new ne(1,1,1)),s=Ic(i),a=new _q(o,s.alpha),l=new co(a.calpha,"f");return new zo(t,n,e,{cnormal:o,...s},a,s.mode,l,s.isMask,r)}case"gradient":{let a,l,o=new Wr(i.gradientType??0),s=new Qa(i.smooth??!1);i.colors?a=new Wm(i.colors.length,i.colors):(a=new Wm(10,new Ci(0,0,0,1)),a.value[1]=new Ci(1,1,1,1)),i.steps?l=new Gm(i.steps.length,i.steps):(l=new Gm(10,1),l.value[0]=0);let c=new na(i.offset??new Fe(0,0)),h=new na(i.morph??new Fe(0,0)),d=new On(i.angle??0),u=Ic(i),f=new wq(o,s,a,l,c,h,d,u.alpha,u.isMask),v=new co(f.calpha,"f");return new zo(t,n,e,{gradientType:o,smooth:s,colors:a,steps:l,offset:c,morph:h,angle:d,...u},f,u.mode,v,u.isMask,r)}case"pattern":{let o=new Wr(i.style??0),s=new Wr(i.projection??0),a=new Wr(["x","y","z"].indexOf(i.axis)??0),l=new On(i.blending??0),c=new na(i.offset??new Fe(0,0)),h=new Su(i.colorA),d=new Su(i.colorB),u=new na(i.frequency??new Fe(10,10)),f=new On(i.size??.5),v=new On(i.variation??0),y=new On(i.smoothness??.5),_=new On(i.zigzag??0),w=new On(i.rotation??0),O=new na(i.vertical??new Fe(0,1)),S=new na(i.horizontal??new Fe(0,1)),D=new Wr(i.sides??6),U=Ic(i),Y=new Eq(o,s,a,l,c,h,d,u,f,v,y,_,w,O,S,D,U.alpha,U.isMask),q=new co(Y.calpha,"f");return new zo(t,n,e,{style:o,projection:s,axis:a,blending:l,offset:c,colorA:h,colorB:d,frequency:u,size:f,variation:v,smoothness:y,zigzag:_,rotation:w,vertical:O,horizontal:S,sides:D,...U},Y,U.mode,q,U.isMask,r)}default:{let o=new Bo(1,0,0,1),s=Ic(i),a=new Dk(o,s.alpha),l=new co(a.calpha,"f");return new zo(t,n,e,{color:o,...s},a,s.mode,l,s.isMask,r)}}}(n,e,t,r,i)}(e,t,n,i)}updateByOp(e,t,n){let i=e;if(void 0===i.path[0]){if(0===i.type)return"type"in i.props||"category"in i.props||"visible"in i.props?(n.scene.markNeedsUpdateRendererDirty(),!0):function m4e(e,t,n,i){let r=!1;for(let[o,s]of Object.entries(e)){if("bumpMap"===o||"roughnessMap"===o){r=!0;continue}if(!o||void 0===s)continue;if(tY(o,n,i,t)){"visible"===o&&"light"===n.type&&(r=!0);continue}n.visible=i.visible;let a=n.uniforms[`f${n.id}_${o}`];if(a&&!(a instanceof Sk))switch(r=r||f4e(n,o,s),a.constructor){case Bo:if("string"==typeof s){let l=t.getColor(s);l&&(a.value=l);break}{let l=s;a.value instanceof EP?a.value=new wl(l.r,l.g,l.b,l.a):a.setRGBA(l);break}case Su:if("string"==typeof s){let l=t.getColor(s);l&&(a.value=l);break}{let l=s;a.value instanceof EP?a.value=new wl(l.r,l.g,l.b,l.a):a.value.setRGBA(l.r,l.g,l.b,l.a);break}case na:{let l=s;a.value.setX(l[0]),a.value.setY(l[1]);break}case kc:{let l=s;a.value.setX(l[0]),a.value.setY(l[1]),a.value.setZ(l[2]);break}case Eu:Jq(s,t,n);break;case Wm:a.value=s.map(l=>new Ci(...l));break;default:a.value=s}}return r}(i.props,n.shared,this,t)}else if("texture"===i.path[0])return!("texture"in t)&&!("video"in t)||Jq(i.props,n.shared,this);return!1}dispose(){if(function g4e(e){let t=e instanceof Xm?e.type:e;return"texture"===t||"video"===t||"displace_map"===t||"matcap"===t}(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;let t=e;t.image instanceof qm||t.image.deref()}}hasValueByKey(e){return void 0!==this.uniforms[e]}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let n=`f${this.id}_${e}`;this.hasValueByKey(n)&&void 0!==t&&(this.uniforms[n].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let n=this.getName(t);n&&e.push(n)}return e}},zo=class extends Xm{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,l),this.params=i,this.color=r,this.mode=o,this.alpha=s,this.isMask=a}},eY=class extends Xm{constructor(e,t,n,i,r,o){super(e,t,n,i,o),this.position=r}},Tu=class extends Xm{constructor(e,t,n,i,r,o){super(e,t,n,r,o),this.node=i}static createLigherLayer(e,t,n,i){let r,c,o=new On(Ym(n.alpha,i)),s=new Wr(n.mode),a=new On(n.bumpMapIntensity),l=new On(Ym(n.alphaOverride,i));if(n.visible)if("lambert"===n.category){r=new MRe;let h=new Bo(i.color(n.emissive)??0),d=new Qa(n.occlusion??!0);c={emissive:h,occlusion:d},r.emissive=h,r.occlusion=d}else if("toon"===n.category){r=new SRe;let h=new On(n.shininess??30),d=new Bo(i.color(n.specular)??1118481);c={shininess:h,specular:d},r.shininess=h,r.specular=d}else if("physical"===n.category){r=new ORe;let h=new On(n.roughness??.3),d=new On(n.metalness??0),u=new On(n.reflectivity??.5),f=new Qa(n.occlusion??!0);c={roughness:h,metalness:d,reflectivity:u,occlusion:f},r.roughness=h,r.metalness=d,r.reflectivity=u,r.occlusion=f}else{r=new PRe;let h=new On(n.shininess??30),d=new Bo(void 0!==n.specular?i.color(n.specular)??1118481:1118481),u=new Qa(n.occlusion??!0);c={shininess:h,specular:d,occlusion:u},r.shininess=h,r.specular=d,r.occlusion=u}else r=new Lq,c={};return r.alpha=new On(1),r.shadingAlpha=o,r.shadingBlend=s,r.bumpMapIntensity=a,r.alphaOverride=l,c.alpha=r.shadingAlpha,c.mode=r.shadingBlend,c.bumpMapIntensity=r.bumpMapIntensity,c.alphaOverride=r.alphaOverride,new Tu(e,t,n,r,c,i)}get category(){return this.node.category}};function Ic(e){return{alpha:new On(e.alpha??1),mode:new Wr(e.mode??0),isMask:new Qa(e.isMask??!1)}}function tY(e,t,n,i){if("displace"===n.type&&("intensity"===e||"visible"===e)){let r=t.uniforms[`f${t.id}_intensity`];return r?(r.value=n.intensity*(n.visible?1:0),r):void 0}if("displace"!==n.type&&("alpha"===e||"visible"===e)){let r=t.uniforms[`f${t.id}_alpha`];if(!r)return;if(r.value=Ym(n.alpha,i)*(n.visible?1:0),"outline"===n.type&&"visible"===e){let o=t.uniforms[`f${t.id}_compensation`];o&&(o.value=n.compensation&&n.visible)}return r}}function Zv(e,t){let n=0,i=e.layers.find(r=>"light"===r.data.type);if(i){let r=i.data,o=Number(t.getVariable(r.alphaOverride));if(("string"==typeof r.alphaOverride?o/100:r.alphaOverride)<1)return!0}for(let r of e.layers){if("displace"!==r.data.type&&r.data.isMask)return!0;if("displace"!==r.data.type&&"alpha"in r.data&&"light"!==r.data.type&&"fresnel"!==r.data.type&&"texture"!==r.data.type&&"matcap"!==r.data.type&&"rainbow"!==r.data.type&&"outline"!==r.data.type&&"pattern"!==r.data.type){let o=r.data.visible?r.data.alpha:0;if("string"==typeof o&&(o=Math.max(0,Math.min(1,Number(t.getVariable(o)??100)/100))),1===o&&"depth"===r.data.type||"gradient"===r.data.type){for(let s of r.data.colors)if(s[3]<1){o=s[3];break}}else if(1===o&&"noise"===r.data.type){let s=t.color(r.data.colorA).a,a=t.color(r.data.colorB).a,l=t.color(r.data.colorC).a,c=t.color(r.data.colorD).a,h=Math.min(s,Math.min(a,Math.min(l,c)));h<1&&(o=h)}n+=(1-n)*o}}return n<1}var rf=class extends Hr{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.cacheKey="",this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return this.cacheKey}},_4e=class extends rf{constructor(e,t,n,i){super(),this.flatShading=e,this.side=t,this.wireframe=n,this.root=i}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,n){return this.root.getFlavor(e,t,n)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,n){this.root.updateByOp(e,t,n)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},zk=class extends rf{constructor(e,t,n=!0){super(),this.data=e,this.allowVariableSaves=n,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.reset0(e,t)}get nodeMaterial(){return this}getFlavor(e,t,n){let i=n?6:(e?3:0)+t;if(0===i)return this;void 0===this.flavors&&(this.flavors=[]),i-=1;let r=this.flavors[i];return void 0===r&&(r=new _4e(e,t,n,this),this.flavors[i]=r,r.flatShading=e,r.side=t,r.updateAfterBuild()),r}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){return this.lightLayer.getNode("occlusion")?.value??!1}reset(e,t){this.data!==e&&this.reset0(e,t)}reset0(e,t){this.data=e;let n=e.layers??Ca.defaultTwoLayerData("phong").layers;try{this.layers=n.map(i=>Xm.create(this.layerIdGen++,i.id,i.data,t.shared))}catch{this.layers=[]}this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t.shared),this.transparent=Zv(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,n){if("alphaOverride"===e[0])this.transparent=Zv(this.data,n.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if("layer"===e[0]){let i=e[1],r=e[2];if(i&&r){let o=this.layers.find(s=>s.uuid===i);o?.hasValue(r)&&("alpha"===r?(this.transparent=Zv(this.data,n.shared),o.setValue(r,Math.max(0,Math.min(Number(t)/100,1)))):o.setValue(r,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find(n=>"light"===n.data.type);t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(n=>{"alpha"in n.data&&"string"==typeof n.data.alpha&&e.shared.getVariable(n.data.alpha,["material",this.uuid,"layer",n.id,"alpha"])})}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.cacheKey=this.computeCacheKey(),this.lightLayer=this.layers.find(t=>t instanceof Tu),void 0===this.lightLayer&&(this.lightLayer=new Tu(0,"",{...yl.defaultData("light","phong"),visible:!1},new Lq,{},e)),this.dispose();for(let t of this.flavors)t&&t.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions()}applyTextureMaps(){let e=this.layers.find(r=>r instanceof Tu);if(!e)return;let t=e.data,n=t.bumpMap,i=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let r=0;r<this.layers.length;++r){let o=this.layers[r];o instanceof zo&&o.color instanceof Ak&&(o.uuid===n&&(e.node.bumpMap=o.color),o.uuid===i&&(e.node.roughnessMap=o.color))}}updateByOp(e,t,n){if(void 0!==t?this.data=t:t=this.data,this.transparent=Zv(t,n.shared),"layers"===e.path[0]){this.data=t;let i=n.shared,r=e.path[1];if(void 0===r){if(this.layers.reverse(),4===e.type){let o=Xm.create(this.layerIdGen++,e.id,e.data,n.shared);this.layers.splice(e.localIndex,0,o),n.scene.markNeedsUpdateRendererDirty()}else if(5===e.type)this.layers.splice(e.localIndex,1)[0].dispose(),n.scene.markNeedsUpdateRendererDirty();else if(6===e.type){let o=this.layers.findIndex(a=>a.uuid===e.id),s=this.layers[o];this.layers.splice(o,1),this.layers.splice(e.localIndex,0,s),n.scene.markNeedsUpdateRendererDirty()}this.layers.reverse(),this.onUpdate(n.shared)}else{0===e.type&&void 0!==e.props.occlusion&&n.scene.markNeedsUpdateRendererDirty();let o=this.layers.find(s=>s.uuid===r);if(o){let a,s=t.layers.data(r);if(0===e.type&&("alpha"in e.props||"alphaOverride"in e.props)&&(a="alpha"in e.props?{...e.props,alpha:Ym(e.props.alpha,i,["material",this.uuid,"layer",r,"alpha"])}:{...e.props,alphaOverride:Ym(e.props.alphaOverride,i,["material",this.uuid,"alphaOverride"])}),o.updateByOp({...e,...a?{props:a}:{},path:e.path.slice(2)},s,n)){let l=Xm.create(this.layerIdGen++,r,s,i);this.layers.splice(this.layers.findIndex(c=>c.uuid===r),1,l),this.onUpdate(n.shared)}}}}else this.reset(t,n)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof zo?t.color.mask=void 0:t instanceof Tu&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof zo&&t.isMask.value&&t.data.visible&&e>0){let i=this.layers[e-1];i instanceof Tu?i.node.mask=new Cl(t.color,t.alpha,Cl.MUL):i instanceof zo&&(i.isMask.value||(i.color.mask=new Cl(t.color,t.alpha,Cl.MUL)))}}}blendColors(){let e=this.layers.findIndex(n=>n instanceof zo),t=this.layers.findIndex(n=>n instanceof Tu);if(-1!==e&&e<t){let n=this.layers[e].color;for(let i=e+1;i<t;++i){let r=this.layers[i];if(r instanceof zo){if(r.isMask.value)continue;n=new gq(n,r.color,r.alpha,r.mode)}}this.fragment.color=n}else this.fragment.color=void 0}blendAfterColors(){let e=new co("outgoingLight","f"),t=this.layers.findIndex(n=>n instanceof Tu);if(this.layers.length>t+1){for(let n=t+1;n<this.layers.length;++n){let i=this.layers[n];if(i instanceof zo){if(i.isMask.value)continue;e=new gq(e,i.color,i.alpha,i.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof eY);if(e.length>0){let t=e[0].position;for(let n=1;n<e.length;++n)e[n]&&(t=new Cl(t,e[n].position,Cl.ADD),t=new Cl(t,new On(.5).setReadonly(!0),Cl.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=!0===this.extensions.derivatives,e.extensionFragDepth=!0===this.extensions.fragDepth,e.extensionDrawBuffers=!0===this.extensions.drawBuffers,e.extensionShaderTextureLOD=!0===this.extensions.shaderTextureLOD}clampUniformsForPreview(e,t){let n=(i,r,o)=>Math.min(Math.max(i,r),o);for(let i of this.layers)if("displace"===i.type){let r=n(i.uniforms[`f${i.id}_intensity`].value,e,t);i.uniforms[`f${i.id}_intensity`].value=r}}computeCacheKey(){let e="[";for(let{data:t}of this.data.layers)if("light"===t.type)e+=`"${t.visible?t.category.toUpperCase():"Basic"}"`;else{let r=[...(Qq[t.type]??[]).map(a=>t[a]),...(Zq[t.type]??[]).map(a=>t[a]?.length??0)],s=`"${t.type}-${t.visible}-${"isMask"in t&&t.isMask}"`;e+=r.length?`[${s}, "${r.join('","')}"],`:s}return e=e.slice(0,-1)+"]",e}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(t,n){return t.deps.length-n.deps.length}return function(t,n){let i=this.getIncludes(t,n);if(!i)return"";let r="";i=i.sort(e);for(let o=0;o<i.length;o++)i[o].src&&(r+=i[o].src+"\n");return r}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCube(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif","\n\t\t\t// NOTE: Include Spline's blending modes. This could be part of BlendNode\n\t\t\t#define SPE_BLENDING_NORMAL 0\n\t\t\t#define SPE_BLENDING_MULTIPLY 1\n\t\t\t#define SPE_BLENDING_SCREEN 2\n\t\t\t#define SPE_BLENDING_OVERLAY 3\n\n\t\t\tvec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\treturn mix( a, b, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\treturn mix( a, a * b, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\tvec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );\n\t\t\t\treturn mix( a, tmp, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\tvec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );\n\t\t\t\treturn clamp( mix( a, tmp, alpha ), 0.0, 1.0 );\n\t\t\t}\n\n\t\t\tvec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {\n\t\t\t\tif ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );\n\t\t\t\treturn vec3( 1.0 );\n\t\t\t}\n\t\t\t","#include <packing>","#include <common>"].join("\n"),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join("\n"),fragment:["float accumAlpha = 0.0;","void accumulateAlpha(float alpha) {\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * alpha;\n\t\t\t\t}",""].join("\n")},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode("\nuniform int frameIndex;\nuniform vec2 resolution;\nuniform mat4 previousModelViewMatrix;\nuniform mat4 previousProjectionMatrix;\n\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n"),this.addFragmentParsCode("\nlayout(location = 1) out vec4 gVelocity;\n\nuniform int frameIndex;\nuniform vec2 resolution;\n\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n\nconst vec2 haltonSequence[16] = vec2[16](\nvec2( 0.000000,-0.333334),\nvec2(-0.500000, 0.333334),\nvec2( 0.500000,-0.777778),\nvec2(-0.750000,-0.111112),\nvec2( 0.250000, 0.555556),\nvec2(-0.250000,-0.555556),\nvec2( 0.750000, 0.111112),\nvec2(-0.875000, 0.777778),\nvec2(0.125000, -0.925926),\nvec2(-0.375000, -0.259260),\nvec2(0.625000, 0.407408),\nvec2(-0.625000, -0.703704),\nvec2(0.375000, -0.037038),\nvec2(-0.125000, 0.629630),\nvec2(0.875000, -0.481482),\nvec2(-0.937500, 0.185186));\n\nvec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {\n  const float goldenAngle = 2.399963f; // radians\n  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));\n  float theta = float(sampleIndex) * goldenAngle + angle;\n  float sine = sin(theta);\n  float cosine = cos(theta);\n  return vec2(cosine, sine) * r;\n}\n\n// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso\nfloat getNoiseInterleavedGradient(vec2 screenPos) {\n    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);\n    return fract(magic.z * fract(dot(screenPos, magic.xy)));\n}\n\n"),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let n=0;n<this.requires.uv.length;n++)if(this.requires.uv[n]){let i=n>0?n+1:"";this.addVaryCode("varying vec2 vUv"+i+";"),n>0&&this.addVertexParsCode("attribute vec2 uv"+i+";"),this.addVertexFinalCode("vUv"+i+" = uv"+i+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode("\n// TODO: This could be generated CPU side and passed to the shader every frame\nconst vec2 haltonSequence[16] = vec2[16](\nvec2( 0.000000,-0.333334),\nvec2(-0.500000, 0.333334),\nvec2( 0.500000,-0.777778),\nvec2(-0.750000,-0.111112),\nvec2( 0.250000, 0.555556),\nvec2(-0.250000,-0.555556),\nvec2( 0.750000, 0.111112),\nvec2(-0.875000, 0.777778),\nvec2(0.125000, -0.925926),\nvec2(-0.375000, -0.259260),\nvec2(0.625000, 0.407408),\nvec2(-0.625000, -0.703704),\nvec2(0.375000, -0.037038),\nvec2(-0.125000, 0.629630),\nvec2(0.875000, -0.481482),\nvec2(-0.937500, 0.185186));\n\n// TODO: Pass correct view size\nvec2 offset = haltonSequence[frameIndex];\noffset.x /= resolution.x;\noffset.y /= resolution.y;\n\nvec4 currentPosition = gl_Position;\nvec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);\n\n// We want to calculate the velocity with unjittered positions\n// so that things that are not moving get a velocity = 0\nvCurrentPosition = currentPosition;\nvPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);\n#ifdef OUTLINE_COMPENSATION\nvPreviousPosition.xy += OUTLINE_COMPENSATION;\n#endif\ngl_Position = currentPositionJittered;\n\n"),this.addFragmentFinalCode("\nvec2 oldPos = vPreviousPosition.xy;\n    oldPos /= vPreviousPosition.w;\n    oldPos.xy = (oldPos.xy+1.)/2.0;\n\nvec2 newPos = vCurrentPosition.xy;\n    newPos /= vCurrentPosition.w;\n    newPos.xy = (newPos.xy+1.)/2.0;\n\nvec2 velocity = (newPos - oldPos);\n\n// Discard fully transparent pixels \nif (gl_FragColor.a <= 0.0) discard;\n\ngVelocity = vec4(velocity, 0.0, 1.0);\n")),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,n){return this.addSlot(e).addCache(t).addContext(n)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){void 0===this.fragmentVariables[e]&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){void 0===this.fragmentParsVariables[e]&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){void 0===this.vertexParsVariables[e]&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+"\n"}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+"\n"}clearNodeCode(e){let t=this.nodeCode[e=e??this.shader];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+"\n"}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+"\n"}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return-1!==this.caches.indexOf(e)}isSlot(e){return-1!==this.slots.indexOf(e)}define(e,t){this.defines[e]=void 0===t?1:t}require(e){this.requires[e]=!0}isDefined(e){return void 0!==this.defines[e]}getVar(e,t,n,i="varying",r="V",o=""){let s=this.getVars(i),a=s[e];if(!a){let l=s.length;a={name:n||"node"+r+l+(o?"_"+o:""),type:t},s.push(a),s[e]=a}return a}getTempVar(e,t,n,i){return this.getVar(e,t,n,this.shader,"T",i)}getAttribute(e,t){if(!this.attributes[e]){let n=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(n.name+" = "+e+";"),this.attributes[e]={varying:n,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join("\n")}getVarListCode(e,t){t=t??"";let n="";for(let i=0,r=e.length;i<r;++i){let o=e[i],a=o.name,l=o.size,c=this.getFormatByType(o.type);if(void 0===c)throw new Error("Node pars "+c+" not found.");c.includes("[]")?n+=t+" "+c.substring(0,c.length-2)+" "+a+`[${l}];\n`:n+=t+" "+c+" "+a+";\n"}return n}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof nf?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,n,i,r,o){if(t.includes("[]")){let s=this.inputs.arrayUniforms,a=s.list.length,l=new aq({type:t,size:n.size,name:i||"nodeUA"+a+(o?"_"+o:""),node:n,needsUpdate:r});return s.list.push(l),s[e].push(l),s[e][l.name]=l,this.uniforms[l.name]=l,l}{let s=this.inputs.uniforms,a=s.list.length,l=new aq({type:t,name:i||"nodeU"+a+(o?"_"+o:""),node:n,needsUpdate:r});return s.list.push(l),s[e].push(l),s[e][l.name]=l,this.uniforms[l.name]=l,l}}createVertexUniform(e,t,n,i,r){return this.createUniform("vertex",e,t,n,i,r)}createFragmentUniform(e,t,n,i,r){return this.createUniform("fragment",e,t,n,i,r)}include(e,t,n){let i;if(e="string"==typeof e?bl.get(e):e,!1===this.context.include)return e.name;e instanceof an?i=this.includes.functions:e instanceof Rr?i=this.includes.consts:e instanceof dq&&(i=this.includes.structs);let r=i[this.shader]=i[this.shader]||[];if(e){let o=r[e.name];if(o||(o=r[e.name]={node:e,deps:[]},r.push(o),o.src=e.build(this,"source")),e instanceof an&&t&&r[t.name]&&-1===r[t.name].deps.indexOf(e)&&(r[t.name].deps.push(e),e.includes?.length)){let s=0;do{this.include(e.includes[s++],t)}while(s<e.includes.length)}return n&&(o.src=n),e.name}throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return mRe[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return"f"===e?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return 1===e?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(n?.isNode)return n}}resolve(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(void 0!==n){if(n.isNode)return n;if(n.isTexture)switch(n.mapping){case 301:case 302:return new dRe(n);case 306:return new cRe(new Eu(n));default:return new Eu(n)}else{if(n.isVector2)return new na(n);if(n.isVector3)return new kc(n);if(n.isVector4)return new Su(n)}}}}format(e,t,n){switch(this.colorToVector(n+" <- "+t)){case"f <- v2":case"f <- v3":case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":case"i <- v3":case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return gRe[e]||e}getFormatByType(e){return vRe[e]||e}getUUID(e,t){return(t=void 0===t||t)&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return pq[e]}getIndexByElement(e){return pq.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=nh,t===nh&&this.context.gamma&&(t=wi),t}};e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let t of this.flavors)t&&t.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof zo){let t=e.params.texture;if(t instanceof Ek&&!t.image.loaded)return!1}return!0}getHash(){let e="{";return e+='"fragment":'+this.fragment.getHash(),e+="}",e}};Object.defineProperties(rf.prototype,{properties:{get:function(){return this.fragment.properties}}});var Uk=class extends zk{constructor(e,t,n){super(e,t,!1),this.uuid=n,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},b4e=Vs(pve()),nY=new Map;function x4e(e){if("string"==typeof e)return e;let t=nY.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},nY.set(e,t)),t.url}var iY,DP,lb=class{constructor({src:e,volume:t,delay:n,loop:i}){let r;this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)},r="string"==typeof e?{src:e}:{src:x4e(e),format:"wav"},this.sound=new b4e.Howl(r),this.sound.on("end",this.onEnd),this.src=e,void 0!==t&&(this.volume=t),void 0!==n&&(this.delay=n),void 0!==i&&(this.loop=i)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,n){this.sound.on(e,t,n)}off(e,t,n){this.sound.off(e,t,n)}play(){"playing"===this._status||this.sound.playing()||("paused"===this._status?(0===this.sound.seek()?this.replay():this.sound.play(),this._status="playing"):"stopped"===this._status&&(this.replay(),this._status="playing"))}pause(){"playing"===this._status&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},rY=new Promise(e=>{iY=e}),oY=!1;function C4e(){if(!oY)return DP||(DP=function e(){return t.apply(this,arguments)}(),DP);function t(){return(t=(0,Yo.Z)(function*(){let n=yield g.e(990).then(g.bind(g,2990));iY(n),oY=!0})).apply(this,arguments)}}function P4e(e){return jk.apply(this,arguments)}function jk(){return jk=(0,Yo.Z)(function*(e){return yield(yield fetch(e)).arrayBuffer()}),jk.apply(this,arguments)}var O4e=new class{load(e,t,n=(()=>{})){return(0,Yo.Z)(function*(){let{load:i}=yield rY;i(e,(r,o)=>{r||!o?n(r??"Something went wrong"):t(o)})})()}parse(e){return(0,Yo.Z)(function*(){let{parse:t,Bidi:n}=yield rY;try{let i=t(e),r=new n;return r.registerModifier("glyphIndex",null,s=>i.charToGlyphIndex(s.char)),r.applyFeatures(i,i.defaultRenderOptions.features),{font:i,bidi:r}}catch(i){console.error(i)}})()}};function sY(e){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,Yo.Z)(function*(e){let t,n,i=!1;if(e.url?(t=yield P4e(e.url),n=e.url,i=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t){let r=yield O4e.parse(t);if(r)return{font:r.font,url:n,intercepted:i,arr:t,bidi:r.bidi}}}),Vk.apply(this,arguments)}function S4e(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var aY=class extends class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,n){let i=this.objects.get(e);return void 0===i?(i=this.createObject(e,t,n),this.objects.set(e,i)):i.isShared=!0,i}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let n=this.objects.get(e);if(n&&!0!==n.isShared)return this.objects.delete(e),this.objects.set(t,n),n}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){t===this.objects.get(e)&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach(e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)}),this.unreachable.clear()}dispose(){this.objects.forEach(e=>{this.disposeObject(e)}),this.objects.clear()}}{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,n){let i=wP(e,t,this.flatShading,n);return i.computeBoundingSphere(),i}},T4e={markNeedsUpdateRendererDirty:()=>{}},Hk=class{constructor(e,t={}){if(this.data=e,this.geometryCache=new aY(!0),this.geometryCache2=new aY(!1),this.imageHolderCache=new class extends class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return void 0===t&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}}{constructor(e){super(),this.shared=e}create(e){return new Bq(e,this.shared)}}(this),this.thisContext={scene:T4e,shared:this},this.deletedMaterial=new Uk(Ca.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new qm(QM.emptyImage,this),this.deletedVideo=new qm(GM.defaultVideo,this),this.materials={},this.images={},this.videos={},this.colors={},this.audios={},this.fonts={},this.variables={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[n,i]of Object.entries(t.images))this.addImage(n,i);if(t.videos)for(let[n,i]of Object.entries(t.videos))this.addVideo(n,i);if(t.audios)for(let[n,i]of Object.entries(t.audios))this.addAudio(n,i);this.reset(e)}setRequestRender(e){this._requestRender=e}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.resetLib(e.lib);for(let{id:n,data:i}of e.variables)this.addVariableHolder(n,i),t&&this.updateVariableHolder(n,i);for(let[n,i]of Object.entries(e.images))this.addImage(n,i);for(let[n,i]of Object.entries(e.videos))this.addVideo(n,i);for(let[n,i]of Object.entries(e.colors))this.addColor(n,i);for(let[n,i]of Object.entries(e.materials))this.addMaterial(n,i);for(let[n,i]of Object.entries(e.audios))this.addAudio(n,i);for(let[n,i]of Object.entries(e.fonts))this.addFont(n,i)}addMaterial(e,t){if(this.materials[e]){let n=this.materials[e];n.reset(t,this.thisContext),n.dispose()}else{let n=new Uk(t,this.thisContext,e);this.materials[e]=n}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return"string"==typeof e?this.getMaterialOrDeletedPlaceholder(e):null==e?(console.error("material is undefined or null"),this.deletedMaterial):new zk(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new qm(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return"string"==typeof e?this.getImage(e):this.imageHolderCache.load(e)}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new qm(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){return this.videos[e]??this.deletedVideo}video(e){return"string"==typeof e?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.colors[e].setRGBA(t.r,t.g,t.b,"a"in t?t.a:1),!0):(this.colors[e]=new EP(t.r,t.g,t.b,"a"in t?t.a:1),!1)}updateColor(e,t){if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let n=this.colors[e];return this.colors[e].r=t.r??n.r,this.colors[e].g=t.g??n.g,this.colors[e].b=t.b??n.b,this.colors[e].a=t.a??n.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}color(e){let t;if("string"!=typeof e)return new wl(e.r,e.g,e.b,"a"in e?e.a:1);{let n=this.getColor(e);n?t=n:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new wl(0,0,0,0))}return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof lb)return t;{let n=new lb({src:t.data});return this.audios[e]=n,n}}deleteAudio(e){let t=this.audios[e];t&&(t instanceof lb&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new class{constructor(e){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=sY(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}update(e){this._isLoaded=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=sY(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,n){if(!this._bidi)return[];let i=this._bidi;i.getTextGlyphs(t);let r=i.tokenizer.tokens,o=[],s=0,a=n.length===r.length;for(let l=0;l<n.length;l++){let c=n[l].index,h=String.fromCharCode(n[l].unicode),d=r[s];if(S4e(c,d)||a)o.push({char:h,index:c,replacements:[d.state.glyphIndex],replacementChars:[d.char]}),s++;else{let u=d.char,f="",v=[d.state.glyphIndex],y=[],_=!1;for(;!_;)s++,f=t.charAt(s),u+=f,v.push(e.charToGlyphIndex(f)),y=e.stringToGlyphs(u),1===y.length&&y[0].index===c&&(_=!0),s>t.length&&(_=!0);o.push({char:h,index:c,replacements:v,replacementChars:Array.from(u)}),s++}}return o}generateShapes(e,t){if(!this._isLoaded)return;let y,n=this.font,i=t.fontSize/this.unitsPerEm,r=t.fontSize*t.lineHeight,o=e.map(w=>this.getTextWidth(w,t)),s=t.width,a=this.getCharWidth("\n",t),l=1===t.horizontalAlign?a:0,c=this.computeSpaceWidthForLine(e,0,t),h=this.getLineInitialOffsetX(o[0],s,t.horizontalAlign,e[0],a),d=this.getLineInitialOffsetY(r,e.length,t.height,i,t.verticalAlign),u=[],f=e.map(w=>[]),v=e.map(w=>[]);for(let w=0;w<e.length;w++){let O=e[w],S={features:{liga:!0}},D=[];try{D=n.stringToGlyphs(O,S)}catch(Y){console.warn(Y)}h=this.getLineInitialOffsetX(o[w],s,t.horizontalAlign,O,a);let U=[];try{U=this.reverseLigaturesTable(n,O,D)}catch(Y){console.warn(Y)}c=this.computeSpaceWidthForLine(e,w,t);for(let Y=0;Y<D.length;Y++){let q=D[Y],K=0===q.index?"\n":q.unicode?String.fromCharCode(q.unicode):void 0,Z=U[Y],te=0,ie=0;0===Y&&2===t.horizontalAlign&&void 0!==q.leftSideBearing&&(ie=-q.leftSideBearing*i),y&&(te=n.getKerningValue(q,y)*i),h+=ie+te;let ce=0;if("\n"===K)ce=l;else if(" "===K)ce=c;else{let de=this.createPath(q,i,h,d,t);de&&(ce=de.offsetX-(te+ie),u.push(de.path))}if(1===Z.replacements.length)v[w].push([h,d]),f[w].push(ce);else{let de=Z.replacements.map(_e=>(n.glyphs.get(_e).advanceWidth??0)*i),ue=de.reduce((_e,ye)=>_e+ye,0),Ce=de.map(_e=>_e/ue),we=h;for(let _e=0;_e<Ce.length;_e++){let ye=ce*Ce[_e];v[w].push([we,d]),f[w].push(ye),we+=ye}}h+=ce,y=q}d-=r}let _=[];for(let w=0,O=u.length;w<O;w++)_.push(...u[w].toShapes());return{shapes:_,charWidths:f,lineWidths:o,charCoords:v}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){return this.font?.ascender??0}get descender(){return this.font?.descender??0}get familyName(){return this.font?.names.fontFamily??""}get subfamilyName(){return this.font?.names.fontSubfamily??""}get unitsPerEm(){return this.font?.unitsPerEm??1}getLineInitialOffsetX(e,t,n,i,r){return(3===n||2===n)&&i.indexOf("\n")>=0&&(e-=r),3===n?.5*t-.5*e:2===n?t-e:0}getLineInitialOffsetY(e,t,n,i,r){let o=t*e,s=Math.abs(this.ascender-this.descender)*i,l=-this.ascender*i-(e-s)/2;return 3===r?-(n-o-l):2===r?-(.5*n-.5*o-l):l}createPath(e,t,n,i,r){let o=e.getPath(n,-i,r.fontSize,{kerning:!1,letterSpacing:r.letterSpacing});if(!o)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");let s=new class{constructor(){this.type="ShapePath",this.color=new qn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new qC,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath?.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath?.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,o){return this.currentPath?.bezierCurveTo(e,t,n,i,r,o),this}splineThru(e){return this.currentPath?.splineThru(e),this}toShapes(){let t={loc:0,t:0};function n(f,v,y,_){let w=f.x,O=v.x,S=y.x,D=_.x,U=f.y,Y=v.y,q=y.y,K=_.y,Z=(D-S)*(U-q)-(K-q)*(w-S),ie=(K-q)*(O-w)-(D-S)*(Y-U),ce=Z/ie,de=((O-w)*(U-q)-(Y-U)*(w-S))/ie;if(0===ie&&0!==Z||ce<=0||ce>=1||de<0||de>1)return null;if(0===Z&&0===ie){for(let ue=0;ue<2;ue++){if(i(0===ue?y:_,f,v),0===t.loc){let Ce=0===ue?y:_;return{x:Ce.x,y:Ce.y,t:t.t}}if(2===t.loc)return{x:+(w+t.t*(O-w)).toPrecision(10),y:+(U+t.t*(Y-U)).toPrecision(10),t:t.t}}return null}for(let we=0;we<2;we++)if(i(0===we?y:_,f,v),0===t.loc){let _e=0===we?y:_;return{x:_e.x,y:_e.y,t:t.t}}return{x:+(w+ce*(O-w)).toPrecision(10),y:+(U+ce*(Y-U)).toPrecision(10),t:ce}}function i(f,v,y){let U,_=y.x-v.x,w=y.y-v.y,O=f.x-v.x,S=f.y-v.y,D=_*S-O*w;return f.x===v.x&&f.y===v.y?(t.loc=0,void(t.t=0)):f.x===y.x&&f.y===y.y?(t.loc=1,void(t.t=1)):void(D<-Number.EPSILON?t.loc=3:D>Number.EPSILON?t.loc=4:_*O<0||w*S<0?t.loc=5:Math.sqrt(_*_+w*w)<Math.sqrt(O*O+S*S)?t.loc=6:(U=0!==_?O/_:S/w,t.loc=2,t.t=U))}let a=0,l=999999999,c=-999999999,h=[];this.subPaths.forEach(f=>{let v=f.getPoints(),y=-999999999,_=999999999,w=-999999999,O=999999999;for(let S=0;S<v.length;S++){let D=v[S];D.y>y&&(y=D.y),D.y<_&&(_=D.y),D.x>w&&(w=D.x),D.x<O&&(O=D.x)}c<=w&&(c=w+1),l>=O&&(l=O-1),v.length&&h.push({curves:f.curves,points:v,isCW:Oj.isClockWise(v),identifier:a++,boundingBox:new Xj(new Fe(O,_),new Fe(w,y))})});let d=h.map(f=>function s(f,v,y,_,w){(null==w||""===w)&&(w="nonzero");let O=new Fe;f.boundingBox.getCenter(O);let D=function o(f,v,y){let _=new Fe;v.getCenter(_);let w=[];return y.forEach(O=>{O.boundingBox.containsPoint(_)&&function r(f,v){let y=[],_=[];for(let w=1;w<f.length;w++){let O=f[w-1],S=f[w];for(let D=1;D<v.length;D++){let q=n(O,S,v[D-1],v[D]);null!==q&&void 0===y.find(K=>K.t<=q.t+Number.EPSILON&&K.t>=q.t-Number.EPSILON)&&(y.push(q),_.push(new Fe(q.x,q.y)))}}return _}(f,O.points).forEach(S=>{w.push({identifier:O.identifier,isCW:O.isCW,point:S})})}),w.sort((O,S)=>O.point.x-S.point.x),w}([new Fe(y,O.y),new Fe(_,O.y)],f.boundingBox,v);D.sort((te,ie)=>te.point.x-ie.point.x);let U=[],Y=[];D.forEach(te=>{te.identifier===f.identifier?U.push(te):Y.push(te)});let q=U[0].point.x,K=[],Z=0;for(;Z<Y.length&&Y[Z].point.x<q;)K.length>0&&K[K.length-1]===Y[Z].identifier?K.pop():K.push(Y[Z].identifier),Z++;if(K.push(f.identifier),"evenodd"===w)return{identifier:f.identifier,isHole:K.length%2==0,for:K[K.length-2]};if("nonzero"===w){let te=!0,ie=null,ce=null;for(let de=0;de<K.length;de++){let ue=K[de];v[ue]&&(te?(ce=v[ue].isCW,te=!1,ie=ue):ce!==v[ue].isCW&&(ce=v[ue].isCW,te=!0))}return{identifier:f.identifier,isHole:te,for:ie}}console.warn('fill-rule: "'+w+'" is currently not implemented.')}(f,h,l,c,this.userData?.style.fillRule)),u=[];return h.forEach(f=>{let v=d[f.identifier];if(v&&!v.isHole){let y=new YC;y.curves=f.curves,d.filter(_=>_?.isHole&&_.for===f.identifier).forEach(_=>{if(_){let w=h[_.identifier],O=new qC;O.curves=w.curves,y.holes.push(O)}}),u.push(y)}}),u}},a=(e.advanceWidth??1)*t;if(e)for(let l of o.commands){let c=s.currentPath?.currentPoint;if(!c||"Z"===l.type||c.x!==l.x||-c.y!==l.y)switch(l.type){case"M":s.moveTo(l.x,-l.y);break;case"L":s.lineTo(l.x,-l.y);break;case"Q":s.quadraticCurveTo(l.x1,-l.y1,l.x,-l.y);break;case"C":s.bezierCurveTo(l.x1,-l.y1,l.x2,-l.y2,l.x,-l.y)}}return s.subPaths.forEach(l=>{let c=function D4e(e){if(e.length){let t=e[0];if(t instanceof md)return t.v1;if(t instanceof fd||t instanceof Fp)return t.v0}}(l.curves);void 0!==c&&l.currentPoint.distanceTo(c)>0&&l.lineTo(c.x,c.y)}),{offsetX:a+r.fontSize*r.letterSpacing,path:s}}getCharWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}getTextWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}computeSpaceWidthForLine(e,t,n){let i=this.getCharWidth(" ",n),r=e[t];if(r){let o=this.countSpaces(r.trimEnd());if(4===n.horizontalAlign&&t<e.length-1&&o)return(n.width-(this.getTextWidth(r,n)-o*i))/o}return i}countSpaces(e){return(e.match(/ /g)||[]).length}}(t),this.fonts[e].loadingPromise.then(()=>this.requestRender())}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._requestRender=void 0,Object.values(this.audios).forEach(e=>{e instanceof lb&&e.dispose()}),this.audios={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){return void 0===this.variables[e]?(this.variables[e]={value:t.value,locations:[]},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0):(this.variables[e].value=t.value,!1)}resetDynamicVariablePlayState(){for(let e in this.variables)void 0!==this.variables[e].dynamicVariablePlayState&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(void 0===this.variables[e])return!1;this.variables[e].value=t;let n=t;for(;"string"==typeof n;)n=this.variables[n].value;let i=this.entityOpContext.scene;for(let r=this.variables[e].locations.length-1;r>=0;r--){let o=this.variables[e].locations[r];if("material"===o[0]){let s=o[1],a=n,l={scene:i,shared:this},c=o.slice(2);i.traverseMaterial(d=>{let u=d.root??d;u.uuid===s&&u.onVariableUpdate(c,a,l)});let h=this.materials[s];h&&h.onVariableUpdate(c,a,l)}else{let s=i.find(o[0]);if(void 0===s){this.variables[e].locations.splice(r,1);continue}if("geometry"!==o[1]){for(let a=1;a<o.length-1;a++)s=s[o[a]];s[o[o.length-1]]="rotation"===o[1]?n*Ln.DEG2RAD:n}if(s=i.find(o[0]),Zi.is(s))if("position"===o[1]||"rotation"===o[1]||"scale"===o[1])s.onVariableUpdate();else if("geometry"===o[1]){let a=s;s.component&&(a=s.component);let l=a.dataPatched;a.chooseGeoemtryCache(this).forceDelete(l.geometry),a.createGeometryDelayed(this.entityOpContext),a.onVariableUpdate(!0),a.instances.forEach(c=>{let h=c.dataPatched;c.chooseGeoemtryCache(this).forceDelete(h.geometry),c.createGeometryDelayed(this.entityOpContext),c.onVariableUpdate(!0)})}}}return!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){if(Array.isArray(e)){if("mouse"===e[0])return this.mouseProperty?.[e[1]]??0;if("raycast"===e[0])return this.raycastProperty?.[e[1]]??0;let n=this.entityOpContext.scene.find(e[0]);if("width"===e[1]||"height"===e[1]||"depth"===e[1])return n.geometry.userData.parameters[e[1]];for(let i=1;i<e.length;i++)n=n[e[i]];return"rotation"===e[1]&&(n*=Ln.RAD2DEG),n}for(let n in this.variables){if(void 0===t)break;let i=this.variables[n],r=i.locations?.findIndex(o=>qa.equal(o,t));void 0!==r&&-1!==r&&i.locations.splice(r,1)}if("string"==typeof e){let n=e,i=e;do{if(i=n,void 0===this.variables[n])break;n=this.variables[n].value}while("string"==typeof n);return t&&void 0!==this.variables[i]&&this.variables[i].locations.push(t),n}return e}getVariables(){return this.variables}getDynamicVariablePlayState(e){return this.variables[e]?.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){void 0!==this.variables[e]&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){return this.variables[e]?.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){void 0!==this.variables[e]&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,n]of Object.entries(e.images))this.addImage(t,n.asset);for(let[t,n]of Object.entries(e.audios))this.addAudio(t,n.asset);for(let[t,n]of Object.entries(e.colors))this.addColor(t,n.asset);for(let[t,n]of Object.entries(e.fonts))this.addFont(t,n.asset);for(let[t,n]of Object.entries(e.materials))this.addMaterial(t,n.asset);for(let[t,n]of Object.entries(e.videos))this.addVideo(t,n.asset);for(let[t,n]of Object.entries(e.variables))this.addVariableHolder(t,n.asset)}updateLibByOp(e,t){"images"===e.path[0]?1===e.path.length&&1===e.type?this.addImage(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteImage(e.id):"videos"===e.path[0]?1===e.path.length&&1===e.type?this.addVideo(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteVideo(e.id):"audios"===e.path[0]?1===e.path.length&&1===e.type?this.addAudio(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteAudio(e.id):"colors"===e.path[0]?1===e.path.length&&1===e.type?this.addColor(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteColor(e.id):"materials"===e.path[0]?1===e.path.length&&1===e.type?this.addMaterial(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteMaterial(e.id):"fonts"===e.path[0]?1===e.path.length&&1===e.type?this.addFont(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteFont(e.id):"variables"===e.path[0]?1===e.path.length&&1===e.type?this.addVariableHolder(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteVariable(e.id):"components"===e.path[0]&&t.updateByLibOp(e,this)}updateByOp(e,t,n){this.data=t,"images"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):1===e.path.length&&1===e.type?this.addImage(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteImage(e.id):"videos"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):1===e.path.length&&1===e.type?this.addVideo(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteVideo(e.id):"audios"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):1===e.path.length&&1===e.type?this.addAudio(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteAudio(e.id):"colors"===e.path[0]?2===e.path.length&&0===e.type?this.updateColor(e.path[1],e.props):1===e.path.length&&1===e.type?this.addColor(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteColor(e.id):"materials"===e.path[0]?1===e.path.length&&1===e.type?this.addMaterial(e.id,e.data):1===e.path.length&&2===e.type?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(wa.drop(e,2),t.materials[e.path[1]],{shared:this,scene:n}):"fonts"===e.path[0]?2===e.path.length&&0===e.type?this.updateFont(e.path[1],e,n):1===e.path.length&&1===e.type?this.addFont(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteFont(e.id):"variables"===e.path[0]?2===e.path.length&&0===e.type&&"value"in e.props?this.updateVariable(e.path[1],e.props.value):1===e.path.length&&4===e.type?this.addVariableHolder(e.id,e.data):1===e.path.length&&5===e.type&&this.deleteVariable(e.id):"lib"===e.path[0]&&this.updateLibByOp(wa.drop(e,1),n)}updateFont(e,t,n){if(t.props.url){let i=this.getFont(e),r={...this.data.fonts[e],url:t.props.url};i.update(r),i.loadingPromise.then(()=>this.requestRender()),n.updateFont(e,this)}}},Jv=(new Hk(_d.emptyData()),class extends _l{updateByPatchedOp(e,t,n){if(super.updateByPatchedOp(e,t,n),null!==function DTe(e,t){let n=[];if(t.length!==e.length)return null;for(var i=0;i<e.length;){if("*"===t[i])n.push(e[i]);else if(e[i]!==t[i])return null;i+=1}return n}(e.path,["materials"])&&0===e.type&&Array.isArray(this.material))for(let[i,r]of Object.entries(e.props)){let o=n.shared.material(r);this.material[Number(i)]=o}else if(Dc(e.path,["material"])&&this.material instanceof rf)"material"in t&&"string"!=typeof t.material&&this.material.updateByOp(wa.drop(e,1),t.material,n);else if(Dc(e.path,["materials","*"])&&Array.isArray(this.material)){let i=e.path[1];if("materials"in t&&i<this.material.length){let r=t.materials[i];"string"!=typeof r&&this.material[i].updateByOp(wa.drop(e,2),r,n)}}}get needsAO(){return void 0!==this.material&&(Array.isArray(this.material)?this.material[0]:this.material).hasAO}updateState(e,t){super.updateState(e,t),void 0!==e.castShadow&&(this.castShadow=e.castShadow),void 0!==e.receiveShadow&&(this.receiveShadow=e.receiveShadow);let n=this.dataPatched;if("NonParametricGeometry"!==e.geometry?.type&&"material"in e&&void 0!==e.material&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe),t.scene.markNeedsUpdateRendererDirty()),"NonParametricGeometry"===e.geometry?.type&&("materials"in e&&void 0!==e.materials?(this.disposeMaterial(),this.material=e.materials.map(i=>t.shared.material(i).getFlavor(n.flatShading,n.side,n.wireframe)),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&void 0!==e.material&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe)],t.scene.markNeedsUpdateRendererDirty())),void 0!==e.flatShading||void 0!==e.wireframe||void 0!==e.side)if(Array.isArray(this.material))for(let i=0;i<this.material.length;i++)this.material[i]=this.material[i].getFlavor(n.flatShading,n.side,n.wireframe);else this.material=this.material.getFlavor(n.flatShading,n.side,n.wireframe)}disposeMaterial(){this.material&&_H(this.material).forEach(e=>{e instanceof rf&&(e instanceof Uk||e.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}}),lY=new ne,cY=new Ci,dY=new Ci,I4e=new ne,hY=new Ut,el=class extends Jv{constructor(e,t,n){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=(new Ut).fromArray(t.bindMatrix),this.bindMatrixInverse=new Ut)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof Vn&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(void 0!==this.localGeometry)return this.localGeometry;if(this.geometryCreateDeleyed instanceof Hk){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return YM.is2DParametricMesh(e.type)&&0===e.depth}get is2DType(){return YM.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return"NonParametricGeometry"===this.geometry.userData.type}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),Dc(e.path,["geometry"])&&this.updateByPatchedOpGeometry(wa.drop(e,1),t.geometry,n)}removeInteractionGeometry(){this.localGeometry?.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){this.invalidateDownstreamBooleanData();let n=this.data.geometry.type;if("NonParametricGeometry"===n||"SubdivGeometry"===n){let r,o,s,i=e;if(void 0===this.localGeometry){let l={...this.data.geometry,...i};this.localGeometry=wP(l,t,this.data.flatShading,this)}i.scaleBaked?[r,o,s]=i.scaleBaked:({width:r,height:o,depth:s}=i);let a=this.localGeometry.userData;void 0!==a.sxPrev&&bk(this.localGeometry.attributes,r/a.sxPrev,o/a.syPrev,s/a.szPrev),a.sxPrev=r,a.syPrev=o,a.szPrev=s}else{let i={...this.data.geometry,...e};this.localGeometry?.dispose(),this.localGeometry=wP(i,t,this.data.flatShading,this)}}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand(()=>t.updateShape())}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,n){let i=!1;0===e.type&&0===e.path.length&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof Ka&&this.chooseGeoemtryCache(n.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(i=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(n),this.refreshAttachedPaths(n)),i||(n.scene?.markGeometryCacheDirty(),this.createGeometryDelayed(n)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){void 0!==e.geometry&&this.updateGeometryOnStateUpdate(e.geometry,t),super.updateState(e,t)}updateGeometryGroupsIfNeeded(){Array.isArray(this.material)&&0===this.geometry.groups.length&&this.geometry.addGroup(0,Math.max(this.geometry.getIndex()?.count??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;this.is2DType?e.set(0,0,.5*n.depth):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)):e.setScalar(0),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new Ci,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){t.fromBufferAttribute(n,i);let o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),n.setXYZW(i,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let n=this.skeleton;if(void 0===n)return;let i=this.geometry;cY.fromBufferAttribute(i.attributes.skinIndex,e),dY.fromBufferAttribute(i.attributes.skinWeight,e),lY.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){let o=dY.getComponent(r);if(0!==o){let s=cY.getComponent(r);hY.multiplyMatrices(n.bones[s].matrixWorld,n.boneInverses[s]),t.addScaledVector(I4e.copy(lY).applyMatrix4(hY),o)}}return t.applyMatrix4(this.bindMatrixInverse)}};function Gk(e){if(Array.isArray(e.material)){for(let t of e.material)if(0===t.getLayersOfType("outline").length)return}else if(!(e.material instanceof rf)||0===e.material.getLayersOfType("outline").length)return;e instanceof el&&e.is2DAndNoDepth?function N4e(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),i=new ne;for(let r=0;r<t.length;r+=3)i.set(t[r],t[r+1],t[r+2]).normalize(),n[r]=i.x,n[r+1]=i.y,n[r+2]=i.z;e.geometry.setAttribute("extrudeNormal",new wn(n,3))}(e):function R4e(e){if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,n=e.geometry.attributes,i=n.position.array,r=n.normal.array,o=new Float32Array(i.length);for(let s=0;s<i.length;s+=3){let a=`${i[s]}_${i[s+1]}_${i[s+2]}`,l=new ne(r[s],r[s+1],r[s+2]);t.has(a)?t.get(a)?.normals.push(l):t.set(a,{normals:[l],result:new ne})}t.forEach((s,a)=>{for(let l of s.normals)s.result.add(l);s.result.divideScalar(s.normals.length)});for(let s=0;s<i.length;s+=3){let l=t.get(`${i[s]}_${i[s+1]}_${i[s+2]}`)?.result;l&&(o[s]=l.x,o[s+1]=l.y,o[s+2]=l.z)}e.geometry.setAttribute("extrudeNormal",new wn(o,3))}(e)}function Wk(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),i=parseInt(e.uuid.replace(/\D/g,"")),r=[Ln.seededRandom(i),Ln.seededRandom(i+1e4),Ln.seededRandom(i+2e4)];for(let o=0;o<t.length;o++)n[o]=r[o%3];e.geometry.setAttribute("randomColor",new ti(n,3))}_k.then(e=>{});var Ch=new Ko,cb=new ne;function L4e(e){let t=!1;return e.scene.objects.traverse((n,i)=>{"Mesh"===i.type&&"SubdivGeometry"===i.geometry.type&&(t=!0)}),t}var db=class extends el{constructor(e,t,n){super(e,t,n),this.data=t,this.hiddenMatrixOld=new Ut,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return void 0!==this.localGeometry?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return void 0!==this.localGeometry?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}createGeometryByControls(e){if(!0===this.skipReactionUpdate)return;let t=this.localGeometry?.uuid,{originalGeometry:n,subdividedGeometry:i,subdivPointer:r}=Ka.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=r,void 0!==n&&(this.originalGeometry?.dispose(),this.originalGeometry=n),void 0!==i&&(this.subdividedGeometry?.dispose(),this.subdividedGeometry=i??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,Gk(this),Wk(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),void 0!==e.flatShading){let n=this.material;this.material=n.getFlavor(!1,n.side,n.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){Ka.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&Ka.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=Ka.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=Ka.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){let n=this.localGeometry;this.localGeometry=this.originalGeometryNew,_l.prototype.raycast.call(this,e,t),this.localGeometry=n}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;null===e.boundingSphere&&(e.boundingSphere=new ml,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let n=e.boundingSphere.center;Ch.setFromBufferAttribute(e.attributes.position),Ch.getCenter(n),e.boundingSphere.radius=n.distanceTo(Ch.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Ch.getSize(cb),this.hasNonUniformScale&&cb.divide(this.scale);let i={width:cb.x,height:cb.y,depth:cb.z};return this.geometry.userData.parameters=i,i}updateBoundingSphere(e){let t=this.originalGeometry;Ch.min.set(e[0],e[2],e[4]),Ch.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(Ch.min.applyMatrix4(this.shearScaleInv),Ch.max.applyMatrix4(this.shearScaleInv)),null===t.boundingSphere&&(t.boundingSphere=new ml);let n=t.boundingSphere.center;Ch.getCenter(n),t.boundingSphere.radius=n.distanceTo(Ch.max)}freeSubdivPointer(){this.subdivPointer&&(Ka.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,this.originalGeometry?.dispose(),this.subdividedGeometry?.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,n){super.updateByPatchedOpGeometry(e,t,n),this.localGeometry&&this.createGeometryByControls(t)}},z4e={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},U4e={polygon_center:0,edge:1,vertex:2},AP=(e,t)=>(n,i)=>t&&0!==n&&0!==e?e*i/100:0,Mi=(e,t)=>{let n=Math.abs(t),i=-1*n;return(e- -1)*(n-i)/2+i},V4e=new ne,TP=new ne,H4e=new ne,G4e=new ne;function e1(e,t){let n=H4e.fromArray(e),i=G4e.fromArray(t);TP.copy(i).sub(n);let r=TP.length();return TP.normalize().multiplyScalar(.5*r),V4e.copy(n).add(TP).toArray()}var Rc=new ba,kP=new ne,IP=new ne,$m=new ne,qk=e=>.5*(1-Math.cos(e*Math.PI)),pY=new ne,fY=new Ut,mY=new F0;function gY(e){let t=!1;return e.scene.objects.traverse((n,i)=>{"Mesh"===i.type&&"TextGeometry"===i.geometry.type&&(t=!0)}),t}var Mh,yY,_Y,bY,vY=class extends el{constructor(e,t,n){super(e,t,n),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){let e=this.dataPatched;return this.font?.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign)??0}get fontScale(){return this.font?this.dataPatched.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){return(this.font?.ascender??1)*this.fontScale}get descender(){return(this.font?.descender??1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:n}=this;if(!isNaN(e.ray.origin.x)&&0!==this.scale.x&&0!==this.scale.y&&0!==this.scale.z&&(fY.copy(n).invert(),mY.copy(e.ray).applyMatrix4(fY),mY.intersectBox(this.singleBBox,pY))){let i=pY.applyMatrix4(n),r=e.ray.origin.distanceTo(i);t.push({distance:r,point:i.clone(),object:this})}}},tl=1e-4,xY=new ne,wY=new ne;_k.then(e=>{yY=[(Mh=e).get_face_center,Mh.get_edge_midpoint,Mh.get_vertex_position],_Y=[Mh.get_face_normal,Mh.get_edge_normal,Mh.get_vertex_normal],bY=[Mh.face_count,Mh.edge_count,Mh.vertex_count]});var Q4e=new Ut,Z4e=new Ut,sf=new ne,Km=new ne,hb=new ne,Yk=new ne,J4e=new ne,eNe=new ne,ku=new class{constructor(){this.perlin=new Array(4096)}noise(e,t=0,n=0){if(null==this.perlin){this.perlin=new Array(4096);for(let _=0;_<4096;_++)this.perlin[_]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),n<0&&(n=-n);let c,h,f,v,y,i=Math.floor(e),r=Math.floor(t),o=Math.floor(n),s=e-i,a=t-r,l=n-o,d=0,u=.5;for(let _=0;_<4;_++){let w=i+(r<<4)+(o<<8);c=qk(s),h=qk(a),f=this.perlin[4095&w],f+=c*(this.perlin[w+1&4095]-f),v=this.perlin[w+16&4095],v+=c*(this.perlin[w+16+1&4095]-v),f+=h*(v-f),w+=256,v=this.perlin[4095&w],v+=c*(this.perlin[w+1&4095]-v),y=this.perlin[w+16&4095],y+=c*(this.perlin[w+16+1&4095]-y),v+=h*(y-v),f+=qk(l)*(v-f),d+=f*u,u*=.5,i<<=1,s*=2,r<<=1,a*=2,o<<=1,l*=2,s>=1&&(i++,s--),a>=1&&(r++,a--),l>=1&&(o++,l--)}return d}noiseSeed(e){let t=(()=>{let n,i;return{setSeed(r){i=n=(r??4294967296*Math.random())>>>0},getSeed:()=>n,rand:()=>(i=(1664525*i+1013904223)%4294967296,i/4294967296)}})();t.setSeed(e),this.perlin=new Array(4096);for(let n=0;n<4096;n++)this.perlin[n]=t.rand()}},Cd=class extends(q3(Tr)){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(null===this.parent)this.updateState(this.parameters,e);else for(let t of this.children)t instanceof Ma&&t.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse(t=>{t instanceof Ma&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){"toObject"!==this.parameters.type&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(t=void 0!==e?e:"grid"===this.parameters.type?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,"toObject"===this.parameters.type&&!this.parameters.toObject.object&&(t=0),"toObject"===this.parameters.type&&this.objectForSample){for(let i=0,r=this.children.length;i<r;++i)this.remove(this.children[0]);let n=this.children;if(n.length===t)return;if(n.length<t)for(let i=0,r=t-n.length;i<r;++i){let o=new Ma(this.object);o.expand(),this.add(o)}else for(let i=0,r=n.length-t;i<r;++i)this.remove(n[i])}else{if(this.children.length===t)return;if(this.children.length<t)for(let n=0,i=t-this.children.length;n<i;++n){let r=new Ma(this.object);r.expand(),this.add(r)}else for(let n=0,i=this.children.length-t;n<i;++n)this.remove(this.children[0])}}_updateRadial(e){let s,t=e.radial,n=t.start*Ln.DEG2RAD,r=n-t.end*Ln.DEG2RAD,o=new Gs(t.rotation[0],t.rotation[1],t.rotation[2]);switch(t.axis){case"z":s=new ne(0,0,1);break;case"y":s=new ne(0,1,0);break;default:s=new ne(1,0,0)}let a=e.randomnessObject??Gp.defaultData([1,1,1]).randomnessObject,l="perlin"===a.noiseType;ku.noiseSeed(a.seed);let c=W3((0,K_.default)(a.seed)),h=AP(a.strength,this.parameters.randomness);for(let[d,u]of this.children.entries()){let f=d*(a.freqScale/10)+a.movement,v=l?ku.noise(f):c(f,f),y=d+1;u.scale.x=t.scale[0]+h(y,Mi(v,a.scale[0]))||tl,u.scale.y=t.scale[1]+h(y,Mi(v,a.scale[1]))||tl,u.scale.z=t.scale[2]+h(y,Mi(v,a.scale[2]))||tl,u.position.setScalar(0);let _=r/e.count*d-n;switch(t.axis){case"x":u.rotation.set(0,_,0);break;case"y":u.rotation.set(0,0,_);break;case"z":u.rotation.set(_,0,0)}u.translateOnAxis(s,t.radius),u.position.x+=t.position[0]+h(y,Mi(v,a.position[0])),u.position.y+=t.position[1]+h(y,Mi(v,a.position[1])),u.position.z+=t.position[2]+h(y,Mi(v,a.position[2]));let w=h(y,Mi(v,a.rotation[0])),O=h(y,Mi(v,a.rotation[1])),S=h(y,Mi(v,a.rotation[2]));!0===t.alignment?(u.rotation.x+=o.x+w,u.rotation.y+=o.y+O,u.rotation.z+=o.z+S):u.rotation.set(o.x+w,o.y+O,o.z+S)}}_updateLinear(e){if("linear"!==e.type)throw new Error;let t=e.linear,n=new Gs(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??Gp.defaultData([1,1,1]).randomnessObject,r="perlin"===i.noiseType;ku.noiseSeed(i.seed);let o=W3((0,K_.default)(i.seed)),s=AP(i.strength,this.parameters.randomness);for(let[a,l]of this.children.entries()){let c=a*(i.freqScale/10)+i.movement,h=r?ku.noise(c):o(c,c),d=a+1,u=s(d,Mi(h,i.rotation[0])),f=s(d,Mi(h,i.rotation[1])),v=s(d,Mi(h,i.rotation[2]));l.scale.x=1+(t.scale[0]-1)*a+s(d,Mi(h,i.scale[0]))||tl,l.scale.y=1+(t.scale[1]-1)*a+s(d,Mi(h,i.scale[1]))||tl,l.scale.z=1+(t.scale[2]-1)*a+s(d,Mi(h,i.scale[2]))||tl,l.rotation.x=n.x*a+u,l.rotation.y=n.y*a+f,l.rotation.z=n.z*a+v,l.position.x=t.position[0]*a+s(d,Mi(h,i.position[0])),l.position.y=t.position[1]*a+s(d,Mi(h,i.position[1])),l.position.z=t.position[2]*a+s(d,Mi(h,i.position[2]))}}_updateGrid(e){let t=0,n=e.grid,i=e.randomnessObject??Gp.defaultData([1,1,1]).randomnessObject,r=AP(i.strength,this.parameters.randomness),o="perlin"===i.noiseType;ku.noiseSeed(i.seed);let s=function ske(e=Math.random){let t=aW(e),n=new Float64Array(t).map(o=>G3[o%12*3]),i=new Float64Array(t).map(o=>G3[o%12*3+1]),r=new Float64Array(t).map(o=>G3[o%12*3+2]);return function(o,s,a){let l,c,h,d,q,K,Z,te,ie,ce,u=.3333333333333333*(o+s+a),f=Z_(o+u),v=Z_(s+u),y=Z_(a+u),_=(f+v+y)*yh,D=o-(f-_),U=s-(v-_),Y=a-(y-_);D>=U?U>=Y?(q=1,K=0,Z=0,te=1,ie=1,ce=0):D>=Y?(q=1,K=0,Z=0,te=1,ie=0,ce=1):(q=0,K=0,Z=1,te=1,ie=0,ce=1):U<Y?(q=0,K=0,Z=1,te=0,ie=1,ce=1):D<Y?(q=0,K=1,Z=0,te=0,ie=1,ce=1):(q=0,K=1,Z=0,te=1,ie=1,ce=0);let de=D-q+yh,ue=U-K+yh,Ce=Y-Z+yh,we=D-te+2*yh,_e=U-ie+2*yh,ye=Y-ce+2*yh,Re=D-1+.5,Be=U-1+.5,Ie=Y-1+.5,De=255&f,Ve=255&v,ke=255&y,He=.6-D*D-U*U-Y*Y;if(He<0)l=0;else{let ut=De+t[Ve+t[ke]];He*=He,l=He*He*(n[ut]*D+i[ut]*U+r[ut]*Y)}let ze=.6-de*de-ue*ue-Ce*Ce;if(ze<0)c=0;else{let ut=De+q+t[Ve+K+t[ke+Z]];ze*=ze,c=ze*ze*(n[ut]*de+i[ut]*ue+r[ut]*Ce)}let it=.6-we*we-_e*_e-ye*ye;if(it<0)h=0;else{let ut=De+te+t[Ve+ie+t[ke+ce]];it*=it,h=it*it*(n[ut]*we+i[ut]*_e+r[ut]*ye)}let We=.6-Re*Re-Be*Be-Ie*Ie;if(We<0)d=0;else{let ut=De+1+t[Ve+1+t[ke+1]];We*=We,d=We*We*(n[ut]*Re+i[ut]*Be+r[ut]*Ie)}return 32*(l+c+h+d)}}((0,K_.default)(i.seed));if(!0===n.useCenter){let a={x:n.count[0]%2==0?2:1,y:n.count[1]%2==0?2:1,z:n.count[2]%2==0?2:1},l=new ne(n.size[0]*(n.count[0]-a.x)*.5,n.size[1]*(n.count[1]-a.y)*.5,n.size[2]*(n.count[2]-a.z)*.5);for(let c=0;c<n.count[0];c++)for(let h=0;h<n.count[1];h++)for(let d=0;d<n.count[2];d++){let u=[(c+1)*(i.freqScale/10)+i.movement,(h+1)*(i.freqScale/10)+i.movement,(d+1)*(i.freqScale/10)+i.movement],f=o?ku.noise(...u):s(...u),v=this.children[t++];v.scale.x=1+r(t,Mi(f,i.scale[0]))||tl,v.scale.y=1+r(t,Mi(f,i.scale[1]))||tl,v.scale.z=1+r(t,Mi(f,i.scale[2]))||tl;let y=r(t,Mi(f,i.rotation[0])),_=r(t,Mi(f,i.rotation[1])),w=r(t,Mi(f,i.rotation[2]));v.rotation.set(y,_,w),v.position.x=n.size[0]*c-l.x+r(t,Mi(f,i.position[0])),v.position.y=n.size[1]*h-l.y+r(t,Mi(f,i.position[1])),v.position.z=n.size[2]*d-l.z+r(t,Mi(f,i.position[2]))}}else for(let a=0;a<n.count[0];a++)for(let l=0;l<n.count[1];l++)for(let c=0;c<n.count[2];c++){let h=[(a+1)*(i.freqScale/10)+i.movement,(l+1)*(i.freqScale/10)+i.movement,(c+1)*(i.freqScale/10)+i.movement],d=o?ku.noise(...h):s(...h),u=this.children[t++];u.scale.x=1+r(t,Mi(d,i.scale[0]))||tl,u.scale.y=1+r(t,Mi(d,i.scale[1]))||tl,u.scale.z=1+r(t,Mi(d,i.scale[2]))||tl;let f=r(t,Mi(d,i.rotation[0])),v=r(t,Mi(d,i.rotation[1])),y=r(t,Mi(d,i.rotation[2]));u.rotation.set(f,v,y),u.position.x=n.size[0]*a+r(t,Mi(d,i.position[0])),u.position.y=-n.size[1]*l+r(t,Mi(d,i.position[1])),u.position.z=-n.size[2]*c+r(t,Mi(d,i.position[2]))}}_updateToObject(e){if("toObject"!==e.type)throw new Error;let{toObject:t}=e,n=new Gs(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??Gp.defaultData([1,1,1]).randomnessObject,r="perlin"===i.noiseType;ku.noiseSeed(i.seed);let o=W3((0,K_.default)(i.seed)),s=AP(i.strength,this.parameters.randomness);if(!t.object){for(let[,y]of this.children.entries())y.position.set(0,0,0),y.scale.setScalar(1),y.rotation.set(0,0,0);return void(this.objectForSample=void 0)}if(!this.objectForSample)return;if(this.objectForSample instanceof vY){if(!this.objectForSample.font?.isLoaded||void 0===this.objectForSample.geometry.attributes.position)return void(this._pendingMediaLoad=!0);this._pendingMediaLoad=!1}if(void 0===this.objectForSample.geometry&&this.objectForSample.isAncestorOf(this.object.uuid))return void console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);let a=this.getSubdivData(),l=[],c=y=>{let _=y.length;return[y.map(D=>D[0]).reduce((D,U)=>D+U,0)/_,y.map(D=>D[1]).reduce((D,U)=>D+U,0)/_,y.map(D=>D[2]).reduce((D,U)=>D+U,0)/_]},h=y=>Math.round(1e6*y)/1e6;a.forEach(y=>{let _=a.filter(w=>h(y.pos[0])===h(w.pos[0])&&h(y.pos[1])===h(w.pos[1])&&h(y.pos[2])===h(w.pos[2]));l.push(_.length>1?{pos:y.pos,norm:c(_.map(w=>w.norm))}:y)});let d=function j4e(e){let t=[],n={};for(var i=0,r=e.length;i<r;i++){var o=JSON.stringify(e[i].pos.map(s=>Math.round(1e4*s)/1e4));n[o]||(t.push(e[i]),n[o]=!0)}return t}(l);if(d.length>0){let y=Math.round(d.length*t.count/100);this._updateCount(y)}else{let y=this.objectForSample.geometry.getAttribute("position");if(!y||isNaN(y.count)||0===y.count)return void console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`)}this.objectForSample.updateMatrixWorld();let u=new class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||3!==t.attributes.position.itemSize)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let i=0;i<e.count;i+=3){let r=1;bd.a.fromBufferAttribute(e,i),bd.b.fromBufferAttribute(e,i+1),bd.c.fromBufferAttribute(e,i+2),r*=bd.getArea(),t[i/3]=r}this.distribution=new Float32Array(e.count/3);let n=0;for(let i=0;i<t.length;i++)n+=t[i],this.distribution[i]=n;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let n=this.distribution[this.distribution.length-1],i=this.binarySearch(this.randomFunction()*n);return this.sampleFace(i,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,n=0,i=t.length-1,r=-1;for(;n<=i;){let o=Math.ceil((n+i)/2);if(0===o||t[o-1]<=e&&t[o]>e){r=o;break}e<t[o]?i=o-1:n=o+1}return r}sampleFace(e,t,n){let i=this.randomFunction(),r=this.randomFunction();return i+r>1&&(i=1-i,r=1-r),bd.a.fromBufferAttribute(this.positionAttribute,3*e),bd.b.fromBufferAttribute(this.positionAttribute,3*e+1),bd.c.fromBufferAttribute(this.positionAttribute,3*e+2),t.set(0,0,0).addScaledVector(bd.a,i).addScaledVector(bd.b,r).addScaledVector(bd.c,1-(i+r)),bd.getNormal(n),this}}(this.objectForSample).build(),f=z4e[t.axis],v=this.children;u.setRandomGenerator((0,K_.default)(this.object.uuid+t.seed));for(let[y,_]of v.entries()){let w=y*(i.freqScale/10)+i.movement,O=r?ku.noise(w):o(w,w),S=y+1,D=s(S,Mi(O,i.rotation[0])),U=s(S,Mi(O,i.rotation[1])),Y=s(S,Mi(O,i.rotation[2]));"random"===t.spreadType?u.sample(hb,Yk):(d.length&&(hb.fromArray(d[y].pos),Yk.fromArray(d[y].norm)),this.objectForSample instanceof db&&hb.applyMatrix4(Q4e.copy(this.objectForSample.matrixWorld).invert())),hb.applyMatrix4(this.object.hiddenMatrix.clone().invert()),_.position.copy(hb),sf.fromArray(f);let q="normal"===t.align?Yk:this.object.getWorldDirection(eNe),K=Km.fromArray(t.position);Km.x+=Km.x+s(S,Mi(O,i.position[0])),Km.y+=Km.y+s(S,Mi(O,i.position[1])),Km.z+=Km.z+s(S,Mi(O,i.position[2]));let Z=Math.acos(q.dot(sf)),te=J4e.crossVectors(sf,q).normalize(),ie=Z4e.makeRotationAxis(te,Z),ce=q.clone().cross(this.object.up).normalize(),de=ce.clone().cross(q).normalize(),ue=(new Ut).makeBasis(ce,q,de),Ce=new ne(sf.y,sf.z,sf.x).normalize(),we=Ce.clone().cross(sf).normalize(),_e=(new Ut).makeBasis(Ce,sf,we).invert(),ye=(new Ut).multiplyMatrices(ue,_e);_.rotation.setFromRotationMatrix(ye),K.applyMatrix4(ie),_.position.add(K),_.rotation.x=_.rotation.x+n.x+D,_.rotation.y=_.rotation.y+n.y+U,_.rotation.z=_.rotation.z+n.z+Y,_.scale.setScalar(1),_.scale.x=_.scale.x+t.scale[0]+s(S,Mi(O,i.scale[0]))||tl,_.scale.y=_.scale.y+t.scale[1]+s(S,Mi(O,i.scale[1]))||tl,_.scale.z=_.scale.z+t.scale[2]+s(S,Mi(O,i.scale[2]))||tl,_.scale.multiply(this.object.scale),_.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType;if("random"===e)return[];if(this.objectForSample instanceof db){let t=this.objectForSample,n=U4e[e],r=yY[n],o=_Y[n],s=[],a=(0,bY[n])(t.subdivPointerNew);for(let l=0;l<=a-1;l++){let c=r(t.subdivPointerNew,l),h=o(t.subdivPointerNew,l);xY.fromArray(c).applyMatrix4(t.matrixWorld),wY.fromArray(h),s.push({pos:xY.toArray(),norm:wY.toArray()})}return s}return(this.objectForSample.geometry.index?function W4e(e){let t=[];for(let n=0;n<=e.index.count;n++)if(kP.fromArray(e.index.array,3*n),Rc.setFromAttributeAndIndices(e.attributes.position,kP.x,kP.y,kP.z),Rc.getNormal(IP),Rc.getMidpoint($m),!(isNaN($m.x)||isNaN($m.y)||isNaN($m.z))){let{a:i,b:r,c:o}=Rc,s=i.toArray(),a=r.toArray(),l=o.toArray(),c=i.distanceTo(r),h=r.distanceTo(o),d=o.distanceTo(i),u=e1(s,a),f=e1(a,l),v=e1(l,s),y=[c,h,d],_=Math.max(...y),w=y.filter(D=>Math.round(D)===Math.round(_)).length>1,O=[],S=Rc.getMidpoint($m).toArray();_===c&&!w&&(O=[f,v,v],S=u),_===h&&!w&&(O=[u,v,v],S=f),_===d&&!w&&(O=[u,f,f],S=v),w&&(O=[u,f,v]),t.push({vertices:[s,a,l],faceCenters:O,midpoint:S,norm:Rc.getNormal(IP).toArray()})}return t}(this.objectForSample.geometry):function q4e(e){let t=[],{position:n}=e.attributes;for(let i=0;i<n.count;i++){Rc.setFromAttributeAndIndices(n,3*i,3*i+1,3*i+2),Rc.getNormal(IP),Rc.getMidpoint($m);let r=Rc.a.toArray(),o=Rc.b.toArray(),s=Rc.c.toArray();t.push({vertices:[r,o,s],faceCenters:[e1(r,o),e1(o,s),e1(s,r)],midpoint:$m.toArray(),norm:IP.toArray()})}return t}(this.objectForSample.geometry)).map((t,n)=>"polygon_center"===e?{pos:t.midpoint,norm:t.norm}:"vertex"===e?[{pos:t.vertices[0],norm:t.norm},{pos:t.vertices[1],norm:t.norm},{pos:t.vertices[2],norm:t.norm}]:"edge"===e?[{pos:t.faceCenters[0],norm:t.norm},{pos:t.faceCenters[1],norm:t.norm},{pos:t.faceCenters[2],norm:t.norm}]:[]).flat()}updateState(e,t){if(this.parameters=bM(e),"toObject"!==this.parameters.type)(null===this.parent||this.parent!==this.object)&&(this.removeFromParent(),this.object.parent?.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(null===this.parent||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let n=t.find(this.parameters.toObject.object);this.objectForSample=n instanceof _l?n:void 0,this.matrix=new Ut,this.hiddenMatrix=new Ut,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,n&&n.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},ub=e=>{var t;return(t=class extends e{}).geometryHelper=new rh(30,30,30),t},RP=new F0,Xk=new ml,CY=new Ut,pb=(e,t,n,i,r=!1)=>{let o=t,s=e.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),Xk.copy(o.boundingSphere),Xk.applyMatrix4(s),!1===n.ray.intersectsSphere(Xk)||(CY.copy(s).invert(),RP.copy(n.ray).applyMatrix4(CY),null!==o.boundingBox&&!1===RP.intersectsBox(o.boundingBox)))return;let a,l,c,h,v,y,d=o.index,u=o.attributes.position,f=o.drawRange;if(!1===r){for(v=Math.max(0,f.start),y=Math.min(d.count,f.start+f.count);v<y;v+=3)if(l=d.getX(v),c=d.getX(v+1),h=d.getX(v+2),a=_(e,n,RP,u,l,c,h),a)return a.faceIndex=Math.floor(v/3),void i.push(a)}else{let w=o.attributes.position,O=new ne,S=new ne,D=new ne,U=new ne,Y=2,q=1/((e.scale.x+e.scale.y+e.scale.z)/3),K=q*q;for(let ie=Math.max(0,f.start),ce=Math.min(w.count,f.start+f.count)-1;ie<ce;ie+=Y){if(O.fromBufferAttribute(w,ie),S.fromBufferAttribute(w,ie+1),RP.distanceSqToSegment(O,S,U,D)>K)continue;U.applyMatrix4(e.matrixWorld);let de=n.ray.origin.distanceTo(U);de<n.near||de>n.far||i.push({distance:de,point:D.clone().applyMatrix4(e.matrixWorld),object:e})}}function _(w,O,S,D,U,Y,q){let K=new ne,Z=new ne,te=new ne,ie=new ne,ce=new ne;if(K.fromBufferAttribute(D,U),Z.fromBufferAttribute(D,Y),te.fromBufferAttribute(D,q),null===S.intersectTriangle(K,Z,te,!1,ie))return null;ce.copy(ie),ce.applyMatrix4(w.matrixWorld);let de=O.ray.origin.distanceTo(ce);return de<O.near||de>O.far?null:{faceIndex:1,distance:de,point:ce.clone(),object:w}}},NP=new ne,Nc=new q0,tNe=class extends g_{constructor(e){let t=new Vn,n=new Np({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={},s=new qn(15711266),a=new qn(15711266),l=new qn(2857471);function c(d,u,f){h(d,f),h(u,f)}function h(d,u){i.push(0,0,0),r.push(u.r,u.g,u.b),void 0===o[d]&&(o[d]=[]),o[d].push(i.length/3-1)}c("n1","n2",s),c("n2","n4",s),c("n4","n3",s),c("n3","n1",s),c("f1","f2",s),c("f2","f4",s),c("f4","f3",s),c("f3","f1",s),c("n1","f1",s),c("n2","f2",s),c("n3","f3",s),c("n4","f4",s),c("p","n1",a),c("p","n2",a),c("p","n3",a),c("p","n4",a),c("u1","u2",l),c("u2","u3",l),c("u3","u1",l),t.setAttribute("position",new wn(i,3)),t.setAttribute("color",new wn(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){let e=this.geometry,t=this.pointMap;Nc.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let o=.8;Md("n1",t,e,Nc,-1,-1,o),Md("n2",t,e,Nc,1,-1,o),Md("n3",t,e,Nc,-1,1,o),Md("n4",t,e,Nc,1,1,o);let s=o;Md("f1",t,e,Nc,-1,-1,s),Md("f2",t,e,Nc,1,-1,s),Md("f3",t,e,Nc,-1,1,s),Md("f4",t,e,Nc,1,1,s),Md("u1",t,e,Nc,.35,1.1,.8),Md("u2",t,e,Nc,-.35,1.1,.8),Md("u3",t,e,Nc,0,1.55,.8),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Md(e,t,n,i,r,o,s){NP.set(r,o,s).unproject(i);let a=t[e];if(void 0!==a){let l=n.getAttribute("position");for(let c=0,h=a.length;c<h;c++)l.setXYZ(a[c],NP.x,NP.y,NP.z)}}var $k,nNe=class extends(ub(tNe)){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){pb(this.object,this.geometry,e,t,!0)}};(e=>{e.is=t=>"objectHelper"in t})($k||($k={}));var fb=(e,t)=>class extends(Q3(e)){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(n,i){this.objectHelper.raycast(n,i)}showGizmos(){for(let n in this.gizmos){let i=this.gizmos[n];i instanceof oM&&(i.visible=!0)}}updateEntityBoxSize(n,i){this.objectHelper.visible&&this.geometryHelper instanceof rh?(n.setScalar(0),i.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(n,i)}hideGizmos(){for(let n in this.gizmos){let i=this.gizmos[n];i instanceof oM&&(i.visible=!1)}}},t1=new ne,Kk=new ne,Qk=new hi,Zk=new ne,mb=new ne,Jk=new ne,Pa=class extends(fb(q0,nNe)){constructor(e="",t={...z_.defaultData,name:""}){super(),this._cameraType="OrthographicCamera",this.targetOffset=_v.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(e,t),this.previousProjectionMatrix=new Ut,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let n=this.width,i=this.height;this.orthoCamera=new IA(-.5*n,.5*n,.5*i,-.5*i,-5e4,1e4),this.perspCamera=new xa(45,n/i,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return"PerspectiveCamera"===this.cameraType}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(e){this.perspCamera.fov=e}get fov(){return this.perspCamera.fov}setNear(e,t){"PerspectiveCamera"===e?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&("PerspectiveCamera"===e?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){"PerspectiveCamera"===e?this.toPerspective():"OrthographicCamera"===e&&this.toOrthographic()}get near(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.near:this.orthoCamera.near}set near(e){"PerspectiveCamera"===this._cameraType?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&("PerspectiveCamera"===this._cameraType?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e,t,n){"number"==typeof e&&(e=new ne(e,t,n)),super.lookAt(e),this.getWorldPosition(t1),this.targetOffset=t1.distanceTo(e)}getTarget(e=new ne){return this.getWorldDirection(Kk),this.getWorldPosition(t1),Kk.multiplyScalar(this.targetOffset),e.copy(t1).add(Kk),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(t1),t1.distanceTo(e)}updateUp(){this.getWorldQuaternion(Qk),Zk.set(0,0,1).applyQuaternion(Qk),mb.copy(Tr.DEFAULT_UP),this.isUpVectorFlipped&&mb.negate(),mb.applyQuaternion(Qk),Jk.copy(Tr.DEFAULT_UP).projectOnPlane(Zk),this.angleOffsetFromUp=Jk.angleTo(mb),this.angleOffsetFromUp*=Jk.cross(mb).dot(Zk)>=0?1:-1}updateTransformState(e,t){let n=super.updateTransformState(e,t);return void 0!==e.isUpVectorFlipped&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateUp(),n}getViewFrontToObject(e){let t=e.getWorldPosition(new ne),n=e.getWorldDirection(new ne).multiplyScalar(this.targetOffset);return{position:t.clone().add(n),target:t}}getViewToTarget(e){let t=this.getWorldDirection(new ne).multiplyScalar(this.targetOffset);return{position:e.clone().sub(t),target:e}}getViewToObject(e){let t=new ne;return e.getWorldPosition(t),this.getViewToTarget(t)}setViewplaneSize(e,t,n=!1){if(this.aspect=e/t,n){let i=e>t?this.aspect:1,r=e>t?1:this.aspect;this.left=-395*i,this.right=395*i,this.top=1/r*395,this.bottom=1/r*-395}else this.left=.5*-e,this.right=.5*e,this.top=.5*t,this.bottom=.5*-t;this.updateProjectionMatrix()}copyViewPlaneSize(e){this.aspect=e.aspect,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,n,i,r,o){"PerspectiveCamera"===this._cameraType?this.perspCamera.setViewOffset(e,t,n,i,r,o):this.orthoCamera.setViewOffset(e,t,n,i,r,o)}clearViewOffset(){"PerspectiveCamera"===this._cameraType?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){"PerspectiveCamera"===this._cameraType?this.toPerspective():"OrthographicCamera"===this._cameraType&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.parent=e.parent,this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=null===e.view?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return FT(t,e)}updateCameraSubtype(e,t){let n="perspective"===e?"PerspectiveCamera":"OrthographicCamera";void 0!==t.zoom&&this.setZoom(n,t.zoom),void 0!==t.near&&this.setNear(n,t.near),void 0!==t.fov&&"PerspectiveCamera"===n&&(this.fov=t.fov)}updateState(e,t){this.updateCameraState(e,t)}updateCameraState(e,t){this.updateState_Entity(e,t),void 0!==e.far&&(this.far=e.far),void 0!==e.orthographic&&this.updateCameraSubtype("orthographic",e.orthographic),void 0!==e.perspective&&this.updateCameraSubtype("perspective",e.perspective),void 0!==e.type&&(this.cameraType=e.type),void 0!==e.up&&this.up.fromArray(e.up),void 0!==e.targetOffset&&(this.targetOffset=e.targetOffset),void 0!==e.isUpVectorFlipped&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),1===e.path.length&&0===e.type&&this.updateCameraSubtype(e.path[0],e.props)}toState(e){return{...super.toState(e),...this.toCameraState(e),type:this.cameraType}}},n1=new Ut,iNe=new Ut,LP=new Ut,MY=new ne,PY=new ne;function OY(e){let t=!1;return e.scene.objects.traverse((n,i)=>{"BooleanGeometry"===i.geometry?.type&&(t=!0)}),t}var eI,Qm=class extends Jv{constructor(e,t,n){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new Vn,this.onAfterRender=(i,r,o,s,a,l)=>{super.onAfterRender(i,r,o,s,a,l),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),1===e.path.length&&"geometry"===e.path[0]&&0===e.type&&void 0!==e.props.operation&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){if(-1!==this.booleanMeshSetAddress&&!e)return;for(let i=0;i<this.children.length;i++){let r=this.children[i];r instanceof Qm&&!0===r.dataPatched.visible&&r.recomputeBoolean(!0===e,t)}this.meshSetAddresses=[];for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof _l&&!0===r.dataPatched.visible&&r.geometry.attributes.position?.count>0&&r.geometry.drawRange.count>0&&0!==r.booleanMeshSetAddress){n1.multiplyMatrices(r.hiddenMatrix,r.matrix);try{if(-1===r.booleanMeshSetAddress){if((r.geometry.index??r.geometry.getAttribute("position")).count/3<15e5&&(r.booleanMeshSetAddress=Ou.getMeshSet(r.geometry,!0===e,t)),-1===r.booleanMeshSetAddress)return;Ou.transformMeshSet(r.booleanMeshSetAddress,n1),r.booleanMatrixInvOld.copy(n1).invert(),r.booleanWasTransformed=!1}else r instanceof Qm&&!0===r.needsTransformForDownstream?(Ou.transformMeshSet(r.booleanMeshSetAddress,n1),r.needsTransformForDownstream=!1):!0===r.booleanWasTransformed&&(Ou.transformMeshSet(r.booleanMeshSetAddress,iNe.multiplyMatrices(n1,r.booleanMatrixInvOld)),r.booleanMatrixInvOld.copy(n1).invert(),r.booleanWasTransformed=!1)}catch(o){console.error(o),r.booleanMeshSetAddress=0,r.geometry.userData.booleanOperationDidFail=!0;continue}!1===Ou.hasOpenEdges(r.booleanMeshSetAddress)||i===this.children.length-1&&2===this.booleanOp?(this.meshSetAddresses.push(r.booleanMeshSetAddress),r.geometry.userData.booleanOperationDidFail=!1):r.geometry.userData.booleanOperationDidFail="openEdges"}}if(0===this.meshSetAddresses.length)return this.geometry.setAttribute("position",new wn([],0)),void this.geometry.setDrawRange(0,0);if(!0===e)return Ou.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let n=this.geometry;n.dispose(),this.geometry=new Vn,this.geometry.userData=n.userData,this.geometry.boundingSphere=n.boundingSphere;try{this.booleanMeshSetAddress=Ou.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(i){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(i)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,Gk(this),Wk(this)}dispose(){super.dispose(),this.geometry.dispose()}get recursiveBBox(){let e=super.recursiveBBox;return-1===this.geometry.boundingSphere?.radius&&(e.getCenter(this.geometry.boundingSphere.center),LP.copy(this.matrixWorld).invert(),this.geometry.boundingSphere.center.applyMatrix4(LP),MY.copy(e.max).applyMatrix4(LP),PY.copy(e.min).applyMatrix4(LP),this.geometry.boundingSphere.radius=MY.distanceTo(PY)/2),e}};(e=>{e.is=function t(n){return Zi.is(n)&&n instanceof C_}})(eI||(eI={}));var tI=(e,t)=>class extends(fb(e,t)){updateState_Light(n,i){this.updateState_Entity(n,i),void 0!==n.color&&(this.color=i.shared.color(n.color)),void 0!==n.intensity&&(this.intensity=n.intensity),void 0!==n.depth&&(this.shadow.camera.far=n.depth,this.shadow.needsUpdate=!0),void 0!==n.shadows&&(this.castShadow=n.shadows)}},Pd=e=>e instanceof _l,Iu=e=>null!==e&&e instanceof Qm,nI=e=>$k.is(e),BP=class extends(ub(NCe)){constructor(e,t=15){super(t),this.object=e,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){pb(this.object,BP.geometryHelper,e,t)}update(){}},i1=class extends(fb(J0,BP)){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&1===Object.keys(e).length&&t.scene.reloadSplats()}},gb="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",zP=class extends Hr{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new jt(null),kernel16:new jt(null),inputBuffer:new jt(null),cocBuffer:new jt(null),texelSize:new jt(new Fe),scale:new jt(1)},blending:0,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;\n#if PASS == 1\nuniform vec4 kernel64[32];\n#else\nuniform vec4 kernel16[8];\n#endif\nvarying vec2 vUv;void main(){\n#ifdef FOREGROUND\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\n#else\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\n#endif\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\n#ifdef FOREGROUND\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\n#else\nvec2 step=texelSize*CoC;\n#endif\n#if PASS == 1\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\n#else\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\n#endif\n}}",vertexShader:gb}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let t=new Float32Array(128),n=new Float32Array(32),i=0,r=0;for(let a=0;a<80;++a){let l=2.39996323*a,c=Math.sqrt(a)/Math.sqrt(80),h=c*Math.cos(l),d=c*Math.sin(l);a%5==0?(n[r++]=h,n[r++]=d):(t[i++]=h,t[i++]=d)}let o=[],s=[];for(let a=0;a<128;)o.push(new Ci(t[a++],t[a++],t[a++],t[a++]));for(let a=0;a<32;)s.push(new Ci(n[a++],n[a++],n[a++],n[a++]));this.uniforms.kernel64.value=o,this.uniforms.kernel16.value=s}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function EY(e,t,n){return e*(t-n)-t}function iI(e,t,n){return Math.min(Math.max((e+t)/(t-n),0),1)}var lNe=class extends Hr{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new jt(null),focusDistance:new jt(0),focusRange:new jt(0),cameraNear:new jt(.3),cameraFar:new jt(1e3)},blending:0,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}void main(){float depth=readDepth(vUv);\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\n#else\nfloat linearDepth=depth;\n#endif\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}",vertexShader:gb}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=du){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-EY(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=iI(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-EY(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=iI(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof xa?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},DY=class extends Hr{constructor(e=new Fe){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new jt(null),texelSize:new jt(new Fe),halfTexelSize:new jt(new Fe),kernel:new jt(0),scale:new jt(1)},blending:0,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n#include <dithering_fragment>\n}",vertexShader:"uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.halfTexelSize.value.copy(n.texelSize.value).multiplyScalar(.5)}},uNe=class extends Hr{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new jt(null),opacity:new jt(1)},blending:0,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n}",vertexShader:gb}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},gNe=class extends Hr{constructor(e=new Fe,t=2){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:S0.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new jt(null),depthBuffer:new jt(null),predicationBuffer:new jt(null),texelSize:new jt(e)},blending:0,depthWrite:!1,depthTest:!1,fragmentShader:"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=du){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(.1*e).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},Od={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},rI=class extends Hr{constructor(e,t,n,i,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:S0.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new jt(null),depthBuffer:new jt(null),resolution:new jt(new Fe),texelSize:new jt(new Fe),cameraNear:new jt(.3),cameraFar:new jt(1e3),aspect:new jt(1),time:new jt(0)},blending:0,depthWrite:!1,depthTest:!1,dithering:r}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),n&&this.setUniforms(n),this.adoptCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=du){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(Od.FRAGMENT_HEAD,e.get(Od.FRAGMENT_HEAD)).replace(Od.FRAGMENT_MAIN_UV,e.get(Od.FRAGMENT_MAIN_UV)).replace(Od.FRAGMENT_MAIN_IMAGE,e.get(Od.FRAGMENT_MAIN_IMAGE)),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}".replace(Od.VERTEX_HEAD,e.get(Od.VERTEX_HEAD)).replace(Od.VERTEX_MAIN_SUPPORT,e.get(Od.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof xa?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}static get Section(){return Od}},bNe=class extends Hr{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:S0.replace(/\D+/g,"")},uniforms:{inputBuffer:new jt(null),threshold:new jt(0),smoothing:new jt(1),range:new jt(null)},blending:0,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:gb}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return void 0!==this.defines.COLOR}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return null!==this.luminanceRange}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){null!==e?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},wNe=class extends Hr{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new jt(e),inputBuffer:new jt(null),strength:new jt(1)},blending:0,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef MASK_PRECISION_HIGH\nuniform mediump sampler2D maskTexture;\n#else\nuniform lowp sampler2D maskTexture;\n#endif\n#if MASK_FUNCTION != 0\nuniform float strength;\n#endif\nvarying vec2 vUv;void main(){\n#if COLOR_CHANNEL == 0\nfloat mask=texture2D(maskTexture,vUv).r;\n#elif COLOR_CHANNEL == 1\nfloat mask=texture2D(maskTexture,vUv).g;\n#elif COLOR_CHANNEL == 2\nfloat mask=texture2D(maskTexture,vUv).b;\n#else\nfloat mask=texture2D(maskTexture,vUv).a;\n#endif\n#if MASK_FUNCTION == 0\n#ifdef INVERTED\nmask=step(mask,0.0);\n#else\nmask=1.0-step(mask,0.0);\n#endif\n#else\nmask=clamp(mask*strength,0.0,1.0);\n#ifdef INVERTED\nmask=1.0-mask;\n#endif\n#endif\n#if MASK_FUNCTION == 2\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\n#else\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\n#endif\n}",vertexShader:gb}),this.toneMapped=!1,this.setColorChannel(0),this.setMaskFunction(0)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==ya&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return void 0!==this.defines.INVERTED}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},PNe=class extends Hr{constructor(e=new Fe,t=new Fe){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new jt(null),searchTexture:new jt(null),areaTexture:new jt(null),resolution:new jt(t),texelSize:new jt(e)},blending:0,depthWrite:!1,depthTest:!1,fragmentShader:"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}",vertexShader:"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return void 0===this.defines.DISABLE_DIAG_DETECTION}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return void 0===this.defines.DISABLE_CORNER_DETECTION}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.resolution.value.set(e,t)}},ONe=new q0,af=null,nl=class{constructor(e="Pass",t=new Ip,n=ONe){this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();null!==t&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;null!==t?t.material=e:(t=new Ha(function SNe(){if(null===af){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);void 0!==(af=new Vn).setAttribute?(af.setAttribute("position",new ti(e,3)),af.setAttribute("uv",new ti(t,2))):(af.addAttribute("position",new ti(e,3)),af.addAttribute("uv",new ti(t,2)))}return af}(),e),t.frustumCulled=!1,null===this.scene&&(this.scene=new Ip),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=du){}render(e,t,n,i,r){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(null!==t&&"function"==typeof t.dispose){if(t instanceof Ip||t===this.renderer)continue;this[e].dispose()}}}},oI=class extends nl{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new uNe,this.needsSwap=!1,this.renderTarget=e,void 0===e&&(this.renderTarget=new Ar(1,1,{minFilter:Ri,magFilter:Ri,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,n){void 0!==n&&(this.renderTarget.texture.type=n,n!==ya?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===wi&&(this.renderTarget.texture.encoding=wi))}},ENe=class extends nl{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,i,r){let o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},sI=new qn,aI=class extends nl{constructor(e=!0,t=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,n){this.color=e,this.depth=t,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,n,i,r){let o=this.overrideClearColor,s=this.overrideClearAlpha,a=e.getClearAlpha(),l=null!==o,c=s>=0;l?(sI.copy(e.getClearColor(sI)),e.setClearColor(o,c?s:a)):c&&e.setClearAlpha(s),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(sI,a):c&&e.setClearAlpha(a)}},Ol=class extends ta{constructor(e,t=-1,n=-1,i=1){super(),this.resizable=e,this.base=new Fe(1,1),this.preferred=new Fe(t,n),this.target=this.preferred,this.s=i}get width(){let i,{base:e,preferred:t,scale:n}=this;return i=-1!==t.width?t.width:-1!==t.height?Math.round(t.height*(e.width/Math.max(e.height,1))):Math.round(e.width*n),i}set width(e){this.preferredWidth=e}get height(){let i,{base:e,preferred:t,scale:n}=this;return i=-1!==t.height?t.height:-1!==t.width?Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):Math.round(e.height*n),i}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(-1),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return-1}},lI=!1,TY=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let n;if(t.material.flatShading)switch(t.material.side){case 2:n=this.materialsFlatShadedDoubleSide;break;case 1:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded}else switch(t.material.side){case 2:n=this.materialsDoubleSide;break;case 1:n=this.materialsBackSide;break;default:n=this.materials}this.originalMaterials.set(t,t.material),t.material=t.isSkinnedMesh?n[2]:t.isInstancedMesh?n[1]:n[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,null!==e){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let n of t)n.uniforms=Object.assign({},e.uniforms),n.side=0;t[2].skinning=!0,this.materialsBackSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=1,i}),this.materialsDoubleSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=2,i}),this.materialsFlatShaded=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=1,i}),this.materialsFlatShadedDoubleSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=2,i})}}render(e,t,n){let i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,lI){let r=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n);for(let o of r)o[0].material=o[1];this.meshCount!==r.size&&r.clear()}else{let r=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=r}e.shadowMap.enabled=i}disposeMaterials(){if(null!==this.material){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return lI}static set workaroundEnabled(e){lI=e}},DNe=class extends nl{constructor(e,t,n=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new aI,this.overrideMaterialManager=null===n?null:new TY(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return null!==e?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new TY(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,n,i,r){let o=this.scene,s=this.camera,a=this.selection,l=s.layers.mask,c=o.background,h=e.shadowMap.autoUpdate,d=this.renderToScreen?null:t;null!==a&&s.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(d),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,o,s):e.render(o,s),s.layers.mask=l,o.background=c,e.shadowMap.autoUpdate=h}},kY=class extends nl{constructor(e,t,{resolutionScale:n=1,width:i=Ol.AUTO_SIZE,height:r=Ol.AUTO_SIZE,renderTarget:o}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new DNe(e,t,new oj({depthPacking:3201}));let s=this.renderPass;s.skipShadowMapUpdate=!0,s.ignoreBackground=!0;let a=s.getClearPass();a.overrideClearColor=new qn(16777215),a.overrideClearAlpha=1,this.renderTarget=o,void 0===this.renderTarget&&(this.renderTarget=new Ar(1,1,{minFilter:Zr,magFilter:Zr,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let l=this.resolution=new Ol(this,i,r,n);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,i,r){this.renderPass.render(e,this.renderToScreen?null:this.renderTarget)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},tr=(new Float32Array([255/256/256**3,255/256/65536,255/256/256,255/256]),{SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18}),XNe=new Map([[tr.SKIP,null],[tr.ADD,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[tr.ALPHA,"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[tr.AVERAGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[tr.COLOR_BURN,"float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[tr.COLOR_DODGE,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[tr.DARKEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[tr.DIFFERENCE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[tr.EXCLUSION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[tr.LIGHTEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[tr.MULTIPLY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[tr.DIVIDE,"float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[tr.NEGATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[tr.NORMAL,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[tr.OVERLAY,"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[tr.REFLECT,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[tr.SCREEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[tr.SOFT_LIGHT,"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[tr.SUBTRACT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]),$Ne=class extends ta{constructor(e,t=1){super(),this.f=e,this.opacity=new jt(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return XNe.get(this.blendFunction)}},Oh=class extends ta{constructor(e,t,{attributes:n=0,blendFunction:i=tr.SCREEN,defines:r=new Map,uniforms:o=new Map,extensions:s=null,vertexShader:a=null}={}){super(),this.name=e,this.renderer=null,this.attributes=n,this.fragmentShader=t,this.vertexShader=a,this.defines=r,this.uniforms=o,this.extensions=s,this.blendMode=new $Ne(i),this.blendMode.addEventListener("change",l=>this.setChanged())}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=du){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(null!==t&&"function"==typeof t.dispose){if(t instanceof Ip||t===this.renderer)continue;this[e].dispose()}}}};function IY(e,t,n){for(let i of t){let r="$1"+e+i.charAt(0).toUpperCase()+i.slice(1),o=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(let s of n.entries())null!==s[1]&&n.set(s[0],s[1].replace(o,r))}}function KNe(e,t,n,i,r,o,s){let a=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),l=void 0!==a.get("fragment")&&/mainImage/.test(a.get("fragment")),c=void 0!==a.get("fragment")&&/mainUv/.test(a.get("fragment")),h=[],d=[],u=!1,f=!1;if(void 0===a.get("fragment"))console.error("Missing fragment shader",t);else if(c&&0!=(2&s))console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(l||c){let v=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,y=rI.Section;if(c){let w=`\t${e}MainUv(UV);\n`;n.set(y.FRAGMENT_MAIN_UV,n.get(y.FRAGMENT_MAIN_UV)+w),u=!0}if(null!==a.get("vertex")&&/mainSupport/.test(a.get("vertex"))){let w=`\t${e}MainSupport(`;w+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(a.get("vertex"))?"vUv);\n":");\n",n.set(y.VERTEX_MAIN_SUPPORT,n.get(y.VERTEX_MAIN_SUPPORT)+w),h=h.concat([...a.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(O=>O[1])),d=d.concat(h).concat([...a.get("vertex").matchAll(v)].map(O=>O[1]))}d=d.concat([...a.get("fragment").matchAll(v)].map(w=>w[1])),d=d.concat([...t.defines.keys()].map(w=>w.replace(/\([\w\s,]*\)/g,""))),d=d.concat([...t.uniforms.keys()]),t.uniforms.forEach((w,O)=>o.set(e+O.charAt(0).toUpperCase()+O.slice(1),w)),t.defines.forEach((w,O)=>r.set(e+O.charAt(0).toUpperCase()+O.slice(1),w)),IY(e,d,r),IY(e,d,a);let _=t.blendMode;if(i.set(_.blendFunction,_),l){let w=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/,O=`${e}MainImage(color0, UV, `;0!=(1&s)&&w.test(a.get("fragment"))&&(O+="depth, ",f=!0),O+="color1);\n\t";let S=e+"BlendOpacity";o.set(S,_.opacity),O+=`color0 = blend${_.blendFunction}(color0, color1, ${S});\n\n\t`,n.set(y.FRAGMENT_MAIN_IMAGE,n.get(y.FRAGMENT_MAIN_IMAGE)+O),O=`uniform float ${S};\n\n`,n.set(y.FRAGMENT_HEAD,n.get(y.FRAGMENT_HEAD)+O)}n.set(y.FRAGMENT_HEAD,n.get(y.FRAGMENT_HEAD)+a.get("fragment")+"\n"),null!==a.get("vertex")&&n.set(y.VERTEX_HEAD,n.get(y.VERTEX_HEAD)+a.get("vertex")+"\n")}else console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);return{varyings:h,transformedUv:u,readDepth:f}}var jP=class extends nl{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new rI(null,null,null,e),this.effects=t.sort((n,i)=>i.attributes-n.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=rI.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),n=new Map,i=new Map,r=new Map,o=new Set,s=0,a=0,l=0,c=!1,h=!1;for(let u of this.effects)if(u.blendMode.blendFunction===tr.SKIP)l|=1&u.getAttributes();else if(0!=(l&u.getAttributes()&2))console.error("Convolution effects cannot be merged",u);else{l|=u.getAttributes();let v=KNe("e"+s++,u,t,n,i,r,l);if(a+=v.varyings.length,c=c||v.transformedUv,h=h||v.readDepth,null!==u.extensions)for(let y of u.extensions)o.add(y)}let d=/\bblend\b/g;for(let u of n.values()){let f=u.getShaderCode().replace(d,`blend${u.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+f+"\n")}0!=(1&l)?(h&&t.set(e.FRAGMENT_MAIN_IMAGE,"float depth = readDepth(UV);\n\n\t"+t.get(e.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,c?(t.set(e.FRAGMENT_MAIN_UV,"vec2 transformedUv = vUv;\n"+t.get(e.FRAGMENT_MAIN_UV)),i.set("UV","transformedUv")):i.set("UV","vUv"),t.forEach((u,f,v)=>v.set(f,u.trim().replace(/^#/,"\n#"))),this.uniformCount=r.size,this.varyingCount=a,this.skipRendering=0===s,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(o).setUniforms(r).setDefines(i)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=du){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,i,r){for(let o of this.effects)o.update(e,t,i);if(!this.skipRendering||this.renderToScreen){let o=this.fullscreenMaterial;o.inputBuffer=t.texture,o.time+=i,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let n of this.effects)n.setSize(e,t)}initialize(e,t,n){this.renderer=e;for(let i of this.effects)i.initialize(e,t,n),i.addEventListener("change",r=>this.handleEvent(r));this.updateMaterial(),this.verifyResources(),void 0!==n&&n!==ya&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){"change"===e.type&&this.recompile()}},QNe=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],RY=class extends nl{constructor({resolutionScale:e=.5,width:t=Ol.AUTO_SIZE,height:n=Ol.AUTO_SIZE,kernelSize:i=dI.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new Ar(1,1,{minFilter:Ri,magFilter:Ri,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let r=this.resolution=new Ol(this,t,n,e);r.addEventListener("change",o=>this.setSize(r.baseWidth,r.baseHeight)),this.blurMaterial=new DY,this.ditheredBlurMaterial=new DY,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=i}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,i,r){let u,f,o=this.scene,s=this.camera,a=this.renderTargetA,l=this.renderTargetB,c=QNe[this.kernelSize],h=this.blurMaterial,d=t;for(this.fullscreenMaterial=h,u=0,f=c.length-1;u<f;++u){let v=0==(1&u)?a:l;h.kernel=c[u],h.inputBuffer=d.texture,e.setRenderTarget(v),e.render(o,s),d=v}this.dithering&&(h=this.ditheredBlurMaterial,this.fullscreenMaterial=h),h.kernel=c[u],h.inputBuffer=d.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(o,s)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let i=n.width,r=n.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.blurMaterial.setSize(i,r),this.ditheredBlurMaterial.setSize(i,r)}initialize(e,t,n){void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==ya?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===wi&&(this.renderTargetA.texture.encoding=wi,this.renderTargetB.texture.encoding=wi))}static get AUTO_SIZE(){return Ol.AUTO_SIZE}},ZNe=class extends nl{constructor({width:e=Ol.AUTO_SIZE,height:t=Ol.AUTO_SIZE,renderTarget:n,luminanceRange:i,colorOutput:r}={}){super("LuminancePass"),this.fullscreenMaterial=new bNe(r,i),this.needsSwap=!1,this.renderTarget=n,void 0===this.renderTarget&&(this.renderTarget=new Ar(1,1,{minFilter:Ri,magFilter:Ri,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let o=this.resolution=new Ol(this,e,t);o.addEventListener("change",s=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}initialize(e,t,n){void 0!==n&&n!==ya&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},JNe=class extends nl{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new aI(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,n,i,r){let o=e.getContext(),s=e.state.buffers,a=this.scene,l=this.camera,c=this.clearPass,h=this.inverted?0:1,d=1-h;s.color.setMask(!1),s.depth.setMask(!1),s.color.setLocked(!0),s.depth.setLocked(!0),s.stencil.setTest(!0),s.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.stencil.setFunc(o.ALWAYS,h,4294967295),s.stencil.setClear(d),s.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(a,l)):(e.setRenderTarget(t),e.render(a,l),e.setRenderTarget(n),e.render(a,l)),s.color.setLocked(!1),s.depth.setLocked(!1),s.stencil.setLocked(!1),s.stencil.setFunc(o.EQUAL,1,4294967295),s.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.stencil.setLocked(!0)}},Sh=class extends nl{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,null!==this.fullscreenMaterial){let t=this.fullscreenMaterial.uniforms;void 0!==t&&void 0!==t[e]&&(this.inputBufferUniform=t[e])}}render(e,t,n,i,r){null!==this.inputBufferUniform&&null!==t&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}initialize(e,t,n){void 0!==n&&n!==ya&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},dI={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},i5e=class extends Oh{constructor({blendFunction:e=tr.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:n=.025,resolutionScale:i=.5,intensity:r=1,width:o=Ol.AUTO_SIZE,height:s=Ol.AUTO_SIZE,kernelSize:a=dI.LARGE}={}){super("BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}",{blendFunction:e,uniforms:new Map([["map",new jt(null)],["intensity",new jt(r)]])}),this.renderTarget=new Ar(1,1,{minFilter:Ri,magFilter:Ri,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new ZNe({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=n,this.blurPass=new RY({resolutionScale:i,width:o,height:s,kernelSize:a});let l=this.blurPass.getResolution();l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,n){let i=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,i),this.blurPass.render(e,i,i)):this.blurPass.render(e,t,i)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.luminancePass.resolution.copy(n)}initialize(e,t,n){this.blurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,e.outputEncoding===wi&&(this.renderTarget.texture.encoding=wi))}},o5e=class extends Oh{constructor({blendFunction:e=tr.NORMAL,brightness:t=0,contrast:n=0}={}){super("BrightnessContrastEffect","uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["brightness",new jt(t)],["contrast",new jt(n)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},a5e=class extends Oh{constructor(e=tr.NORMAL){super("ColorAverageEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",{blendFunction:e})}},d5e=class extends Oh{constructor({blendFunction:e=tr.NORMAL,offset:t=new Fe(.001,5e-4)}={}){super("ChromaticAberrationEffect","varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",{vertexShader:"uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",blendFunction:e,attributes:2,uniforms:new Map([["offset",new jt(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},u5e=class extends Oh{constructor(e,{blendFunction:t=tr.NORMAL,worldFocusDistance:n,worldFocusRange:i,focusDistance:r=0,focalLength:o=.1,focusRange:s=o,bokehScale:a=1,width:l=Ol.AUTO_SIZE,height:c=Ol.AUTO_SIZE}={}){super("DepthOfFieldEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;\n#else\nuniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;\n#endif\nuniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}",{blendFunction:t,attributes:1,uniforms:new Map([["nearColorBuffer",new jt(null)],["farColorBuffer",new jt(null)],["nearCoCBuffer",new jt(null)],["scale",new jt(1)]])}),this.camera=e,this.renderTarget=new Ar(1,1,{minFilter:Ri,magFilter:Ri,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Sh(new lNe(e));let h=this.cocMaterial;h.focusDistance=r,h.focusRange=s,void 0!==n&&(h.worldFocusDistance=n),void 0!==i&&(h.worldFocusRange=i),this.blurPass=new RY({kernelSize:dI.MEDIUM,width:l,height:c});let d=this.blurPass.getResolution();d.addEventListener("change",f=>this.setSize(d.getBaseWidth(),d.getBaseHeight())),this.maskPass=new Sh(new wNe(this.renderTargetCoC.texture));let u=this.maskPass.fullscreenMaterial;u.maskFunction=1,u.colorChannel=1,this.bokehNearBasePass=new Sh(new zP(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Sh(new zP(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Sh(new zP(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Sh(new zP(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=a}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let n of t)n.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera;return iI(-t.position.distanceTo(e),t.near,t.far)}setDepthTexture(e,t=du){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,n){let i=this.renderTarget,r=this.renderTargetCoC,o=this.renderTargetCoCBlurred,s=this.renderTargetMasked;if(null!==this.target){let a=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=a}this.cocPass.render(e,null,r),this.blurPass.render(e,r,o),this.maskPass.render(e,t,s),this.bokehFarBasePass.render(e,s,i),this.bokehFarFillPass.render(e,i,this.renderTargetFar),this.bokehNearBasePass.render(e,t,i),this.bokehNearFillPass.render(e,i,this.renderTargetNear)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let i=n.width,r=n.height,o=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];o.push(this.renderTargetCoC,this.renderTargetMasked),o.forEach(s=>s.setSize(e,t)),o=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],o.forEach(s=>s.setSize(i,r)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(s=>s.fullscreenMaterial.setSize(i,r))}initialize(e,t,n){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(i=>i.initialize(e,t,n)),this.blurPass.initialize(e,t,ya),void 0!==n&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,e.outputEncoding===wi&&(this.renderTarget.texture.encoding=wi,this.renderTargetNear.texture.encoding=wi,this.renderTargetFar.texture.encoding=wi,this.renderTargetMasked.texture.encoding=wi))}},f5e=(new ne,new Ut,class extends Oh{constructor({blendFunction:e=tr.NORMAL,hue:t=0,saturation:n=0}={}){super("HueSaturationEffect","uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["hue",new jt(new ne)],["saturation",new jt(n)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((3*e.x-1)/2)}set hue(e){let t=Math.sin(e),n=Math.cos(e);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}}),g5e=(new qn,class extends Oh{constructor({blendFunction:e=tr.SCREEN,premultiply:t=!1}={}){super("NoiseEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\n#ifdef PREMULTIPLY\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\n#else\noutputColor=vec4(noise,inputColor.a);\n#endif\n}",{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}}),y5e=class extends Oh{constructor(e=30){super("PixelationEffect","uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",{uniforms:new Map([["active",new jt(!1)],["d",new jt(new Fe)]])}),this.resolution=new Fe,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}},NY=(Math,new ne,new ne,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC"),FY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",LY=class extends Oh{constructor({preset:e=1,edgeDetectionMode:t=2,predicationMode:n=0}={}){let i,r;super("SMAAEffect","uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",{vertexShader:"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",blendFunction:tr.NORMAL,attributes:3,uniforms:new Map([["weightMap",new jt(null)]])}),arguments.length>1&&(i=arguments[0],r=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new Ar(1,1,{minFilter:Ri,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new aI(!0,!1,!1),this.clearPass.overrideClearColor=new qn(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new Sh(new gNe),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=n,this.weightsPass=new Sh(new PNe);let o=new Lj;o.onLoad=()=>{let s=new Ds(i);s.name="SMAA.Search",s.magFilter=Zr,s.minFilter=Zr,s.generateMipmaps=!1,s.needsUpdate=!0,s.flipY=!0,this.weightsMaterial.searchTexture=s;let a=new Ds(r);a.name="SMAA.Area",a.magFilter=Ri,a.minFilter=Ri,a.generateMipmaps=!1,a.needsUpdate=!0,a.flipY=!1,this.weightsMaterial.areaTexture=a,this.dispatchEvent({type:"load"})},o.itemStart("search"),o.itemStart("area"),void 0!==i&&void 0!==r?(o.itemEnd("search"),o.itemEnd("area")):typeof Image<"u"&&(i=new Image,r=new Image,i.addEventListener("load",()=>o.itemEnd("search")),r.addEventListener("load",()=>o.itemEnd("area")),i.src=NY,r.src=FY),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(e){case 0:t.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 1:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 2:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case 3:t.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0}}setDepthTexture(e,t=du){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,n){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;null!==e&&null!==t&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return NY}static get areaImageDataURL(){return FY}},w5e=class extends Oh{constructor({blendFunction:e=tr.NORMAL,technique:t=0,eskil:n=!1,offset:i=.5,darkness:r=.5}={}){super("VignetteEffect","uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\n#if VIGNETTE_TECHNIQUE == 0\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\n#else\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\n#endif\noutputColor=vec4(color,inputColor.a);}",{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new jt(i)],["darkness",new jt(r)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return 1===this.technique}set eskil(e){this.technique=e?1:0}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}};function hI(e,t,n){return e+(t-e)*n}function Oa(e,t,n,i){let r=hI(e,t,.75),o=hI(n,i,.75);return hI(r,o,.875)}new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]),Oa(0,0,0,0),new Float32Array([0,0,0,0]),Oa(0,0,0,1),new Float32Array([0,0,0,1]),Oa(0,0,1,0),new Float32Array([0,0,1,0]),Oa(0,0,1,1),new Float32Array([0,0,1,1]),Oa(0,1,0,0),new Float32Array([0,1,0,0]),Oa(0,1,0,1),new Float32Array([0,1,0,1]),Oa(0,1,1,0),new Float32Array([0,1,1,0]),Oa(0,1,1,1),new Float32Array([0,1,1,1]),Oa(1,0,0,0),new Float32Array([1,0,0,0]),Oa(1,0,0,1),new Float32Array([1,0,0,1]),Oa(1,0,1,0),new Float32Array([1,0,1,0]),Oa(1,0,1,1),new Float32Array([1,0,1,1]),Oa(1,1,0,0),new Float32Array([1,1,0,0]),Oa(1,1,0,1),new Float32Array([1,1,0,1]),Oa(1,1,1,0),new Float32Array([1,1,1,0]),Oa(1,1,1,1),new Float32Array([1,1,1,1]);var Ru=class{constructor(e,t){this.enabled=!1,this.effect=new e(t),Object.defineProperty(this,"opacity",{enumerable:!0,set(n){this.effect.blendMode.opacity.value=n},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(n){this.effect.blendMode.setBlendFunction(Number(n))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=tr.NORMAL}},C5e=class extends Ru{constructor(){super(i5e),this.blendFunction=tr.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},M5e=class extends Ru{constructor(){super(o5e)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},P5e=class extends Ru{constructor(){super(d5e),this.effect.offset=new Fe(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[1e3*this.effect.offset.x,1e3*this.effect.offset.y]}},O5e=class extends Ru{constructor(){super(a5e)}},S5e=class extends Ru{constructor(){super(f5e),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},E5e=class extends Ru{constructor(){super(g5e),this.blendFunction=tr.OVERLAY}},D5e=class extends Ru{constructor(){super(w5e)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},A5e=class extends Ru{constructor(e){super(u5e,e)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=e}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}},T5e=class extends Ru{constructor(){super(y5e)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},uI=class extends Hr{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new jt(null)},blending:0,depthWrite:!1,depthTest:!1,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}",fragmentShader:"#define GLSLIFY 1\nlayout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},F5e=class extends nl{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new uI,this.resolutionVector=new Fe,this.resolveMaterial=new Hr({name:"TAAResolveMaterial",uniforms:{inputBuffer:new jt(null),historyBuffer:new jt(null),velocityBuffer:new jt(null),depthBuffer:new jt(null),resolution:new jt(new Fe)},blending:0,depthWrite:!1,depthTest:!1,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",fragmentShader:"#define GLSLIFY 1\n#include <common>\nvarying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;\n#define USE_YCOCG\n#define USE_CATMULL_ROM\nconst float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){\n#ifdef USE_YCOCG\nvec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);\n#else\nreturn texture(tex,uv);\n#endif\n}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){\n#ifdef CHOOSE_LONGEST_MOTION_VECTOR\nfloat longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;\n#else\nfloat closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;\n#endif\n}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);\n#ifdef USE_CATMULL_ROM\nvec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);\n#else\nvec4 previousColor=sample_color(historyBuffer,previousPixelPos);\n#endif\n#ifdef USE_YCOCG\npreviousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);\n#endif\nvec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);\n#ifdef USE_YCOCG\nvec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;\n#endif\nvec4 previousColorClipped=clamp(previousColor,cmin,cmax);\n#ifdef LUMINANCE_DIFFERENCES\n#ifdef USE_YCOCG\nfloat lum0=currentColor.r;float lum1=previousColorClipped.r;\n#else\nfloat lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);\n#endif\nfloat unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));\n#else\nconst float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);\n#endif\n#ifdef USE_YCOCG\ngl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);\n#else\ngl_FragColor=result;\n#endif\n}"}),this.historyRenderTarget=new Ar(1024,1024,{minFilter:Ri,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new Ar(1024,1024,{minFilter:Ri,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let n=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(n),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},L5e=class extends nl{constructor(e,t,n){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new kY(e,t,{renderTarget:n.transmissionDepthTarget}),this.passThroughMaterial=new uI,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new uI,this.depthPass=new kY(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,n){let i=this.camera.layers.mask,r=e;r.setRenderTarget(r.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],r.clear(),r.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,n),r.shadowMap.needsUpdate=!1,r.shadowMap.autoUpdate=!1;let o=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(o),e.render(this.splineScene,this.camera),this.camera.layers.mask=i}},BY=new Ip,B5e=new Hr({transparent:!0,vertexShader:"\n        void main() {\n            gl_Position = vec4(0.0);\n        }\n    ",fragmentShader:"\n        layout(location = 1) out vec4 gVelocity;\n\n        void main() {\n            gl_FragColor = vec4(0.0);\n\t\t\tgVelocity = vec4(0.0);\n        }\n    "}),pI=class extends nl{constructor(e,t,n){super("OpaquePass",t??BY,n),this.MRTCompatible=!0,this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.originalMaterials=new Map,this.MRTCompatible=e}set splatViewer(e){this._splatViewer=e}get splatViewer(){return this._splatViewer}setCamera(e){this.camera=e}setScene(e){this.scene=e??BY}getScene(){return this.scene}render(e,t){if(this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.clear(),this.scene.traverse(i=>{i.layers.isEnabled(3)&&i instanceof _l&&(this.originalMaterials.set(i.id,i.material),i.material=B5e)}),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8),e.setRenderTarget(this.renderToScreen?null:t),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),!0===this._splatViewer?.splatRenderingInitialized){let i=e.autoClear;e.autoClear=!1,e.render(this.scene,this.camera),this._splatViewer.update(),e.render(this._splatViewer.splatMesh,this.camera),e.autoClear=i}else e.render(this.scene,this.camera);this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach((i,r)=>{let o=this.scene.getObjectById(r);o&&(o.material=i)})}},U5e=new Hr({name:"CombineMaterial",uniforms:{inputBufferA:new jt(null),inputBufferB:new jt(null)},blending:0,depthWrite:!1,depthTest:!1,vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n    gl_Position = vec4(position.xy, 1.0, 1.0);\n    vUv = position.xy * 0.5 + 0.5;\n}\n",fragmentShader:"\n    varying vec2 vUv;\n    uniform sampler2D inputBufferA;\n    uniform sampler2D inputBufferB;\n\n    // TODO: Why do we need these when postpro of framemode is enabled???\n    layout(location = 1) out vec4 gVelocity;\n\n    void main() {\n\tvec4 resA = texture2D(inputBufferA, vUv);\n\tvec4 resB = texture2D(inputBufferB, vUv);\n    float a = resA.a + resB.a * ( 1.0 - resA.a );\n\n\tvec4 res;\n\tres.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));\n\tres.a = resA.a + resB.a * (1.0 - resA.a);\n\tgl_FragColor = res;\n    gVelocity = vec4(0.0);\n    }\n"}),j5e=class extends nl{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=U5e,this.helperPass=new pI(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new pI(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new LY({preset:0,edgeDetectionMode:2});this.effectPass=new jP(this.camera,t),this.rt=new Ar(10,10,{minFilter:Ri,magFilter:Ri,wrapS:Xo,wrapT:Xo,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,n){this.rt.depthTexture=t.depthTexture;let i=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,n),this.fullscreenMaterial.uniforms.inputBufferA.value=n.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(i),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},vb=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],X5e=new Hr({vertexShader:"#define GLSLIFY 1\n#include <skinning_pars_vertex>\nout vec3 n;void main(){\n#include <beginnormal_vertex>\n#include <skinbase_vertex>\n#include <skinnormal_vertex>\n#include <defaultnormal_vertex>\n#include <begin_vertex>\n#include <skinning_vertex>\nvec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}",fragmentShader:"#define GLSLIFY 1\nin vec3 n;void main(){gl_FragColor=vec4(n,1.0);}"}),HP=new Hr({vertexShader:"#define GLSLIFY 1\nout vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}",fragmentShader:"#define GLSLIFY 1\nin vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){\n#ifdef DEBUG\nfloat d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);\n#else\nvec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;\n#endif\n}",uniforms:{texture_ao_lrez:new jt(null),texture_depth_lrez:new jt(null),texture_depth_hrez:new jt(null),near:new jt(null),far:new jt(null)}}),$5e=class extends nl{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let n=1024,i=1024;this.gBuffer=new Ar(n,i,{type:ja,depthTexture:new ev(n,i),minFilter:Ri,magFilter:Ri}),this.depthBufferHighRes=new Ar(n,i,{depthTexture:new ev(n,i)}),this.aoBuffer=new Ar(n,i,{minFilter:Ri,magFilter:Ri}),this.splineScene=e,this.splineCamera=t;let r=new Float32Array(2*vb.length);for(let s=0;s<vb.length;s++){let a=2*s;r[a+0]=vb[s][0],r[a+1]=vb[s][1]}this.blueNoiseInDiskTexture=new Rp(r,vb.length,1,1030,ja),this.blueNoiseInDiskTexture.wrapS=lu,this.blueNoiseInDiskTexture.wrapT=lu,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new Hr({vertexShader:"#define GLSLIFY 1\nout vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}",fragmentShader:"#define GLSLIFY 1\nin vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}\n#define USE_GBUFFER_NORMALS\nvoid main(){vec3 view_space_p=get_view_position(v_uv);\n#ifdef USE_GBUFFER_NORMALS\nvec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;\n#else\nvec3 view_space_n=-rebuild_normal(v_uv,view_space_p);\n#endif\nfloat radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}",uniforms:{near:new jt(null),far:new jt(null),fov:new jt(null),proj_info:new jt(new Ci),is_ortho:new jt(!1),resolution:new jt(new Fe),radius_of_influence:new jt(8),radius_in_screen_space:new jt(1),exponent:new jt(1),ao_color:new jt(new ne),bias:new jt(.5),texture_depth:new jt(null),texture_normals:new jt(null),texture_blue_noise:new jt(null),texture_blue_noise_in_disk:new jt(this.blueNoiseInDiskTexture),frame_index:new jt(0),fog_enabled:new jt(!1),fog_near:new jt(1),fog_far:new jt(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new Ar(n,i,{minFilter:Ri,magFilter:Ri,wrapS:Xo,wrapT:Xo,depthBuffer:!1,type:ja});let o=new LY({preset:3,edgeDetectionMode:2});this.effectPass=new jP(this.camera,o)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let n=this._runHalfRes?.5:1,i=e*n,r=t*n;this.gBuffer.setSize(i,r),this.aoBuffer.setSize(i,r),this.hbaoMaterial.uniforms.resolution.value.set(i,r),this.aaBuffer.setSize(i,r),this.effectPass.setSize(i,r)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}render(e,t,n){this.splineScene.overrideMaterial=X5e;let i=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=i,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let r=this.splineCamera.perspCamera.projectionMatrix.elements;this.hbaoMaterial.uniforms.proj_info.value.set(2/r[0],2/r[5],-(1-r[8])/r[0],-(1+r[9])/r[5]);let c=this.splineCamera.perspCamera.fov*(Math.PI/180),h=this.hbaoMaterial.uniforms.resolution.value.y/(2*Math.tan(.5*c));this.hbaoMaterial.uniforms.radius_in_screen_space.value=.5*this.hbaoMaterial.uniforms.radius_of_influence.value*h,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let r=this.splineCamera.orthoCamera.projectionMatrix.elements,s=2/r[5];this.hbaoMaterial.uniforms.proj_info.value.set(2/r[0],s,-(1+r[12])/r[0],-(1-r[13])/r[5]),this.hbaoMaterial.uniforms.radius_in_screen_space.value=this.hbaoMaterial.uniforms.radius_of_influence.value*(this.hbaoMaterial.uniforms.resolution.value.y/s*.5),this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=HP,HP.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,HP.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,HP.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},Z5e=class extends Sh{constructor(){super(new Hr({vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D tInput;\nuniform sampler2D tMap;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform vec2 uResolution;\nuniform vec2 uCoords;\n\n// Draws a rectangle at center <st> with size <size>\nfloat rectangle(vec2 st, vec2 size) {\n    size = vec2(0.5) - size * 0.5;\n    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));\n    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));\n\n    return uv.x * uv.y;\n}\n\nuniform vec2 uSize;\nuniform float uScale;\nuniform float uDPR;\nuniform float uCurrent;\nuniform vec3 uSceneColor;\n\nvoid main() {\n    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n    screenUv *= 1.0 / uDPR;\n\n    vec2 center = vec2(0.5, -0.5);\n    vec2 outsideUv = screenUv;\n    outsideUv += center;\n    outsideUv -= uCoords.xy / uResolution.xy;\n    outsideUv = (outsideUv - 0.5) + 0.5;\n    outsideUv -= center;\n    vec2 s = (uSize / uResolution) * uScale;\n    float isOutside = 1.0 - rectangle(outsideUv, s);\n    \n    vec2 mid = vec2(0.5);\n    vec2 insideUv = (screenUv - mid + s * mid) / s;\n    vec4 background = texture2D(tInput, screenUv);\n    vec4 image = texture2D(tMap, insideUv);\n    gl_FragColor = mix(image, background, isOutside);\n}\n",uniforms:{tInput:new jt(null),tMap:new jt(null),uResolution:new jt(new Fe),uSize:new jt(new Fe),uCoords:new jt(new Fe),uScale:new jt(1),uSceneColor:new jt(new qn(16711680)),uDPR:new jt(1),uCurrent:new jt(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},tFe=[],nFe=class extends Sh{constructor(){super(new Hr({vertexShader:"\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D toScene;\nuniform sampler2D fromScene;\nuniform vec2 resolution;\n\nuniform vec2 uResolution;\nuniform float uDPR;\n\nuniform float mixRatio;\nuniform sampler2D tMixTexture;\nuniform int useTexture;\nuniform float threshold;\n\nvoid main() {\n\tvec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n\tscreenUv *= 1.0 / uDPR;\n\n\tvec4 texel1 = texture2D( fromScene, screenUv );\n\tvec4 texel2 = texture2D( toScene, screenUv );\n\n\tif (useTexture==1) {\n\t\t\n\t\tvec4 transitionTexel = texture2D( tMixTexture, screenUv );\n\t\tfloat r = mixRatio * (1.0 + threshold * 2.0) - threshold;\n\t\tfloat mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);\n\t\t\n\t\tgl_FragColor = mix( texel1, texel2, mixf );\n\t} else {\n\t\t\n\t\tgl_FragColor = mix( texel1, texel2, mixRatio );\n\t\t\n\t}\n}\n",uniforms:{toScene:new jt(null),fromScene:new jt(null),uResolution:new jt(new Fe),uDPR:new jt(1),mixRatio:new jt(0),threshold:new jt(.1),useTexture:new jt(0),tMixTexture:{value:tFe[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}};function zY(e,t){return t&&t.enabled&&e.push(t.effect),e}var iFe=e=>Object.values(tr).includes(e)?e:tr.NORMAL,rFe=class extends ta{constructor(e){super(),this.postprocessingState=XM.defaultData,this._scene=new Ip,this._camera=new Pa,this.effects=new Map,this.blueNoiseTexture=new Rp,this._renderToScreen=!0,this.clock=new class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Hj(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=Hj();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},this.renderer=e,this.debug=!1,this.effects.set("bloom",new C5e),this.effects.set("chromaticAberration",new P5e),this.effects.set("vignette",new D5e),this.effects.set("noise",new E5e),this.effects.set("colorAverage",new O5e),this.effects.set("hueSaturation",new S5e),this.effects.set("brightnessContrast",new M5e),this.effects.set("depthOfField",new A5e),this.effects.set("pixelation",new T5e),this.effectComposer=new class{constructor(e,{depthBuffer:t=!0,stencilBuffer:n=!1,multisampling:i=0,frameBufferType:r=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new oI,this.depthTexture=null,this.timer=new class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return.001*this.delta}getFixedDelta(){return.001*this.fixedDelta}setFixedDelta(e){return this.fixedDelta=1e3*e,this}getElapsed(){return.001*this.elapsed}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=void 0!==e?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,n,r,i,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,n,r,i,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,n,r,i,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,null!==e){let t=e.getSize(new Fe),n=e.getContext().getContextAttributes()?.alpha??!1,i=this.inputBuffer.texture[0].type;i===ya&&e.outputEncoding===wi&&(this.inputBuffer.texture[0].encoding=wi,this.outputBuffer.texture[0].encoding=wi,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(t.width,t.height,!1);for(let r of this.passes)r.initialize(e,n,i)}}replaceRenderer(e,t=!0){let n=this.renderer,i=n.domElement.parentNode;return this.setRenderer(e),t&&null!==i&&(i.removeChild(n.domElement),i.appendChild(e.domElement)),n}createDepthTexture(){let e=this.depthTexture=new ev(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=bm,e.type=ym):e.type=cu,e}deleteDepthTexture(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,n,i,r,o){let c,s=this.renderer,a=null===s?new Fe:s.getDrawingBufferSize(new Fe),l={minFilter:Ri,magFilter:Ri,wrapS:Xo,wrapT:Xo,stencilBuffer:t,depthBuffer:e};return i>0?(c=new Ar(a.width,a.height,l),c.samples=i):(r?(c=new T1e(a.width,a.height,2,l),c.texture[1].type=vm):c=new Ar(a.width,a.height,l),c.depthTexture=new ev(2048,2048),c.depthTexture.type=ja),n===ya&&null!==s&&s.outputEncoding===wi&&(Array.isArray(c.texture)?c.texture.forEach(h=>h.encoding=wi):c.texture.encoding=wi),Array.isArray(c.texture)?c.texture.forEach((h,d)=>{h.name=`EffectComposer.Buffer ${r} ${d}`,h.generateMipmaps=!1}):(c.texture.name=`EffectComposer.Buffer ${r}`,c.texture.generateMipmaps=!1),c.name=o,c}addPass(e,t){let s,n=this.passes,i=this.renderer,r=i.getDrawingBufferSize(new Fe),o=i.getContext().getContextAttributes()?.alpha??!1;if(e.MRTCompatible&&(s=this.inputBuffer.texture[0].type),e.MRTCompatible||(s=this.inputBuffer.texture.type),e.setRenderer(i),e.setSize(r.width,r.height),e.initialize(i,o,s),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){let a=this.createDepthTexture();for(e of n)e.setDepthTexture(a)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,n=t.indexOf(e);-1!==n&&t.splice(n,1).length>0&&(null!==this.depthTexture&&(t.reduce((r,o)=>r||o.needsDepthTexture,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())),this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0)))}removeAllPasses(){let e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let l,c,h,d,t=this.renderer,n=this.copyPass,i=this.inputBuffer,r=this.outputBuffer,o=this.inputBufferSingle,s=this.outputBufferSingle,a=!1;void 0===e&&(e=this.timer.update().getDelta());for(let u of this.passes)u.enabled&&(u.MRTCompatible?u.render(t,i,r,e,a):u.render(t,o,s,e,a),u.needsSwap&&(a&&(n.renderToScreen=u.renderToScreen,l=t.getContext(),c=t.state.buffers.stencil,c.setFunc(l.NOTEQUAL,1,4294967295),n.render(t,i,r,e,a),c.setFunc(l.EQUAL,1,4294967295)),h=i,d=o,i=r,o=s,r=h,s=d),u instanceof JNe?a=!0:u instanceof ENe&&(a=!1))}setSize(e,t,n){let i=this.renderer;if(this._width=e,this._height=t,void 0===e||void 0===t){let o=i.getSize(new Fe);e=o.width,t=o.height}i.setSize(e,t,n);let r=i.getDrawingBufferSize(new Fe);this.inputBuffer.setSize(r.width,r.height),this.outputBuffer.setSize(r.width,r.height),this.inputBufferSingle.setSize(r.width,r.height),this.outputBufferSingle.setSize(r.width,r.height);for(let o of this.passes)o.setSize(r.width,r.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),null!==this.inputBufferSingle&&this.inputBufferSingle.dispose(),null!==this.outputBufferSingle&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}}(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new pI(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new L5e(this.scene,this.camera,this.renderer),this.aoPass=new $5e(this.scene,this.camera),this.taaPass=new F5e,this.taaPass.renderToScreen=!1,this.helperPass=new j5e(this.camera),this.helperPass.renderToScreen=!1,this.overlayPass=new Z5e,this.overlayPass.enabled=!1,this.sceneTransitionPass=new nFe,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){void 0!==e?(this.overlayPass.texture=e,this.overlayPass.enabled=!0):this.overlayPass.enabled=!1}get overlayTexture(){return this.overlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),this.aoPass.setCamera(e),this.helperPass.setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let n=this.effectComposer.passes[t];!0!==n.enabled||e||!this._renderToScreen?n.renderToScreen=!1:(n.renderToScreen=!0,e=!0)}}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new Rp(e,128,128),this.blueNoiseTexture.wrapS=lu,this.blueNoiseTexture.wrapT=lu,this.blueNoiseTexture.minFilter=Zr,this.blueNoiseTexture.magFilter=Zr,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,n,i,r,o,s,a){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=n,this.aoPass.aoColor=i,this.aoPass.fogEnabled=r,this.aoPass.fogNear=o,this.aoPass.fogFar=s,this.aoPass.runHalfRes!==!a&&(this.aoPass.runHalfRes=!a)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){if(this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let e=[this.effects.get("pixelation")].reduce(zY,[]);e.length>0&&(this.uvEffectPass=new jP(this.camera,...e),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let t=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(zY,[]);t.length>0&&(this.effectPass=new jP(this.camera,...t),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass))}this.effectComposer.addPass(this.overlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass)}_initCopyPass(){if(this._savePass)return;let e=new Fe;this.renderer.getDrawingBufferSize(e),this._rt=new Ar(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:lu,wrapT:lu}),this._rt.samples=0,this._savePass=new oI(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new oI(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(!0===e?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(null!==e?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let{enabled:t,...n}=e,i=!1;t!==this.postprocessingState.enabled&&(i=!0);for(let r of Object.entries(n)){let o=r[1],s=this.effects.get(r[0]);if(s){s.enabled!==o.enabled&&(i=!0),s.enabled=o.enabled;for(let[a,l]of Object.entries(o))"blendFunction"===a?s.blendFunction=iFe(l):s[a]=l}}this.postprocessingState=e,i&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,n,i){e instanceof Ci?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,n,i),this.effectComposer.outputBuffer.scissor.set(e,t,n,i));let r=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(r),this.effectComposer.outputBuffer.scissor.multiplyScalar(r),this.renderer.setScissor(e,t,n,i)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,n,i){e instanceof Ci?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,n,i),this.effectComposer.outputBuffer.viewport.set(e,t,n,i))}resize(e,t,n){if(this.effectComposer.setSize(e,t,n),this._rt){let i=this.renderer.getPixelRatio();this._rt.setSize(e*i,t*i)}}dispose(){this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.dispose()}},sFe=Ei.lights_fragment_begin,aFe=Ei.shadowmask_pars_fragment,UY=null,fI=new Hr({vertexShader:"\nattribute vec3 randomColor;\nvarying vec3 vNormal;\nflat out vec3 vColor;\n\nvoid main()\n{\nvNormal = normal;\nvColor = randomColor;\ngl_Position = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));\n}\n",fragmentShader:"\nuniform float depthContrast;\nvarying vec3 vNormal;\nflat in vec3 vColor;\nvoid main()\n{\nvec3 normal = (normalize(vNormal)).rgb;\n\nfloat contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;\n\nvec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);\ngl_FragColor = vec4(resultColor, vColor.r);\n}\n",uniforms:{depthContrast:{value:1}}}),jY=new Ds,uFe=class extends sj{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new Fe,this.pipeline=new rFe(this),this.dummyCamera=new Pa,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(r=!0,o=!0,s=!0)=>{let a=this.getContext(),l=0;r&&(l|=a.COLOR_BUFFER_BIT),o&&(l|=a.DEPTH_BUFFER_BIT),s&&(l|=a.STENCIL_BUFFER_BIT),a.clear(l),a.clearBufferfv(a.COLOR,1,[0,0,0,1])},this.autoClear=!1;let t=this.setPixelRatio.bind(this),n=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=1,this.dummyCamera.matrixAutoUpdate=!1;let i=this.getContext();if(i&&"drawingBufferColorSpace"in i)try{i.drawingBufferColorSpace="display-p3"}catch(r){console.warn(r)}this.setPixelRatio=r=>{this._pixelRatio!==r&&(this._pixelRatio=r,t(r))},this.setSize=(r,o,s=!0)=>{(this.viewportWidth!==r||this.viewportHeight!==o)&&(this.viewportWidth=r,this.viewportHeight=o,n(r,o,s),this.normalRenderTarget?.setSize(r*this._pixelRatio,o*this._pixelRatio),this._resizeTransmission(r,o),this.transmissionDepthTarget?.setSize(r*this._pixelRatio/2,o*this._pixelRatio/2),this.pipeline.resize(r,o,s))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){void 0===this.aoRenderTarget&&(this.aoRenderTarget=new Ar(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Ri,magFilter:Ri,wrapS:Xo,wrapT:Xo,depthBuffer:!1}))}_resizeTransmission(e,t){this.transmissionRenderTarget?.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),this.aoRenderTarget?.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return 1===$n.transmissionLod.value}set hdTransmission(e){$n.transmissionLod.value=!0===e?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){void 0===this.transmissionRenderTarget&&(this.transmissionRenderTarget=new Ar(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:D0,magFilter:Ri,wrapS:Xo,wrapT:Xo,depthBuffer:!1}),this.transmissionDepthTarget=new Ar(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:Zr,magFilter:Zr,depthBuffer:!1}))}createNormalRenderTarget(){void 0===this.normalRenderTarget&&(this.normalRenderTarget=new Ar(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Zr,magFilter:Zr,type:ja,depthTexture:new ev(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,n){this.normalRenderTarget&&(this.setClearColor(0),n.layers.enable(8),n.layers.disable(0),n.layers.disable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),fI.uniforms.depthContrast.value=n instanceof Pa?(n.far-n.near)/1e4:1,t.overrideMaterial=fI,this.render(t,n),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?OI:null,n.layers.enable(0),n.layers.enable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(e,t,n=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let i=t.height,r=t.width,o=this.viewportWidth/this.viewportHeight;r<i?r=i*o:i=r/o,this.dummyCamera.setViewplaneSize(r,i);for(let s=0;s<n;s++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:n,sceneHelpersOnTop:i,overrideTransmission:r,overrideNormal:o}={}){let s=e instanceof SI?e.activePage:e,a=s.visible;s.visible=!0;let l=s.scene;this.xr.enabled&&(!1===this.isXRCopyPassSet&&null!==this.getRenderTarget()&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(s.bgColor,s.bgColor.a),s.penumbraSizeArray.forEach((u,f)=>{$n.penumbraSize.value[f]=u}),$n.pixelRatioNode.value=this.getPixelRatio(),0!==this.resolution.x&&0!==this.resolution.y?$n.resolution.value.set(this.resolution.x,this.resolution.y):$n.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),void 0!==o?($n.normalRenderTarget.value=o,$n.normalRenderTargetDepth.value=jY):l.needsNormal()&&(this.createNormalRenderTarget(),$n.normalRenderTarget.value=this.normalRenderTarget.texture,$n.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(l,s,t));let c=s.data.ao,h=c.occlusion;h&&(this.createAORenderTarget(),$n.aoRenderTarget.value=this.aoRenderTarget.texture),$n.aoEnabled.value=h,this.pipeline.setAmbientOcclusionParams(c.occlusion,c.radius,c.bias,s.aoColor,null!==s.fog,s.backupFog.near,s.backupFog.far,c.aoFullRes),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture);let d=!1;if(void 0!==r)$n.transmissionRenderTarget.value=r,$n.transmissionRenderTargetDepth.value=jY,this.pipeline.setTransmissionPassEnabled(!1);else{let u=l.needsTransmission();u&&(void 0===this.transmissionRenderTarget&&(d=!0),this.createTransmissionRenderTarget(),$n.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,$n.aspectRatio.value=function CRe(e,t){return e>=t?new Fe(t/e,1):new Fe(1,e/t)}(this.viewportWidth,this.viewportHeight),$n.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(u)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=n,this.pipeline.sceneHelpersOnTop=i,this.pipeline.scene=s,this.pipeline.camera=t,d&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==s.postprocessing&&(this.pipeline.updatePostprocessing(s.postprocessing),!n&&!i&&this.pipeline.disableHelpers()),void 0!==this.clearAlphaOverride&&this.setClearAlpha(this.clearAlphaOverride),s.overrideMaterial=l.wireframeState?OI:null,this.pipeline.render(),$n.frameIndex.value=($n.frameIndex.value+1)%16,t instanceof Pa&&t.copyHistory(),s.visible=a}renderFromSceneForSceneTransitionPass(e,t,n){this.pipeline.renderToScreen=!1,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=n,this.sceneTransitionTimeRemaining=n,this.pipeline.renderToScreen=!0;let i=this.pipeline.sceneTransitionPass.uniforms;i.uDPR.value=window.devicePixelRatio,i.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){this._superDispose(),this.pipeline.dispose(),this.aoRenderTarget?.dispose(),this.transmissionRenderTarget?.dispose(),this.transmissionDepthTarget?.dispose(),this.normalRenderTarget?.dispose(),this.normalRenderTarget?.depthTexture?.dispose()}},VY=class extends(ub(RCe)){constructor(e,t=15,n=10066329){super(e,t,n),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){pb(this.object,VY.geometryHelper,e,t)}},HY=class extends(ub(ICe)){constructor(e,t=15,n=6710886){super(e,t,n),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){pb(this.object,HY.geometryHelper,e,t)}},mI=class extends(ub(kCe)){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){pb(this.object,mI.geometryHelper,e,t)}update(){if(void 0!==this.object){let e=mI._vector,t=this.object.distance?this.object.distance:1e3,n=t*Math.tan(this.object.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let i=void 0!==this.color?this.color:this.light.color;if(this.cone.material instanceof Array)for(let r=0,o=this.cone.material.length;r<o;r++)this.cone.material[r].color.set(i);else this.cone.material.color.set(i)}}},GY=mI;GY._vector=new ne;var WY=class extends(tI(vCe,VY)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.top=1250,i.bottom=-1250,i.right=1250,i.left=-1250,i.near=-1e4,i.far=2500;let r=new rM(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof rM&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let n=void 0!==e.depth&&e.depth!==this.shadow.camera.far||void 0!==e.size&&e.size/2!==this.shadow.camera.right;void 0!==e.size&&function pFe(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}(this,e.size),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),void 0!==e.penumbraSize&&t.scene.markPenumbraSizeDirty(),n&&this.update()}},qY=new ne,YY=new ne,XY=new hi,$Y=class extends(tI(pCe,GY)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=2*Ln.RAD2DEG*this.angle,i.aspect=1,i.near=100,i.far=2500;let r=new rM(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof rM&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),YY.setFromMatrixPosition(this.matrixWorld),XY.setFromRotationMatrix(this.matrixWorld),qY.copy(this.up).applyQuaternion(XY).negate().multiplyScalar(this.distance),this.target.position.copy(YY).add(qY),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.angle&&(this.angle=e.angle),void 0!==e.penumbra&&(this.penumbra=e.penumbra),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.penumbraSize&&t.scene.markPenumbraSizeDirty(),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},cf=class extends(Q3(Ip)){constructor(e,t){super(),this.data=t,this.bgColor=new wl(1,1,1,1),this.fog=null,this.backupFog=new aj(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new qn,this.penumbraSizeArrayCache=null,this.super_Entity(e,t),this.personalCamera=new Pa(gv,{...z_.defaultData,...t.camera,name:"Personal Camera"}),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new hCe(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}updateVisible(){}setBackgroundColor(e){this.bgColor=e,!0===this.fogUseBGColor&&(this.backupFog.color=e)}updateAmbientLight(e,t){void 0!==e.color&&(this.ambientLight.color=Ja(e.color,t)),void 0!==e.intensity&&(this.ambientLight.intensity=e.intensity),void 0!==e.enabled&&(e.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(e){this.isActive=!0,e.fog=this.fog,this.traverseEntity(t=>{t instanceof Qm&&t.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(e=>{if(e instanceof Jv)if(Array.isArray(e.material))for(let t of e.material)t.needsUpdate=!0;else e.material.needsUpdate=!0,e.material.dispose()})}updateShadow(e){void 0!==e.softShadowQuality&&this.isActive&&((e="medium")=>{if(UY===e)return!1;UY=e;let t=(e=>{switch(e){case"low":return 8;case"medium":default:return 16;case"high":return 32}})(e);Ei.shadowmap_pars_fragment=(e=>`\n\n// PCSS implementation based on:\n// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/\n// NOTE: This number affects how big the shadow blur can\n// possibly get. Bigger number == bigger blur, but less precise results\n\nconst float  gPenumbraFilterSize = 80.0;\nconst int   gPenumbraSamples = ${e};\nconst int gShadowSamples = ${e};\nconst float gShadowSamplesRpc = 1.0f / float(gShadowSamples);\n\n#ifdef USE_SHADOWMAP\n    #if NUM_DIR_LIGHT_SHADOWS > 0\n\n        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n        struct DirectionalLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n        };\n\n        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\n    #endif\n\n    #if NUM_SPOT_LIGHT_SHADOWS > 0\n\n        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n        struct SpotLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n        };\n\n        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\n    #endif\n\n    #if NUM_POINT_LIGHT_SHADOWS > 0\n\n        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n        struct PointLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n            float shadowCameraNear;\n            float shadowCameraFar;\n        };\n\n        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\n    #endif\n\n    /*\n    #if NUM_RECT_AREA_LIGHTS > 0\n\n        // TODO (abelnation): create uniforms for area light shadows\n\n    #endif\n    */\n\nfloat computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)\n{\n    float penumbra = 1.0;\n    float blockerDepthAvg = 0.0;\n    float blockerCount = 0.0;\n\n    #pragma unroll_loop_start\n    for(int i = 0; i < gPenumbraSamples; i ++)\n    {\n        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;\n        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );\n\n        if(depth < compare + 0.0001)\n        {\n            blockerDepthAvg += depth;\n            blockerCount++;\n        }\n    }\n    #pragma unroll_loop_end\n\n    if (blockerCount > 0.0)\n    {\n        blockerDepthAvg /= blockerCount;\n\n        // Compute penumbra\n        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);\n        penumbra *= penumbra;\n        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows\n\n        return clamp(penumbra, 0.00, 1.0);\n    }\n    return 0.0;\n}\n\nfloat vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)\n{\n    float shadow         = 0.0f;\n\n    // NOTE: When using TAA, we should use screen space interleaved gradient noise\n    vec2 halton = haltonSequence[frameIndex];\n    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n    float temporalAngle  = temporalOffset * PI2;\n\n    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);\n    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);\n    if (penumbra == -1.0) {\n        return 1.0;\n    }\n\n    #pragma unroll_loop_start\n    for (int i = 0; i < gShadowSamples; i++)\n    {\n        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n        // Overall blurring offset\n        vec2 offset = vogelSample * (shadowRadius * 2.);\n\n        // Penumbra offset\n        offset += vogelSample * (penumbra * texelScalar);\n\n        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );\n    }\n    #pragma unroll_loop_end\n\n    return shadow * gShadowSamplesRpc;\n}\n\n\n    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n    }\n\n    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\n        return unpackRGBATo2Half( texture2D( shadow, uv ) );\n\n    }\n\n    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\n        float occlusion = 1.0;\n\n        vec2 distribution = texture2DDistribution( shadow, uv );\n\n        float hard_shadow = step( compare , distribution.x ); // Hard Shadow\n\n        if (hard_shadow != 1.0 ) {\n\n            float distance = compare - distribution.x ;\n            float variance = max( 0.00000, distribution.y * distribution.y );\n            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality\n            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed\n            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\n        }\n        return occlusion;\n\n    }\n\n    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n        float shadow = 1.0;\n\n        shadowCoord.xyz /= shadowCoord.w;\n        shadowCoord.z += shadowBias;\n\n        // if ( something && something ) breaks ATI OpenGL shader compiler\n        // if ( all( something, something ) ) using this instead\n\n        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n        bool inFrustum = all( inFrustumVec );\n\n        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n        bool frustumTest = all( frustumTestVec );\n\n        if ( frustumTest ) {\n\n        #if defined( SHADOWMAP_TYPE_PCF )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );\n\n        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n            float dx = texelSize.x;\n            float dy = texelSize.y;\n\n            vec2 uv = shadowCoord.xy;\n            vec2 f = fract( uv * shadowMapSize + 0.5 );\n            uv -= f * texelSize;\n\n            shadow = (\n                texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n                     f.x ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n                     f.x ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n                     f.y ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n                     f.y ) +\n                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n                          f.x ),\n                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n                          f.x ),\n                     f.y )\n            ) * ( 1.0 / 9.0 );\n\n        #elif defined( SHADOWMAP_TYPE_VSM )\n\n            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n        #else // no percentage-closer filtering:\n\n            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n        #endif\n\n        }\n\n        return shadow;\n\n    }\n\n    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n    // vector suitable for 2D texture mapping. This code uses the following layout for the\n    // 2D texture:\n    //\n    // xzXZ\n    //  y Y\n    //\n    // Y - Positive y direction\n    // y - Negative y direction\n    // X - Positive x direction\n    // x - Negative x direction\n    // Z - Positive z direction\n    // z - Negative z direction\n    //\n    // Source and test bed:\n    // https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n    vec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n        // Number of texels to avoid at the edge of each square\n\n        vec3 absV = abs( v );\n\n        // Intersect unit cube\n\n        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n        absV *= scaleToCube;\n\n        // Apply scale to avoid seams\n\n        // two texels less per square (one texel will do for NEAREST)\n        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n        // Unwrap\n\n        // space: -1 ... 1 range for each square\n        //\n        // #X##         dim    := ( 4 , 2 )\n        //  # #         center := ( 1 , 1 )\n\n        vec2 planar = v.xy;\n\n        float almostATexel = 1.5 * texelSizeY;\n        float almostOne = 1.0 - almostATexel;\n\n        if ( absV.z >= almostOne ) {\n\n            if ( v.z > 0.0 )\n                planar.x = 4.0 - v.x;\n\n        } else if ( absV.x >= almostOne ) {\n\n            float signX = sign( v.x );\n            planar.x = v.z * signX + 2.0 * signX;\n\n        } else if ( absV.y >= almostOne ) {\n\n            float signY = sign( v.y );\n            planar.x = v.x + 2.0 * signY + 2.0;\n            planar.y = v.z * signY - 2.0;\n\n        }\n\n        // Transform to UV space\n\n        // scale := 0.5 / dim\n        // translate := ( center + 0.5 ) / dim\n        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n    }\n\n    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n        float shadow = 1.0;\n        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n        // for point lights, the uniform @vShadowCoord is re-purposed to hold\n        // the vector from the light to the world-space position of the fragment.\n        vec3 lightToPosition = shadowCoord.xyz;\n\n        // dp = normalized distance from light to fragment position\n        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n        compare += shadowBias;\n\n        // bd3D = base direction 3D\n        vec3 bd3D = normalize( lightToPosition );\n\n        vec2 halton = haltonSequence[frameIndex];\n        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n        float temporalAngle  = temporalOffset * PI2;\n\n        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )\n            for (int i = 0; i < gShadowSamples; i++) {\n                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n\n                // Overall blurring offset\n                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);\n\n                // NOTE: Removed for now\n                // Penumbra offset\n                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);\n\n                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );\n\n            }\n            return shadow * gShadowSamplesRpc;\n\n        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n            for (int i = 0; i < 16; i++) {\n                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n\n                // Overall blurring offset\n                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);\n\n                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );\n\n            }\n            return shadow * (1.0 / 16.0);\n        #else // no percentage-closer filtering\n\n            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );\n\n        #endif\n\n    }\n\n#endif\n`)(t);let n=sFe.slice();n=n.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),n=n.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),Ei.lights_fragment_begin=n;let i=aFe.slice();return i=i.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),Ei.shadowmask_pars_fragment=i,!0})(e.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(e,t){this.fog=e.enabled?this.backupFog:null,this.isActive&&(this.scene.fog=this.fog),this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=Ja(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAo(e,t){void 0!==e.aoColor&&(this.aoColor=Ja(e.aoColor,t))}updateByOp(e,t,n,i){super.updateByOp(e,t,n,i);let r=t;Dc(e.path,["fog"])?this.updateFog(r.fog,n.shared):Dc(e.path,["ao"])?this.updateAo(r.ao,n.shared):Dc(e.path,["ambient"])?this.updateAmbientLight(r.ambient,n.shared):Dc(e.path,["shadow"])&&this.updateShadow(r.shadow)}updateState(e,t){this.updateState_Entity(e,t),void 0!==e.backgroundColor&&this.setBackgroundColor(Ja(e.backgroundColor,t.shared)),void 0!==e.fog&&this.updateFog(e.fog,t.shared),void 0!==e.ambient&&this.updateAmbientLight(e.ambient,t.shared),void 0!==e.ao&&this.updateAo(e.ao,t.shared),void 0!==e.shadow&&this.updateShadow(e.shadow)}raycast(e,t){super.raycast(e,t)}switchActiveCamera(e){e&&e.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1)}get playCamera(){return this.scene?.find(this.data.publish.playCamera)??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return null===this.penumbraSizeArrayCache&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let e=0,t=0;this.traverseEntity(n=>{if(!n.visible)return!0;n instanceof WY&&n.visible&&e<3&&(this.penumbraSizeArrayCache[e]=n.data.penumbraSize,e+=1),n instanceof $Y&&n.visible&&e<2&&(this.penumbraSizeArrayCache[3+t]=n.data.penumbraSize,t+=1)})}raycastWithClones(e){let t=[],n=i=>{for(let r of i.children){let o=r.cloner;Zi.is(r)&&(r.visible||o?.object.data.visible)&&((Pd(r)||nI(r)&&this.scene.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),_I(r,e,t,!0)),n(r))}};return n(this),t}},fFe=class extends(tI(mCe,HY)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=90,i.aspect=1,i.near=100,i.far=2500;let r=new ne(-i.far+this.position.x,-i.far+this.position.y,-i.far+this.position.z),o=new ne(i.far+this.position.x,i.far+this.position.y,i.far+this.position.z),s=new Ko(r,o),a=new oM(s,new qn(16755200));a.visible=!1,this.gizmos.shadowmap=a,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof oM){let n=this.shadow.camera,i=new ne(-n.far+this.position.x,-n.far+this.position.y,-n.far+this.position.z),r=new ne(n.far+this.position.x,n.far+this.position.y,n.far+this.position.z);t.box.set(i,r),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},mFe=class extends el{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?Mk(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},gI=class extends el{constructor(e,t,n){super(e,t,n),this._shapeId=null,this._context=n}updateState(e,t){super.updateState(e,t),this.updateShape()}updateShape(){let t,e={...this.data.geometry.extrusion.shape};for(let i in e)"string"==typeof e[i]&&(e[i]=this._context.shared.getVariable(e[i],[this.uuid,"geometry","extrusion","shape",i]));if("Custom"===e.type){let i=e.shapeId;if(i!==this._shapeId&&this.detachShape(),i){this._shapeId=i;let r=this._context.scene.find(i);r?.data&&(r.attachedPaths.add(this),t=r.geometry.userData?.shape),t||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let i;switch(e.type){case"Rectangle":i=GW;break;case"Ellipse":i=uk;break;case"Polygon":i=HW;break;case"Star":i=WW;break;default:throw new Error(`Unknown shape type: ${e.type}`)}t=i.create({parameters:e}).userData.shape}let n=this.geometry;t&&n.inputs&&(n.inputs.shapeData=t,n.build(),this.attachedSurfaceCloners.forEach(i=>i.update()))}detachShape(){null!==this._shapeId&&this._context.scene.find(this._shapeId)?.attachedPaths.delete(this)}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?Mk(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},r1=class extends(fb(J0,BP)){constructor(e,t,n){super(),"Instance"===t.type&&"string"==typeof e&&(t=this.transformAssignData(t,n)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return"Component"===this.data.type&&"string"==typeof this.identity}get isInstanceRoot(){return"Instance"===this.data.type&&"string"==typeof this.identity}transformAssignData(e,t){let n=eP.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(n){let i,r;for(let o of Wp.rootOverrideProps)void 0===e[o]?(void 0===i&&(i={...e}),i[o]=n.data[o]):(void 0===r&&(r={}),r[o]=e[o],void 0===i&&(i={...e}),i[o]=Up.apply(n.data[o],e[o]));return this.overrideData=r,i}return{...$a.defaultData,...e,...bu($a.defaultData,Wp.rootOverrideProps)}}updateByOp(e,t,n,i){let r;if(this.isInstanceRoot&&!i)if(t=this.transformAssignData(t,n),0===e.type&&0===e.path.length&&this.component)for(let o of Wp.rootOverrideProps)o in e.props&&void 0===e.props[o]&&(void 0===r&&(r={...e,props:{...e.props}}),r.props[o]=this.component.data[o]);else if(0===e.type&&e.path.length>0&&Wp.rootOverrideProps.includes(e.path[0])){let o=e.path[0];void 0===r&&(r={...e,path:[],props:{[o]:t[o]}})}super.updateByOp(r??e,t,n,i)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){let t=this.data;if(void 0===this.component){let n=e.scene.find(t.component)??null,i=!1;if(n!==this.oldComponent){if(this.oldComponent){let r=0;for(let o of this.children){if(!Zi.is(o))break;e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(o),vI(o),r+=1}this.children.splice(0,r)}i=!0}if(n){let r={};QY(e,[this.uuid],t.overrides,this,n,n,0,i,r);for(let o of this.children)if(Zi.is(o)){let s=o.data;"Empty"===s.type&&s.animations&&o.traverseEntity(a=>{if(a instanceof el&&a.isSkinnedMesh){let l=a.dataPatched;if(l.bones&&l.boneInverses){let c=l.bones.map(u=>e.scene.find(r[u])),h=l.boneInverses.map(u=>(new Ut).fromArray(u)),d=new jA(c,h);a.bind(d,a.bindMatrix)}}else a.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function vI(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let n of e.children)Zi.is(n)&&vI(n)}}function KY(e,t,n,i){return e.component===t&&gH(e.identity,i)?e.overrideData===n?2:1:0}function QY(e,t,n,i,r,o,s,a,l){if(s>50)return!1;if(i.component!==r){if(i.component){let h=i.component.instances.indexOf(i);h>=0&&i.component.instances.splice(h,1)}r.instances.push(i),i.component=r}r instanceof r1&&r.isInstanceRoot&&r.expandInstanceChildren(e);let c=0;for(let h of r.children)if(Zi.is(h)){let d=[...t,..."string"==typeof h.identity?[h.identity]:h.identity],u=$M.resolve(n,d,1);null!=u&&!(u instanceof ks)&&(Object.setPrototypeOf(u,ks.prototype),console.error("wrong prototype"));let v,f=null;if(!a){let y=i.children[c];if(f=Zi.is(y)?y:null,null!==f){let _=KY(f,h,u,d);v=_>=1?f.stateSelection:void 0,2!==_&&(f=null)}if(null===f&&(f=e.scene.findInstance(d)??null,null!==f)){let _=KY(f,h,u,d);if(v=_>=1?f.stateSelection:void 0,2!==_)f=null;else{let w=f.parent.children.indexOf(f);f.parent.children.splice(w,1),i.children.splice(c,0,f),f.parent===i?w<=c&&console.error("not possible"):(f.parent=i,f.matrixWorldNeedsUpdate=!0,f.resetBBoxNeedsUpdate(),f.updateVisible(),e.pendingDeletes.delete(f))}}}if(null===f){let y=u?Up.apply(h.data,u):h.data;Nm.is(y.type)&&(y={...y,type:"Empty"}),f=Jp.createEntity(d,y,e),f.overrideData=u,i.add(f),i.children.splice(i.children.length-1,1),i.children.splice(c,0,f),f.updateState(f.data,e),v&&f.changeSelectedState(v,e),e.scene.registerInstanceAndSetUuid(f)}f.isBone&&(l[f.identity[f.identity.length-1]]=f.uuid),c+=1,QY(e,t,n,f,h,o,s+1,a,l)}if(!a){let h=c;for(;;){let d=i.children[c];if(!Zi.is(d))break;e.pendingDeletes.add(d),c+=1}i.children.splice(h,c-h)}return!0}var gFe=class extends(fb(lj,BP)){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}};function yI(e,t,n){return"Mesh"===t.type?function vFe(e,t,n){let i;return"TextGeometry"===t.geometry.type?new vY(e,t,n):(i="SubdivGeometry"===t.geometry.type?new db(e,t,n):"PathGeometry"===t.geometry.type?new gI(e,t,n):"VectorGeometry"===t.geometry.type?new mFe(e,t,n):"BooleanGeometry"===t.geometry.type?new Qm(e,t,n):new el(e,t,n),i)}(e,t,n):"Empty"===t.type||"Splat"===t.type?new i1(e,t):"Bone"===t.type?new gFe(e,t):"Page"===t.type?new cf(e,t):"PointLight"===t.type?new fFe(e,t,n):"SpotLight"===t.type?new $Y(e,t,n):"DirectionalLight"===t.type?new WY(e,t,n):"Component"===t.type||"Instance"===t.type?new r1(e,t,n):Nm.is(t.type)?new Pa(e,t):(console.error(t),new i1(e,t))}function ZY(e,t){let n=!1,i=t.getLayersOfType("transmission"),r=t.getLayersOfType("outline");return r.length>0&&(e.layers.set(8),i.length>0&&e.layers.enable(3),n=!0,Wk(e),Gk(e)),0===i.length&&0===r.length&&e.layers.set(0),e instanceof Jv&&e.needsAO&&e.layers.enable(5),n}function JY(e,t){if(!t.layers)return!1;let n=!1,i=t.getLayersOfType("transmission").filter(o=>o.data.visible),r=t.getLayersOfType("outline").filter(o=>o.data.visible);return i.length>0&&(e.layers.set(3),r.length>0&&e.layers.enable(8),n=!0),0===i.length&&0===r.length&&e.layers.set(0),e.needsAO&&e.layers.enable(5),n}Jp.createEntity=yI,Jp.changeEntityProptotype=function yFe(e,t,n){let i=yI(e.identity,t,n),r=e.children,o=e.attachedPaths,s=e.parent,a=e.component,l=e.instances,c=e.overrideData,h=e.uuid,d=e.stateSelection;e.dispose();for(let u of Object.keys(e))delete e[u];Object.setPrototypeOf(e,Object.getPrototypeOf(i));for(let u of Object.keys(i))e[u]=i[u];e.children=[...e.children,...r],e.attachedPaths=o,e.parent=s,e.component=a,e.instances=l,e.uuid=h,e.overrideData=c,e.updateState(e.data,n),d&&e.changeSelectedState(d,n),e.resetBBoxNeedsUpdate()},Jp.Cloner=Cd;var wFe=new Gj,CFe=new Ut,MFe=new F0;function _I(e,t,n,i=!1){let r=e.cloner;if(r)for(let o of r.children){let s=CFe.copy(o.matrixWorld).invert(),a=MFe.copy(t.ray).applyMatrix4(s);a.applyMatrix4(e.matrixWorld);let c=wFe;c.set(a.origin,a.direction),c.near=t.near,c.far=t.far;let h=c.intersectObject(e,!1);h.length>0&&n.push({...h[0],object:i?o:e})}}var Eh=Vs(Jy()),Nu=Vs(e_()),Jo=Vs(Jy()),Fi=Vs(e_()),GP=class{constructor(e,t,n){this._dataNormalized=e,this._minD=t,this._maxD=n}static createFromUnnormalized(e){let t=Fi.sup(e),n=Fi.inf(e),i=(0,Jo.default)(new Float32Array(e.size),e.shape),r=t-n;return r<1e-4?Fi.assigns(i,0):(Fi.subs(i,e,n),Fi.divs(i,i,r)),new GP(i,n,t)}get data(){return this._dataNormalized}get minD(){return this._minD}get maxD(){return this._maxD}denormalize(){let e=(0,Jo.default)(new Float32Array(this._dataNormalized.size),this._dataNormalized.shape);return Fi.muls(e,this._dataNormalized,this._maxD-this._minD),Fi.adds(e,e,this._minD),e}},Oo=class{constructor(e,t){this._quantized=e,this._method=t}get quantized(){return this._quantized}static maxIntBits(e){return 2**e-1}static fromNormalized(e,t){let i,n=e.data;if("norm8x"===t){let r=Oo.maxIntBits(8),o=(0,Jo.default)(new Float32Array(n.size),n.shape);Fi.muls(o,n,r),Fi.roundeq(o),i=(0,Jo.default)(new Uint8Array(o.data),n.shape)}else if("norm565"===t){let r=(0,Jo.default)(new Float32Array(n.size),n.shape);Fi.assign(r,n),Fi.mulseq(r.pick(null,0),Oo.maxIntBits(5)),Fi.mulseq(r.pick(null,1),Oo.maxIntBits(6)),Fi.mulseq(r.pick(null,2),Oo.maxIntBits(5)),Fi.roundeq(r);let o=(0,Jo.default)(new Uint16Array(r.data),n.shape),s=(0,Jo.default)(new Uint16Array(n.shape[0]),[n.shape[0]]),a=(0,Jo.default)(new Uint16Array(n.shape[0]),[n.shape[0]]);Fi.lshifts(s,o.pick(null,0),11),Fi.lshifts(a,o.pick(null,1),5),Fi.boreq(s,a),Fi.boreq(s,o.pick(null,2)),i=s}else{let r=(0,Jo.default)(new Float32Array(n.size),n.shape);Fi.assign(r,n),Fi.mulseq(r.pick(null,0),Oo.maxIntBits(11)),Fi.mulseq(r.pick(null,1),Oo.maxIntBits(10)),Fi.mulseq(r.pick(null,2),Oo.maxIntBits(11)),Fi.roundeq(r);let o=(0,Jo.default)(new Uint32Array(r.data),n.shape),s=(0,Jo.default)(new Uint32Array(n.shape[0]),[n.shape[0]]),a=(0,Jo.default)(new Uint32Array(n.shape[0]),[n.shape[0]]);Fi.lshifts(s,o.pick(null,0),21),Fi.lshifts(a,o.pick(null,1),11),Fi.boreq(s,a),Fi.boreq(s,o.pick(null,2)),i=s}return new Oo(i,t)}dequantize(e,t){let i,n=this._method,r=this._quantized;if("norm8x"===n){let o=Oo.maxIntBits(8);i=(0,Jo.default)(new Float32Array(r.size),r.shape),Fi.muls(i,r,1/o)}else if("norm565"===n){let o=(0,Jo.default)(new Uint8Array(r.shape[0]),[r.shape[0]]),s=(0,Jo.default)(new Uint8Array(r.shape[0]),[r.shape[0]]),a=(0,Jo.default)(new Uint8Array(r.shape[0]),[r.shape[0]]);Fi.rrshifts(o,r,11),Fi.rrshifts(s,r,5),Fi.bandseq(s,Oo.maxIntBits(6)),Fi.bands(a,r,Oo.maxIntBits(5)),i=(0,Jo.default)(new Float32Array(3*r.shape[0]),[r.shape[0],3]),Fi.muls(i.pick(null,0),o,1/Oo.maxIntBits(5)),Fi.muls(i.pick(null,1),s,1/Oo.maxIntBits(6)),Fi.muls(i.pick(null,2),a,1/Oo.maxIntBits(5))}else{let o=(0,Jo.default)(new Uint16Array(r.shape[0]),[r.shape[0]]),s=(0,Jo.default)(new Uint16Array(r.shape[0]),[r.shape[0]]),a=(0,Jo.default)(new Uint16Array(r.shape[0]),[r.shape[0]]);Fi.rrshifts(o,r,21),Fi.rrshifts(s,r,11),Fi.bandseq(s,Oo.maxIntBits(10)),Fi.bands(a,r,Oo.maxIntBits(11)),i=(0,Jo.default)(new Float32Array(3*r.shape[0]),[r.shape[0],3]),Fi.muls(i.pick(null,0),o,1/Oo.maxIntBits(11)),Fi.muls(i.pick(null,1),s,1/Oo.maxIntBits(10)),Fi.muls(i.pick(null,2),a,1/Oo.maxIntBits(11))}return new GP(i,e,t)}},Uo=class{constructor(e,t,n,i,r,o=!1){this._quantized=e,this._minMaxMatrix=t,this._chunkSize=n,this._quantizationMethod=i,this._variableChunkSize=r,this._isDynamicChunks=o}get length(){return this._quantized.shape[0]}get nchunks(){return this._minMaxMatrix.shape[0]}get quantized(){return this._quantized}get method(){return this._quantizationMethod}get minmaxMatrix(){return this._minMaxMatrix}_createPrunedMinMax(e){let n=this.minmaxMatrix.shape[0]-e.length,i=(0,Eh.default)(new Float32Array(2*n),[n,2]),r=0,o=n,s=0,a=this.minmaxMatrix.shape[0];for(let l=0;l<e.length;l++)a=e[l],o=a-s+r,o>r&&Nu.assign(i.hi(o,2).lo(r,0),this.minmaxMatrix.hi(a,2).lo(s,0)),r=o,s=a+1;return r<n&&Nu.assign(i.lo(r,0),this.minmaxMatrix.lo(s,0)),i}_createPrunedQuantized(e){let r,o,n=this.quantized.shape[0]-e.length,i=this._quantizationMethod;"norm8x"===i?(o=this._quantized.shape[1],r=(0,Eh.default)(new Uint8Array(o?n*o:n),o?[n,o]:[n,1])):r=(0,Eh.default)("norm565"===i?new Uint16Array(n):new Uint32Array(n),[n]);let s=0,a=n,l=0,c=r.shape[0];for(let h=0;h<e.length;h++)c=e[h],a=c-l+s,a>s&&(o?Nu.assign(r.hi(a,o).lo(s,0),this._quantized.hi(c,o).lo(l,0)):Nu.assign(r.hi(a).lo(s),this._quantized.hi(c).lo(l))),s=a,l=c+1;return s<n&&(o?Nu.assign(r.lo(s,0),this._quantized.lo(l,0)):Nu.assign(r.lo(s),this._quantized.lo(l))),r}pruneFeature(e,t,n){let i=this._createPrunedQuantized(e),r=this._createPrunedMinMax(t);return new Uo(i,r,this._chunkSize,this._quantizationMethod,n,!0)}static getRequiredNChunks(e,t){return Math.floor(e/t)}static fromArray(e,t,n){let s,i=e.shape[0],r=Math.floor(i/n),o=(0,Eh.default)(new Float32Array(2*r),[r,2],[2,1]);s="norm8x"===t?(0,Eh.default)(new Uint8Array(e.size),e.shape):(0,Eh.default)("norm565"===t?new Uint16Array(e.shape[0]):new Uint32Array(e.shape[0]),[e.shape[0]]);for(let a=0;a<r;a++){let h,l=a*n,c=a+1<r?(a+1)*n:i;h=GP.createFromUnnormalized(e.shape.length>1?e.hi(c,e.shape[1]).lo(l,0):e.hi(c).lo(l)),o.set(a,0,h.minD),o.set(a,1,h.maxD),Nu.assign(s.shape.length>1?s.hi(c,s.shape[1]).lo(l,0):s.hi(c).lo(l),Oo.fromNormalized(h,t).quantized)}return new Uo(s,o,n,t)}denormDequant(){let o,s,e=this._minMaxMatrix.shape[0],t=this._quantized,n=t.shape[0],i=this._quantizationMethod,r=this._chunkSize;if(this._isDynamicChunks){if(!this._variableChunkSize)throw new Error("variable chunk must exists if chunkSize isDynamic");o=this._variableChunkSize}s="norm8x"===i?(0,Eh.default)(new Float32Array(t.size),t.shape):(0,Eh.default)(new Float32Array(3*n),[n,3]);let a=0,l=r;for(let c=0;c<e;c++){let[h,d]=[this._minMaxMatrix.get(c,0),this._minMaxMatrix.get(c,1)];this._isDynamicChunks&&(l=o[c]);let f,u=c+1<e?a+l:n;f=new Oo(t.shape.length>1?t.hi(u,t.shape[1]).lo(a,0):t.hi(u).lo(a),i),Nu.assign(s.hi(u,s.shape[1]).lo(a,0),f.dequantize(h,d).denormalize()),a=u}return s}static fetchArrayBuffer(e){return(0,Yo.Z)(function*(){return yield(yield fetch(e,{mode:"cors"})).arrayBuffer()})()}},df=Vs(Jy()),nr=Vs(e_()),o1=Vs(Jy()),ps=Vs(e_()),eX=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function tX(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function nX(e,t){if(e===t)return 0;if(~~e===e&&~~t===t){if(0===e||0===t)return e<t?-1:1;if(e<0||t<0){if(t>=0)return-1;if(e>=0)return 1;e=-e,t=-t}let r=tX(e),o=tX(t),s=0;return r<o?(e*=eX[o-r-1],t/=10,s=-1):r>o&&(t*=eX[r-o-1],e/=10,s=1),e===t?s:e<t?-1:1}let n=String(e),i=String(t);return n===i?0:n<i?-1:1}function iX(e,t,n,i){let r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;!function EFe(e,t,n){for(n--;t<n;){let i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&i(e[r],e[r-1])>=0;)r++;return r-t}function rX(e,t,n,i,r){for(i===t&&i++;i<n;i++){let o=e[i],s=t,a=i;for(;s<a;){let c=s+a>>>1;r(o,e[c])<0?a=c:s=c+1}let l=i-s;switch(l){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;l>0;)e[s+l]=e[s+l-1],l--}e[s]=o}}function bI(e,t,n,i,r,o){let s=0,a=0,l=1;if(o(e,t[n+r])>0){for(a=i-r;l<a&&o(e,t[n+r+l])>0;)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}else{for(a=r+1;l<a&&o(e,t[n+r-l])<=0;)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a);let c=s;s=r-l,l=r-c}for(s++;s<l;){let c=s+(l-s>>>1);o(e,t[n+c])>0?s=c+1:l=c}return l}function xI(e,t,n,i,r,o){let s=0,a=0,l=1;if(o(e,t[n+r])<0){for(a=r+1;l<a&&o(e,t[n+r-l])<0;)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a);let c=s;s=r-l,l=r-c}else{for(a=i-r;l<a&&o(e,t[n+r+l])>=0;)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}for(s++;s<l;){let c=s+(l-s>>>1);o(e,t[n+c])<0?l=c:s=c+1}return l}function wI(e){let t=(0,o1.default)(new Int32Array(e.shape[0]),[e.shape[0]]),n=(0,o1.default)(new Int32Array(e.shape[0]),[e.shape[0]]);return ps.bands(t,e,1023),ps.lshifts(n,t,16),ps.bxoreq(t,n),ps.bandseq(t,4278190335),ps.lshifts(n,t,8),ps.bxoreq(t,n),ps.bandseq(t,50393103),ps.lshifts(n,t,4),ps.bxoreq(t,n),ps.bandseq(t,51130563),ps.lshifts(n,t,2),ps.bxoreq(t,n),ps.bandseq(t,153391689),t}function s1(e,t){if(e.shape[0]!==t.shape[0])throw new Error("wrong length");let n=(0,o1.default)(new Float32Array(e.size),e.shape,e.stride,e.offset);for(let i=0;i<t.shape[0];i++){let r=t.get(i);if(e.shape.length>1)for(let o=0;o<e.shape[1];o++)n.set(i,o,e.get(r,o));else n.set(i,e.get(r))}return n}function kFe(e){let t=ps.sup(e),n=ps.inf(e),i=1e3/Math.min(1e3,t-n),r=(0,o1.default)(new Float32Array(e.data),e.shape);ps.mulseq(r,i);let s=function TFe(e){let t=wI(e.pick(null,0)),n=wI(e.pick(null,1));ps.lshiftseq(n,1);let i=wI(e.pick(null,2));return ps.lshiftseq(i,2),ps.boreq(t,n),ps.boreq(t,i),t}((0,o1.default)(new Int32Array(r.data),e.shape)),a=Array.from(s.data).map((c,h)=>[c,h]);!function AFe(e,t,n,i){if(!Array.isArray(e))throw new TypeError("Can only sort arrays");t?"function"!=typeof t&&(i=n,n=t,t=nX):t=nX,n||(n=0),i||(i=e.length);let r=i-n;if(r<2)return;let o=0;if(r<32)return o=iX(e,n,i,t),void rX(e,n,i,n+o,t);let s=new class{constructor(e,t){Ua(this,"array",null),Ua(this,"compare",null),Ua(this,"minGallop",7),Ua(this,"length",0),Ua(this,"tmpStorageLength",256),Ua(this,"stackLength",0),Ua(this,"runStart",null),Ua(this,"runLength",null),Ua(this,"stackSize",0),this.array=e,this.compare=t,this.length=e.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}pushRun(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let t=this.compare,n=this.array,i=this.runStart[e],r=this.runLength[e],o=this.runStart[e+1],s=this.runLength[e+1];this.runLength[e]=r+s,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let a=xI(n[o],n,i,r,0,t);i+=a,r-=a,0!==r&&(s=bI(n[i+r-1],n,o,s,s-1,t),0!==s&&(r<=s?this.mergeLow(i,r,o,s):this.mergeHigh(i,r,o,s)))}mergeLow(e,t,n,i){let r=this.compare,o=this.array,s=this.tmp,a=0;for(a=0;a<t;a++)s[a]=o[e+a];let l=0,c=n,h=e;if(o[h++]=o[c++],0==--i){for(a=0;a<t;a++)o[h+a]=s[l+a];return}if(1===t){for(a=0;a<i;a++)o[h+a]=o[c+a];return void(o[h+i]=s[l])}let d=this.minGallop;for(;;){let u=0,f=0,v=!1;do{if(r(o[c],s[l])<0){if(o[h++]=o[c++],f++,u=0,0==--i){v=!0;break}}else if(o[h++]=s[l++],u++,f=0,1==--t){v=!0;break}}while((u|f)<d);if(v)break;do{if(u=xI(o[c],s,l,t,0,r),0!==u){for(a=0;a<u;a++)o[h+a]=s[l+a];if(h+=u,l+=u,(t-=u)<=1){v=!0;break}}if(o[h++]=o[c++],0==--i){v=!0;break}if(f=bI(s[l],o,c,i,0,r),0!==f){for(a=0;a<f;a++)o[h+a]=o[c+a];if(h+=f,c+=f,0==(i-=f)){v=!0;break}}if(o[h++]=s[l++],1==--t){v=!0;break}d--}while(u>=7||f>=7);if(v)break;d<0&&(d=0),d+=2}if(this.minGallop=d,d<1&&(this.minGallop=1),1===t){for(a=0;a<i;a++)o[h+a]=o[c+a];o[h+i]=s[l]}else{if(0===t)throw new Error("mergeLow preconditions were not respected");for(a=0;a<t;a++)o[h+a]=s[l+a]}}mergeHigh(e,t,n,i){let r=this.compare,o=this.array,s=this.tmp,a=0;for(a=0;a<i;a++)s[a]=o[n+a];let l=e+t-1,c=i-1,h=n+i-1,d=0,u=0;if(o[h--]=o[l--],0==--t){for(d=h-(i-1),a=0;a<i;a++)o[d+a]=s[a];return}if(1===i){for(h-=t,l-=t,u=h+1,d=l+1,a=t-1;a>=0;a--)o[u+a]=o[d+a];return void(o[h]=s[c])}let f=this.minGallop;for(;;){let v=0,y=0,_=!1;do{if(r(s[c],o[l])<0){if(o[h--]=o[l--],v++,y=0,0==--t){_=!0;break}}else if(o[h--]=s[c--],y++,v=0,1==--i){_=!0;break}}while((v|y)<f);if(_)break;do{if(v=t-xI(s[c],o,e,t,t-1,r),0!==v){for(h-=v,l-=v,t-=v,u=h+1,d=l+1,a=v-1;a>=0;a--)o[u+a]=o[d+a];if(0===t){_=!0;break}}if(o[h--]=s[c--],1==--i){_=!0;break}if(y=i-bI(o[l],s,0,i,i-1,r),0!==y){for(h-=y,c-=y,i-=y,u=h+1,d=c+1,a=0;a<y;a++)o[u+a]=s[d+a];if(i<=1){_=!0;break}}if(o[h--]=o[l--],0==--t){_=!0;break}f--}while(v>=7||y>=7);if(_)break;f<0&&(f=0),f+=2}if(this.minGallop=f,f<1&&(this.minGallop=1),1===i){for(h-=t,l-=t,u=h+1,d=l+1,a=t-1;a>=0;a--)o[u+a]=o[d+a];o[h]=s[c]}else{if(0===i)throw new Error("mergeHigh preconditions were not respected");for(d=h-(i-1),a=0;a<i;a++)o[d+a]=s[a]}}}(e,t),a=function SFe(e){let t=0;for(;e>=32;)t|=1&e,e>>=1;return e+t}(r);do{if(o=iX(e,n,i,t),o<a){let l=r;l>a&&(l=a),rX(e,n,n+l,n+o,t),o=l}s.pushRun(n,o),s.mergeRuns(),r-=o,n+=o}while(0!==r);s.forceMergeRuns()}(a,(c,h)=>c[0]-h[0]);let l=a.map(([c,h])=>h);return(0,o1.default)(Uint32Array.from(l))}var Jm=class{constructor(e,t,n,i,r,o,s,a,l,c){this.propertyDescs=e,this.format=t,this.nsplats=n,this.xyz=i,this.colors=r,this.harmonics=o,this.opacity=s,this.scaling=a,this.rotation=l,this.maxSHDegree=c}getPlyBinary(){let e=Jm._generateHeaderString(this.propertyDescs,this.format,this.nsplats),t=(new TextEncoder).encode(e),n=Object.keys(this.propertyDescs).length,i=(0,df.default)(new Float32Array(this.nsplats*n),[this.nsplats,n]);if(nr.assign(i.pick(null,this.propertyDescs.x.index),this.xyz.pick(null,0)),nr.assign(i.pick(null,this.propertyDescs.y.index),this.xyz.pick(null,1)),nr.assign(i.pick(null,this.propertyDescs.z.index),this.xyz.pick(null,2)),nr.assign(i.pick(null,this.propertyDescs.f_dc_0.index),this.colors.pick(null,0)),nr.assign(i.pick(null,this.propertyDescs.f_dc_1.index),this.colors.pick(null,1)),nr.assign(i.pick(null,this.propertyDescs.f_dc_2.index),this.colors.pick(null,2)),nr.assign(i.pick(null,this.propertyDescs.opacity.index),this.opacity.pick(null,0)),nr.assign(i.pick(null,this.propertyDescs.scale_0.index),this.scaling.pick(null,0)),nr.assign(i.pick(null,this.propertyDescs.scale_1.index),this.scaling.pick(null,1)),nr.assign(i.pick(null,this.propertyDescs.scale_2.index),this.scaling.pick(null,2)),nr.assign(i.pick(null,this.propertyDescs.rot_0.index),this.rotation.pick(null,0)),nr.assign(i.pick(null,this.propertyDescs.rot_1.index),this.rotation.pick(null,1)),nr.assign(i.pick(null,this.propertyDescs.rot_2.index),this.rotation.pick(null,2)),nr.assign(i.pick(null,this.propertyDescs.rot_3.index),this.rotation.pick(null,3)),this.harmonics&&this.harmonics.length>0)for(let s=0;s<this.harmonics.length;s++){let a=3*s;nr.assign(i.pick(null,this.propertyDescs[`f_rest_${a}`].index),this.harmonics[s].pick(null,0)),nr.assign(i.pick(null,this.propertyDescs[`f_rest_${a+1}`].index),this.harmonics[s].pick(null,1)),nr.assign(i.pick(null,this.propertyDescs[`f_rest_${a+2}`].index),this.harmonics[s].pick(null,2))}let r=new Uint8Array(i.data.buffer),o=new Uint8Array(r.length+t.length);return o.set(t),o.set(r,t.length),o.buffer}save(e,t){let n=this.getPlyBinary(),i=new Blob([n],{type:"application/octet-stream"}),r=new File([i],e),o=new FormData;o.append("file",r),o.append("filename",e),o.append("basedir",t),fetch("http://127.0.0.1:8000/push_file",{method:"POST",body:o})}static loadFile(e){return(0,Yo.Z)(function*(){return yield(yield fetch(e)).arrayBuffer()})()}mortonPositionSplatsSort(){let e=kFe(this.xyz),t=s1(this.xyz,e),n=s1(this.colors,e),i=s1(this.opacity,e),r=s1(this.scaling,e),o=s1(this.rotation,e),s=[];for(let a=0;a<this.harmonics.length;a++)s.push(s1(this.harmonics[a],e));return new Jm(this.propertyDescs,this.format,this.nsplats,t,n,s,i,r,o,this.maxSHDegree)}static _generateHeaderString(e,t,n){let i=`ply\nformat ${t.format} ${t.version}\nelement vertex ${n}`,r=Object.keys(e).length,o=Array(r);for(let s in e){let a=e[s];o[a.index]={name:s,dtype:a.dtype}}for(let s=0;s<o.length;s++)i=`${i}\nproperty ${o[s].dtype} ${o[s].name}`;return`${i}\nend_header\n`}static fromArrayBuffer(e,t=3){let{splatCount:n,vertexData:i,propertiesDesc:r,format:o}=Jm.decodeHeader(e),s=i.buffer.slice(i.byteOffset),a=Object.keys(r).length,l=(0,df.default)(new Float32Array(s),[n,a]),c=0,h={},d={double:8,int:4,uint:4,float:4,short:2,ushort:2,uchar:1};for(let S in r)if(r.hasOwnProperty(S)){let D=r[S].dtype;h[S]=c,c+=d[D]}let u=(0,df.default)(new Float32Array(3*n),[n,3]);nr.assign(u.pick(null,0),l.pick(null,h.x/4)),nr.assign(u.pick(null,1),l.pick(null,h.y/4)),nr.assign(u.pick(null,2),l.pick(null,h.z/4));let f=(0,df.default)(new Float32Array(3*n),[n,3]);nr.assign(f.pick(null,0),l.pick(null,h.scale_0/4)),nr.assign(f.pick(null,1),l.pick(null,h.scale_1/4)),nr.assign(f.pick(null,2),l.pick(null,h.scale_2/4));let v=(0,df.default)(new Float32Array(3*n),[n,3]);nr.assign(v.pick(null,0),l.pick(null,h.f_dc_0/4)),nr.assign(v.pick(null,1),l.pick(null,h.f_dc_1/4)),nr.assign(v.pick(null,2),l.pick(null,h.f_dc_2/4));let y=(0,df.default)(new Float32Array(4*n),[n,4]);nr.assign(y.pick(null,0),l.pick(null,h.rot_1/4)),nr.assign(y.pick(null,1),l.pick(null,h.rot_2/4)),nr.assign(y.pick(null,2),l.pick(null,h.rot_3/4)),nr.assign(y.pick(null,3),l.pick(null,h.rot_0/4));for(let S=0;S<n;S++){let D=y.pick(S,null),U=Math.sqrt(D.get(0)**2+D.get(1)**2+D.get(2)**2+D.get(3)**2);nr.divseq(D,U)}let _=(0,df.default)(new Float32Array(1*n),[n,1]);nr.assign(_.pick(null,0),l.pick(null,h.opacity/4));let w=(Math.min(Math.max(t,0),3)+1)**2-1,O=[];for(let S=0;S<w;S++){let D=(0,df.default)(new Float32Array(3*n),[n,3]),U=3*S;nr.assign(D.pick(null,0),l.pick(null,h[`f_rest_${U}`]/4)),nr.assign(D.pick(null,1),l.pick(null,h[`f_rest_${U+1}`]/4)),nr.assign(D.pick(null,2),l.pick(null,h[`f_rest_${U+2}`]/4)),O.push(D)}return new Jm(r,o,n,u,v,O,_,f,y,t)}static fromPLYFile(e,t=3){return(0,Yo.Z)(function*(){let n=yield Jm.loadFile(e);return Jm.fromArrayBuffer(n,t)})()}static decodeHeader(e){let t=new TextDecoder,n=0,i="",r=100;for(;;){if(n+r>=e.byteLength)throw new Error("End of file reached while searching for end of header");let f=new Uint8Array(e,n,r);i+=t.decode(f),n+=r;let v=n-200,y=new Uint8Array(e,Math.max(0,v),v>0?200:r);if(t.decode(y).includes("end_header"))break}let h,o=i.split("\n"),s=0,a={},l={},c=0;for(let f=0;f<o.length;f++){let v=o[f].trim();if(v.startsWith("element vertex")){let y=v.match(/\d+/);y&&(s=parseInt(y[0]))}else if(v.startsWith("property")){let y=v.match(/(\w+)\s+(\w+)\s+(\w+)/);if(y){let _=y[2],w=y[3];a[w]=c,l[w]={dtype:_,index:c},c++}}else if(v.startsWith("format")){let y=v.match(/(\w+)\s+(\w+)\s+(\d+\.?\d*)/);y&&(h={format:y[2],version:y[3]})}else if("end_header"===v)break}let d=i.indexOf("end_header")+10+1;return{splatCount:s,vertexData:new DataView(e,d),headerOffset:n,propertiesDesc:l,format:h}}},CI=class{constructor(e,t,n,i,r,o,s,a){this.config=e,this.xyz=t,this.scaling=n,this.color=i,this.opacity=r,this.harmonics=s,this.quaternion=o,this.variableChunkSize=a}get isDynamicChunks(){return this.variableChunkSize&&this.variableChunkSize.length>0}get nchunks(){return this.xyz.nchunks}get nsplats(){return this.xyz.length}get chunkSize(){return this.config.chunkSize}static compressFromGaussianData(e,t){let n=Uo.fromArray(e.xyz,t.xyz,t.chunkSize),i=Uo.fromArray(e.scaling,t.scaling,t.chunkSize),r=Uo.fromArray(e.colors,t.color,t.chunkSize),o=Uo.fromArray(e.opacity,t.opacity,t.chunkSize),s=Uo.fromArray(e.rotation,t.quaternion,t.chunkSize),a=e.harmonics,l=[];if(t.harmonics)for(let c=0;c<a.length;c++){let h=Uo.fromArray(a[c],t.harmonics,t.chunkSize);l.push(h)}return new CI(t,n,i,r,o,s,l)}_countIndexesInChunks(e){let t=[],n=this.nchunks,i=this.chunkSize;if(n===Uo.getRequiredNChunks(this.nsplats,i))for(let s=0;s<e.length;s++){let a=e[s],l=Math.floor(a/this.chunkSize);l in t?t[l].push(a):t[l]=[a]}else{let s=this.variableChunkSize,a={},l=0;for(let c=0;c<n;c++)a[c]=l,l+=s[c];for(let c=0;c<e.length;c++){let h=e[c],d=Math.min(Math.floor(h/i),n-1);for(;h>=a[d]+s[d];)d++;d in t?t[d].push(h):t[d]=[h]}}return t}pruneSplats(e){let n,t=this._countIndexesInChunks(e),i=[];return t.length>0&&(n=this.variableChunkSize?[...this.variableChunkSize]:Array(this.nchunks).fill(this.chunkSize),t.forEach((r,o)=>{n[o]-=r.length,n[o]<=0&&i.push(o)}),n=n.filter(r=>r>0)),new CI(this.config,this.xyz.pruneFeature(e,i,n),this.scaling.pruneFeature(e,i,n),this.color.pruneFeature(e,i,n),this.opacity.pruneFeature(e,i,n),this.quaternion.pruneFeature(e,i,n),this.harmonics?this.harmonics.map(r=>r.pruneFeature(e,i,this.variableChunkSize)):void 0,n)}static loadConfig(e){return(0,Yo.Z)(function*(){return yield(yield fetch(e,{method:"GET",mode:"cors",headers:{Accept:"application/json"}})).json()})()}toGaussians(){let t={},n=0;if(t.x={dtype:"float",index:n},n++,t.y={dtype:"float",index:n},n++,t.z={dtype:"float",index:n},n++,t.f_dc_0={dtype:"float",index:n},n++,t.f_dc_1={dtype:"float",index:n},n++,t.f_dc_2={dtype:"float",index:n},n++,this.harmonics&&this.harmonics.length>0)for(let r=0;r<this.harmonics.length;r++)t[`f_rest_${r}`]={dtype:"float",index:n},n++,t[`f_rest_${r+1}`]={dtype:"float",index:n},n++,t[`f_rest_${r+2}`]={dtype:"float",index:n},n++;t.opacity={dtype:"float",index:n},n++,t.scale_0={dtype:"float",index:n},n++,t.scale_1={dtype:"float",index:n},n++,t.scale_2={dtype:"float",index:n},n++,t.rot_0={dtype:"float",index:n},n++,t.rot_1={dtype:"float",index:n},n++,t.rot_2={dtype:"float",index:n},n++,t.rot_3={dtype:"float",index:n},n++;let i=this.harmonics?.map(r=>r.denormDequant());return new Jm(t,{format:"binary_little_endian",version:"1.0"},this.xyz.length,this.xyz.denormDequant(),this.color.denormDequant(),i||[],this.opacity.denormDequant(),this.scaling.denormDequant(),this.quaternion.denormDequant(),3)}},a1=Vs(Jy()),Fc=Vs(e_()),oX={xyz:3,color:3,opacity:1,scaling:3,quaternion:4,harmonics:3},MI=class{constructor(e){this._buffer=e}get buffer(){return this._buffer}get decoded(){return this._decoded||(this._decoded=this.decodeBuffer()),this._decoded}get colorsA(){let t=this.decoded.color.denormDequant(),n=this.decoded.opacity.denormDequant(),i=(0,a1.default)(new Float32Array(4*t.shape[0]),[t.shape[0],4]);return Fc.mulseq(t,.28209479177387814),Fc.addseq(t,.5),Fc.mulseq(t,255),Fc.maxseq(t,0),Fc.minseq(t,255),Fc.negeq(n),Fc.expeq(n),Fc.addseq(n,1),Fc.recipeq(n),Fc.mulseq(n,255),Fc.assign(i.hi(t.shape[0],3).lo(0,0),t),Fc.assign(i.hi(t.shape[0],4).lo(0,3),n),(0,a1.default)(new Uint8Array(i.data),[t.shape[0],4]).data}get nsplats(){return this.decoded.nsplats}getSplatCount(){return this.decoded.nsplats}get precomputedCovarianceBufferData(){return this._precomputedCovarianceBufferData}decodeBuffer(){let{splatCount:e,chunkCount:t,chunkSize:n,typeChunks:i,vertexData:r,propertiesDesc:o}=this.decodeHeader(),s={xyz:o.xyz.compressionMethod,color:o.color.compressionMethod,opacity:o.opacity.compressionMethod,scaling:o.scaling.compressionMethod,quaternion:o.quaternion.compressionMethod,chunkSize:n};o.harmonics_0&&(s.harmonics=o.harmonics_0.compressionMethod);let a=r.byteOffset,l=Array(Object.keys(o).length);for(let _ in o)l[o[_].index]={name:_,method:o[_].compressionMethod};let u,c=2*t*4,h=a,d="dynamic"===i?2*t:0,f=!1;if(d>0){let _=new Uint16Array(r.buffer.slice(h,h+d));h+=d,u=Array.from(_),f=!0}let v={};for(let _ of l){let S,w=0,O=!0;if("norm8x"===_.method)w=1*e*oX[_.name];else if("norm11"===_.method)w=4*e;else{if("norm565"!==_.method)throw O=!1,new Error(`Not Implemented format: ${_.method}`);w=2*e}if(!O)throw new Error("loading chunk byt hasnot minmax!");{let Y=r.buffer.slice(h,h+c);S=(0,a1.default)(new Float32Array(Y),[t,2]),h+=c}let U,D=r.buffer.slice(h,h+w);if(h+=w,"norm8x"===_.method)U=(0,a1.default)(new Uint8Array(D),[e,oX[_.name]]);else if("norm11"===_.method)U=(0,a1.default)(new Uint32Array(D));else{if("norm565"!==_.method)throw new Error(`Not Implemented format: ${_.method}`);U=(0,a1.default)(new Uint16Array(D))}v[_.name]=new Uo(U,S,n,_.method,u,f)}let y=[];for(let _=0;_<15;_++){let w=v[`harmonics_${_}`];w&&(y.push(w),delete v[`harmonics_${_}`])}return y.length>0&&(v.harmonics=y),new CI(s,v.xyz,v.scaling,v.color,v.opacity,v.quaternion,v.harmonics,u)}buildPreComputedBuffers(){let e=this.decoded,t=e.nsplats,n=new ArrayBuffer(24*t),i=new Float32Array(n),r=e.scaling.denormDequant(),o=e.quaternion.denormDequant(),s=new hi,a=new $o,l=new $o,c=new $o,h=new Ut;for(let d=0;d<t;d++){h.makeScale(Math.exp(r.get(d,0)),Math.exp(r.get(d,1)),Math.exp(r.get(d,2))),l.setFromMatrix4(h),s.set(o.get(d,0),o.get(d,1),o.get(d,2),o.get(d,3)),h.makeRotationFromQuaternion(s),a.setFromMatrix4(h),c.copy(a).multiply(l);let u=c.elements;i[6*d]=u[0]*u[0]+u[3]*u[3]+u[6]*u[6],i[6*d+1]=u[0]*u[1]+u[3]*u[4]+u[6]*u[7],i[6*d+2]=u[0]*u[2]+u[3]*u[5]+u[6]*u[8],i[6*d+3]=u[1]*u[1]+u[4]*u[4]+u[7]*u[7],i[6*d+4]=u[1]*u[2]+u[4]*u[5]+u[7]*u[8],i[6*d+5]=u[2]*u[2]+u[5]*u[5]+u[8]*u[8]}this._precomputedCovarianceBufferData=n}decodeHeader(){let e=this._buffer,t=new TextDecoder,n=0,i="",r=100;for(;;){if(n+r>=e.byteLength)throw new Error("End of file reached while searching for end of header");let v=new Uint8Array(e,n,r);i+=t.decode(v),n+=r;let y=n-200,_=new Uint8Array(e,Math.max(0,y),y>=0?200:r);if(t.decode(_).includes("end_header"))break}let o=i.split("\n"),s=0,a=0,l=0,c=0,h="",d={};for(let v=0;v<o.length;v++){let y=o[v].trim();if(y.startsWith("element vertex")){let _=y.match(/\d+/);_&&(s=parseInt(_[0]))}else if(y.startsWith("property")){let _=y.match(/(\w+)\s+(\w+)\s+(\w+)/);_&&(d[_[2]]={compressionMethod:_[3],index:c},c++)}else if(y.startsWith("element chunks")){let _=y.match(/\d+/);_&&(a=parseInt(_[0]))}else if(y.startsWith("element chunkSize")){let _=y.match(/\d+/);_&&(l=parseInt(_[0]))}else if(y.startsWith("element typeChunks")){let _=y.match(/(\w+)\s+(\w+)\s+(\w+)/);_&&(h=_[3])}else if("end_header"===y)break}let u=i.indexOf("end_header")+10+1;return{splatCount:s,chunkCount:a,chunkSize:l,typeChunks:h,vertexData:new DataView(e,u),propertiesDesc:d}}pruneSplats(e){let t=this.decodeBuffer().pruneSplats(e);return MI.fromCompressedGaussianSplats(t)}static fromCompressedGaussianSplats(e){let n=e.xyz.nchunks,i=`gspline\nelement vertex ${e.xyz.length}\nelement chunks ${n}\nelement chunkSize ${e.chunkSize}\nelement typeChunks ${e.isDynamicChunks?"dynamic":"static"}\nproperty xyz ${e.xyz.method}\nproperty color ${e.color.method}\nproperty opacity ${e.opacity.method}\nproperty scaling ${e.scaling.method}\nproperty quaternion ${e.quaternion.method}`;if(e.harmonics&&e.harmonics.length>0)for(let q=0;q<e.harmonics.length;q++)i=`${i}\nproperty harmonics_${q} ${e.harmonics[q].method}`;i=`${i}\nend_header\n`;let r=(new TextEncoder).encode(i),o=2*n*4,s=e.xyz.quantized.data.buffer.byteLength,a=e.xyz instanceof Uo?o:0,l=e.color.quantized.data.buffer.byteLength,c=e.color instanceof Uo?o:0,h=e.opacity.quantized.data.buffer.byteLength,d=e.opacity instanceof Uo?o:0,u=e.scaling.quantized.data.buffer.byteLength,f=e.scaling instanceof Uo?o:0,v=e.quaternion.quantized.data.buffer.byteLength,y=e.quaternion instanceof Uo?o:0,_=e.variableChunkSize?Uint16Array.from(e.variableChunkSize):void 0,w=_?_.byteLength:0,O=r.byteLength+w+s+a+l+c+h+d+u+f+v+y,S=0,D=0;if(e.harmonics&&e.harmonics.length>0)for(let q=0;q<e.harmonics.length;q++)S+=e.harmonics[q].quantized.data.buffer.byteLength,D+=e.harmonics[q]instanceof Uo?o:0;S=0,D=0,O+=S+D;let U=new Uint8Array(O),Y=0;if(U.set(r,Y),Y+=r.byteLength,w>0&&(U.set(new Uint8Array(_.buffer),Y),Y+=w),e.xyz instanceof Uo&&(U.set(new Uint8Array(e.xyz.minmaxMatrix.data.buffer),Y),Y+=o),U.set(new Uint8Array(e.xyz.quantized.data.buffer),Y),Y+=s,e.color instanceof Uo&&(U.set(new Uint8Array(e.color.minmaxMatrix.data.buffer),Y),Y+=o),U.set(new Uint8Array(e.color.quantized.data.buffer),Y),Y+=l,e.opacity instanceof Uo&&(U.set(new Uint8Array(e.opacity.minmaxMatrix.data.buffer),Y),Y+=o),U.set(new Uint8Array(e.opacity.quantized.data.buffer),Y),Y+=h,e.scaling instanceof Uo&&(U.set(new Uint8Array(e.scaling.minmaxMatrix.data.buffer),Y),Y+=o),U.set(new Uint8Array(e.scaling.quantized.data.buffer),Y),Y+=u,e.quaternion instanceof Uo&&(U.set(new Uint8Array(e.quaternion.minmaxMatrix.data.buffer),Y),Y+=o),U.set(new Uint8Array(e.quaternion.quantized.data.buffer),Y),Y+=v,S>0&&e.harmonics&&e.harmonics.length>0)for(let q=0;q<e.harmonics.length;q++){let K=e.harmonics[q];K instanceof Uo&&(U.set(new Uint8Array(K.minmaxMatrix.data.buffer),Y),Y+=o),U.set(new Uint8Array(K.quantized.data.buffer),Y),Y+=K.quantized.data.byteLength}return new MI(U.buffer)}},hf=class{};function RFe(e){let t,n,i,r,o,s,a,l,c,h,d,u,f,v,y,_;function O(ie,ce,de){let ue=new Float32Array(h,o,3*n);i=0;let Ce=new Uint32Array(h,r,n);for(let we=0;we<de.length-1;we++){let _e=ce[we],ye=ie[we].elements,Re=_e.filter(Ie=>Ie.enabled&&"Include"===Ie.mode).map(Ie=>"Box"===Ie.type?Y(Ie):Z(Ie)),Be=_e.filter(Ie=>Ie.enabled&&"Exclude"===Ie.mode).map(Ie=>"Box"===Ie.type?Y(Ie):Z(Ie));for(let Ie=de[we];Ie<de[we+1];Ie++){let De=f[3*Ie],Ve=f[3*Ie+1],ke=f[3*Ie+2];if((0===Re.length||D(De,Ve,ke,Re))&&(0===Be.length||!D(De,Ve,ke,Be))){let He=1/(ye[3]*De+ye[7]*Ve+ye[11]*ke+ye[15]);ue[3*i]=(ye[0]*De+ye[4]*Ve+ye[8]*ke+ye[12])*He,ue[3*i+1]=(ye[1]*De+ye[5]*Ve+ye[9]*ke+ye[13])*He,ue[3*i+2]=(ye[2]*De+ye[6]*Ve+ye[10]*ke+ye[14])*He,Ce[i]=Ie,i++}}}}function D(ie,ce,de,ue,Ce){return ue["Intersect"===Ce?"every":"some"](we=>{let _e=function U(ie,ce,de,ue,Ce){let we=ie-Ce[0],_e=ce-Ce[1],ye=de-Ce[2],Re=1/(ue[3]*we+ue[7]*_e+ue[11]*ye+ue[15]);return{x:(ue[0]*we+ue[4]*_e+ue[8]*ye+ue[12])*Re+Ce[0],y:(ue[1]*we+ue[5]*_e+ue[9]*ye+ue[13])*Re+Ce[1],z:(ue[2]*we+ue[6]*_e+ue[10]*ye+ue[14])*Re+Ce[2]}}(ie,ce,de,we.invRotationMatrix,we.cropCenter);return Array.isArray(we)?function K(ie,ce,de,ue){return ie>=ue[0]&&ie<=ue[3]&&ce>=ue[1]&&ce<=ue[4]&&de>=ue[2]&&de<=ue[5]}(_e.x,_e.y,_e.z,we):function te(ie,ce,de,ue){let Ce=(ie-ue.cropCenter[0])*ue.invRadiusX,we=(ce-ue.cropCenter[1])*ue.invRadiusY,_e=(de-ue.cropCenter[2])*ue.invRadiusZ;return Ce*Ce+we*we+_e*_e<=1}(_e.x,_e.y,_e.z,we)})}function Y(ie){let ce=ie.cropSize[0]/2,de=ie.cropSize[1]/2,ue=ie.cropSize[2]/2,Ce=[ie.cropCenter[0]-ce,ie.cropCenter[1]-de,ie.cropCenter[2]-ue,ie.cropCenter[0]+ce,ie.cropCenter[1]+de,ie.cropCenter[2]+ue],we=q(ie.cropRotation);return Object.assign(Ce,{invRotationMatrix:we,cropCenter:ie.cropCenter})}function q(ie){let ce=[],de=ie[0]*Math.PI/180,ue=ie[1]*Math.PI/180,Ce=ie[2]*Math.PI/180,we=Math.cos(de),_e=Math.sin(de),ye=Math.cos(ue),Re=Math.sin(ue),Be=Math.cos(Ce),Ie=Math.sin(Ce),De=we*Be,Ve=we*Ie,ke=_e*Be,He=_e*Ie;return ce[0]=ye*Be,ce[1]=-ye*Ie,ce[2]=Re,ce[4]=Ve+ke*Re,ce[5]=De-He*Re,ce[6]=-_e*ye,ce[8]=He-De*Re,ce[9]=ke+Ve*Re,ce[10]=we*ye,ce[12]=0,ce[13]=0,ce[14]=0,ce[3]=0,ce[7]=0,ce[11]=0,ce[15]=1,ce}function Z(ie){let ce=2/ie.cropSize[0],de=2/ie.cropSize[1],ue=2/ie.cropSize[2],Ce=q(ie.cropRotation);return{invRadiusX:ce,invRadiusY:de,invRadiusZ:ue,cropCenter:ie.cropCenter,invRotationMatrix:Ce}}e.onmessage=ie=>{if(ie.data.getCroppedIndexes){let ce=new Uint32Array(function S(ie,ce){let de=[],ue=ce.filter(_e=>_e.enabled&&"Include"===_e.mode).map(_e=>"Box"===_e.type?Y(_e):Z(_e)),Ce=ce.filter(_e=>_e.enabled&&"Exclude"===_e.mode).map(_e=>"Box"===_e.type?Y(_e):Z(_e)),we=ie.length;for(let _e=0;_e<we;_e+=3){let ye=ie[_e],Re=ie[_e+1],Be=ie[_e+2];(0===ue.length||D(ye,Re,Be,ue))&&(0===Ce.length||!D(ye,Re,Be,Ce))||de.push(_e/3)}return console.log(de),de}(new Float32Array(ie.data.positions),ie.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:ce},[ce])}else if(ie.data.positions)d=ie.data.positions,f=new Float32Array(d),y=ie.data.meshMatrixWorlds,_=ie.data.cropsArray,v=ie.data.meshIndexIntervals,O(y,_,v),e.postMessage({sortSetupComplete:!0});else if(ie.data.sort||ie.data.newMatrixWorlds||ie.data.newCropsArray)(ie.data.newMatrixWorlds||ie.data.newCropsArray)&&(_=ie.data.newCropsArray||_,y=ie.data.newMatrixWorlds||y,O(y,_,v)),function w(ie){let de,ce=new Float64Array(h,s,16);for(let ue=0;ue<16;ue++)ce[ue]=ie[ue];if(i>1){t.exports.sortIndexes(r,o,c,s,a,l,u.DepthMapRange,i);let ue=new Uint32Array(i);de=ue.buffer,ue.set(new Uint32Array(h,l,i))}else if(1===i){let ue=new Uint32Array(i);ue[0]=new Uint32Array(h,r,n)[0],de=ue.buffer}else de=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:de},[de])}(ie.data.sort.view);else if(ie.data.init){u=ie.data.init.Constants,n=ie.data.init.splatCount;let ce=u.BytesPerInt,de=3*u.BytesPerFloat,ue=new Uint8Array(ie.data.init.sorterWasmBytes),Be=Math.floor((n*(ce+de)+(n*u.BytesPerInt*2+u.DepthMapRange*u.BytesPerInt*2)+32*u.MemoryPageSize)/u.MemoryPageSize)+1,Ie={module:{},env:{memory:new WebAssembly.Memory({initial:2*Be,maximum:3*Be,shared:!0})}};WebAssembly.compile(ue).then(De=>WebAssembly.instantiate(De,Ie)).then(De=>{t=De,r=0,o=n*ce,s=o+n*de,c=s+16*u.BytesPerFloat*2,a=c+n*u.BytesPerInt,l=a+u.DepthMapRange*u.BytesPerInt,h=Ie.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})})}}}Ua(hf,"DepthMapRange",65536),Ua(hf,"MemoryPageSize",65536),Ua(hf,"BytesPerFloat",4),Ua(hf,"BytesPerInt",4);var PI=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(n){return e[0]=n,t[0]}}(),FFe=function(e,t,n,i){return e+(t<<8)+(n<<16)+(i<<24)},WP=new Fe,qP=class extends Ha{constructor(e,t,n,i,r=!1,o=1,s,a){super(n,i),this.splatCount=t,this.meshIndexIntervals=s,this.meshMatrixWorlds=a,this.splatBuffers=e,this.geometry=n,this.material=i,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=r,this.devicePixelRatio=o,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,n=!1,i=1,r,o){let s=qP.buildGeomtery(t),a=qP.buildMaterial(r);return new qP(e,t,s,a,n,i,r,o)}static buildMaterial(e){let i={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new Fe},viewport:{type:"v2",value:new Fe},basisViewport:{type:"v2",value:new Fe},debugColor:{type:"v3",value:new qn},covariancesTextureSize:{type:"v2",value:new Fe(1024,1024)},centersColorsTextureSize:{type:"v2",value:new Fe(1024,1024)},orthoZoom:{type:"f",value:-1}};return new Hr({uniforms:i,vertexShader:"\n            precision highp float;\n            #include <common>\n\n            attribute uint splatIndex;\n\n            uniform highp sampler2D covariancesTexture;\n            uniform highp usampler2D centersColorsTexture;\n            uniform vec2 focal;\n            uniform vec2 viewport;\n            uniform vec2 basisViewport;\n            uniform vec2 covariancesTextureSize;\n            uniform vec2 centersColorsTextureSize;\n\t\t\t\t\t\tuniform highp sampler2D meshMatrixWorldsTexture;\n\t\t\t\t\t\tuniform uint meshIndexIntervals[257];\n\t\t\t\t\t\tuniform float orthoZoom;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n\n            varying vec2 vPosition;\n\n            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);\n            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));\n            const uvec4 shift4 = uvec4(0, 8, 16, 24);\n            vec4 uintToRGBAVec (uint u) {\n               uvec4 urgba = mask4 & u;\n               urgba = urgba >> shift4;\n               vec4 rgba = vec4(urgba) * encodeNorm4;\n               return rgba;\n            }\n\n            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {\n                vec2 samplerUV = vec2(0.0, 0.0);\n                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;\n                samplerUV.y = float(floor(d)) / dimensions.y;\n                samplerUV.x = fract(d);\n                return samplerUV;\n            }\n\n            void main () {\n                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));\n                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));\n                vColor = uintToRGBAVec(sampledCenterColor.r);\n\n                vPosition = position.xy * 2.0;\n\n\t\t\t\t\t\t\t\tuint meshIndex;\n\t\t\t\t\t\t\t\tfor (int i = 1; i < 257; i++) {\n\t\t\t\t\t\t\t\t\tif (splatIndex < meshIndexIntervals[i]) {\n\t\t\t\t\t\t\t\t\t\tmeshIndex = uint(i - 1);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfloat strideMulmeshIndex = float(4u*meshIndex);\n\t\t\t\t\t\t\t\tfloat meshMatrixWorldsTextureLength = float(256*4);\n\n\t\t\t\t\t\t\t\tmat4 modelMat = mat4(\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tmat4 modelViewMat = viewMatrix * modelMat;\n\t\t\t\t\t\t\t\tvec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); \n                vec4 clipCenter = projectionMatrix * viewCenter;\n\n                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;\n                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;\n                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;\n\n                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);\n                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);\n\n                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix\n                mat3 Vrk = mat3(\n                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,\n                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,\n                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z\n                );\n                float s = 1.0 / (viewCenter.z * viewCenter.z);\n\n                mat3 W = transpose(mat3(modelViewMat));\n                mat3 T = orthoZoom > 0.0 ? W : W * mat3(\n\t\t\t\t\t\t\t\t\tfocal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,\n\t\t\t\t\t\t\t\t\t0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,\n\t\t\t\t\t\t\t\t\t0., 0., 0.\n\t\t\t\t\t\t\t\t);\n                mat3 cov2Dm = transpose(T) * Vrk * T;\n                cov2Dm[0][0] += 0.3;\n                cov2Dm[1][1] += 0.3;\n\n                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because\n                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],\n                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't\n                // need cov2Dm[1][0] because it is a symetric matrix.\n                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);\n\n                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;\n\n                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix\n                // so that we can determine the 2D basis for the splat. This is done using the method described\n                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html\n                //\n                // This is a different approach than in the original work at INRIA. In that work they compute the\n                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle\n                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance\n                // matrix (called 'conic') to determine fragment opacity.\n                float a = cov2Dv.x;\n                float d = cov2Dv.z;\n                float b = cov2Dv.y;\n                float D = a * d - b * b;\n                float trace = a + d;\n                float traceOver2 = 0.5 * trace;\n                float term2 = sqrt(trace * trace / 4.0 - D);\n                float eigenValue1 = traceOver2 + term2;\n\t\t\t\t\t\t\t\tfloat eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value\n\n                const float maxSplatSize = 1024.0;\n                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));\n                // since the eigen vectors are orthogonal, we derive the second one from the first\n                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);\n                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);\n                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);\n\n                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;\n\n\t\t\t\t\t\t\t\tif (orthoZoom > 0.0) {\n\t\t\t\t\t\t\t\t\tndcOffset *= orthoZoom;\n\t\t\t\t\t\t\t\t}\n\n                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);\n            }",fragmentShader:"\n            precision highp float;\n            #include <common>\n\n            uniform vec3 debugColor;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n\n            varying vec2 vPosition;\n\t\t\t\t\t\tlayout(location = 1) out vec4 gVelocity; \n\n            void main () {\n                // compute the negative squared distance from the center of the splat to the\n                // current fragment in the splat's local space.\n                float A = -dot(vPosition, vPosition);\n                if (A < -4.0) discard;\n                vec3 color = vColor.rgb;\n                A = exp(A) * vColor.a;\n                gl_FragColor = vec4(color.rgb, A);\n\t\t\t\t\t\t\t\tgVelocity = vec4(0.0); // so it is ignored by TAA\n            }",transparent:!0,alphaTest:1,blending:1,depthTest:!0,depthWrite:!1,side:2})}static buildGeomtery(e){let t=new Vn;t.setIndex([0,1,2,0,2,3]);let n=new Float32Array(12),i=new ti(n,3);t.setAttribute("position",i),i.setXYZ(0,-1,-1,0),i.setXYZ(1,-1,1,0),i.setXYZ(2,1,1,0),i.setXYZ(3,1,-1,0),i.needsUpdate=!0;let r=(new jj).copy(t),o=new Uint32Array(e),s=new dj(o,1,!1);return s.setUsage(35048),r.setAttribute("splatIndex",s),r.instanceCount=e,r}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(i=>i.buildPreComputedBuffers()),this.covariances=new Float32Array(6*this.splatCount),this.colors=new Uint8Array(4*this.splatCount),this.centers=new Float32Array(3*this.splatCount);let e=0,t=0,n=0;for(let i of this.splatBuffers){let r=i.nsplats;this.colors.subarray(e,e+4*r).set(i.colorsA),e+=4*r,this.centers.subarray(t,t+3*r).set(i.decoded.xyz.denormDequant().data),t+=3*r,this.covariances.subarray(n,n+6*r).set(new Float32Array(i.precomputedCovarianceBufferData)),n+=6*r}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new Fe(4096,1024);for(;t.x*t.y*2<6*e;)t.y*=2;let i,r,n=new Fe(4096,1024);for(;n.x*n.y*4<4*e;)n.y*=2;if(this.halfPrecisionCovariancesOnGPU){r=new Uint16Array(t.x*t.y*2);for(let h=0;h<this.covariances.length;h++)r[h]=zCe.toHalfFloat(this.covariances[h]);i=new Rp(r,t.x,t.y,1030,vm)}else r=new Float32Array(t.x*t.y*2),r.set(this.covariances),i=new Rp(r,t.x,t.y,1030,ja);i.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=i,this.material.uniforms.covariancesTextureSize.value.copy(t);let o=new Uint32Array(n.x*n.y*4);for(let h=0;h<e;h++){let d=4*h,u=3*h,f=4*h;o[f]=FFe(this.colors[d],this.colors[d+1],this.colors[d+2],this.colors[d+3]),o[f+1]=PI(this.centers[u]),o[f+2]=PI(this.centers[u+1]),o[f+3]=PI(this.centers[u+2])}let s=new Rp(o,n.x,n.y,1033,cu);s.internalFormat="RGBA32UI",s.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=s,this.material.uniforms.centersColorsTextureSize.value.copy(n);let l=new Float32Array(4096);for(let h=0;h<this.meshMatrixWorlds.length;h++)l.set(this.meshMatrixWorlds[h].elements,16*h);let c=new Rp(l,1024,1,Xl,ja);c.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=c,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:r,texture:i,size:t},centerColors:{data:o,texture:s,size:n},meshMatrixWorlds:{data:l,texture:c}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,n,i){this.splatCount>0&&(WP.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(WP),this.material.uniforms.basisViewport.value.set(2/WP.x,2/WP.y),this.material.uniforms.focal.value.set(t,n),this.material.uniforms.orthoZoom.value=i,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose())}},OI=new d_;OI.wireframe=!0;var sX=new ne,SI=class extends Ip{constructor(e,t){super(),this.data=e,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new class{constructor(){this._constraints=new Map}setConstraint(e,t){null===t?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach((n,i)=>{let r=[i,n],o=n;for(;this._constraints.has(o);)o=this._constraints.get(o),t.has(o)||r.push(o);for(let s=r.length-2;s>=0;s--)if(!t.has(r[s])){let a=e.find(r[s]);a?a.applyPathSnapping(e):console.warn(`missing entity ${r[s]}`),t.add(r[s])}})}findDependency(e,t){let n=e;for(;this._constraints.has(n);)if(n=this._constraints.get(n),n===t)return!0;return!1}},this.errorPage=new cf("fdasfa",{...Pv.defaultData,name:""}),this.invisibleObjects=new i1("jflkdsafjasdifjaslk",{...D3.defaultData,visible:!1,name:"buildin invisible"}),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=function xFe(e){let t=!1;return e.traverseEntity(n=>{if(n instanceof Jv)if(Array.isArray(n.material))for(let i=0;i<n.material.length;i++)JY(n,n.material[i])&&(t=!0);else JY(n,n.material)&&(t=!0)}),t}(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=function bFe(e){let t=!1;return e.traverseEntity(n=>{if(n instanceof Jv)if(Array.isArray(n.material))for(let i=0;i<n.material.length;i++)ZY(n,n.material[i])&&(t=!0);else ZY(n,n.material)&&(t=!0)}),t}(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),n=this.entityIdentityToEntity[t];n&&(e.uuid=n.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof cf&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(void 0===t)return;let n=[],i=t;for(;i!==this;){let r=i;i=i.parent;let o=i.children.indexOf(r);n.splice(0,0,o)}return{entity:t,sortKey:n}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);void 0!==i&&t.push(i)}return t.sort((n,i)=>function dTe(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}(n.sortKey,i.sortKey)),t.map(n=>n.entity)}nonExistOrDescendantOf(e,t){let n=this.find(e);if(void 0===n)return!0;for(;n;){if(n.uuid===t)return!0;n=n.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if("f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera"===e)return this.activePage.personalCamera;if(e===gv)return this.activePage.personalCamera}if(""===e||void 0===e)return;let t=this.entityByUuid[e];return void 0===t?this.getObjectByProperty("uuid",e):t}debugEnsureEntity(e){let t=this.find(e);t?Array.isArray(t.identity)&&void 0===this.findInstance(t.identity)&&console.error("not found instance"):console.error("not found")}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors(t=>{this.toExpandCloner.add(t)})}doPendingExpandCloner(){this.toExpandCloner.forEach(e=>{e.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(e=>{e.cloner?.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach(e=>e()),this.pendingCommands.length=0}updateByLibOp(e,t){1===e.path.length&&"components"===e.path[0]&&1===e.type&&this.createChildrenObjects([{...e.data.asset,id:e.id}],this.invisibleObjects,t)}updateTreeByOp(e,t){if(0===e.path.length&&7===e.type){let n=null===e.parent?this:this.find(e.parent);if(void 0===n)throw new Error("unexpected");let i=this.createObject(e.id,e.data,e.children,n,e.localIndex,t);i.updateVisible(),i.resetBBoxNeedsUpdate(),Pd(i)&&Iu(i.parent)&&(i.invalidateUpstreamBooleanData(),i.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(i),this.markToExpandCloner(i),this.markPenumbraSizeDirty(),i.updatePathSnapping()}else if(0===e.path.length&&8===e.type){let n=this.find(e.id);if(void 0===n)throw new Error("unexpected");this.markToExpandCloner(n),n.resetBBoxNeedsUpdate(),this.unregisterObject(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),this.markNeedsRecomputeInstancesForChildren(n),this.markPenumbraSizeDirty(),n.parent.remove(n),Iu(n.parent)&&(n.parent.invalidateUpstreamBooleanData(),n.parent.invalidateDownstreamBooleanData().recomputeBoolean()),Pd(n)&&(n.freeBooleanPointer(),i instanceof Qm&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n instanceof gI&&n.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),this.pathConstraints.removeDependencies(n.uuid),n.updatePathSnapping()}else if(0===e.path.length&&9===e.type){let n=this.find(e.id);if(void 0===n)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),n.cloner?.resetOnMove(),this.markToExpandCloner(n);let r=null===e.parent?this:this.find(e.parent);if(void 0===r)throw new Error("unexpected");r.add(n),this.markNeedsRecomputeInstancesForAncessors(r),this.markToExpandCloner(n),n.invalidateClonerTransform(n),n.updateVisible(),n.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty(),r.children.splice(e.localIndex,0,r.children.pop()),Pd(n)&&(n.invalidateUpstreamBooleanData(),Iu(n.parent)?n.parent.invalidateDownstreamBooleanData().recomputeBoolean():i instanceof Qm&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(e){this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let t of this.children)t instanceof cf&&(t.visible=t.uuid===e,t.visible&&(this.activePage=t,this.activePage.onActive(this)));this.activePage!==this.splatViewer?.activePage&&this.reloadSplats()}updateEntityByOp(e,t,n,i){if(0===t.type){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:o}=t.props;t={...t,props:o},this.markNeedsRecomputeInstances()}"pathSnapping"===t.path[0]&&void 0!==t.props.pathId&&this.pathConstraints.setConstraint(e,t.props.pathId)}let r=this.find(e);if(r)try{(function _Fe(e,t,n,i){e.updateByOp(t,n,i,!1)})(r,t,n,{scene:this,shared:i}),r instanceof el&&r.updateGeometryGroupsIfNeeded()}catch(o){console.error(o)}}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let n=Object.entries(t.data.lib.components).map((i,r)=>({data:i[1].asset.data,children:i[1].asset.children,id:i[0],fi:r}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(n,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity(i=>{i instanceof Pa&&i.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity(t=>{("Component"===t.data.type||"Instance"===t.data.type)&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(e){Zi.is(e)&&("Component"===e.data.type&&this.markNeedsRecomputeInstances(),e.traverseAncestors(t=>{Zi.is(t)&&"Component"===t.data.type&&this.markNeedsRecomputeInstances()}))}relativeizeInner(e,t,n,i,r,o,s){if(e){let a=i.find(e);a&&a!==i&&r.forInstancesRec(l=>{l.data=F_(l.data,c=>{let h=c.events.data(s.id),d=l.goUp(o);if(d){let u=[..._H(d.identity),e].join("-"),f=this.entityIdentityToEntity[u];if(f){let v=f.uuid;qa.zoom(h,t)[n]=v}else console.warn("cannot find instance")}}).data})}}rewriteActions(e,t,n,i,r,o){e.forEach(s=>{("Transition"===s.data.type||"Animation"===s.data.type)&&this.relativeizeInner(s.data.object,[...t,s.id],"object",n,i,r,o)})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(e=>{if(e instanceof r1&&"string"==typeof e.identity&&"Component"===e.data.type)return e.traverseEntity((t,n)=>{t.data.events.forEach(i=>{if("GameControl"===i.data.type){let r=!1;if(t.forInstancesRec(o=>{o.data=F_(o.data,s=>{o.isInstanceRoot||(s.events.delete(i.id),r=!0)}).data}),!1===r)for(let o of ZM.list)this.rewriteActions(i.data.gameActions[o],["gameActions",o],e,t,n,i)}else"Conditional"===i.data.type?("Distance"===i.data.condition.type?(this.relativeizeInner(i.data.condition.fromObject,["condition"],"fromObject",e,t,n,i),this.relativeizeInner(i.data.condition.toObject,["condition"],"toObject",e,t,n,i)):"State"===i.data.condition.type?this.relativeizeInner(i.data.condition.object,["condition"],"object",e,t,n,i):"Comparison"===i.data.condition.type&&("Property"===i.data.condition.lOperand.type&&this.relativeizeInner(i.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,n,i),"Property"===i.data.condition.rOperand.type&&this.relativeizeInner(i.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,n,i)),this.rewriteActions(i.data.inActions,["inActions"],e,t,n,i),this.rewriteActions(i.data.outActions,["outActions"],e,t,n,i)):"actions"in i.data&&this.rewriteActions(i.data.actions,["actions"],e,t,n,i)})}),!0})}expandInstances(e,t,n){let i=new Set;this.traverseEntity(r=>{if(r instanceof r1&&r.isInstanceRoot)return r.expandInstanceChildren({scene:this,shared:e,pendingDeletes:i}),t||r.resetBBoxNeedsUpdate(),n&&r.traverseEntity(o=>{n.addClip(o)}),!0});for(let r of i)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(r),vI(r)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(n=>{n instanceof r1&&n.isInstanceRoot&&(n.component=void 0)}),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity(t=>{let n="string"==typeof t.identity?t.identity:t.identity.join("-");this.entityIdentityToEntity[n]===t&&(delete this.entityByUuid[t.uuid],delete this.entityIdentityToEntity[n]),t.dispose()})}clearScene(){for(let e of this.children)Zi.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let n=[],i=r=>{for(let o of r.children){let s=o.cloner;if(Zi.is(o)&&!o.raycastLock&&(o.visible||s?.object.data.visible))if(!0===t&&o.isInstanceRoot){let a=[];if(e.intersectObject(o,!0,a),a.length){let l=a[0];l.object=o,l.point.applyMatrix4(l.object.matrixWorld);let c=o.matrixWorld.clone().invert();l.point.applyMatrix4(c),n.push(l)}}else(Pd(o)||nI(o)&&this.enableHelpers&&o.objectHelper.visible)&&(e.intersectObject(o,!1,n),_I(o,e,n)),i(o)}};return i(this),n}raycastWithClones(e){let t=[],n=i=>{for(let r of i.children){let o=r.cloner;Zi.is(r)&&(r.visible||o?.object.data.visible)&&((Pd(r)||nI(r)&&this.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),_I(r,e,t,!0)),n(r))}};return n(this),t}forEachEntity(e){for(let t of this.children)Zi.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)Zi.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)Zi.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity(n=>{if(n instanceof el&&"Mesh"===n.data.type&&"TextGeometry"===n.data.geometry.type&&n.data.geometry.font===e){let i=n.geometry,r=n.data.geometry;i.updateFont(e,t).then(()=>{i.update(r);let o=n.invalidateDownstreamBooleanData();Iu(o)&&o.recomputeBoolean()})}})}traverseObject(e){for(let t of this.children)J_.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)Zi.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,n){let i=0;for(let r of e)this.createObject(r.id,r.data,r.children,t,i,n),i+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,n,i,r,o){let s={scene:this,shared:o},a=yI(e,t,s);return a&&(this.entityByUuid[e]=a,i.add(a),i.children.splice(r,0,i.children.pop()),n.length>0&&(a.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(n,a,o)),a.updateState(t,s),a instanceof el&&a.updateGeometryGroupsIfNeeded(),a.updateVisible(),a.cloner&&this.toExpandCloner.add(a),t.pathSnapping?.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),"Empty"===t.type&&t.animations&&a.traverseEntity(l=>{let c=l.dataPatched;if(l instanceof el&&c.bones&&c.boneInverses){let h=c.bones.map(f=>this.find(f)),d=c.boneInverses.map(f=>(new Ut).fromArray(f)),u=new jA(h,d);l.bind(u,l.bindMatrix)}else l.matrixAutoUpdate=!0}),a}getCenter(e){let t=[];for(let i=0,r=e.length;i<r;++i){let{id:o,recursive:s}=e[i],a=this.find(o);t.push(...(s?a.recursiveBBox:a.singleBBox).vertices)}let n=new Ko;return n.setFromPoints(t),n.getCenter(sX),sX}copyMatrixWorld(e,t){if(null===e)return void t.identity();let n=this.find(e);n?t.copy(n.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){if(null===e)return void t.identity();let n=this.find(e)?.parent;n?t.copy(n.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof _l)if(Array.isArray(t.material))for(let n=0;n<t.material.length;n++)t.material[n]instanceof rf&&e(t.material[n]);else t.material instanceof rf&&e(t.material)})}updateViewPlaneSize(e,t,n=!1){this.traverseConcreteEntity(i=>{i instanceof Pa&&i.setViewplaneSize(e,t,n)})}initializeSplatViewer(e){this.splatViewer=new class{constructor(e={}){Ua(this,"updateSplatMeshUniforms",function(){let t=new Fe;return function(){null!==this.splatMesh&&this.splatMesh.getSplatCount()>0&&(this.renderer.getSize(t),this.cameraFocalLengthX=this.camera.projectionMatrix.elements[0]*this.devicePixelRatio*t.x*.45,this.cameraFocalLengthY=this.camera.projectionMatrix.elements[5]*this.devicePixelRatio*t.y*.45,this.splatMesh.updateUniforms(t,this.cameraFocalLengthX,this.cameraFocalLengthY,this.camera.isPerspectiveCamera?-1:this.camera.zoom*this.devicePixelRatio))}}()),Ua(this,"updateView",function(){let t=new Ut,n=[],i=new ne(0,0,-1),r=new ne(0,0,-1),o=new ne,s=new ne;return function(a=!1){let l=this.updateMatrixWorldsInWorkerIfNeeded(),c=this.cropsChanged();if(!a){r.set(0,0,-1).applyQuaternion(this.camera.quaternion);let d=!1,u=!1;if(r.dot(i)<=.95&&(d=!0),s.copy(this.camera.position).sub(o).length()>=1&&(u=!0),!(d||u||l||c))return}o.copy(this.camera.position),i.copy(r),t.copy(this.camera.matrixWorld).invert(),t.premultiply(this.camera.perspCamera.projectionMatrix),n[0]=this.camera.position.x,n[1]=this.camera.position.y,n[2]=this.camera.position.z;let h={sort:{view:t.elements,cameraPosition:n,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount},...l?{newMatrixWorlds:this.meshMatrixWorlds}:{},...c?{newCropsArray:this.cropsArray}:{}};this.sortRunning?this.queuedMessage=h:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(h))}}()),this.scene=e.scene,this.currentPage=null,this.renderer=e.renderer,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.splatRenderingInitialized=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null}get camera(){return this.scene.activeCamera}reloadSplats(){this.splatRenderingInitialized=!1;let e=this.loadSplat();this.renderer.pipeline.opaquePass.splatViewer=e?this:null}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=(new ne).fromArray(e.position)),e.orientation&&(e.orientation=(new hi).fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseEntity(o=>{if("Splat"===o.data.type){let s=o.visible;o.traverseAncestors(a=>{s&&(s=a.visible)}),s&&t.push(o)}}),this.splatMesh&&this.splatMesh.dispose(),0===t.length)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map(o=>o.matrixWorld),this.meshMatrixWorldsOld=t.map(o=>o.matrixWorld.clone()),this.cropsArray=t.map(o=>o.data.crops.map(s=>s.data));let n=t.map(o=>new MI(new Uint8Array(o.data.buffer).buffer)),i=0,r=[0];for(let o of n)i+=o.getSplatCount(),r.push(i);return this.setupSplatMesh(n,i,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,r,this.meshMatrixWorlds),this.setupSortWorker(i),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,16*t);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,!this.meshMatrixWorlds.every((t,n)=>t.equals(this.meshMatrixWorldsOld[n]))&&(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(t=>t.clone()),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach((t,n)=>{t.data.crops.forEach((i,r)=>{void 0===this.cropsArray[n][r]?(e=!0,this.cropsArray[n][r]=i.data):Object.entries(i.data).forEach(([o,s])=>{(Array.isArray(s)&&s.some((a,l)=>a!==this.cropsArray[n][r][o][l])||s!==this.cropsArray[n][r]?.[o])&&(e=!0,this.cropsArray[n][r][o]=s)})}),t.data.crops.length!==this.cropsArray[n]?.length&&(this.cropsArray[n].length=t.data.crops.length,e=!0)}),e}setupSplatMesh(e,t,n=new ne,i=new hi,r=!1,o=1,s,a){this.splatMesh=qP.buildMesh(e,t,r,o,s,a),this.splatMesh.position.copy(n),this.splatMesh.quaternion.copy(i),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=10,this.updateSplatMeshUniforms(),this.splatRenderCount=t}setupSortWorker(e){this.sortWorker=function NFe(e){let t=new Worker(URL.createObjectURL(new Blob(["(",RFe.toString(),")(self)"],{type:"application/javascript"}))),n=atob("AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL"),i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return t.postMessage({init:{sorterWasmBytes:i.buffer,splatCount:e,Constants:{BytesPerFloat:hf.BytesPerFloat,BytesPerInt:hf.BytesPerInt,DepthMapRange:hf.DepthMapRange,MemoryPageSize:hf.MemoryPageSize}}}),t}(e),this.sortWorker.onmessage=t=>{t.data.sortDone?(this.sortRunning=!1,this.splatMesh?.updateIndexes(new Uint32Array(t.data.indexesBuffer)),this.lastSortTime=t.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):t.data.sortCanceled?this.sortRunning=!1:t.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):t.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.updateView(!0,!0),this.splatRenderingInitialized=!0)}}update(){!1!==this.splatRenderingInitialized&&(this.updateSplatMeshUniforms(),this.updateView())}getSplatMesh(){return this.splatMesh}}({scene:this,renderer:e}),this.reloadSplats()}reloadSplats(){this.splatViewer?.reloadSplats()}},YP=(e,t)=>{let n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},EI=e=>e*(Math.PI/180),DI=new Map,aX=e=>{DI.has(e)&&clearTimeout(DI.get(e)),DI.set(e,setTimeout(e,100))},XP=(e,t,n)=>{let r,i=t.split(/[ ,]+/g);for(let o=0;o<i.length;o+=1)r=i[o],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent&&e.attachEvent(r,n)},lX=(e,t,n)=>{let r,i=t.split(/[ ,]+/g);for(let o=0;o<i.length;o+=1)r=i[o],e.removeEventListener?e.removeEventListener(r,n):e.detachEvent&&e.detachEvent(r,n)},cX=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),dX=()=>{if(!(typeof window>"u"))return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},AI=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},TI=(e,t,n)=>{let i=hX(e);for(let r in i)if(i.hasOwnProperty(r))if("string"==typeof t)i[r]=t+" "+n;else{let o="";for(let s=0,a=t.length;s<a;s+=1)o+=t[s]+" "+n+", ";i[r]=o.slice(0,-2)}return i},hX=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(n){t[n+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},kI=(e,t)=>{for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},II=(e,t)=>{if(e.length)for(let n=0,i=e.length;n<i;n+=1)t(e[n]);else t(e)};typeof window<"u"&&(uX="ontouchstart"in window,pX=!!window.PointerEvent,fX=!!window.MSPointerEvent);var uX,pX,fX,l1,yb_mouse={start:"mousedown",move:"mousemove",end:"mouseup"},_b={};function eg(){}pX?l1={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:fX?l1={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:uX?(l1={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},_b=yb_mouse):l1=yb_mouse,eg.prototype.on=function(e,t){var r,n=this,i=e.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var o=0;o<i.length;o+=1)n._handlers_[r=i[o]]=n._handlers_[r]||[],n._handlers_[r].push(t);return n},eg.prototype.off=function(e,t){var n=this;return n._handlers_=n._handlers_||{},void 0===e?n._handlers_={}:void 0===t?n._handlers_[e]=null:n._handlers_[e]&&n._handlers_[e].indexOf(t)>=0&&n._handlers_[e].splice(n._handlers_[e].indexOf(t),1),n},eg.prototype.trigger=function(e,t){var r,n=this,i=e.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var o=0;o<i.length;o+=1)n._handlers_[r=i[o]]&&n._handlers_[r].length&&n._handlers_[r].forEach(function(s){s.call(n,{type:r,target:n},t)})},eg.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=((e,t)=>{let n={};for(let i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)?n[i]=t[i]:e.hasOwnProperty(i)&&(n[i]=e[i]);return n})(t.options,e))},eg.prototype.bindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[t]=function(){"function"==typeof n["on"+t]?n["on"+t].apply(n,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},XP(e,l1[t],n._domHandlers_[t]),_b[t]&&XP(e,_b[t],n._domHandlers_[t]),n},eg.prototype.unbindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},lX(e,l1[t],n._domHandlers_[t]),_b[t]&&lX(e,_b[t],n._domHandlers_[t]),delete n._domHandlers_[t],this};var RI=eg;function Rs(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=Rs.id,Rs.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}Rs.prototype=new RI,Rs.constructor=Rs,Rs.id=0,Rs.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},Rs.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=((e,t)=>{let n=hX("borderRadius");for(let i in n)n.hasOwnProperty(i)&&(n[i]="50%");return n})(),n=TI("transition","opacity",e),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},kI(i.el,n),"circle"===this.options.shape&&kI(i.back,t),kI(i.front,t),this.applyStyles(i),this},Rs.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var n in e[t])this.ui[t].style[n]=e[t][n];return this},Rs.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},Rs.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},Rs.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},Rs.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),"function"==typeof e&&e.call(this)},t.options.fadeTime)),t},Rs.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){t.ui.el.style.display="dynamic"===t.options.mode?"none":"block","function"==typeof e&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let n=t.options.restJoystick,i={};i.x=!0===n||!1!==n.x?0:t.instance.frontPosition.x,i.y=!0===n||!1!==n.y?0:t.instance.frontPosition.y,t.setPosition(e,i)}return t},Rs.prototype.setPosition=function(e,t){var n=this;n.frontPosition={x:t.x,y:t.y};var r={};r.front=TI("transition",["top","left"],n.options.fadeTime+"ms");var o={front:{}};o.front={left:n.frontPosition.x+"px",top:n.frontPosition.y+"px"},n.applyStyles(r),n.applyStyles(o),n.restTimeout=setTimeout(function(){"function"==typeof e&&e.call(n),n.restCallback()},n.options.fadeTime)},Rs.prototype.restCallback=function(){var e=this,t={};t.front=TI("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)},Rs.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},Rs.prototype.computeDirection=function(e){var r,o,s,t=e.angle.radian,n=Math.PI/4,i=Math.PI/2;if(t>n&&t<3*n&&!e.lockX?r="up":t>-n&&t<=n&&!e.lockY?r="left":t>3*-n&&t<=-n&&!e.lockX?r="down":e.lockY||(r="right"),e.lockY||(o=t>-i&&t<i?"left":"right"),e.lockX||(s=t>0?"up":"down"),e.force>this.options.threshold){var l,a={};for(l in this.direction)this.direction.hasOwnProperty(l)&&(a[l]=this.direction[l]);var c={};for(l in this.direction={x:o,y:s,angle:r},e.direction=this.direction,a)a[l]===this.direction[l]&&(c[l]=!0);if(c.x&&c.y&&c.angle)return e;(!c.x||!c.y)&&this.trigger("plain",e),c.x||this.trigger("plain:"+o,e),c.y||this.trigger("plain:"+s,e),c.angle||this.trigger("dir dir:"+r,e)}else this.resetDirection();return e};var WFe=Rs;function es(e,t){var n=this;n.nipples=[],n.idles=[],n.actives=[],n.ids=[],n.pressureIntervals={},n.manager=e,n.id=es.id,es.id+=1,n.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},n.config(t),("static"===n.options.mode||"semi"===n.options.mode)&&(n.options.multitouch=!1),n.options.multitouch||(n.options.maxNumberOfNipples=1);let i=getComputedStyle(n.options.zone.parentElement);return i&&"flex"===i.display&&(n.parentIsFlex=!0),n.updateBox(),n.prepareNipples(),n.bindings(),n.begin(),n.nipples}es.prototype=new RI,es.constructor=es,es.id=0,es.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(n){if(void 0===n)return t[0];for(var i=0,r=t.length;i<r;i+=1)if(t[i].identifier===n)return t[i];return!1}},es.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"},es.prototype.begin=function(){var e=this,t=e.options;if("static"===t.mode){var n=e.createNipple(t.position,e.manager.getIdentifier());n.add(),e.idles.push(n)}},es.prototype.createNipple=function(e,t){var n=this,i=n.manager.scroll,r={},o=n.options;if(e.x&&e.y)r={x:e.x-(n.parentIsFlex?i.x:i.x+n.box.left),y:e.y-(n.parentIsFlex?i.y:i.y+n.box.top)};else if(e.top||e.right||e.bottom||e.left){var a=document.createElement("DIV");a.style.display="hidden",a.style.top=e.top,a.style.right=e.right,a.style.bottom=e.bottom,a.style.left=e.left,a.style.position="absolute",o.zone.appendChild(a);var l=a.getBoundingClientRect();o.zone.removeChild(a),r=e,e={x:l.left+i.x,y:l.top+i.y}}var c=new WFe(n,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:t,position:e,zone:o.zone,frontPosition:{x:0,y:0},shape:o.shape});return o.dataOnly||(AI(c.ui.el,r),AI(c.ui.front,c.frontPosition)),n.nipples.push(c),n.trigger("added "+c.identifier+":added",c),n.manager.trigger("added "+c.identifier+":added",c),n.bindNipple(c),c},es.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},es.prototype.bindNipple=function(e){var t=this,i=function(r,o){t.trigger(r.type+" "+o.id+":"+r.type,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},es.prototype.pressureFn=function(e,t,n){var i=this,r=0;clearInterval(i.pressureIntervals[n]),i.pressureIntervals[n]=setInterval(function(){var o=e.force||e.pressure||e.webkitForce||0;o!==r&&(t.trigger("pressure",o),i.trigger("pressure "+t.identifier+":pressure",o),r=o)}.bind(i),100)},es.prototype.onstart=function(e){var t=this,n=t.options,i=e;return e=cX(e),t.updateBox(),II(e,function(o){t.actives.length<n.maxNumberOfNipples?t.processOnStart(o):i.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(s){if(Object.values(i.touches).findIndex(function(l){return l.identifier===s})<0){var a=[e[0]];a.identifier=s,t.processOnEnd(a)}}),t.actives.length<n.maxNumberOfNipples&&t.processOnStart(o))}),t.manager.bindDocument(),!1},es.prototype.processOnStart=function(e){var i,t=this,n=t.options,r=t.manager.getIdentifier(e),o=e.force||e.pressure||e.webkitForce||0,s={x:e.pageX,y:e.pageY},a=t.getOrCreate(r,s);a.identifier!==r&&t.manager.removeIdentifier(a.identifier),a.identifier=r;var l=function(h){h.trigger("start",h),t.trigger("start "+h.id+":start",h),h.show(),o>0&&t.pressureFn(e,h,h.identifier),t.processOnMove(e)};if((i=t.idles.indexOf(a))>=0&&t.idles.splice(i,1),t.actives.push(a),t.ids.push(a.identifier),"semi"!==n.mode)l(a);else{if(!(YP(s,a.position)<=n.catchDistance))return a.destroy(),void t.processOnStart(e);l(a)}return a},es.prototype.getOrCreate=function(e,t){var r,n=this,i=n.options;return/(semi|static)/.test(i.mode)?(r=n.idles[0])?(n.idles.splice(0,1),r):"semi"===i.mode?n.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1):r=n.createNipple(t,e)},es.prototype.processOnMove=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),r=t.nipples.get(i),o=t.manager.scroll;if((e=>isNaN(e.buttons)?0!==e.pressure:0!==e.buttons)(e)){if(!r)return console.error("Found zombie joystick with ID "+i),void t.manager.removeIdentifier(i);if(n.dynamicPage){var s=r.el.getBoundingClientRect();r.position={x:o.x+s.left,y:o.y+s.top}}r.identifier=i;var a=r.options.size/2,l={x:e.pageX,y:e.pageY};n.lockX&&(l.y=r.position.y),n.lockY&&(l.x=r.position.x);var v,y,c=YP(l,r.position),h=((e,t)=>(e=>e*(180/Math.PI))(Math.atan2(t.y-e.y,t.x-e.x)))(l,r.position),d=EI(h),u=c/a,f={distance:c,position:l};if("circle"===r.options.shape?(v=Math.min(c,a),y=((e,t,n)=>{let i={x:0,y:0};return n=EI(n),i.x=e.x-t*Math.cos(n),i.y=e.y-t*Math.sin(n),i})(r.position,v,h)):(y=((e,t,n)=>({x:Math.min(Math.max(e.x,t.x-n),t.x+n),y:Math.min(Math.max(e.y,t.y-n),t.y+n)}))(l,r.position,a),v=YP(y,r.position)),n.follow){if(c>a){let D=l.y-y.y;r.position.x+=l.x-y.x,r.position.y+=D,r.el.style.top=r.position.y-(t.box.top+o.y)+"px",r.el.style.left=r.position.x-(t.box.left+o.x)+"px",c=YP(l,r.position)}}else l=y,c=v;var _=l.x-r.position.x,w=l.y-r.position.y;r.frontPosition={x:_,y:w},n.dataOnly||AI(r.ui.front,r.frontPosition);var O={identifier:r.identifier,position:l,force:u,pressure:e.force||e.pressure||e.webkitForce||0,distance:c,angle:{radian:d,degree:h},vector:{x:_/a,y:-w/a},raw:f,instance:r,lockX:n.lockX,lockY:n.lockY};(O=r.computeDirection(O)).angle={radian:EI(180-h),degree:180-h},r.trigger("move",O),t.trigger("move "+r.id+":move",O)}else this.processOnEnd(e)},es.prototype.processOnEnd=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),r=t.nipples.get(i),o=t.manager.removeIdentifier(r.identifier);!r||(n.dataOnly||r.hide(function(){"dynamic"===n.mode&&(r.trigger("removed",r),t.trigger("removed "+r.id+":removed",r),t.manager.trigger("removed "+r.id+":removed",r),r.destroy())}),clearInterval(t.pressureIntervals[r.identifier]),r.resetDirection(),r.trigger("end",r),t.trigger("end "+r.id+":end",r),t.ids.indexOf(r.identifier)>=0&&t.ids.splice(t.ids.indexOf(r.identifier),1),t.actives.indexOf(r)>=0&&t.actives.splice(t.actives.indexOf(r),1),/(semi|static)/.test(n.mode)?t.idles.push(r):t.nipples.indexOf(r)>=0&&t.nipples.splice(t.nipples.indexOf(r),1),t.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(t.manager.ids[o.id]=o.identifier))},es.prototype.onDestroyed=function(e,t){var n=this;n.nipples.indexOf(t)>=0&&n.nipples.splice(n.nipples.indexOf(t),1),n.actives.indexOf(t)>=0&&n.actives.splice(n.actives.indexOf(t),1),n.idles.indexOf(t)>=0&&n.idles.splice(n.idles.indexOf(t),1),n.ids.indexOf(t.identifier)>=0&&n.ids.splice(n.ids.indexOf(t.identifier),1),n.manager.removeIdentifier(t.identifier),n.manager.unbindDocument()},es.prototype.destroy=function(){var e=this;for(var t in e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(n){n.destroy()}),e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var qFe=es;function Ys(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=dX(),t.config(e),t.prepareCollections();var n=function(){var r;t.collections.forEach(function(o){o.forEach(function(s){r=s.el.getBoundingClientRect(),s.position={x:t.scroll.x+r.left,y:t.scroll.y+r.top}})})};if(typeof window>"u")return t.collections;XP(window,"resize",function(){aX(n)});var i=function(){t.scroll=dX()};return XP(window,"scroll",function(){aX(i)}),t.collections}Ys.prototype=new RI,Ys.constructor=Ys,Ys.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var n;return e.collections.every(function(i){return!(n=i.get(t))}),n}},Ys.prototype.create=function(e){return this.createCollection(e)},Ys.prototype.createCollection=function(e){var t=this,n=new qFe(t,e);return t.bindCollection(n),t.collections.push(n),n},Ys.prototype.bindCollection=function(e){var t=this,i=function(r,o){t.trigger(r.type+" "+o.id+":"+r.type,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},Ys.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)},Ys.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||!0===e)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)},Ys.prototype.getIdentifier=function(e){var t;return e?void 0===(t=void 0===e.identifier?e.pointerId:e.identifier)&&(t=this.latest||0):t=this.index,void 0===this.ids[t]&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]},Ys.prototype.removeIdentifier=function(e){var t={};for(var n in this.ids)if(this.ids[n]===e){t.id=n,t.identifier=this.ids[n],delete this.ids[n];break}return t},Ys.prototype.onmove=function(e){return this.onAny("move",e),!1},Ys.prototype.onend=function(e){return this.onAny("end",e),!1},Ys.prototype.oncancel=function(e){return this.onAny("end",e),!1},Ys.prototype.onAny=function(e,t){var i,n=this,r="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=cX(t);var o=function(a,l,c){c.ids.indexOf(l)>=0&&(c[r](a),a._found_=!0)};return II(t,function(a){i=n.getIdentifier(a),II(n.collections,o.bind(null,a,i)),a._found_||n.removeIdentifier(i)}),!1},Ys.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()},Ys.prototype.onDestroyed=function(e,t){var n=this;if(n.collections.indexOf(t)<0)return!1;n.collections.splice(n.collections.indexOf(t),1)};var mX=new Ys,gX=new Map,bb=new Map,tg=class{constructor(e,t,n,i){this.data=t;let{audio:r,volume:o,delay:s,loop:a}=t;if(!r)throw new Error("Missing property");let l="string"==typeof r?i.getAudio(r).src:r.data;this.audioPlayer=new lb({src:l,volume:o,delay:s,loop:a}),bb.has(n.uuid)?bb.get(n.uuid).push(this):bb.set(n.uuid,[this]),gX.set(e,this)}playByToggle(){"stop"===this.data.toggle?"playing"===this.audioPlayer.status?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):"pause"===this.data.toggle?"playing"===this.audioPlayer.status?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},NI=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=gX.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=bb.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(n=>n.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(n=>n.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let e=[...bb.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(n=>{n.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(n=>{n.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},vX=class{constructor(e,t,n,i,r){if(this.data=t,this.shared=i,this.condition=r,"play"===t.interaction)this.interaction=new tg(e,t,n,i);else{if("pause"!==t.interaction&&"stop"!==t.interaction)throw new Error("Missing property");this.interaction=new NI(t)}}dispatchBasic(){if(!1===fs(this.shared,this.condition))return!1;this.interaction instanceof tg?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(!1===fs(this.shared,this.condition))return!1;this.interaction instanceof tg?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(!1===fs(this.shared,this.condition))return!1;this.interaction instanceof tg&&("start"===e?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},yX=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e);var _X=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.controlsManager=n,this.shared=i,this.condition=r,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=o=>{this.timeoutIdQueue.shift();let s=this.page.scene.find(o);if(void 0===s)return;let a=this.controlsManager.sharedGameControlGlobals.rapierWorld,l=!a||s.dataPatched.physics?.fusedBody;if(s.cloner){for(let c of s.cloner.children)l?(c.playModeVisible=!1,c.rigidBody&&"positioned"===s.dataPatched.physics?.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),a.removeRigidBody(c.rigidBody),c.rigidBody=void 0),c.bvhGeometry&&(c.bvhGeometry=void 0)):void 0===this.clone||this.clone===c?(c.playModeVisible=!1,c.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),a.removeRigidBody(c.rigidBody),c.rigidBody=void 0)):void 0===c.playModeVisible&&(c.playModeVisible=!0);(l||void 0===this.clone||!1===this.clone)&&(s.visible=!1,s.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(s.rigidBody.collider(0).handle),a.removeRigidBody(s.rigidBody),s.rigidBody=void 0),s.bvhGeometry&&(s.bvhGeometry=void 0))}else s.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(s.rigidBody.collider(0).handle),a.removeRigidBody(s.rigidBody),s.rigidBody=void 0),s.bvhGeometry&&(s.bvhGeometry=void 0),s.visible=!1;this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(void 0===a?c=>void 0!==c.bvhGeometry:c=>void 0!==c.rigidBody),s.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(!1===fs(this.shared,this.condition))return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay)):this.dispatchInner()}dispatchFromStart(){if(!1===fs(this.shared,this.condition))return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay))}dispose(){this.timeoutIdQueue.forEach(e=>window.clearTimeout(e))}},bX=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.shared=n,this.eventManager=i,this.condition=r,this.shared=n}dispatch(){if(!1===fs(this.shared,this.condition))return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{this.shared.reset(this.shared.data,!0),$I(this.page,this.shared,!0),this.eventManager.reset(),this.eventManager.controlsManager.gameControl?.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},1e3*(this.data.delay??0))}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},xX={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},FI={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},eLe=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],$P={CSS:{},springs:{}};function Sd(e,t,n){return Math.min(Math.max(e,t),n)}function xb(e,t){return e.indexOf(t)>-1}function LI(e,t){return e.apply(null,t)}var ri={arr:function(e){return Array.isArray(e)},obj:function(e){return xb(Object.prototype.toString.call(e),"Object")},pth:function(e){return ri.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||ri.svg(e))},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return ri.hex(e)||ri.rgb(e)||ri.hsl(e)},key:function(e){return!xX.hasOwnProperty(e)&&!FI.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function wX(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function CX(e,t){var n=wX(e),i=Sd(ri.und(n[0])?1:n[0],.1,100),r=Sd(ri.und(n[1])?100:n[1],.1,100),o=Sd(ri.und(n[2])?10:n[2],.1,100),s=Sd(ri.und(n[3])?0:n[3],.1,100),a=Math.sqrt(r/i),l=o/(2*Math.sqrt(r*i)),c=l<1?a*Math.sqrt(1-l*l):0,d=l<1?(l*a-s)/c:-s+a;function u(v){var y=t?t*v/1e3:v;return y=l<1?Math.exp(-y*l*a)*(1*Math.cos(c*y)+d*Math.sin(c*y)):(1+d*y)*Math.exp(-y*a),0===v||1===v?v:1-y}return t?u:function f(){var v=$P.springs[e];if(v)return v;for(var y=1/6,_=0,w=0;;)if(1===u(_+=y)){if(++w>=16)break}else w=0;var O=_*y*1e3;return $P.springs[e]=O,O}}function tLe(e){return void 0===e&&(e=10),function(t){return Math.ceil(Sd(t,1e-6,1)*e)*(1/e)}}var nLe=function(){var t=.1;function n(h,d){return 1-3*d+3*h}function i(h,d){return 3*d-6*h}function r(h){return 3*h}function o(h,d,u){return((n(d,u)*h+i(d,u))*h+r(d))*h}function s(h,d,u){return 3*n(d,u)*h*h+2*i(d,u)*h+r(d)}return function c(h,d,u,f){if(0<=h&&h<=1&&0<=u&&u<=1){var v=new Float32Array(11);if(h!==d||u!==f)for(var y=0;y<11;++y)v[y]=o(y*t,h,u);return function(w){return h===d&&u===f||0===w||1===w?w:o(function _(w){for(var O=0,S=1;10!==S&&v[S]<=w;++S)O+=t;--S;var Y=O+(w-v[S])/(v[S+1]-v[S])*t,q=s(Y,h,u);return q>=.001?function l(h,d,u,f){for(var v=0;v<4;++v){var y=s(d,u,f);if(0===y)return d;d-=(o(d,u,f)-h)/y}return d}(w,Y,h,u):0===q?Y:function a(h,d,u,f,v){var y,_,w=0;do{(y=o(_=d+(u-d)/2,f,v)-h)>0?u=_:d=_}while(Math.abs(y)>1e-7&&++w<10);return _}(w,O,O+t,h,u)}(w),d,f)}}}}(),MX=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,o=4;i<((r=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((3*r-2)/22-i,2)}},Elastic:function(i,r){void 0===i&&(i=1),void 0===r&&(r=.5);var o=Sd(i,1,10),s=Sd(r,.1,2);return function(a){return 0===a||1===a?a:-o*Math.pow(2,10*(a-1))*Math.sin((a-1-s/(2*Math.PI)*Math.asin(1/o))*(2*Math.PI)/s)}}};return["Quad","Cubic","Quart","Quint","Expo"].forEach(function(i,r){t[i]=function(){return function(o){return Math.pow(o,r+2)}}}),Object.keys(t).forEach(function(i){var r=t[i];e["easeIn"+i]=r,e["easeOut"+i]=function(o,s){return function(a){return 1-r(o,s)(1-a)}},e["easeInOut"+i]=function(o,s){return function(a){return a<.5?r(o,s)(2*a)/2:1-r(o,s)(-2*a+2)/2}}}),e}();function BI(e,t){if(ri.fnc(e))return e;var n=e.split("(")[0],i=MX[n],r=wX(e);switch(n){case"spring":return CX(e,t);case"cubicBezier":return LI(nLe,r);case"steps":return LI(tLe,r);default:return LI(i,r)}}function PX(e){try{return document.querySelectorAll(e)}catch{return}}function KP(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(i,s,o,e)&&r.push(s)}return r}function QP(e){return e.reduce(function(t,n){return t.concat(ri.arr(n)?QP(n):n)},[])}function OX(e){return ri.arr(e)?e:(ri.str(e)&&(e=PX(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function zI(e,t){return e.some(function(n){return n===t})}function UI(e){var t={};for(var n in e)t[n]=e[n];return t}function jI(e,t){var n=UI(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function ZP(e,t){var n=UI(e);for(var i in t)n[i]=ri.und(e[i])?t[i]:e[i];return n}function Fu(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function VI(e,t){return ri.fnc(e)?e(t.target,t.id,t.total):e}function Dh(e,t){return e.getAttribute(t)}function HI(e,t,n){if(zI([n,"deg","rad","turn"],Fu(t)))return t;var r=$P.CSS[t+n];if(!ri.und(r))return r;var s=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(s),s.style.position="absolute",s.style.width=100+n;var l=100/s.offsetWidth;a.removeChild(s);var c=l*parseFloat(t);return $P.CSS[t+n]=c,c}function SX(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?HI(e,r,n):r}}function GI(e,t){return ri.dom(e)&&!ri.inp(e)&&(Dh(e,t)||ri.svg(e)&&e[t])?"attribute":ri.dom(e)&&zI(eLe,t)?"transform":ri.dom(e)&&"transform"!==t&&SX(e,t)?"css":null!=e[t]?"object":void 0}function EX(e){if(ri.dom(e)){for(var r,t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map;r=n.exec(t);)i.set(r[1],r[2]);return i}}function WI(e,t,n,i){switch(GI(e,t)){case"transform":return function lLe(e,t,n,i){var r=xb(t,"scale")?1:0+function aLe(e){return xb(e,"translate")||"perspective"===e?"px":xb(e,"rotate")||xb(e,"skew")?"deg":void 0}(t),o=EX(e).get(t)||r;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),i?HI(e,o,i):o}(e,t,i,n);case"css":return SX(e,t,n);case"attribute":return Dh(e,t);default:return e[t]||0}}function qI(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=Fu(e)||0,r=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function DX(e,t){if(ri.col(e))return function sLe(e){return ri.rgb(e)?function iLe(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}(e):ri.hex(e)?function rLe(e){var n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,l,c,h){return l+l+c+c+h+h}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"}(e):ri.hsl(e)?function oLe(e){var a,l,c,t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100,o=t[4]||1;function s(u,f,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?u+6*(f-u)*v:v<.5?f:v<2/3?u+(f-u)*(2/3-v)*6:u}if(0==i)a=l=c=r;else{var h=r<.5?r*(1+i):r+i-r*i,d=2*r-h;a=s(d,h,n+1/3),l=s(d,h,n),c=s(d,h,n-1/3)}return"rgba("+255*a+","+255*l+","+255*c+","+o+")"}(e):void 0}(e);if(/\s/g.test(e))return e;var n=Fu(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function YI(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function AX(e){for(var i,t=e.points,n=0,r=0;r<t.numberOfItems;r++){var o=t.getItem(r);r>0&&(n+=YI(i,o)),i=o}return n}function TX(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function cLe(e){return 2*Math.PI*Dh(e,"r")}(e);case"rect":return function dLe(e){return 2*Dh(e,"width")+2*Dh(e,"height")}(e);case"line":return function hLe(e){return YI({x:Dh(e,"x1"),y:Dh(e,"y1")},{x:Dh(e,"x2"),y:Dh(e,"y2")})}(e);case"polyline":return AX(e);case"polygon":return function uLe(e){var t=e.points;return AX(e)+YI(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function kX(e,t){var n=t||{},i=n.el||function fLe(e){for(var t=e.parentNode;ri.svg(t)&&ri.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),o=Dh(i,"viewBox"),s=r.width,a=r.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:s/l[2],h:a/l[3]}}function gLe(e,t){function n(a){return void 0===a&&(a=0),e.el.getPointAtLength(t+a>=1?t+a:0)}var i=kX(e.el,e.svg),r=n(),o=n(-1),s=n(1);switch(e.property){case"x":return(r.x-i.x)*i.w;case"y":return(r.y-i.y)*i.h;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function IX(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=DX(ri.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:ri.str(e)||t?i.split(n):[]}}function RX(e){return KP(e?QP(ri.arr(e)?e.map(OX):OX(e)):[],function(n,i,r){return r.indexOf(n)===i})}function NX(e){var t=RX(e);return t.map(function(n,i){return{target:n,id:i,total:t.length,transforms:{list:EX(n)}}})}function vLe(e,t){var n=UI(t);if(/^spring/.test(n.easing)&&(n.duration=CX(n.easing)),ri.arr(e)){var i=e.length;2!==i||ri.obj(e[0])?ri.fnc(t.duration)||(n.duration=t.duration/i):e={value:e}}var o=ri.arr(e)?e:[e];return o.map(function(s,a){var l=ri.obj(s)&&!ri.pth(s)?s:{value:s};return ri.und(l.delay)&&(l.delay=a?0:t.delay),ri.und(l.endDelay)&&(l.endDelay=a===o.length-1?t.endDelay:0),l}).map(function(s){return ZP(s,n)})}var FX={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var o="";i.list.forEach(function(s,a){o+=a+"("+s+") "}),e.style.transform=o}}};function LX(e,t){NX(e).forEach(function(i){for(var r in t){var o=VI(t[r],i),s=i.target,a=Fu(o),l=WI(s,r,a,i),h=qI(DX(o,a||Fu(l)),l),d=GI(s,r);FX[d](s,r,h,i.transforms,!0)}})}function CLe(e,t){return KP(QP(e.map(function(n){return t.map(function(i){return function wLe(e,t){var n=GI(e.target,t.name);if(n){var i=function xLe(e,t){var n;return e.tweens.map(function(i){var r=function bLe(e,t){var n={};for(var i in e){var r=VI(e[i],t);ri.arr(r)&&1===(r=r.map(function(o){return VI(o,t)})).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,t),o=r.value,s=ri.arr(o)?o[1]:o,a=Fu(s),l=WI(t.target,e.name,a,t),c=n?n.to.original:l,h=ri.arr(o)?o[0]:c,d=Fu(h)||Fu(l),u=a||d;return ri.und(s)&&(s=c),r.from=IX(h,u),r.to=IX(qI(s,h),u),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=BI(r.easing,r.duration),r.isPath=ri.pth(o),r.isColor=ri.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}(t,e),r=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(n,i)})})),function(n){return!ri.und(n)})}function BX(e,t){var n=e.length,i=function(o){return o.timelineOffset?o.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(o){let s=o.startOnceDelay??0,a=o.pingPongDelayCorrection??0,l=o.pingPongEndDelayCorrection??0;return i(o)+s+a+l+o.duration*(o.loop??1)})):t.duration,r.delay=n?Math.min.apply(Math,e.map(function(o){let s=o.startOnceDelay??0,a=o.pingPongDelayCorrection??0;return i(o)+s+a+o.delay})):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(o){let s=o.startOnceDelay??0,a=o.pingPongDelayCorrection??0,l=o.pingPongEndDelayCorrection??0;return i(o)+s+a+o.duration*(o.loop??1)-o.endDelay-l})):t.endDelay,r}var JP,zX=0,Lc=[],UX=[],PLe=function(){function e(){JP=requestAnimationFrame(t)}function t(n){var i=Lc.length;if(i){for(var r=0;r<i;){var o=Lc[r];o.paused?(Lc.splice(r,1),i-=1):(o.tick(n),r++)}e()}else JP=cancelAnimationFrame(JP)}return e}();function ts(e){void 0===e&&(e={});var r,o,t=0,n=0,i=0,s=0,a=null;function l(q){var K=window.Promise&&new Promise(function(Z){return a=Z});return q.finished=K,K}var c=function MLe(e){var t=jI(xX,e),n=jI(FI,e),i=function _Le(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=ZP(function yLe(e){for(var t=KP(QP(e.map(function(o){return Object.keys(o)})),function(o){return ri.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),n={},i=function(o){var s=t[o];n[s]=e.map(function(a){var l={};for(var c in a)ri.key(c)?c==s&&(l.value=a[c]):l[c]=a[c];return l})},r=0;r<t.length;r++)i(r);return n}(i),t)),t)ri.key(r)&&n.push({name:r,tweens:vLe(t[r],e)});return n}(n,e),r=NX(e.targets),o=CLe(r,i),s=BX(o,n),a=zX;return zX++,ZP(t,{id:a,children:[],animatables:r,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay,startOnceDelay:n.startOnceDelay,pingPongDelayCorrection:n.pingPongDelayCorrection,pingPongEndDelayCorrection:n.pingPongEndDelayCorrection})}(e);function d(){var q=c.direction;"alternate"!==q&&(c.direction="normal"!==q?"normal":"reverse"),c.reversed=!c.reversed,o.forEach(function(K){(1===K.loop||K.loop%2==0)&&(K.reversed=c.reversed)})}function f(q){return c.reversed?c.duration-q:q}function y(q,K,Z=!1){K&&K.seek(c.reversed?K.duration*K.loop-(q-K.timelineOffset-K.pingPongDelayCorrection):q-K.timelineOffset-K.startOnceDelay-K.pingPongDelayCorrection,Z)}function w(q){var K=0,Z=c.animations,te=Z.length;for("alternate"!==c.direction&&"alternate"===c.parent?.direction?!1===c.parent?.rewind&&!0===c.reversePlayback&&!1===c.rewind&&(q=c.parent?.reversed&&"alternate"===c.direction?c.duration-c.delay+c.endDelay-q:c.duration+c.delay-c.endDelay-q):U(!1,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)&&(q=c.parent?.reversed&&"alternate"===c.direction?c.duration-c.delay+c.endDelay-q:c.duration+c.delay-c.endDelay-q);K<te;){var ie=Z[K],ce=ie.animatable,de=ie.tweens,ue=de.length-1,Ce=de[ue];let ut;ue&&(Ce=KP(de,function(Ke){return q<Ke.end})[0]||Ce),ut=c.parent?.reversed&&"alternate"===c.direction?Sd(q-Ce.start-Ce.endDelay,0,Ce.duration)/Ce.duration:Sd(q-Ce.start-Ce.delay,0,Ce.duration)/Ce.duration;for(var we=isNaN(ut)?1:Ce.easing(ut),_e=Ce.to.strings,ye=Ce.round,Re=[],Be=Ce.to.numbers.length,Ie=void 0,De=0;De<Be;De++){var Ve=void 0;let Ke,Nt;"alternate"!==c.direction?!1===c.parent?.rewind&&!0===c.reversePlayback&&!1===c.rewind?(Ke=Ce.to.numbers[De],Nt=Ce.from.numbers[De]||0):(Nt=Ce.to.numbers[De],Ke=Ce.from.numbers[De]||0):U(!0,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)?(Ke=Ce.to.numbers[De],Nt=Ce.from.numbers[De]||0):(Nt=Ce.to.numbers[De],Ke=Ce.from.numbers[De]||0),Ve=Ce.isPath?gLe(Ce.value,we*Nt):Ke+we*(Nt-Ke),ye&&(Ce.isColor&&De>2||(Ve=Math.round(Ve*ye)/ye)),Re.push(Ve)}var ke=_e.length;if(ke){Ie=_e[0];for(var He=0;He<ke;He++){var it=_e[He+1],We=Re[He];isNaN(We)||(Ie+=it?We+it:We+" ")}}else Ie=Re[0];FX[ie.type](ce.target,ie.property,Ie,ce.transforms),ie.currentValue=Ie,K++}}function O(q){c[q]&&!c.passThrough&&c[q](c)}l(c);let D={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function U(q,K,Z,te,ie){return D[q<<4|K<<3|Z<<2|te<<1|ie]}function Y(q,K=!1){var Z=c.duration;let te=c.delay,ie=Z-c.endDelay;c.parent?.reversed&&"alternate"===c.direction&&(te=c.endDelay,ie=Z-c.delay);var ce=f(q);if(c.progress=Sd(ce/Z*100,0,100),K||(c.reversePlayback=ce<c.currentTime),s&&function _(q,K=!1){if(c.reversed)for(var Z=s;Z--;)y(q,o[Z],K);else for(var te=0;te<s;te++)y(q,o[te],K)}(ce,K),!c.began&&c.currentTime>=0&&(c.began=!0,O("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,O("loopBegin")),(c.reversed||ce>=0)&&ce<=te&&0!==c.currentTime&&(w(0),O("change")),(ce>=ie&&c.currentTime!==Z+c.pingPongDelayCorrection||!Z)&&(w(Z),O("change")),ce>te&&ce<ie?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,O("changeBegin")),w(ce),O("change")):c.changeBegan?(c.changeCompleted=!0,c.changeBegan=!1,O("change"),s&&O("timelineChangeComplete")):c.began&&ce>ie&&O("changeComplete"),c.currentTime=Sd(ce,0,Z+c.pingPongDelayCorrection),c.began&&O("update"),q>=Z)if(function S(){c.remaining&&!0!==c.remaining&&c.remaining--}(),c.remaining){t+=s?c.duration/ts.speed:c.duration;for(let de of o)de.setStartTime(0),de.remaining=de.loop;O("loopComplete"),c.loopBegan=!1,"alternate"===c.direction?d():s&&function u(){c.direction="normal",c.reversed=!1,o.forEach(function(q){return q.reversed=!1})}()}else c.paused=!0,c.completed||(c.completed=!0,O("loopComplete"),O("complete"),!c.passThrough&&"Promise"in window&&(a(),l(c)))}return c.reset=function(){var q=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed="reverse"===q,c.remaining=c.loop;for(var K=s=(o=c.children).length;K--;)c.children[K].reset();w(c.reversed?c.duration:0)},c.setStartTime=function(q){t=q},c.set=function(q,K){return LX(q,K),c},c.tick=function(q){i=q,t||(t=i),Y((i+(n-t))*ts.speed)},c.seek=function(q,K=!1){Y(q-t,K)},c.pause=function(q){c.paused=!0,s&&(r=q??performance.now())},c.play=function(q){!c.paused||(c.completed&&c.reset(),c.paused=!1,Lc.push(c),s&&void 0!==r&&(t+=(q??performance.now())-r),JP||PLe())},c.reverse=function(){d(),c.completed=!c.reversed,function v(){t=0,n=f(c.currentTime)*(1/ts.speed)}()},c.restart=function(){c.reset(),c.play()},c.reset(),c.autoplay&&c.play(),c}function jX(e,t){for(var n=t.length;n--;)zI(e,t[n].animatable.target)&&t.splice(n,1)}typeof document<"u"&&document.addEventListener("visibilitychange",function OLe(e){document.hidden?(Lc.forEach(function(t){return t.pause(e.timeStamp)}),UX=Lc.slice(0),ts.running=Lc=[]):UX.forEach(function(t){return t.play(e.timeStamp)})}),ts.version="3.2.0",ts.speed=1,ts.running=Lc,ts.remove=function SLe(e){for(var t=RX(e),n=Lc.length;n--;){var i=Lc[n],r=i.animations,o=i.children;jX(t,r);for(var s=o.length;s--;){var a=o[s],l=a.animations;jX(t,l),!l.length&&!a.children.length&&o.splice(s,1)}!r.length&&!o.length&&i.pause()}},ts.get=WI,ts.set=LX,ts.convertPx=HI,ts.path=function mLe(e,t){var n=ri.str(e)?PX(e)[0]:e,i=t||100;return function(r){return{property:r,el:n,svg:kX(n),totalLength:TX(n)*(i/100)}}},ts.setDashoffset=function pLe(e){var t=TX(e);return e.setAttribute("stroke-dasharray",t),t},ts.stagger=function ELe(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?BI(t.easing):null,r=t.grid,o=t.axis,s=t.from||0,a="first"===s,l="center"===s,c="last"===s,h=ri.arr(e),d=parseFloat(h?e[0]:e),u=h?parseFloat(e[1]):0,f=Fu(h?e[1]:e)||0,v=t.start||0+(h?d:0),y=[],_=0;return function(w,O,S){if(a&&(s=0),l&&(s=(S-1)/2),c&&(s=S-1),!y.length){for(var D=0;D<S;D++){if(r){var U=l?(r[0]-1)/2:s%r[0],Y=l?(r[1]-1)/2:Math.floor(s/r[0]),Z=U-D%r[0],te=Y-Math.floor(D/r[0]),ie=Math.sqrt(Z*Z+te*te);"x"===o&&(ie=-Z),"y"===o&&(ie=-te),y.push(ie)}else y.push(Math.abs(s-D));_=Math.max.apply(Math,y)}i&&(y=y.map(function(de){return i(de/_)*_})),"reverse"===n&&(y=y.map(function(de){return o?de<0?-1*de:-de:Math.abs(_-de)}))}return v+(h?(u-d)/_:d)*(Math.round(100*y[O])/100)+f}},ts.timeline=function DLe(e){void 0===e&&(e={});var t=ts(e);return t.duration=0,t.add=function(n,i){var r=Lc.indexOf(t),o=t.children;function s(u){u.passThrough=!0}r>-1&&Lc.splice(r,1);for(var a=0;a<o.length;a++)s(o[a]);var l=ZP(n,jI(FI,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.timelineOffset=ri.und(i)?c:qI(i,c),s(t);var h=ts(l);s(h),o.push(h),h.parent=t;var d=BX(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,!0===h.loop&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ts.easing=BI,ts.penner=MX,ts.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var VX=ts,HX=new ne,GX=new ne,WX=new hi;function ng(e,t,n,i,r,o){let s=n[e]?n[e]:void 0,a=i[e];if(null==a)return;let l=null!=s?"string"==typeof s?Number(r.getVariable(s)??0):s:t[e],c="string"==typeof a?Number(r.getVariable(a)??0):a;return l!==c?{update:h=>{let d=Ln.lerp(l,c,h);t[e]=o?Math.trunc(d):d},start:()=>{t[e]=l},end:()=>{t[e]=c}}:void 0}function qX(e,t,n,i,r,o){let a=i[e];if(!a)return;let c=[...(n[e]?n[e]:void 0)??t[e]].map(d=>"string"==typeof d?Number(r.getVariable(d)??0):d),h=[...a].map(d=>"string"==typeof d?Number(r.getVariable(d)??0):d);return c.length!==h.length||gH(c,h)?void 0:{update:d=>{c.forEach((u,f)=>{let v=Ln.lerp(u,h[f],d);t[e][f]=o?Math.trunc(v):v})},start:()=>{Object.assign(t[e],c)},end:()=>{Object.assign(t[e],h)}}}function e2(e,t,n){return t.forEach((i,r)=>{e.setComponent(r,"string"==typeof i?Number(n.getVariable(i)??0):i)}),e}function YX(e,t,n,i,r){let o=n[e]?n[e]:void 0,s=i[e];if(!s)return;let a=t[e],l=o?e2(new ne,o,r):a.clone(),c=e2(new ne,s,r);return l.equals(c)?void 0:{update:h=>{a.lerpVectors(l,c,h)},start:()=>{a.copy(l)},end:()=>{a.copy(c)}}}function uf(e,t,n,i,r){return"number"==typeof t[e]?ng(e,t,n??{},i,r):Array.isArray(t[e])?qX(e,t,n??{},i,r):void 0}function XX(e,t,n,i){let r=[],o=Zv(n,i)||!!t.layers&&Zv(t,i);r.push(function YLe(e,t){return{update:()=>{e.transparent=t}}}(e,o));for(let s of e.layers){let a=t.layers?.data(s.uuid),l=n.layers.data(s.uuid);if(!l||"light"!==s.type&&(!(s.visible??1)||!(l.visible??1)))continue;let c=s.getNames().filter(h=>!OG.some(d=>h.includes(d)));for(let h of c)try{let u,d=s.getValue(h);if("colors"===h)u=WLe(s,a,l,h);else if(Array.isArray(d))"steps"===h&&(u=GLe(s,a,l,h));else if("number"==typeof d)u=zLe(s,a,l,h,i);else{if("boolean"==typeof d)continue;d instanceof Fe?u=ULe(s,a,l,h):d instanceof ne?u=jLe(s,a,l,h,i):d instanceof wl?u=HLe(s,a,l,h,i):d instanceof qn?u=VLe(s,a,l,h,i):"isTexture"in d&&(u=qLe(s,a,l,h))}u&&(Array.isArray(u)?r.push(...u):r.push(u))}catch(d){console.error(`lerpMaterial: unexpected material layer for ${h}`,d)}}return r}function zLe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:e.getValue(i),s=n[i],a="string"==typeof o?Number(r.getVariable(o)??0):o,l="string"==typeof s?Number(r.getVariable(s)??0):s;return a!==l?{update:c=>{e.setValue(i,Ln.lerp(a,l,c))},start:()=>{e.setValue(i,a)},end:()=>{e.setValue(i,l)}}:void 0}function ULe(e,t,n,i){if(!e.hasValue(i)||!(i in n))return;let r=e.getValue(i),o=t?(new Fe).fromArray(t[i]):r.clone(),s=(new Fe).fromArray(n[i]);return o.equals(s)?void 0:{update:a=>{r.lerpVectors(o,s,a)},start:()=>{r.copy(o)},end:()=>{r.copy(s)}}}function jLe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=e.getValue(i),s=t?t[i]:void 0,a=n[i],l=s?e2(new ne,s,r):o.clone(),c=e2(new ne,a,r);return l.equals(c)?void 0:{update:h=>{o.lerpVectors(l,c,h)},start:()=>{o.copy(l)},end:()=>{o.copy(c)}}}function VLe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:void 0,s=n[i],a=e.getValue(i),l=o?"string"==typeof o?r.getColor(o).clone():(new qn).setRGB(o.r,o.g,o.b):a.clone(),c="string"==typeof s?r.getColor(s).clone():(new qn).setRGB(s.r,s.g,s.b);if(l.equals(c))return;let h=a.clone();return{update:d=>{e.getValue(i)!==h&&e.setValue(i,h),h.lerpColors(l,c,d)},start:()=>{h.copy(l)},end:()=>{h.copy(c)}}}function HLe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:void 0,s=n[i],a=e.getValue(i),l=o?"string"==typeof o?r.getColor(o).clone():(new qn).setRGB(o.r,o.g,o.b):a.clone(),c="string"==typeof s?r.getColor(s).clone():new wl(s.r,s.g,s.b,s.a);if(l.equals(c))return;let h=a.clone();return{update:d=>{e.getValue(i)!==h&&e.setValue(i,h),h.lerpColors(l,c,d)},start:()=>{h.copy(l)},end:()=>{h.copy(c)}}}function GLe(e,t,n,i="steps"){if(!e.hasValue(i)||!(i in n))return;let r=[],o=e.getValue(i),s=t?t[i]:o,a=n[i];for(let l=0;l<o.length;++l){let c=s[l],h=a[l];c!==h&&r.push({update:d=>{o[l]=Ln.lerp(c,h,d)},start:()=>{o[l]=c},end:()=>{o[l]=h}})}return r.length?r:void 0}function WLe(e,t,n,i="colors"){if(!e.hasValue(i)||!(i in n))return;let r=[],o=e.getValue(i),s=t?t[i]:o.map(l=>l.toArray()),a=n[i];for(let l=0;l<o.length;++l){let c=[...s[l]],h=[...a[l]];HM.isEqual(c,h)||r.push({update:d=>{o[l].fromArray(HM.lerp(c,h,d))},start:()=>{o[l].fromArray(c)},end:()=>{o[l].fromArray(h)}})}return r.length?r:void 0}function qLe(e,t,n,i="texture"){if(!e.hasValue(i)||!(i in n))return;let r=e.getNode("mat");if(!r)return;let o=t?t[i]:r,s=n[i],a=[...o.repeat],l=[...o.offset],c=[...s.repeat],h=[...s.offset];return vv.isEqual(a,c)&&vv.isEqual(l,h)?void 0:{update:d=>{r.repeat=vv.lerp(a,c,d),r.offset=vv.lerp(l,h,d),r.updateMatrix()},start:()=>{r.repeat=[...a],r.offset=[...l],r.updateMatrix()},end:()=>{r.repeat=[...c],r.offset=[...h],r.updateMatrix()}}}var XI=new ne,$X=new Gs;function KX(e,t,n,i,r){let o=[];return e.data.visible&&o.push(...function XLe(e,t,n,i,r){let s,a,l,c,h,d,o=[],u={slide:t.pathSnapping?.slide??e.updatedPathSnapping?.slide??e.dataPatched.pathSnapping?.slide??0,offset:t.pathSnapping?.offset??e.updatedPathSnapping?.offset??e.dataPatched.pathSnapping?.offset??0};if(h=ng("slide",u,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,r),h&&o.push(h),d=ng("offset",u,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,r),d&&o.push(d),!h&&!d&&(s=YX("position",e,t,n,r),s&&o.push(s),a=YX("scale",e,t,n,r),a&&o.push(a),l=function $Le(e,t,n,i,r){let o=t?.rotation?t.rotation.map(h=>("string"==typeof h?Number(r.getVariable(h)??0):h)*Ln.DEG2RAD):void 0,s=n.rotation?.map(h=>("string"==typeof h?Number(r.getVariable(h)??0):h)*Ln.DEG2RAD);if(!s)return;let a=o?(new ne).fromArray(o):(new ne).setFromEuler(e.rotation),l=(new ne).fromArray(s);if(a.equals(l))return;let c=XI.subVectors(l,a);if(i&&c.toArray().every(h=>Math.abs(h)<2*Math.PI)){let h=(new hi).setFromEuler($X.setFromVector3(a)),d=(new hi).setFromEuler($X.setFromVector3(l));return{update:u=>{!function ALe(e,t,n,i){if(0===i)return n.copy(e);if(1===i)return n.copy(t);let r=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(r>=1)return n.copy(e);let o=1-r*r;if(o<=Number.EPSILON){let h=1-i;return n.w=h*e.w+i*t.w,n.x=h*e.x+i*t.x,n.y=h*e.y+i*t.y,n.z=h*e.z+i*t.z,n.normalize(),n}let s=Math.sqrt(o),a=Math.atan2(s,r),l=Math.sin((1-i)*a)/s,c=Math.sin(i*a)/s;n.w=e.w*l+t.w*c,n.x=e.x*l+t.x*c,n.y=e.y*l+t.y*c,n.z=e.z*l+t.z*c}(h,d,e.quaternion,u)},start:()=>{e.rotation.setFromVector3(a)},end:()=>{e.rotation.setFromVector3(l)}}}return{update:h=>{XI.lerpVectors(a,l,h),e.rotation.setFromVector3(XI)},start:()=>{e.rotation.setFromVector3(a)},end:()=>{e.rotation.setFromVector3(l)}}}(e,t,n,i,r),l&&o.push(l),c=function TLe(e,t,n,i){let r=n[e]?n[e]:void 0,o=i[e];if(!o)return;let s=t[e],a=r?(new Ut).fromArray(r):s.clone(),l=new ne,c=new hi,h=new ne;a.decompose(l,c,h);let d=(new Ut).fromArray(o),u=new ne,f=new hi,v=new ne;return d.decompose(u,f,v),a.equals(d)?void 0:{update:y=>{WX.slerpQuaternions(c,f,y),HX.lerpVectors(l,u,y),GX.lerpVectors(h,v,y),s.compose(HX,WX,GX)},start:()=>{s.compose(l,c,h)},end:()=>{s.compose(u,f,v)}}}("hiddenMatrix",e,t,n),c&&o.push(c)),s||a||l||c||h||d){let f=()=>{e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),e.parent?.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),Pd(e)&&Iu(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,u))};o.push({update:f,start:f,end:f})}return o}(e,t,n,r,i)),e.data.visible&&o.push(...function KLe(e,t,n,i){let r=[];if(!("cloner"in n)||!e.cloner)return r;let o=e.cloner,s="cloner"in t?t.cloner:{},a=n.cloner;vG.forEach(f=>{let v;v="count"===f?ng("count",o.parameters,s,a,i,!0):uf(f,o.parameters,s??{},a,i),v&&r.push(v)});let l=function QLe(e,t,n,i){if("radial"!==e.parameters.type)return;let r=t.radial,o=n.radial;if(!o)return;let s=e.parameters.radial,a=[];return yG.forEach(l=>{let c=uf(l,s,r??{},o,i);c&&a.push(c)}),a}(o,s,a,i);l?.length&&r.push(...l);let c=function ZLe(e,t,n,i){if("linear"!==e.parameters.type)return;let r=t.linear,o=n.linear;if(!o)return;let s=[],a=e.parameters.linear;return _G.forEach(l=>{let c=uf(l,a,r??{},o,i);c&&s.push(c)}),s}(o,s,a,i);c?.length&&r.push(...c);let h=function JLe(e,t,n,i){if("grid"!==e.parameters.type)return;let r=t.grid,o=n.grid;if(!o)return;let s=[],a=e.parameters.grid;return bG.forEach(l=>{let c;c="count"===l?qX(l,a,r??{},o,i,!0):uf(l,a,r??{},o,i),c&&s.push(c)}),s}(o,s,a,i);h?.length&&r.push(...h);let d=function eBe(e,t,n,i){if("toObject"!==e.parameters.type)return;let r=t.toObject,o=n.toObject;if(!o)return;let s=[],a=e.parameters.toObject;return xG.forEach(l=>{let c;c="count"===l?ng(l,a,r??{},o,i,!0):uf(l,a,r??{},o,i),c&&s.push(c)}),s}(o,s,a,i);d?.length&&r.push(...d);let u=function tBe(e,t,n,i){if(!e.parameters.randomness)return;let r=t.randomnessObject,o=n.randomnessObject;if(!o)return;let s=[],a=e.parameters.randomnessObject;return wG.forEach(l=>{let c=uf(l,a,r??{},o,i);c&&s.push(c)}),s}(o,s,a,i);return u?.length&&r.push(...u),r.length&&r.push({update:()=>{o.update()}}),r}(e,t,n,i)),Pd(e)?(e instanceof el&&e.data.visible&&o.push(...function FLe(e,t,n,i){let r=[];if(!("geometry"in n))return r;let o=e.geometry.userData.parameters,s="geometry"in t?t.geometry:{},a=n.geometry;if(e instanceof db){let l=function RLe(e,t,n,i){if(void 0===n.scaleBaked)return;let r=(t.scaleBaked??e.data.geometry.scaleBaked).map(a=>"string"==typeof a?Number(i.getVariable(a)??0):a),o=n.scaleBaked.map(a=>"string"==typeof a?Number(i.getVariable(a)??0):a);if(Rm.isEqual(r,o))return;let s=[];return s.push({update:a=>{e.updateGeometryInteractions({scaleBaked:[Ln.lerp(r[0],o[0],a),Ln.lerp(r[1],o[1],a),Ln.lerp(r[2],o[2],a)]},i),e.invalidateDownstreamBooleanData()},start:()=>{e.updateGeometryInteractions({scaleBaked:r},i),e.invalidateDownstreamBooleanData()},end:()=>{e.updateGeometryInteractions({scaleBaked:o},i),e.invalidateDownstreamBooleanData()}}),s}(e,s,a,i);l&&r.push(...l)}else{let l={};if(Object.assign(l,bu(o,AG)),AG.forEach(c=>{let h=uf(c,l,s,a,i);h&&r.push(h)}),e instanceof gI){Object.assign(l,{extrusion:{...o.extrusion}});let c=function NLe(e,t,n,i){if(!n.extrusion)return;let r=e.extrusion,o=t.extrusion??{},s=n.extrusion,a=[];return DG.forEach(l=>{let c=uf(l,r,o,s,i);c&&a.push(c)}),a}(l,s,a,i);c&&r.push(...c)}r.length&&r.push({update:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded()},start:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded()},end:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded()}})}return r}(e,t,n,i)),e.data.visible&&o.push(...function BLe(e,t,n,i){let r=[];if(Array.isArray(e.material)){if(!("materials"in n)||!n.materials)return r;let o="materials"in t&&t.materials?t.materials:[],s=n.materials;e.material.forEach((a,l)=>{if(!s[l])return;let c=o[l]??{},h=s[l];"string"==typeof c||"string"==typeof h||r.push(...XX(a,c,h,i))})}else{if(!("material"in n)||!n.material)return r;let o="material"in t&&t.material?t.material:{},s=n.material;if("string"==typeof o||"string"==typeof s)return r;r.push(...XX(e.material,o,s,i))}return r}(e,t,n,i))):(e=>eI.is(e))(e)?e.data.visible&&o.push(...function LLe(e,t,n,i){let r=[];if(void 0!==n.intensity){let o=ng("intensity",e,t,n,i);o&&r.push(o)}if(void 0!==n.color){let o=function kLe(e,t,n,i,r){let o=n[e]?n[e]:void 0,s=i[e];if(!s)return;let a=t[e],l=o?"string"==typeof o?r.getColor(o).clone():(new qn).setRGB(o.r,o.g,o.b):a.clone(),c="string"==typeof s?r.getColor(s).clone():(new qn).setRGB(s.r,s.g,s.b);if(l.equals(c))return;let h=a.clone();return t[e]=h,{update:d=>{h.lerpColors(l,c,d)},start:()=>{h.copy(l)},end:()=>{h.copy(c)}}}("color",e,t,n,i);o&&r.push(o)}return r}(e,t,n,i)):(e=>e instanceof Pa)(e)&&o.push(...function ILe(e,t,n,i){let r=[],s="OrthographicCamera"===e.cameraType?n.orthographic?.zoom:n.perspective?.zoom;if(void 0!==s){let a=("OrthographicCamera"===e.cameraType?t.orthographic?.zoom:t.perspective?.zoom)??e.zoom,l=s;a!==l&&r.push({update:c=>{e.zoom=Ln.lerp(a,l,c),e.updateProjectionMatrix()},start:()=>{e.zoom=a,e.updateProjectionMatrix()},end:()=>{e.zoom=l,e.updateProjectionMatrix()}})}if(void 0!==n.targetOffset){let a=ng("targetOffset",e,t,n,i);a&&r.push(a)}return r}(e,t,n,i)),o.length?{update:s=>{o.forEach(a=>a.update(s))},start:s=>{o.forEach(a=>a.start?.(s))},end:s=>{o.forEach(a=>a.end?.(s))}}:void 0}var QX=new ne;function $I(e,t,n=!1){let i=[];e.traverseChildren(r=>{if(n&&(r.rigidBody?.setTranslation(r.position0,!0),r.rigidBody?.setRotation(r.rotation0,!0),r.rigidBody?.setLinvel(QX,!0),r.rigidBody?.setAngvel(QX,!0)),!Zi.is(r))return;let o=r.uuid,s=r.data;if(delete r.states,r.uuid===gv)return;let a=!1;i.some(l=>e.scene.find(o)?.isDescendantOf(l))?a=!0:!0===s.physics?.fusedBody&&"dynamic"===s.physics.rigidBody&&i.push(o),r.data=s,r.currentState=null,r.reversibleToState=null,r.currentTransitionEvent=null;for(let l of s.states){let c={...l.data};!0===e.data.globalPhysics.usePhysics&&s.physics&&("dynamic"===s.physics.rigidBody||a)&&(void 0!==l.data.position&&delete c.position,void 0!==l.data.rotation&&delete c.rotation,void 0!==l.data.hiddenMatrix&&delete c.hiddenMatrix),r.states||(r.states={}),r.states[l.id]=Fm.patch(s,c)}(function iBe(e,t,n,i,r=!1){if(t instanceof el&&t.removeInteractionGeometry(),t.changeSelectedState(n,{scene:e,shared:i},r),t instanceof el&&t.updateGeometryGroupsIfNeeded(),t instanceof Pa&&t.updateCameraState(t.dataPatched,{scene:e,shared:i}),t.cloner)for(let o of t.cloner.children)o.playModeVisible=void 0;t.updateVisible()})(e.scene,r,null,t,void 0!==s.events.find(l=>"Follow"===l.data.type||"LookAt"===l.data.type)),function nBe(e){e.traverseEntity(t=>{for(let n of t.data.events){let i=[];switch(n.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":i.push(...n.data.actions);break;case"GameControl":for(let r of Object.values(n.data.gameActions))i.push(...r);break;case"DragDrop":i.push(...n.data.dragDropActions.drag,...n.data.dragDropActions.drop);break;case"Conditional":i.push(...n.data.inActions,...n.data.outActions)}for(let r of i)if("Create"===r.data.type&&"Yes"===r.data.hideBase){let o=e.scene.find(r.data.object);o&&(o.visible=!1)}}})}(e)})}function ZX(e){let t;if(5===e.easing){let{control1:n,control2:i}=e;t=`cubicBezier(\n\t\t\t${n[0]}, ${n[1]}, ${i[0]}, ${i[1]}\n\t\t)`}else if(6===e.easing){let{mass:n,stiffness:i,damping:r,velocity:o}=e;t=`spring( ${n}, ${i}, ${r}, ${o} )`}else{let n;switch(e.easing){case 0:default:n=Hp.linear;break;case 1:n=Hp.ease;break;case 2:n=Hp.easeIn;break;case 3:n=Hp.easeOut;break;case 4:n=Hp.easeInOut}let[i,r,o,s]=n;t=`cubicBezier( ${i}, ${r}, ${o}, ${s} )`}return{duration:e.duration,easing:t}}function KI(e){let t={delay:0,loop:-1===e.repeat||e.repeat+1};if(0===e.repeat)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay}return"alternate"===t.direction&&(t.delay/=2,t.endDelay/=2,"start"===e.delayDirection?(t.pingPongDelayCorrection=t.delay,"number"==typeof t.loop&&t.loop%2==0&&(t.pingPongEndDelayCorrection=t.delay)):"end"===e.delayDirection?"number"==typeof t.loop&&t.loop%2!=0&&(t.pingPongEndDelayCorrection=t.endDelay):"start-end"===e.delayDirection&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var rBe={type:"beginState"},oBe={type:"completeState",isfromEntity:!1},JX=class{constructor(e,t,n,i,r,o){if(this.object=e,this.data=i,this.sharedAssets=r,this.allowSlerp=o,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.dispatchEvent({type:"requestRender"})),0===this.targets.t||1===this.targets.t?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let s=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=s,this.object.dispatchEvent({type:"beginState",state:s}),this.object.traverseEntity(a=>{a!==this.object&&a instanceof Pa&&a.dispatchEvent(rBe)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let s=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=s,this.object.dispatchEvent({type:"completeState",state:s}),this.object.traverseEntity(a=>{a!==this.object&&a instanceof Pa&&a.dispatchEvent(oBe)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=KX(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},void 0===t){let s=t2(this.object,this.object.currentState===n?this.object.prevState:this.object.currentState);if(!s)throw new Error("Missing property");this.from=s}else{let s=t2(this.object,t);if(!s)throw new Error("Missing property");this.from=s}if(void 0===n)throw new Error("Missing property");{let s=t2(this.object,n);if(!s)throw new Error("Missing property");this.to=s}this.useCurrentState=void 0===t||void 0===n,this.params={targets:this.targets,t:1,autoplay:!1,...KI(i),...ZX(i),change:this.onChange},this.callback=KX(this.object,void 0===t?{}:this.from.data,void 0===n?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},e$=class extends ta{constructor(e,t,n,i){if(super(),this.data=e,this.page=t,this.shared=n,this.condition=i,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.useToggle=!1,this.onTimelineChangeComplete=()=>{"normal"!==this.data.tweens[0].data.direction&&(this.toggleIsForward=!this.toggleIsForward),!1!==this.timelineNeedsRebuild&&(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!e.object)throw new Error("Missing property");let r=this.page.scene.find(e.object);if(!r)throw new Error("Missing property");if(!r.states)throw new Error("Missing property");if(this.object=r,e.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay="start-once"===e.tweens[0].data.delayDirection?e.tweens[0].data.delay:0,this.init()}get playing(){return this.timeline&&!1===this.timeline.paused}init(){this.initialCurrentState=t2(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.useToggle?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:n=!1}={}){try{let i=KI(this.data.tweens[0].data);n&&"number"==typeof i.loop&&i.loop--,this.timeline?.pause(),this.timeline=VX.timeline({autoplay:!1,...i,...!0===i.loop||i.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}});let r=this.tweens.findIndex(o=>o?.changeBegan);if(!0===t&&(this.timelineNeedsRebuild=!0),e){let o=-1===r?0:r;for(let s=o;s<this.data.tweens.length-1;s++){let c,a=this.data.tweens[s],l=this.data.tweens[s+1];s!==o||!0!==this.object.wasMovedByUser&&!0!==this.object.previousAction?.playing?c=void 0===a.data.state?this.currentState:a.data.state:(c=void 0,this.object instanceof Pa&&(this.object.wasMovedByUser=!1));let h=new JX(this.object,c,void 0===l.data.state?this.currentState:l.data.state,l.data,this.shared,this.data.allowSlerp??!1);-1!==r&&s===o&&Object.assign(h.params,{startOnceDelay:0}),this.tweens[s]=h,this.timeline.add(h.params,this.timeline.duration+(s===o?i.delay:0))}this.timeline.duration+=i.endDelay}else{let o=-1===r?this.data.tweens.length-1:r+1;for(let s=o;s>0;s--){let c,a=this.data.tweens[s],l=this.data.tweens[s-1];s!==o||!0!==this.object.wasMovedByUser&&!0!==this.object.previousAction?.playing?c=void 0===a.data.state?this.currentState:a.data.state:(c=void 0,this.object instanceof Pa&&(this.object.wasMovedByUser=!1));let h=new JX(this.object,c,void 0===l.data.state?this.currentState:l.data.state,a.data,this.shared,this.data.allowSlerp??!1);-1!==r&&s===o&&Object.assign(h.params,{startOnceDelay:0}),this.tweens[s-1]=h,this.timeline.add(h.params,this.timeline.duration+(s===o?i.endDelay:0))}this.timeline.duration+=i.delay}}catch(i){i instanceof Error&&console.error(i.message)}!0===this.object.previousAction?.playing&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(!1===fs(this.shared,this.condition)||this.playing)return!1;clearTimeout(this.timeoutId);let e=KI(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(t){t instanceof Error&&console.error(t.message)}},this.startOnceDelay+e)}pause(){this.timeline?.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=void 0===this.data.tweens[0].data.state?this.initialCurrentState:this.data.tweens[0].data.state;this.object.changeSelectedState(e,{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){void 0===this.timeline&&this.buildTimeline(),this.timeline?.seek(e*this.timeline.duration,!0)}toggle(e){if(!1===fs(this.shared,this.condition))return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward,this.playing?(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function t2(e,t){let n,i;if("string"==typeof t?(n=t,i=e.states?.[n]):null===t&&(n=null,i=e.data),void 0!==n&&void 0!==i)return{id:n,data:i}}var sBe={type:"beginState"},t$={type:"completeState",isfromEntity:!1},n$={type:"requestRender"},i$=class extends ta{constructor(e,t,n,i){super(),this.data=e,this.page=t,this.shared=n,this.condition=i,this.toggleIsForward=!1,this.useToggle=!1,this.posStart=new ne,this.posEnd=new ne,this.qStart=new hi,this.qEnd=new hi,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let n={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=VX({targets:n,t:1,...ZX(this.data),update:()=>{0===n.t&&(this.useToggle&&!this.toggleIsForward?(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)),this.page.activeCamera.dispatchEvent(sBe));let i=this.page.activeCamera;i.position.lerpVectors(this.posStart,this.posEnd,n.t),i.quaternion.slerpQuaternions(this.qStart,this.qEnd,n.t),i.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*n.t,i.wasMovedBySwitchCameraAction=!0,i.updateMatrix(),i.updateMatrixWorld(),i.updateProjectionMatrix(),i.dispatchEvent(n$),1===n.t&&i.dispatchEvent(t$)}})}switchCamera(e){let t=this.page.scene.find(e);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(t),this.page.activeCamera.dispatchEvent({type:"cameraChange",camera:t})}play(){if(!1===fs(this.shared,this.condition))return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{delete this.timeoutId,this.data.animate?(this.buildAnimation(),this.animation?.play()):this.switchCamera(this.data.targetCamera)},1e3*this.data.delay)}catch{}}pause(){this.animation?.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){if(!1===fs(this.shared,this.condition))return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward;try{this.playing?(this.animation?.pause(),this.buildAnimation(!0),this.animation?.play()):this.timeoutId=window.setTimeout(()=>{delete this.timeoutId,this.data.animate?(this.animation?.pause(),this.buildAnimation(),this.animation?.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(t$),this.page.activeCamera.dispatchEvent(n$))},1e3*this.data.delay)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}},r$=class extends ta{constructor(e,t,n,i,r){super(),this.page=t,this.animationControls=n,this.shared=i,this.condition=r,this.startOnceDelay=0,this.toggleIsForward=!1;let o=e.object,s=t.scene.find(e.object);s&&Array.isArray(s.identity)&&(o=s.identity[0]),this.data={...e,object:o};let a=this.animationControls.clipIdToAction[e.clipId+"/"+o];this.duration=a?.getClip()?.duration??1;let l=a?.getClip()?.tracks[0]?.times.length??1/0;this.leftFrameTime=this.data.crop[0]/l*this.duration,this.rightFrameTime=this.data.crop[1]/l*this.duration,this.startOnceDelay=e.delay}get playing(){return this.threeAnimAction?.isRunning()??!1}play(e=!1){if(!1===fs(this.shared,this.condition))return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([n,i])=>{let r=n.split("/")[1];this.threeAnimAction!==i&&r===t&&i.isRunning()&&(e?i.fadeOut(.2):i.stop())}),e&&this.threeAnimAction?.fadeIn(.2)},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){this.threeAnimAction?.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=Ln.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(!1===fs(this.shared,this.condition))return!1;this.toggleIsForward=e??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let n=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([i,r])=>{let o=i.split("/")[1];this.threeAnimAction!==r&&o===n&&r.isRunning()&&(t?r.fadeOut(.2):r.stop())}),t&&this.threeAnimAction?.fadeIn(.2)}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){let e=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object]?.getClip();e&&(e.duration=this.duration),this.pause()}},o$=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.eventManager=n,this.shared=i,this.condition=r,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(!1===fs(this.shared,this.condition))return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},1e3*this.data.delay))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(t=>t.uuid!==this.data.target))return;"fade"===this.data.transition&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,1e3*this.data.duration),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),$I(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},s$=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=fs(this.shared,this.condition)}dispatch(){if(!1===this.evaluatedCondition)return!1;let e=this.shared.getVariable(this.data.variableId),t=qW(this.data.expression,this.shared,tc.typeOfVariable(e));void 0!==t&&this.shared.updateVariable(this.data.variableId,"string"==typeof t?{textValue:t}:t)}dispose(){}},a$=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.timeoutId=null}dispatchInner(){if(!1===fs(this.shared,this.condition))return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if("PlayPause"===this.data.mode)void 0===this.shared.getDynamicVariableToggleIsForward(this.data.variableId)&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"===e?"Paused":"Playing");else if("Play"===this.data.mode&&"Playing"!==e)void 0===this.shared.getDynamicVariableToggleIsForward(this.data.variableId)&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if("Stop"===this.data.mode&&"Stopped"!==e)this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if("Pause"===this.data.mode&&"Paused"!==e)this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if("Restart"===this.data.mode)this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if("Toggle"===this.data.mode){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);"Playing"===e?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,void 0!==t&&!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);"PlayPause"===this.data.mode&&"Playing"===t&&(e=this.data.pauseDelay),0!==e?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}};function fs(e,t){if(void 0===t)return!0;if(0===t.expression.length)return!1;let n=qW(t.expression,e,"boolean");return t.negate?!n:!!n}function il(e,t,n,i,r,o){let s={Audio:[],Video:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[]},a=l=>({id:c,data:h})=>{try{"Audio"===h.type?ec[e.type].includes("Audio")&&s.Audio.push(new vX(c,h,o,i,l)):"Video"===h.type?ec[e.type].includes("Video")&&s.Video.push(new c$(c,h,o,i,l)):"Link"===h.type?ec[e.type].includes("Link")&&s.Link.push(new class{constructor({url:e,context:t},n,i,r){if(this.controlsManager=n,this.shared=i,this.condition=r,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:function ZFe(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return((e,{stripHash:t})=>{let n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:i,data:r,hash:o}=n.groups,s=i.split(";");o=t?"":o;let a=!1;"base64"===s[s.length-1]&&(s.pop(),a=!0);let l=(s.shift()||"").toLowerCase(),c=[...s.map(h=>{let[d,u=""]=h.split("=").map(f=>f.trim());return"charset"===d&&(u=u.toLowerCase(),"us-ascii"===u)?"":`${d}${u?`=${u}`:""}`}).filter(Boolean)];return a&&c.push("base64"),(c.length>0||l&&"text/plain"!==l)&&c.unshift(l),`data:${c.join(";")},${a?r.trim():r}${o?`#${o}`:""}`})(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===i.protocol&&(i.protocol="http:"),t.forceHttps&&"http:"===i.protocol&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,s=0,a="";for(;;){let c=o.exec(i.pathname);if(!c)break;let h=c[0],d=c.index;a+=i.pathname.slice(s,d).replace(/\/{2,}/g,"/"),a+=h,s=d+h.length}a+=i.pathname.slice(s,i.pathname.length).replace(/\/{2,}/g,"/"),i.pathname=a}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=i.pathname.split("/");yX(o[o.length-1],t.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...i.searchParams.keys()])yX(o,t.removeQueryParameters)&&i.searchParams.delete(o);if(!0===t.removeQueryParameters&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let r=e;return e=i.toString(),!t.removeSingleSlash&&"/"===i.pathname&&!r.endsWith("/")&&""===i.hash&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===i.pathname)&&""===i.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}(e,{removeTrailingSlash:!1,removeSingleSlash:!1}),this.context=t??"tab"}dispatch(){if(!1===fs(this.shared,this.condition))return!1;LT?window.location.assign(this.url):("tab"===this.context?window.open(this.url,"_blank"):"window"===this.context?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),this.controlsManager.orbitControls?.onPointerUp(ni[0]),function hTe(){ni.splice(0,ni.length)}())}}(h,r.controlsManager,i,l)):"Create"===h.type?ec[e.type].includes("Create")&&s.Create.push(new p$(h,n,r.controlsManager,i,l)):"Destroy"===h.type?ec[e.type].includes("Destroy")&&s.Destroy.push(new _X(h,n,r.controlsManager,i,l)):"Reset"===h.type?ec[e.type].includes("Reset")&&s.Reset.push(new bX(h,n,i,r,l)):"Transition"===h.type?ec[e.type].includes("Transition")&&s.Transition.push(new e$(h,n,i,l)):"SwitchCamera"===h.type?ec[e.type].includes("SwitchCamera")&&s.SwitchCamera.push(new i$(h,n,i,l)):"SceneTransition"===h.type?ec[e.type].includes("SceneTransition")&&s.SceneTransition.push(new o$(h,n,r,i,l)):"Animation"===h.type?ec[e.type].includes("Animation")&&s.Animation.push(new r$(h,n,r.animationControls,i,l)):"SetVariable"===h.type?ec[e.type].includes("SetVariable")&&s.SetVariable.push(new s$(h,n,i,l)):"DynamicVariablePlay"===h.type?ec[e.type].includes("DynamicVariablePlay")&&s.DynamicVariablePlay.push(new a$(h,n,i,l)):"Conditional"===h.type&&ec[e.type].includes("Conditional")&&(h.ifActions.forEach(a({expression:h.condition,negate:!1})),h.elseActions.forEach(a({expression:h.condition,negate:!0})))}catch{}};return t.forEach(a()),s}function Xs(e){Object.values(e).forEach(t=>{t.forEach(n=>{(n instanceof vX||n instanceof c$||n instanceof r$||n instanceof e$||n instanceof p$||n instanceof _X||n instanceof i$||n instanceof o$||n instanceof bX||n instanceof s$||n instanceof a$)&&n.dispose()})})}var l$=new Map,wb=new Map,c1=class{constructor(e,t,n){this.data=t,this.delay=0,this.status="stopped";let{layerId:i,loop:r,volume:o,delay:s}=t;if(this.object=n,void 0===i)throw new Error("Missing property");let a=function aBe(e,t){let n;if("material"in e&&(n=Array.isArray(e.material)?e.material[0].layers.find(r=>r.uuid===t):e.material.layers.find(r=>r.uuid===t)),n)return n.color.texture.image.img instanceof HTMLVideoElement?n.color.texture.image.img:void 0}(n,i);a&&(this.videoElement=a,this.videoElement.loop=r===1/0,LT&&(this.videoElement.autoplay=!0),void 0!==o&&(this.videoElement.volume=o)),void 0!==s&&(this.delay=s),wb.has(n.uuid)?wb.get(n.uuid).push(this):wb.set(n.uuid,[this]),l$.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let n=this.videoElement.play();void 0!==n&&n.then(i=>{}).catch(i=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){"stop"===this.data.toggle?"playing"===this.status?this.stop():(this.stop(),this.play()):"pause"===this.data.toggle?"playing"===this.status?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},QI=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=l$.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t[this.data.interaction](),this.disposeDelay()},this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=wb.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(n=>n[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(n=>n[this.data.interaction]()))}pauseAllVideos(){let e=[...wb.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(n=>{n[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(n=>{n[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},c$=class{constructor(e,t,n,i,r){if(this.data=t,this.shared=i,this.condition=r,"play"===t.interaction)this.interaction=new c1(e,t,n);else{if("pause"!==t.interaction&&"stop"!==t.interaction)throw new Error("Missing property");this.interaction=new QI(t)}}dispatchBasic(){if(!1===fs(this.shared,this.condition))return!1;this.interaction instanceof c1?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(!1===fs(this.shared,this.condition))return!1;this.interaction instanceof c1?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},d$=(()=>{let e,t,n,i;function r(a){!e&&!h$()&&t?.sharedGameControlGlobals.createdObjects.length>0&&(e=requestAnimationFrame(o)),a&&(t=a,i=a.requestRender)}function o(a){let l=n?a-n:0,c=t.sharedGameControlGlobals.createdObjects,h=t.sharedGameControlGlobals.nCreatedPerAction,d=c.length,u=0;for(;u<d;){let f=c[u];void 0===f.userData.createdTime&&(f.userData.createdTime=a),void 0===f.userData.lifetime&&void 0===f.userData.quantity||f.userData.lifetime&&a-f.userData.createdTime<f.userData.lifetime||f.userData.quantity&&h[f.userData.actionId]<=f.userData.quantity?(f.userData.velocity&&(f.position.addScaledVector(f.userData.velocity,l/1e3),f.updateMatrix(),i()),u++):(h[f.userData.actionId]>f.userData.quantity&&h[f.userData.actionId]--,c.splice(u,1),f.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&f.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(f.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(f.rigidBody)):(f.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter(v=>void 0!==v.bvhGeometry)),d--,i())}e=u>0?requestAnimationFrame(o):void 0,n=u>0?a:void 0}return typeof document<"u"&&document.addEventListener("visibilitychange",function s(){h$()?e&&(cancelAnimationFrame(e),e=void 0,n=void 0):r()}),r})();function h$(){return!!document&&document.hidden}var u$=new hi,lBe=new ne,cBe=new ne,p$=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.controlsManager=n,this.shared=i,this.condition=r,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=Ln.generateUUID(),this.dispatch=()=>{if(!1===fs(this.shared,this.condition))return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay)):this.dispatchInner()},this.dispatchFromStart=()=>{if(!1===fs(this.shared,this.condition))return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay))},this.dispatchThrottled=function QAe(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return vd(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),NT(e,t,{leading:i,maxWait:t,trailing:r})}(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{null===this.intervalId&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{null!==this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let s=new Ma(this.object);if(s.playModeVisible=!0,s.expand(),"world"!==this.data.coordinateSystem){let c=this.page.scene.find(this.data.coordinateSystem);c&&(c.updateMatrixWorldSVD(),s.hiddenMatrix.copy(c.matrixWorldRigid))}s.position.fromArray(this.data.position),s.rotation.fromArray(this.data.rotation),s.updateMatrix(),this.page.add(s);let a=this.controlsManager.sharedGameControlGlobals;a.createdObjects.push(s),void 0===a.nCreatedPerAction[this.uniqueId]?a.nCreatedPerAction[this.uniqueId]=1:a.nCreatedPerAction[this.uniqueId]++,s.updateWorldMatrix(!0,!0),s.traverseObject(this.traverseObjectCB),d$(),this.controlsManager.requestRender()},this.traverseObjectCB=s=>{let a;if(s.hasNonUniformScale&&s.updateMatrixWorldSVD(),this.controlsManager.sharedGameControlGlobals.rapierWorld){if(s instanceof Cd){if(!s.objectForSample)return!0===s.object.dataPatched.physics.fusedBody&&"dynamic"===s.object.dataPatched.physics.rigidBody||void 0;if(s.objectForSample.dataPatched.physics.fusedBody)return;a=s.object}else if(s instanceof Ma)a=s.object;else if(a=s,a.dataPatched.cloner?.hideBase)return!0}else{if(s instanceof Cd)return;a=s instanceof Ma?s.object:s}"Time"===this.data.destroy?s.userData.lifetime=1e3*this.data.lifetime:"Quantity"===this.data.destroy&&(s.userData.quantity=this.data.destroyAfterQuantity,s.userData.actionId=this.uniqueId);let l=(new ne).fromArray(this.data.velocity),c=a.dataPatched;if(!("visibility"===c.physics.enabled?!c.visible:!c.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(s,a,{fromCreate:!0,dynamic:this.data.dynamic}),"Collision"===this.data.destroy&&(s.rigidBody?.collider(0).setActiveEvents(1),s.userData.hasCollisionDestroy=!0),s.matrixWorld.decompose(lBe,u$,cBe),l.applyQuaternion(u$),this.data.velocity.some(h=>0!==h)&&this.data.dynamic&&s.rigidBody?.setLinvel(l.divideScalar(this.controlsManager.pixelsPerMeter),!0)):("geometry"in s.object&&this.controlsManager.addBoundsTree(s),this.data.velocity.some(h=>0!==h)&&this.data.dynamic&&(s.userData.velocity=l)),!0===a.dataPatched.physics?.fusedBody))return!0};let o=this.page.scene.find(this.data.object);if(!o)throw new Error("Missing Property");if(this.object=o,"world"!==this.data.coordinateSystem&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");d$(n)}dispose(){null!==this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(e=>window.clearTimeout(e)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},m$=(new ne,new ne),g$=new ne,hBe=new ne,rl=new ne,Sl=new ne,pf=new ne,eR=new Ut,v$=new Ut,uBe=new Ut,Ed=(new Ut,new hi),Lu=new hi,Ah=new Gs(0,0,0,"YXZ"),pBe=new ne(1,0,0),Dd=new ne(0,1,0),fBe=new ne(0,0,1),y$=new ne(1,1,1),$s=(new ml,new Oc),Bc=new Ko,_Be={type:"requestRender"},bBe={type:"updateMatrix"},b$=Math.PI/6,tR=class extends ta{constructor(e,t,n,i,r,o,s,a,l){super(),this.object=e,this.domElement=t,this.data=n,this.gloabalPhysics=i,this.controlsManager=r,this.cameraFollow=o,this.camera=s,this.page=a,this.sharedAssets=l,this.enableDamping=!0,this.hiddenMatrix0=new Ut,this.target0=new ne,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=200,this.euler0=new Gs(0,0,0,"YXZ"),this.position0Cam=new ne,this.quat0Cam=new hi,this.scale0Cam=new ne,this.hiddenMatrix0Cam=new Ut,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new Oc(new ne(0,-40,0),new ne(0,40,0)),matrix:new Ut,position:new ne,rotation:new hi},this.euler=new Gs(0,0,0,"YXZ"),this.eulerDelta=new ne,this.lastPosition=new ne,this.lastCameraQuaternion=new hi,this.lastCameraPosition=new ne,this.PI_2=Math.PI/2,this.prevMouse=new Fe,this.velocityTarget=new ne,this.velocity=new ne,this.directionXZ=new ne,this.rotVelocityStick=new ne,this.rotVelocityTarget=new ne,this.rotVelocity=new ne,this.rotDirection=new ne,this.nonColliderRotOffset=new Ut,this.nonColliderPosOffset=new Ut,this.firstPointerId=-1,this.rot=new ne,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new Ut,this.objectToTarget=new ne,this.objectToTarget0=new ne,this.objectToCamXZ=new ne,this.objectToCamXZ0=new ne,this.targetToCamera=new ne,this.targetToCamera0=new ne,this.cameraPolarAxis0=new ne,this.targetPos=new ne,this.targetQuat=new hi,this.lerpFactorPos=(new ne).setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new hi,this.objXZQuatInv=new hi,this.objXZRotMat=new Ut,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new ne,this.pushedVelocity=new ne,this.groundYRotation=0,this.objectRealQuat=new hi,this.colliderWorldQuat=new hi,this.groundNormal=new ne,this.groundTilt=new hi,this.groundTiltInv=new hi,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new ne,this.quaternion=new hi,this.scale=new ne,this.initialAction=!0,this.onPointerDown=v=>{v.target!==this.domElement||-1!==this.firstPointerId||(this.firstPointerId=v.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),"keys"!==this.rotBy&&!Zl&&(!vH||yH>=15.5)&&this.domElement.requestPointerLock(),this.prevMouse.set(v.clientX,v.clientY))},this.onPointerUp=v=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),"mouse"===v.pointerType&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=v=>{if(v.pointerId!==this.firstPointerId)return;let y=v.clientX-this.prevMouse.x,_=v.clientY-this.prevMouse.y;this.prevMouse.set(v.clientX,v.clientY),"mouse"===v.pointerType&&"keys"!==this.rotBy&&(vH&&yH<15.5&&!Zl?(this.eulerDelta.y=-y*this.mouseOrbitSensitivity,this.eulerDelta.x=-_*this.mouseOrbitSensitivity):(this.eulerDelta.y=-v.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-v.movementY*this.mouseOrbitSensitivity)),"mouse"!==v.pointerType&&"drag"===this.rotByTouch&&(this.eulerDelta.y=-y*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-_*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=v=>{tR.isLocked=this.domElement.ownerDocument.pointerLockElement===this.domElement},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document?.hidden)for(let v in this.movementState)this.movementState[v]=0},this.onKeyDown=v=>{!(v.target instanceof HTMLInputElement)&&("ArrowLeft"===v.code||"ArrowUp"===v.code||"ArrowRight"===v.code||"ArrowDown"===v.code||"Space"===v.code)&&v.preventDefault();for(let y of this.keyAssignments)if(v.key.toUpperCase()===y[1]||v.key===y[1]){this.movementState[y[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=v=>{for(let y of this.keyAssignments)if(v.key.toUpperCase()===y[1]||v.key===y[1]||v.code.slice(3,v.code.length).toUpperCase()===y[1]){this.movementState[y[0]]=0;break}},this.copyVRGamePadValues=(v,y)=>{for(let _=2;_<4;_++){let w=v.axes[_];0===y?2===_?this.movementState.movePosX=w:this.movementState.movePosZ=w:(this.movementState.jump=v.buttons[3].pressed?1:0,2===_?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(w)>=.3&&(this.vrEulerYOffset+=w<0?1:-1),this.movementState.rotPosY=w):"fly"===this.moveMode&&(this.movementState.moveNegY=w))}},this.sharedGameControlGlobals=r.sharedGameControlGlobals,e===s&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let c=this.euler0.clone(),h=c.y;if(this.objectRealQuat.copy(this.quaternion),c.y=0,this.quaternion.setFromEuler(c),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),c.set(0,h,0),this.quaternion.setFromEuler(c),this.rot.setFromEuler(c),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||!0===this.cameraFollow)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),!0===this.cameraFollow){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy(this.camera?.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let _,w,v=new ne(0,0,-1).applyQuaternion(this.camera.quaternion),y=(new ne).subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(y),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ),Math.abs(v.y)<1e-6?(y.y=0,v.y=0,w=y.projectOnVector(v)):w=v.multiplyScalar(y.y/v.y>0?y.y/v.y:y.length()),this.targetToCamera0.copy(w).negate(),_=this.camera.position.clone().add(w),this.objectToTarget0.subVectors(_,this.position);let O=(new Gs).setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-O.x,O.x=0,O.z=0,O.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(O)}if(this.object instanceof Pa&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=n.rotByTouch??"joystick",this.rotBy=n.rotBy??"keys",this.rotationMode=n.rotationMode??"normal",this.moveMode=n.moveMode??"walk",this.collisionEnabled=n.collisionEnabled,this.speedTranslate=1*(n.speedTranslate??250),this.speedOrbit=.025*(n.speedRotate??100),this.mouseOrbitSensitivity=16e-6*(n.speedRotate??100),this.keyAssignments=n.keyAssignments.map(v=>{let y=[v[0],v[1]];return"\u25b2"===y[1]?y[1]="ArrowUp":"\u25c0"===y[1]?y[1]="ArrowLeft":"\u25bc"===y[1]?y[1]="ArrowDown":"\u25b6"===y[1]?y[1]="ArrowRight":"\u21e7"===y[1]?y[1]="Shift":"\u21b5"===y[1]?y[1]="Enter":"Space"===y[1]?y[1]=" ":"\u2318"===y[1]?y[1]="Meta":"Ctrl"===y[1]?y[1]="Control":"Esc"===y[1]&&(y[1]="Escape"),y}),"mouse"===n.rotBy){let v;v=this.keyAssignments.findIndex(y=>"rotNegX"===y[0]),-1!==v&&(this.keyAssignments[v][1]=""),v=this.keyAssignments.findIndex(y=>"rotPosX"===y[0]),-1!==v&&(this.keyAssignments[v][1]=""),v=this.keyAssignments.findIndex(y=>"rotPosY"===y[0]),-1!==v&&(this.keyAssignments[v][1]=""),v=this.keyAssignments.findIndex(y=>"rotNegY"===y[0]),-1!==v&&(this.keyAssignments[v][1]="")}this.lerpFactorPosStart=1-.02**(1/(60*(n.delayPos[0]??.3))),this.lerpFactorPosEnd=1-.02**(1/(60*(n.delayPos[1]??.3))),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/(60*(n.delayRot[0]??.3))),this.lerpFactorRotEnd=1-.02**(1/(60*(n.delayRot[1]??.3))),this.lerpFactorPosCamera=1-.02**(1/(60*(n.delayPosCamera??.3))),this.lerpFactorRotCamera=1-.02**(1/(60*(n.delayRotCamera??.3))),this.gravity=12*(this.gloabalPhysics.gravity??wv.defaultData.gravity),this.usePhysics=this.gloabalPhysics.usePhysics??wv.defaultData.usePhysics,this.jumpPower=20*n.jumpPower,this.resetYPosition=this.position.y+Math.abs(n.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=n.alignToGround??!1,this.orientMode=n.autoOrientMove?n.orientMode:"none",this.orientWith=n.orientWith??JM.defaultDataThirdPerson.orientWith,this.slopeThresh=65*Math.PI/180,"capsule"===n.collider.type?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=n.collider.height/2-n.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=.02*n.collider.height/this.pixelsPerMeter,this.stepThresh=.3*n.collider.height/this.pixelsPerMeter,this.colliderHeight=n.collider.height):"sphere"===n.collider.type?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*n.collider.radius*.02/this.pixelsPerMeter,this.stepThresh=2*n.collider.radius*.3/this.pixelsPerMeter,this.colliderHeight=2*n.collider.radius):(this.offset=.02*n.collider.height/this.pixelsPerMeter,this.stepThresh=.3*n.collider.height/this.pixelsPerMeter,this.colliderHeight=n.collider.height),this.collider.type=n.collider.type;let d=(new ne).fromArray(n.collider.position),u=(new hi).setFromEuler((new Gs).fromArray([...n.collider.rotation,"XYZ"]));this.collider.position.copy(d).multiply(this.scale),this.collider.rotation.copy(u),this.collider.matrix.compose(d,u,y$),void 0!==n.cameraXAxis&&(this.cameraXAxis=n.cameraXAxis,this.cameraYAxis=n.cameraYAxis,this.minPolarAngle=n.cameraRotXLimits[0],this.maxPolarAngle=n.cameraRotXLimits[1],this.minAzimuthAngleRel=n.cameraRotYLimits[0],this.maxAzimuthAngleRel=n.cameraRotYLimits[1]),this.forwardDir=n.forwardDirection??"-z",this.runMultiplier=n.runMultiplier??2;let f=2*n.navmesh.destinationHelperRadius;if(f>0){let v=new Zn;v.push({fi:0,data:{...yl.defaultData("light","phong"),alpha:0},id:"layer1"}),v.push({fi:0,data:{...yl.defaultData("color"),color:n.navmesh.destinationHelperColor,alpha:n.navmesh.destinationHelperColor.a},id:"layer2"});let y=new zk({layers:v},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new Ha(uW.create({parameters:{width:f,height:f/10,hollow:.7}}),y),this.navMeshPathDest.material.userData.opacity0=n.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let t=(new Gs).setFromQuaternion(this.quaternion,"YXZ"),n=t.y;this.objectRealQuat.copy(this.quaternion),t.y=0,this.quaternion.setFromEuler(t),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),t.set(0,n,0),this.quaternion.setFromEuler(t),this.rot.setFromEuler(t),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof Pa?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();!0===this.cameraFollow&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){this.deactivate(),this.navMeshPathDest?.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;void 0!==e.gameActions&&(this.actions={},ZM.list.forEach(n=>{this.actions[n]=il({...e,disabled:!1,type:"GameControl"},e.gameActions[n],this.page,t,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),Xs(this.actions.idle),Xs(this.actions.move),Xs(this.actions.run),Xs(this.actions.jump)}dispatchStartEvent(e){void 0!==this.actions[e]&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach(t=>{t.play()}),this.actions[e].Animation.forEach(t=>{t.play(!1===this.initialAction)}),this.actions[e].Create.forEach(t=>{t.dispatchStart()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("start")})))}dispatchStopEvent(e){void 0!==this.actions[e]&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach(t=>{t.stop(),null!==t.object.currentState&&t.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[e].Create.forEach(t=>{t.dispatchStop()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("stop")})))}get colliderWorldPosition(){return rl.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,n){if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let i=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let r=60*i,o=!1;if(this.usePhysics&&this.collisionEnabled){let a=Sl.set(0,(0===this.velocity.y?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/120,1)*(this.gravity>0?1:-1):this.velocity.y)*i,0).divideScalar(this.pixelsPerMeter),l=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,a,this.object.rigidBody?.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(l){this.onObject=!0,this.groundNormal.set(l.normal2.x,l.normal2.y,l.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(o=!0),0===l.collider.parent()?.bodyType()&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let c=l.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let h of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(h.rigidBody===c&&h.userData.isFollowingObj!==this.object.uuid){(h.hasNonUniformScale?h.matrixWorldRigid:h.matrixWorld).decompose(rl,Lu,Sl),this.groundVelocity.subVectors(rl,h.prevT),this.object.getWorldPosition(Sl).add(this.collider.position).sub(rl),this.groundYRotation=Ah.setFromQuaternion(Lu).y-h.prevR.y,pf.copy(Sl).applyAxisAngle(Dd,this.groundYRotation),this.groundVelocity.add(pf.sub(Sl)).divideScalar(i);break}}else this.onObject=!1}if("walk"===this.moveMode&&this.collisionEnabled&&(1===this.movementState.jump&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*r),"fly"===this.moveMode&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,"+z"===this.forwardDir&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let a=this.navMeshPathDest.material;if("walk"===this.moveMode&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let l=rl.subVectors(this.path[1],this.position),c=Sl.subVectors(this.path[1],this.path[0]);l.dot(c)<0?this.path.shift():(this.directionXZ.x=c.x,this.directionXZ.z=c.z),a.opacity=a.userData.opacity0}else a.opacity-=.05*a.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.moveForce=this.movementState.run?this.runMultiplier:1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,("walk"===this.moveMode?this.velocityTarget.x+this.velocityTarget.z===0:0===this.velocityTarget.manhattanLength())?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),"walk"===this.moveMode&&(this.lerpFactorPos.y=1),!1===this.didHit&&0===this.pushedVelocity.manhattanLength()||!1===this.usePhysics?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**r),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**r),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**r)):this.velocity.copy(this.velocityTarget),("walk"===this.moveMode?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let s=hBe.copy(this.velocity);if("none"!==this.orientMode&&!1===this.isFirstPerson){let a=Sl.copy(s);a.y=0,s.set(0,s.y,a.length()*("+z"===this.forwardDir?1:-1))}if(this.directionXZ.manhattanLength()>0&&"none"!==this.orientMode)if("camera"===this.orientWith&&this.path.length<=1){let a=rl;this.camera.getWorldDirection(a);let l=pf.copy(Dd).multiplyScalar(a.dot(Dd));a.sub(l);let c=Sl.copy(this.directionXZ);c.x*=-1,this.rot.y=a.angleTo(c)*(a.cross(c).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*("+z"===this.forwardDir?1:-1);if(Ah.setFromVector3(this.rot),"walk"===this.moveMode&&(Ah.x=0),s.applyEuler(Ah),o&&(Lu.setFromUnitVectors(Dd,this.groundNormal),s.applyQuaternion(Lu)),n){let a=Ah.set(0,this.vrEulerYOffset*b$,0);n.applyEuler(a),s.x+=n.x,s.z+=n.z,this.nonColliderPosOffset.elements[13]+=n.y*i}if(!0===this.usePhysics){let a=Sl;this.pushedVelocity.set(0,0,0);for(let l of this.sharedGameControlGlobals.entitiesWithTransformAnim){let c=pf.setFromMatrixPosition(l.matrixWorld).sub(l.prevT).divideScalar(i).divideScalar(this.pixelsPerMeter),h=l.rigidBody.collider(0).castCollider(c,this.object.rigidBody.collider(0),rl.copy(s).divideScalar(this.pixelsPerMeter),i,!1);c.multiplyScalar(this.pixelsPerMeter);let d=Zi.is(l)?l:l.object;if(null!==h&&this.lastHitObj!==d){let u;l instanceof Ma&&(u=l);let f=this.sharedGameControlGlobals.entityToCollisionEvents[d.uuid];if(f)for(let v of f)"character"===v.data.target&&(v.dispatch(u),d.dispatchEvent(gR));this.lastHitObj=d}if(null!==h){this.pushedVelocity.copy(c),a.copy(h.normal1).applyQuaternion(l.quaternion);break}}if(0!==this.pushedVelocity.manhattanLength()){let l=a.dot(s);l<0&&s.addScaledVector(a,-l),s.add(this.pushedVelocity)}else s.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotVelocityStick.x="normal"===this.rotationMode&&(this.movementState.rotPosX||this.movementState.rotNegX)||"steer"===this.rotationMode&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||"walk"===this.moveMode)?-this.rotDirection.x*this.speedOrbit*this.rotForce:0,this.rotVelocityStick.y="normal"===this.rotationMode&&(this.movementState.rotPosY||this.movementState.rotNegY)||"steer"===this.rotationMode&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?-this.rotDirection.y*this.speedOrbit*this.rotForce:0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(i),this.rotVelocityStick),0===this.rotVelocityTarget.manhattanLength()?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**r):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**r),this.euler.x+=this.rotVelocity.x*i,this.euler.y+=this.rotVelocity.y*i+this.groundYRotation,0===this.rotVelocityTarget.y&&0===this.directionXZ.manhattanLength()?this.rotationAccumWhenOrientWithCamera=0:(!1===this.cameraFollow||"Locked"===this.cameraYAxis)&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*i),!1===this.isFirstPerson&&"none"!==this.orientMode&&this.directionXZ.manhattanLength()>0){if("radial"===this.orientMode){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(Dd,this.euler.y-this.euler0.y);let a=Sl.copy(this.objectToCamXZ).normalize(),l=pf.copy(s).multiplyScalar(i);l.y=0;let c=l.sub(rl.copy(a).multiplyScalar(l.dot(a))).cross(a).y;this.euler.y-=Math.atan2(c,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*i+this.groundYRotation,0!==this.rotVelocityTarget.y&&(!1===this.cameraFollow||"Locked"===this.cameraYAxis)&&(this.euler.y=this.rot.y);if(!0===this.cameraFollow&&("walk"===this.moveMode?this.euler.x="Limit"===this.cameraXAxis?Ln.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):Ln.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):"Limit"===this.cameraXAxis&&(this.euler.x=Ln.clamp(this.euler.x,-this.PI_2,this.PI_2))),"fly"===this.moveMode?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(Ah.copy(t),Ah.y=0):(Ah.copy(this.euler),Ah.y=0),this.nonColliderRotOffset.makeRotationFromEuler(Ah)),t&&("walk"===this.moveMode?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*b$),Ed.setFromAxisAngle(pBe,this.rot.x),Lu.setFromAxisAngle(Dd,this.rot.y),Lu.multiply(Ed),Ed.setFromAxisAngle(fBe,this.rot.z),Lu.multiply(Ed),this.quaternion.copy(Lu),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.objectRealQuat.multiply(this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let a=Sl.copy(s).multiplyScalar(i/this.pixelsPerMeter),l=null;this.didHit=!1;let c=new ne;for(let h=0;h<5;h++){let d=a.length(),u=pf.copy(a).normalize();if(l=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(c),this.colliderWorldQuat,u,this.object.rigidBody?.collider(0).shape,d,!1,24,void 0,void 0,this.object.rigidBody),null===l){0===h&&0!==this.directionXZ.manhattanLength()&&(this.lastHitObj=null),c.add(a);break}{this.didHit=!0;let f=this.sharedGameControlGlobals.colliderToEntity.get(l.collider.handle);if(f!==this.lastHitObj&&0===h){this.lastHitObj=f;let w=this.sharedGameControlGlobals.entityToCollisionEvents[f?.uuid];if(w)for(let O of w)if("character"===O.data.target){let D,S=this.sharedGameControlGlobals.rapierWorld?.getCollider(l.collider.handle)._parent;if(f.cloner)for(let U of f.cloner.children)if(U.rigidBody===S){D=U;break}O.dispatch(D),f.dispatchEvent(gR)}}let v=m$.set(l.normal2.x,l.normal2.y,l.normal2.z).applyQuaternion(this.colliderWorldQuat),y=g$.copy(u).multiplyScalar(l.toi).dot(v),_=l.toi;if(0===_&&(this.position.y+=this.offset*this.pixelsPerMeter),y>this.offset&&(_=l.toi*(y-this.offset)/y,c.addScaledVector(u,_)),a.copy(u).multiplyScalar(d-_),Math.acos(-v.y)>this.slopeThresh){let w=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(c),O=pf.copy(l.witness2).applyQuaternion(this.colliderWorldQuat);O.y=0;let S=w.add(O);S.y+=this.stepThresh;let D=this.sharedGameControlGlobals.rapierWorld.castShape(S,this.colliderWorldQuat,a,this.object.rigidBody?.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);null!==D&&0===D.toi&&(v.y=0,v.normalize())}a.addScaledVector(v,-a.dot(v))}}this.position.addScaledVector(c,this.pixelsPerMeter),this.object.rigidBody?.setTranslation(rl.copy(this.position).divideScalar(this.pixelsPerMeter),!0),this.object.rigidBody?.setRotation(Ed.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let a=this.onObject?1:5,l=s.multiplyScalar(i/a);for(let c=0;c<a;c++)this.position.add(l),this.collisionAdjustment(i/a)}else this.position.addScaledVector(s,i);if("walk"===this.moveMode&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),!0===this.cameraFollow){this.updateFollowArms();let a=this.objectToTarget.add(this.position),l=this.targetToCamera.add(a);eR.lookAt(l,a,Dd).setPosition(l),eR.decompose(this.targetPos,this.targetQuat,rl),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**r),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**r),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),"Limit"===this.cameraYAxis&&"cartesian"===this.orientMode&&(this.euler.y=Ln.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=Ln.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(bBe),!(this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(void 0===this.camera||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&("fly"===this.moveMode||!0===this.onObject||!1===this.collisionEnabled)&&(null===this.navMeshPathDest||this.navMeshPathDest.material.opacity<-.04*this.navMeshPathDest?.material?.userData.opacity0)||(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(_Be),0))}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let t,e=Ed.setFromAxisAngle(Dd,"Limit"===this.cameraYAxis&&"radial"!==this.orientMode?Ln.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);("Locked"!==this.cameraYAxis||"radial"===this.orientMode)&&this.objectToTarget.applyQuaternion(e),t="Limit"===this.cameraXAxis?Ln.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):Ln.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let n=rl.copy(this.cameraPolarAxis0);("Locked"!==this.cameraYAxis||"radial"===this.orientMode)&&n.applyQuaternion(e);let i=Lu.setFromAxisAngle(n,t);"Locked"!==this.cameraYAxis&&this.targetToCamera.applyQuaternion(e),"Locked"!==this.cameraXAxis&&this.targetToCamera.applyQuaternion(i)}groundTiltAdjustment(e){180*Dd.angleTo(e)/Math.PI<15||180*Dd.angleTo(e)/Math.PI>85?Ed.identity():Ed.setFromUnitVectors(Dd,e),this.groundTilt.slerp(Ed,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){let t=g$.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let n=eR.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(rl,Ed,Sl).compose(rl,Ed,y$);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(r=>{if(r===this.object||r.isDescendantOf(this.object))return;Bc.makeEmpty(),r.updateMatrixWorldSVD();let o=r.matrixWorldRigid,s=v$.copy(o).invert(),a=uBe.copy(v$).multiply(n);$s.copy(this.collider.segment),$s.start.applyMatrix4(a),$s.end.applyMatrix4(a);let l=m$.copy(this.position).applyMatrix4(s);Bc.expandByPoint($s.start),Bc.expandByPoint($s.end),Bc.min.addScalar(-this.collider.radius),Bc.max.addScalar(this.collider.radius),r.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder:c=>c.distanceToPoint($s.end),intersectsBounds:c=>c.intersectsBox(Bc),intersectsTriangle:c=>{let h=rl,d=Sl,u=c.closestPointToSegment($s,h,d);if(u<this.collider.radius){let f=this.collider.radius-u,v=d.sub(h).normalize(),y=pf.copy(l);y.addScaledVector(v,f);let _=y.applyMatrix4(o).sub(this.position);t.add(_),$s.start.addScaledVector(v,f),$s.end.addScaledVector(v,f)}}})}),Bc.makeEmpty(),$s.copy(this.collider.segment),$s.start.applyMatrix4(n),$s.end.applyMatrix4(n),Bc.expandByPoint($s.start),Bc.expandByPoint($s.end),Bc.min.addScalar(-this.collider.radius),Bc.max.addScalar(this.collider.radius),this.sharedGameControlGlobals.staticMeshBVH?.shapecast({traverseBoundsOrder:r=>r.distanceToPoint($s.end),intersectsBounds:r=>r.intersectsBox(Bc),intersectsTriangle:r=>{let o=rl,s=Sl,a=r.closestPointToSegment($s,o,s);if(a<this.collider.radius){let l=this.collider.radius-a,c=s.sub(o).normalize();this.alignToGround&&this.groundTiltAdjustment(c),t.addScaledVector(c,l),$s.start.addScaledVector(c,l),$s.end.addScaledVector(c,l)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let i=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(i),this.position.add(t)}},x$=tR;x$.isLocked=!1;var xBe=Vs(O7());function Bu(e,t){let n=new Vn;if(!e.getAttribute("position"))return n.setAttribute("position",new wn([],3)),n.setIndex([]),n;let{positions:i,triIndices:r}=MP(e.getAttribute("position"),e.getIndex());return n.setAttribute("position",new wn(i,3)),n.setIndex(r),t&&n.applyMatrix4(t),n}var wBe=new Ut,CBe=new Ut,Th=[[0,0,0],[0,0,0],[0,0,0]];function w$(e){let t=e.elements;Th[0][0]=t[0],Th[0][1]=t[4],Th[0][2]=t[8],Th[1][0]=t[1],Th[1][1]=t[5],Th[1][2]=t[9],Th[2][0]=t[2],Th[2][1]=t[6],Th[2][2]=t[10];let{u:n,v:i}=(0,xBe.SVD)(Th),r=wBe.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),o=CBe.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1);return r.multiply(o.transpose())}var MBe=class extends Gj{constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,n=[]){return e.forEach(i=>{i.visible&&this.intersectObject(i,t,n)}),n}createRaycastLineHelper(){let e=new Np({color:65280,linewidth:10}),t=new ne(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),n=new ne(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),i=this.camera.far-this.camera.near,r=(new ne).addVectors(t,n.multiplyScalar(i)),o=new Vn;return o.setFromPoints([t,r]),new VC(o,e)}},C$=e=>e instanceof i1||e instanceof r1;function PBe(e,t){return e.distance-t.distance}function M$(e,t,n){if(Pu(t)&&t.visible){Pd(t)&&t.raycast(e,n);for(let i of t.children)M$(e,i,n)}}function n2(e,t,n,i=!1){if(!i&&!n.some(o=>void 0!==r2(e,o)))return[];let r=[];return t.children.forEach(o=>M$(e,o,r)),r.sort(PBe),r}function nR(e){let t=[];if(e.length){let n=e[0].object;Pu(n)&&t.push(n);let i=n.parent;for(;i;)C$(i)&&t.push(i),i=i.parent}return t}function r2(e,t){if(Pd(t)){if(t.visible){let n=[];return t.raycast(e,n),n.length?n[0]:void 0}}else if(C$(t))return P$(e,t)}function P$(e,t){if(Pu(t)&&t.visible){if(Pd(t)){let n=[];if(t.raycast(e,n),n.length)return n[0]}for(let n of t.children){let i=P$(e,n);if(i)return i}}}var Ad=class{constructor(e){this.eventContext=e,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},iR=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],O$=e=>iR.find(([t,n])=>n===e)?.[0],Cb=e=>iR.find(([t])=>t===e)?.[1],EBe=(e,t)=>{let n=O$(e);if(n){let i=new CustomEvent(n,{bubbles:!0});return Object.defineProperty(i,"target",{writable:!1,value:t}),i}},DBe=class extends Ad{constructor(e){super(e),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=n=>{if(!n.eventName||!n.target||"Scroll"===n.eventName)return;let i=this.splineEvents[O$(n.eventName)]?.[n.target.uuid];if(!i)return;"Scroll"===n.eventName&&void 0!==n.deltaY&&Object.assign(i,{deltaY:n.deltaY});let{domElement:r}=this.eventContext;r.dispatchEvent(i)};let{page:t}=this.eventContext;t.traverseEntity(n=>{if(n.data?.events.length)for(let[i,r]of iR)if(n.data.events.some(o=>o.data.type===r&&!o.data.disabled)){this.objectsPerEvents.has(i)?this.objectsPerEvents.get(i)?.push(n):this.objectsPerEvents.set(i,[n]);let s=EBe(r,{id:n.uuid,name:n.name}),a=this.splineEvents[i];a?a[n.uuid]=s:this.splineEvents[i]={[n.uuid]:s}}})}connect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.removeEventListener("beginEvent",this.onBeginEvent)})})}},ABe=class{constructor(e,t,n,i,r,o){if(this.id=e,this.data=t,this.object=n,this.entered=!1,this.alreadyPlayedNonTogglingActions=new Set,this.useToggle="Toggle"===t.runMode,("KeyDown"===t.type||"KeyUp"===t.type||"KeyPress"===t.type)&&!t.key)throw new Error("Missing property");this.actions=il(t,t.actions,i,r,o,n)}disconnect(){Xs(this.actions)}dispatchHeld(e){this.actions.Create.forEach(t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()})}dispatch(e=!1){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):"Once"===this.data.runMode&&this.alreadyPlayedNonTogglingActions.add(t)}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()}),this.actions.SwitchCamera.forEach(t=>{t.toggle()})):"MousePress"===this.data.type||"KeyPress"===this.data.type?this.entered||(this.entered=!0,this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatchStart())):(this.actions.Transition.some(t=>t.playing)||this.actions.Transition.forEach(t=>{!1===this.alreadyPlayedNonTogglingActions.has(t)&&t.play()}),this.actions.SwitchCamera.some(t=>t.playing)||this.actions.SwitchCamera.forEach(t=>{t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),!1===e&&this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Animation.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()),this.actions.Create.forEach(e=>e.dispatchStop()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},TBe=class extends Ad{constructor(e,t,n){super(e),this.useForRaycastProperty=n,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=o=>{if(!0===this.useForRaycastProperty&&null===this.sceneInterects){this.eventContext.updateRaycaster(o);let{raycaster:s,page:a}=this.eventContext,l=n2(s,a,[],!0);this.sceneInterects=l,l.length&&(this.eventContext.sharedAssets.raycastProperty={x:l[0].point.x,y:l[0].point.y,z:l[0].point.z,objX:l[0].object.matrixWorld.elements[12],objY:l[0].object.matrixWorld.elements[13],objZ:l[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=o=>{(o.target===this.eventContext.domElement||"SPLINE-VIEWER"===o.target.tagName)&&this.canvasMouseEvents.forEach(s=>{("MouseDown"===s.data.type||"MousePress"===s.data.type)&&(this.onCanvasRaycast(o),s.dispatch())})},this.onCanvasMouseUp=o=>{(o.target===this.eventContext.domElement||"SPLINE-VIEWER"===o.target.tagName)&&this.canvasMouseEvents.forEach(s=>{"MouseUp"===s.data.type?(this.onCanvasRaycast(o),s.dispatch()):"MousePress"===s.data.type&&s.dispatchRelease()})},this.onMouseDown=o=>{ni.length>1||(this.eventContext.updateRaycaster(o),this.handleMouseEvent("MouseDown"))},this.onMouseUp=o=>{ni.length>1||(this.eventContext.updateRaycaster(o),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=o=>{ni.length>1||(this.eventContext.updateRaycaster(o),this.handleMousePressEvent())},this.onMousePressRelease=o=>{ni.length>1||(this.eventContext.updateRaycaster(o),this.handleMousePressEvent(!0))},this.onKeyDown=o=>{this.heldKeys[o.key]||(this.handleKeyEvent(o,"KeyDown"),this.handleKeyEventHeld(o,"KeyDown",!0)),this.heldKeys[o.key]=!0},this.onKeyUp=o=>{this.handleKeyEvent(o,"KeyUp"),this.handleKeyEventHeld(o,"KeyUp",!0)},this.onKeyPressDown=o=>{this.heldKeysPress[o.key]?this.handleKeyEventHeld(o,"KeyPress"):(this.handleKeyEvent(o,"KeyPress"),this.handleKeyEventHeld(o,"KeyPress",!0)),this.heldKeysPress[o.key]=!0},this.onKeyPressUp=o=>{this.handleKeyEvent(o,"KeyPress",!0)},this.releaseHeldKey=o=>{delete this.heldKeys[o.key]},this.releaseHeldKeyPress=o=>{delete this.heldKeysPress[o.key]},this._onUserEvent=({eventName:o,target:s,reverse:a})=>{if(!o||!s)return;let l=Cb(o);l&&("MouseDown"===l||"MouseUp"===l||"MousePress"===l?(s.dispatchEvent({type:"beginEvent",eventName:l}),this.eventsPerObjects[l]?.[s.uuid]?.forEach(c=>{c.dispatchUserEvent(a)})):("KeyDown"===l||"KeyUp"===l||"KeyPress"===l)&&(s.dispatchEvent({type:"beginEvent",eventName:l}),this.eventsPerObjects[l]?.[s.uuid]?.forEach(c=>{c.dispatchUserEvent()})))};let{page:i,sharedAssets:r}=this.eventContext;i.traverseEntity(o=>{if(!o.data?.events.length)return;let s=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let a of s){let l=this.eventsPerObjects[a];o.data.events.filter(({data:c})=>c.type===a&&!0!==c.disabled).forEach(({id:c,data:h})=>{try{let d=new ABe(c,h,o,i,r,t);d.actions.Video.length&&(this.hasVideoAction=!0),"MouseDown"!==h.type&&"MouseUp"!==h.type&&"MousePress"!==h.type||"Canvas"!==h.mode&&"Window"!==h.mode?l[o.uuid]?l[o.uuid].push(d):l[o.uuid]=[d]:this.canvasMouseEvents.push(d)}catch{}}),l[o.uuid]?.length&&this.objectsPerTypes[a].push(o)}})}connect(){let{domElement:e}=this.eventContext;this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),e.addEventListener("pointerdown",this.onCanvasMouseDown),e.addEventListener("pointerup",this.onCanvasMouseUp),(this.objectsPerTypes.MouseDown?.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown)),this.objectsPerTypes.MouseUp?.length&&(this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),this.objectsPerTypes.MousePress?.length&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMousePressRelease)),this.objectsPerTypes.KeyDown?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),this.objectsPerTypes.KeyUp?.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),this.objectsPerTypes.KeyPress?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([t,n])=>{n.forEach(i=>{i.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(t=>{Object.values(t).forEach(n=>{n.forEach(i=>{i.disconnect()})})}),this.canvasMouseEvents.forEach(t=>{t.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([t,n])=>{n.forEach(i=>{i.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(e){let{stopRaycast:t,raycaster:n,page:i}=this.eventContext,r=this.objectsPerTypes[e];if(r.length||this.useForRaycastProperty){if(t||this.useForRaycastProperty){let o;null===this.sceneInterects?o=n2(n,i,r,this.useForRaycastProperty):(o=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&o.length&&(this.eventContext.sharedAssets.raycastProperty={x:o[0].point.x,y:o[0].point.y,z:o[0].point.z,objX:o[0].object.matrixWorld.elements[12],objY:o[0].object.matrixWorld.elements[13],objZ:o[0].object.matrixWorld.elements[14]}),t&&nR(o).forEach(s=>{this.eventsPerObjects[e][s.uuid]&&this.handleObjectMouseEventDispatch(s,e)})}t||r.forEach(o=>{r2(n,o)&&this.handleObjectMouseEventDispatch(o,e)})}}handleMousePressEvent(e=!1){let t="MousePress",n=this.objectsPerTypes[t],i=[];if(n.length){if(!e){let{stopRaycast:r,raycaster:o,page:s}=this.eventContext;if(r){let a=n2(o,s,n);i=nR(a)}else n.forEach(a=>{r2(o,a)&&i.push(a)})}this._prevObjects.length&&this._prevObjects.forEach(r=>{i.includes(r)||this.handleObjectMouseEventDispatchRelease(r,t)}),i.length&&i.forEach(r=>{this.handleObjectMouseEventDispatch(r,t)}),this._prevObjects=i}}handleObjectMouseEventDispatch(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach(n=>{n.dispatch()})}handleObjectMouseEventDispatchRelease(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach(n=>{n.dispatchRelease()})}handleKeyEvent(e,t,n=!1){this.objectsPerTypes[t].forEach(i=>{let r=this.eventsPerObjects[t][i.uuid];r.some(({data:o})=>"key"in o&&o.key===e.key)&&i.dispatchEvent({type:"beginEvent",eventName:t}),r.forEach(o=>{"key"in o.data&&o.data.key===e.key&&(n?o.dispatchRelease():o.dispatch(!0))})})}handleKeyEventHeld(e,t,n=!1){this.objectsPerTypes[t].forEach(i=>{this.eventsPerObjects[t][i.uuid].forEach(r=>{"key"in r.data&&r.data.key===e.key&&r.dispatchHeld(n)})})}},kBe=new ne,IBe=new ne,S$=class{constructor(e,t,n,i,r){this.actionsIn=il(e,e.inActions,n,i,r,t),this.actionsOut=il(e,e.outActions,n,i,r,t)}disconnect(){Xs(this.actionsIn),Xs(this.actionsOut)}},RBe=class extends S${constructor(e,t,n,i,r,o){super(t,n,i,r,o),this.id=e,this.data=t,this.object=n,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let u of this.objects)if(!u.visible)return;let c=kBe.setFromMatrixPosition(this.objects[0].matrixWorld),h=IBe.setFromMatrixPosition(this.objects[1].matrixWorld),d=c.distanceTo(h)<=this.distance?"in":"out";if(this.stage!==d){this.stage=d;let u="in"===d?this.actionsIn:this.actionsOut;u.Audio.forEach(f=>f.dispatchConditional()),u.Video.forEach(f=>f.dispatchConditional()),u.Link.forEach(f=>f.dispatch()),u.Create.forEach(f=>f.dispatch()),u.Destroy.forEach(f=>f.dispatch()),u.Reset.forEach(f=>f.dispatch()),u.Transition.forEach(f=>{f.object.currentTransitionEvent!==this&&(f.object.currentTransitionEvent=this),f.init()}),u.Transition.forEach(f=>f.play()),u.Animation.forEach(f=>f.play()),u.SwitchCamera.forEach(f=>f.play()),u.SceneTransition.forEach(f=>f.dispatch()),u.SetVariable.forEach(f=>f.checkConditions()),u.SetVariable.forEach(f=>f.dispatch()),u.DynamicVariablePlay.forEach(f=>f.dispatch())}};let{distance:s,fromObject:a,toObject:l}=t.condition;this.distance=s;for(let c of[a,l]){if(!c)throw new Error("Missing property");let h=i.find(c);if(!h)throw new Error("Missing property");this.objects.push(h)}}connect(){window.setTimeout(()=>{this.objects.forEach(e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},NBe=class extends S${constructor(e,t,n,i,r,o){super(t,n,i,r,o),this.id=e,this.data=t,this.object=n,this.onBegin=({state:c})=>{this.toState!==c&&(this.actionsOut.Audio.forEach(h=>h.dispatchConditional()),this.actionsOut.Video.forEach(h=>h.dispatchConditional()),this.actionsOut.Link.forEach(h=>h.dispatch()),this.actionsOut.Create.forEach(h=>h.dispatch()),this.actionsOut.Destroy.forEach(h=>h.dispatch()),this.actionsOut.Reset.forEach(h=>h.dispatch()),this.actionsIn.Transition.forEach(h=>h.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(h=>h.play()),this.actionsOut.Animation.forEach(h=>h.play()),this.actionsIn.SwitchCamera.forEach(h=>h.pause()),this.actionsOut.SwitchCamera.forEach(h=>h.play()),this.actionsOut.SceneTransition.forEach(h=>h.dispatch()),this.actionsOut.SetVariable.forEach(h=>h.checkConditions()),this.actionsOut.SetVariable.forEach(h=>h.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(h=>h.dispatch()))},this.onComplete=({state:c})=>{this.toState===c&&(this.actionsIn.Audio.forEach(h=>h.dispatchConditional()),this.actionsIn.Video.forEach(h=>h.dispatchConditional()),this.actionsIn.Link.forEach(h=>h.dispatch()),this.actionsIn.Create.forEach(h=>h.dispatch()),this.actionsIn.Destroy.forEach(h=>h.dispatch()),this.actionsIn.Reset.forEach(h=>h.dispatch()),this.actionsOut.Transition.forEach(h=>h.pause()),this.actionsOut.Transition.forEach(h=>h.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(h=>h.play()),this.actionsIn.Animation.forEach(h=>h.play()),this.actionsOut.SwitchCamera.forEach(h=>h.pause()),this.actionsIn.SwitchCamera.forEach(h=>h.play()),this.actionsIn.SceneTransition.forEach(h=>h.dispatch()),this.actionsIn.SetVariable.forEach(h=>h.checkConditions()),this.actionsIn.SetVariable.forEach(h=>h.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(h=>h.dispatch()))};let{condition:s}=t;if(!s.object)throw new Error("Missing property");let a=i.find(s.object);if(!a)throw new Error("Missing property");if(this.toObject=a,s.state&&!this.toObject.states?.[s.state])throw new Error("Missing property");this.toState=s.state}connect(){Tm(this.actionsOut).forEach(e=>{this.actionsOut[e]?.length&&this.toObject.addEventListener("beginState",this.onBegin)}),Tm(this.actionsIn).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),Tm(this.actionsOut).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),Tm(this.actionsIn).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},FBe=class extends Ad{constructor(e,t){super(e),this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1;let{page:n,sharedAssets:i}=this.eventContext;n.traverseEntity(r=>{if(r.data?.events.length)for(let{id:o,data:s}of r.data.events)if(!s.disabled&&"Conditional"===s.type)try{let a;"Comparison"===s.condition.type||("Distance"===s.condition.type?a=new RBe(o,s,r,n,i,t):"State"===s.condition.type&&(a=new NBe(o,s,r,n,i,t))),a&&(this.eventsPerConditions[s.condition.type].push(a),(a.actionsIn.Video.length||a.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch{}})}connect(){super.connect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.disconnect()))}},Mb=new ne,ff=new ne,ig=new ne,E$=new Ql,xr=new ne,Ns=new ne,D$=new ne,rg=new hi,rR=new Gs,BBe=new Ut,oR=new $o,d1=new ne,kh=new ne;function sR(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var zBe=function(){let e=new Ut;return(t,n,i)=>{let r=t.obj;e.copy(r.hiddenMatrix),null!==r.parent&&e.premultiply(r.parent.matrixWorld),e.invert(),r.position.copy(n),"global"===t.reference&&sR(r.position,t.limits),r.position.applyMatrix4(e),"parent"===t.reference?sR(r.position,t.limits):"local"===t.reference&&(rg.copy(t.quat0).invert(),r.position.sub(t.position0),r.position.applyQuaternion(rg),sR(r.position,t.limits),rg.invert(),r.position.applyQuaternion(rg),r.position.add(t.position0)),e.multiply(i??r.matrixWorld).decompose(xr,r.quaternion,Ns),r.updateMatrix(),r.hasNonUniformScale&&(r.updateMatrixWorld(),r.updateMatrixWorldSVD()),r instanceof _l&&Iu(r.parent)&&r.invalidateDownstreamBooleanData(!0)}}(),jBe=class extends Ad{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=i=>{if(ni.length>1)return;this.eventContext.updateRaycaster(i);let{raycaster:r,page:o}=this.eventContext,s=o.raycastWithClones(r);if(this.lastDropDestination=null,0!==s.length){for(let a of this.events){let l=0;for(let{obj:c,pointEnd:h,pointStart:d}of a.dragItems){if(c===s[0].object||c===s[0].object.object||Zi.is(c)&&c.isAncestorOf(s[0].object.uuid)){if(a.activeIdx=l,a.activeDragItem.reset=!1,a.activeDragItem.currentDampingFactor=a.data.dampingFactor,a.activeDragItem.snapped=!1,"hand"===a.data.cursor&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){a.activeDragItem.obj.rigidBody&&a.activeDragItem.obj.rigidBody.setBodyType(2,!0);let u=a.activeDragItem.obj;c.hasNonUniformScale&&c.updateMatrixWorldSVD(),(u.hasNonUniformScale?u.matrixWorldRigid:u.matrixWorld).decompose(xr,rg,Ns),rR.setFromQuaternion(rg),void 0===u.prevR?(u.prevR=rR.clone(),u.prevT=xr.clone()):(u.prevR.copy(rR),u.prevT.copy(xr)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(a.activeDragItem.obj)}return this.calcPlaneIntersectPos(c,d,a.data.plane,a.data.referenceFrame),h.copy(d),(this.eventManager.controlsManager.usePhysics&&"dynamic"===c.data.physics?.rigidBody||!1===a.data.drop||!1===a.data.resetOnSnapFail)&&a.activeDragItem.fromPosition.setFromMatrixPosition(a.activeDragItem.obj.matrixWorld),this.activeEvent=a,void(this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1))}l++}}this.activeEvent=null}else this.activeEvent=null},this.onPointerMove=i=>{if(ni.length>1)return;this.eventContext.updateRaycaster(i);let{raycaster:r,page:o}=this.eventContext,s=o.raycastWithClones(r);if(0!==ni.length){if(this.activeEvent&&this.activeEvent.activeDragItem){let l,a=this.activeEvent.activeDragItem;if(a.snapped=!1,this.activeEvent.data.drop&&(l=s.filter(c=>a.obj!==c.object&&!a.obj.isAncestorOf(c.object.uuid)&&!(c.object instanceof i1)&&("all"===this.activeEvent.data.dropOn||this.activeEvent.dropDestIds.some(h=>h===c.object.uuid||o.scene.find(h).isAncestorOf(c.object.uuid))))[0]),l){let c=D$.copy(l.face.normal).applyMatrix3(oR.getNormalMatrix(l.object.matrixWorld));if("center"===this.activeEvent.data.snapTo)a.fromPosition.setFromMatrixPosition(l.object.matrixWorld);else if("surface"===this.activeEvent.data.snapTo){if(a.fromPosition.copy(l.point),"bbox"===this.activeEvent.data.snapSurfaceMode){xr.copy(c).applyMatrix3(oR.setFromMatrix4(a.obj.matrixWorld).transpose());let h=a.obj;xr.x>.2?Ns.x=-h.recursiveBBox.min.x:xr.x<-.2&&(Ns.x=-h.recursiveBBox.max.x),xr.y>.2?Ns.y=-h.recursiveBBox.min.y:xr.y<-.2&&(Ns.y=-h.recursiveBBox.max.y),xr.z>.2?Ns.z=-h.recursiveBBox.min.z:xr.z<-.2&&(Ns.z=-h.recursiveBBox.max.z),Ns.applyMatrix3(oR.invert())}else Ns.copy(c).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);a.fromPosition.add(Ns)}this.activeEvent.data.autoOrient&&(xr.set(0,1,0).cross(c),xr.length()<1e-4&&xr.set(-1,0,0).cross(c),Ns.crossVectors(D$,xr),a.orientationMatrix.makeBasis(xr,Ns,c)),a.pointStart.copy(a.fromPosition),a.pointEnd.copy(a.pointStart),a.currentDampingFactor=this.activeEvent.snapDampingFactor,a.snapped=!0,this.lastDropDestination!==l.object&&(this.lastDropDestination=l.object,this.activeEvent.actionsDrop.Transition.forEach(h=>{h.play()}),this.activeEvent.actionsDrop.Animation.forEach(h=>{h.play()}),this.activeEvent.actionsDrop.Audio.forEach(h=>{h.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(h=>{h.dispatchThrottled()}))}else a.orientationMatrix.makeRotationFromQuaternion(a.quat0),this.lastDropDestination=null,a.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(a.obj,a.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(c=>{c.stop(),null!==c.object.currentState&&c.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(c=>{c.stop()}),this.activeEvent.actionsDrop.Audio.forEach(c=>{c.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(c=>{c.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(c=>c.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(c=>c.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(c=>c.dispatch()),!1===this.activeEvent.wasDragEventTriggered&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(c=>{c.play()}),this.activeEvent.actionsDrag.Animation.forEach(c=>{c.play()}),this.activeEvent.actionsDrag.Audio.forEach(c=>{c.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(c=>{c.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(c=>{c.stop(),null!==c.object.currentState&&c.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(c=>{c.stop()}))},500),this.updateDragItem(a),a.obj.dispatchEvent({type:"requestRender"})}}else{let a=!1;for(let l of this.events){for(let{obj:c}of l.dragItems)if(c===s[0]?.object||c===s[0]?.object?.object||Zi.is(c)&&c.isAncestorOf(s[0]?.object.uuid)){switch(a=!0,l.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move")}break}if(a)break}a||this.setCursor("default")}},this.onPointerUp=i=>{if(this.activeEvent&&this.activeEvent.activeDragItem){"hand"===this.activeEvent.data.cursor&&this.setCursor("grab");let r="dynamic"===this.activeEvent.activeDragItem.obj.data.physics?.rigidBody;!1===this.activeEvent.activeDragItem.snapped&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(!1===this.eventManager.controlsManager.usePhysics||!r)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&r&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),!0===this.activeEvent.wasDragEventTriggered&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(o=>{o.stop(),null!==o.object.currentState&&o.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(o=>{o.stop()}),this.activeEvent.actionsDrag.Audio.forEach(o=>{o.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(o=>o.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(o=>o.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(o=>o.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}};let n={};e.page.traverseEntity(i=>{i.component&&(n[i.component.uuid]?n[i.component.uuid].push(i.uuid):n[i.component.uuid]=[i.uuid])}),e.page.traverseEntity(i=>{i.data?.events.filter(r=>"DragDrop"===r.data.type&&!r.data.disabled).forEach(r=>{this.events.push(new class{constructor(e,t,n,i,r,o){this.object=e,this.data=t,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=0===this.data.resetSpeed?1:8/this.data.resetSpeed+1,this.snapDampingFactor=0===this.data.snapSpeed?1:8/this.data.snapSpeed+1,this.actionsDrag=il(t,t.dragDropActions.drag,n,i,r,this.object),this.actionsDrop=il(t,t.dragDropActions.drop,n,i,r,this.object);let s=[];this.data.objects.forEach(a=>{let l=n.find(a);!l||!1!==l.data.visible&&(s.push(l),o[l.uuid]&&o[l.uuid].forEach(c=>{let h=n.find(c);!h||!1!==h.data.visible&&s.push(h)}))}),this.data.dropDestinations.forEach(a=>{let l=n.find(a);!l||!1!==l.data.visible&&(this.dropDestIds.push(l.uuid),o[l.uuid]&&o[l.uuid].forEach(c=>{let h=n.find(c);!h||!1!==h.data.visible&&this.dropDestIds.push(h.uuid)}))}),this.dragItems=s.map(a=>("locked"===this.data.planeMode&&(a.userData.lockedPlane=!0),a.userData.worldPosition0=(new ne).setFromMatrixPosition(a.matrixWorld),{obj:a,fromPosition:(new ne).setFromMatrixPosition(a.matrixWorld),pointStart:new ne,pointEnd:new ne,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:(new ne).copy(a.position),quat0:(new hi).copy(a.quaternion),snapped:!1,orientationMatrix:new Ut,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return null!==this.activeIdx?this.dragItems[this.activeIdx]:null}dispose(){Xs(this.actionsDrag),Xs(this.actionsDrop),this.dragItems.forEach(e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()})}}(i,r.data,e.page,e.sharedAssets,t,n))})})}connect(){if(!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let e=this.eventContext.domElement;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointermove",this.onPointerMove),e.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(t=>t.dispose())}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,n,i){let{getCamera:r,raycaster:o}=this.eventContext;r().getWorldDirection(ff),ff.negate();let s=rg.identity();switch("parent"===i?BBe.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose(xr,s,Ns):"local"===i&&e.matrixWorld.decompose(xr,s,Ns),n){case"x":xr.set(1,0,0).applyQuaternion(s),d1.copy(ff).cross(xr),kh.copy(xr).cross(d1);break;case"y":xr.set(0,1,0).applyQuaternion(s),d1.copy(ff).cross(xr),kh.copy(xr).cross(d1);break;case"z":xr.set(0,0,1).applyQuaternion(s),d1.copy(ff).cross(xr),kh.copy(xr).cross(d1);break;case"xy":kh.set(0,0,1).applyQuaternion(s);break;case"yz":kh.set(1,0,0).applyQuaternion(s);break;case"xz":kh.set(0,1,0).applyQuaternion(s);break;case"adaptive":ff.angleTo(Ns.set(0,1,0))>Math.PI/6?(xr.crossVectors(Ns.set(0,1,0),ff),kh.crossVectors(xr,Ns)):kh.set(0,1,0);break;default:kh.copy(ff)}ig.setFromMatrixPosition(e.matrixWorld);let a=e.userData.lockedPlane?e.userData.worldPosition0:ig;if(E$.setFromNormalAndCoplanarPoint(kh,a),o.ray.intersectPlane(E$,t)&&("x"===n||"y"===n||"z"===n)){let l=Ns.subVectors(t,a).dot(xr);t.copy(a).addScaledVector(xr,l)}}updateDragItem(e,t=!1){ig.setFromMatrixPosition(e.obj.matrixWorld),"current"===e.reset?Mb.subVectors(e.fromPosition,ig).divideScalar(e.currentDampingFactor):"original"===e.reset?(Mb.subVectors(e.obj.userData.worldPosition0,ig).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):Mb.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(ig).divideScalar(e.currentDampingFactor),e.paused=!(e.currentDampingFactor>1)||Mb.length()<.01,(this.activeEvent&&1===this.activeEvent.data.dampingFactor||t)&&zBe(e,Mb.add(ig),this.activeEvent?.data.drop&&this.activeEvent?.data.autoOrient?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},u1=new ne,aR=new ne,zu=new ne,Uu=new ne,A$=new Ql,HBe={type:"requestRender"},GBe=function(){let e=new ne,t=new ne;return(n,i,r)=>r>0?(e.subVectors(n,i),e.length()<=r?n:t.copy(i).add(e.normalize().multiplyScalar(r))):i}(),T$=function(){let e=new Ut;return(t,n)=>{t.position.copy(n),null!==t.parent&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof _l&&Iu(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),qBe=class extends Ad{constructor(e,t){super(e),this.events=[],this.pairOfEventListeners=[],this.onMouseMove=i=>{if(!(ni.length>1)){this.eventContext.updateRaycaster(i);for(let r of this.events)void 0===r.target&&this.updateSingleEvent(r)}},this.onMouseEnter=i=>{for(let r of this.events)void 0===r.target&&(r.isReset=!1,r.currentDampingFactor=r.data.dampingFactor)},this.onMouseLeave=i=>{for(let r of this.events)void 0===r.target&&(r.data.resetOnPointerLeave&&(r.isReset=!0,r.currentDampingFactor=r.resetDampingFactor),this.updateSingleEvent(r))},this.onTargetChange=i=>()=>{this.updateSingleEvent(i)};let{page:n}=this.eventContext;n.traverseEntity(i=>{let r=i.data?.events.find(o=>"Follow"===o.data.type&&!o.data.disabled);r&&(!n.data.globalPhysics.usePhysics||"dynamic"!==i.dataPatched.physics?.rigidBody)&&this.events.push(new class{constructor(e,t,n,i,r){this.data=e,this.object=t,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new ne,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...d3.defaultData,...e,...void 0===e.resetOnPointerLeave&&{resetOnPointerLeave:!1}},void 0===e.target||"cursor"===e.target||(this.target=n.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=il(e,e.actions,n,i,r,t)}}(r.data,i,n,e.sharedAssets,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),Zl&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let n of this.events)if(void 0!==n.target){let i=n.target,r=this.onTargetChange(n);this.pairOfEventListeners.push([i,r]),i.addEventListener("requestRender",r)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),Zl&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[n,i]of this.pairOfEventListeners)n.removeEventListener("requestRender",i);for(let n of this.events)n.paused=!0,n.isReset=!1,Xs(n.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){this.events.forEach(s=>{s.actions.Create.forEach(a=>{a.dispatchThrottled()})});let{plane:n,limitDistance:i,limitDistanceEnabled:r}=e.data;if(e.object.getWorldPosition(zu),e.isReset)Uu.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(Uu);else{let{getCamera:s,raycaster:a}=this.eventContext;if("custom"===n?(s().getWorldDirection(aR),aR.negate(),u1.copy(aR)):"xy"===n?u1.set(0,0,1):"xz"===n?u1.set(0,1,0):"yz"===n&&u1.set(1,0,0),A$.setFromNormalAndCoplanarPoint(u1,zu),!a.ray.intersectPlane(A$,Uu))return}if(!e.isReset)if(Uu.distanceTo(e.worldPosition0)>i&&r&&e.target){if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&null!==e.timeoutId&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,!e.data.resetAfterDistanceLimit)return;Uu.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor}else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},1e3*e.data.snapDelay)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),!1===e.delayFinished)return;!1===e.data.enabledTranslation[0]&&(Uu.x=zu.x),!1===e.data.enabledTranslation[1]&&(Uu.y=zu.y),!1===e.data.enabledTranslation[2]&&(Uu.z=zu.z);let o=GBe(zu,Uu,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let s=u1.subVectors(o,zu).divideScalar(e.currentDampingFactor);zu.add(s),t&&T$(e.object,zu),e.paused=s.length()<.01}else T$(e.object,o),e.paused=!0;e.object?.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(HBe)}},Pb=new ne,o2=new ne,Ob=new Ut,p1=new hi,mf=new hi,Sb=new ne,Eb=new ne,og=new ne,ju=new ne,lR=new Ql,XBe={type:"requestRender"},$Be={type:"changeRotation"},k$=function(){let e=new Ut;return function(t,n){null!==t.parent?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),n.premultiply(w$(e).invert()),t.rotation.setFromRotationMatrix(n),t.updateMatrix(),t instanceof _l&&Iu(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),QBe=class extends Ad{constructor(e){super(e),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=n=>{if(!(ni.length>1)){this._lastMouseEvent=n,this.eventContext.updateRaycaster(n);for(let i of this.events)void 0===i.target&&this.updateSingleEvent(i)}},this.onMouseEnter=n=>{for(let i of this.events)void 0===i.target&&(i.isReset=!1,i.currentDampingFactor=i.data.dampingFactor)},this.onMouseLeave=n=>{for(let i of this.events)void 0===i.target&&(i.data.resetOnPointerLeave&&(i.isReset=!0,i.currentDampingFactor=i.resetDampingFactor),this.updateSingleEvent(i))},this.onScroll=n=>{if(this._lastMouseEvent){let i=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(i)}},this.onTargetChange=n=>()=>{this.updateSingleEvent(n)},this.createUserEventListener=n=>({eventName:i,target:r})=>{if(!i||!r)return;let o=Cb(i);o&&"LookAt"===o&&this.updateSingleEvent(n)};let{page:t}=this.eventContext;t.traverseEntity(n=>{let i=n.data?.events.find(r=>"LookAt"===r.data.type&&!r.data.disabled);i&&(!t.data.globalPhysics.usePhysics||"dynamic"!==n.dataPatched.physics?.rigidBody)&&this.events.push(new class{constructor(e,t,n){this.object=t,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new hi,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...h3.defaultData,...e,...void 0===e.resetOnPointerLeave&&{resetOnPointerLeave:!1}},void 0===e.target||"cursor"===e.target||(this.target=n.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}}(i.data,n,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),Zl&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?t.addEventListener("scroll",this.onScroll):(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let n of this.events){if(void 0!==n.target){let o=this.onTargetChange(n),s=n.target;this.pairOfEventListeners.push([s,o]),s.addEventListener("requestRender",o)}let i=this.createUserEventListener(n),r=n.object;this.pairOfUserEventListeners.push([r,i]),r.addEventListener("userEvent",i)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),Zl&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[n,i]of this.pairOfEventListeners)n.removeEventListener("requestRender",i);for(let[n,i]of this.pairOfUserEventListeners)n.removeEventListener("userEvent",i);for(let n of this.events)n.paused=!0,n.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){let{tilt:t,axis:n,distance:i,plane:r,limitDistance:o,enabledRotation:s,limitDistanceEnabled:a}=e.data,{getCamera:l,raycaster:c}=this.eventContext,{object:h,target:d}=e;if(h.getWorldPosition(Sb),!e.isReset)if(e.target)e.target.getWorldPosition(Eb);else{if("custom"===r?(l().getWorldDirection(o2),o2.negate(),lR.setFromNormalAndCoplanarPoint(o2,Sb)):("xy"===r?Pb.set(0,0,1):"xz"===r?Pb.set(0,1,0):"yz"===r&&Pb.set(1,0,0),lR.setFromNormalAndCoplanarPoint(Pb,Sb)),!c.ray.intersectPlane(lR,Eb))return;i>0&&("custom"===r||void 0===r)&&Eb.addScaledVector(o2,i)}if(e.isReset||(d?"target"===t?og.copy(d.up).applyMatrix4(Ob.extractRotation(d.matrixWorld)).normalize():s.some(u=>!1===u)?("x"===n?(ju.set(0,0,1),!1===s[2]&&ju.set(0,1,0)):"y"===n?(ju.set(1,0,0),!1===s[0]&&ju.set(0,0,1)):(ju.set(0,1,0),!1===s[1]&&ju.set(1,0,0)),og.copy(ju).applyQuaternion(e.worldQuaternion0).normalize()):og.set(0,1,0):"custom"===r?og.set(0,1,0):og.copy(Pb)),e.isReset)mf.copy(e.worldQuaternion0);else if(Sb.distanceTo(Eb)>o&&a&&d){if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&null!==e.timeoutId&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,!e.data.resetAfterDistanceLimit)return;mf.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor}else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},1e3*e.data.snapDelay)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),!1===e.delayFinished)return;(function ZBe(e,t,n,i,r,o){let s=e.elements;ns.subVectors(t,n),0===ns.lengthSq()&&(ns.z=1),ns.normalize(),Fs.crossVectors(i,ns),0===Fs.lengthSq()&&(1===Math.abs(i.z)?ns.x+=1e-4:ns.z+=1e-4,ns.normalize(),Fs.crossVectors(i,ns)),Fs.normalize(),zc.crossVectors(ns,Fs),"x"===r?1===o.z?[Fs,zc,ns]=[ns,Fs,zc]:(Fs.negate(),[Fs,ns]=[ns,Fs]):"y"===r?1===o.x?[Fs,zc,ns]=[zc,ns,Fs]:(Fs.negate(),[zc,ns]=[ns,zc]):1===o.x&&(Fs.negate(),[Fs,zc]=[zc,Fs]),s[0]=Fs.x,s[4]=zc.x,s[8]=ns.x,s[1]=Fs.y,s[5]=zc.y,s[9]=ns.y,s[2]=Fs.z,s[6]=zc.z,s[10]=ns.z})(Ob,Eb,Sb,og,n,ju),mf.setFromRotationMatrix(Ob),p1.setFromUnitVectors(ju.applyQuaternion(mf),og),s.some(u=>!1===u)&&"target"!==t&&mf.premultiply(p1).normalize()}e.currentDampingFactor>1?(h.updateWorldMatrix(!0,!1),p1.setFromRotationMatrix(w$(h.matrixWorld)),p1.slerp(mf,1/e.currentDampingFactor),k$(h,Ob.makeRotationFromQuaternion(p1)),e.paused=8*(1-p1.dot(mf))<1e-6):(k$(h,Ob.makeRotationFromQuaternion(mf)),e.paused=!0),e.object?.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),h.dispatchEvent(XBe),h.dispatchEvent($Be)}},zc=new ne,Fs=new ne,ns=new ne,JBe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.entered=!1,this.actions=il(t,t.actions,i,r,o,n)}disconnect(){Xs(this.actions)}dispatchEnter(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(e=>e.playFromCurrent()),this.actions.Animation.forEach(e=>e.play()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.SwitchCamera.forEach(e=>e.playFromCurrent()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatch()),this.actions.Destroy.forEach(t=>t.dispatch()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},e6e=class extends Ad{constructor(e,t){super(e),this.eventsPerObjects={},this.objects=[],this._prevObjects=[],this.onMouseDown=r=>{ni.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseHoverEvent())},this.onMouseUp=r=>{ni.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=r=>{ni.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:r,target:o,reverse:s})=>{if(!r||!o)return;let a=Cb(r);a&&"MouseHover"===a&&(o.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[o.uuid]?.forEach(l=>l.dispatchUserEvent(s)))};let{page:n,sharedAssets:i}=this.eventContext;n.traverseEntity(r=>{if(r.visible&&r.data?.events.length){for(let{id:o,data:s}of r.data.events)if(!s.disabled&&"MouseHover"===s.type)try{let a=new JBe(o,s,r,n,i,t);this.eventsPerObjects[r.uuid]?this.eventsPerObjects[r.uuid].push(a):this.eventsPerObjects[r.uuid]=[a]}catch{}this.eventsPerObjects[r.uuid]?.length&&this.objects.push(r)}})}connect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),Zl&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),e.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(t=>{t.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),Zl&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(t=>{t.forEach(n=>{n.disconnect()})}),this.objects.forEach(t=>{t.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:n,raycaster:i,page:r}=this.eventContext;if(n){let o=n2(i,r,this.objects);t=nR(o)}else this.objects.forEach(o=>{r2(i,o)&&t.push(o)})}this._prevObjects.length&&this._prevObjects.forEach(n=>{t.includes(n)||(n.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[n.uuid]?.forEach(i=>i.dispatchLeave()))}),t.length&&t.forEach(n=>{n.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[n.uuid]?.forEach(i=>i.dispatchEnter())}),this._prevObjects=t}},t6e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.scrollCounter=0,this.actions=il(t,t.actions,i,r,o,n)}connect(){this.scrollCounter=0}disconnect(){Xs(this.actions)}dispatch(e){this.actions.Transition.forEach(i=>{i.object.currentTransitionEvent!==this&&(i.object.currentTransitionEvent=this,i.init())});let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let n=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(i=>i.seek(n)),this.actions.Animation.forEach(i=>i.seek(t)),this.actions.Create.forEach(i=>i.dispatchThrottled()),this.actions.SetVariable.forEach(i=>i.checkConditions()),this.actions.SetVariable.forEach(i=>i.dispatch()),this.actions.DynamicVariablePlay.forEach(i=>i.dispatch())}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},n6e=class{constructor(e,t,n,i,r,o,s){this.id=e,this.data=t,this.object=n,this.domElement=o,this.eventManager=s,this.scrollStart=0,this.scrollEnd=0,this.actions=il(t,t.actions,i,r,s,n)}computeScrollBounds(){let e=this.domElement.getBoundingClientRect(),t=document.body,n=document.documentElement,i=window.pageYOffset||n.scrollTop||t.scrollTop,o=Math.round(e.top+i-(n.clientTop||t.clientTop||0));if("enter"===this.data.startFrom){let s=window.innerHeight,a=e.height,l=this.data.enterAnchor;this.scrollStart=o-("top"===l?s:"bottom"===l?s-a:s-.5*a)}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=e,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){Xs(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return void 0===this.box||0===this.box.width&&0===this.box.height&&0===this.box.top&&0===this.box.bottom}computeScroll({y:t}){this.actions.Transition.forEach(r=>{r.object.currentTransitionEvent!==this&&(r.object.currentTransitionEvent=this,r.init())});let i=Math.min(1,Math.max(0,(t-this.scrollStart)/(this.scrollEnd-this.scrollStart)));this.actions.Transition.forEach(r=>r.seek(i)),this.actions.Animation.forEach(r=>r.seek(i)),this.actions.Create.forEach(r=>r.dispatchThrottled()),this.actions.SetVariable.forEach(r=>r.checkConditions()),this.actions.SetVariable.forEach(r=>r.dispatch()),this.actions.DynamicVariablePlay.forEach(r=>r.dispatch())}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},i6e=class extends Ad{constructor(e,t){super(e),this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([s,a])=>{a.forEach(l=>l.handleResize())})},this.onScroll=s=>{if(!this.isInview)return;let a={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([l,c])=>{l.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:a}),c.forEach(h=>h.dispatch(a))})},this.onWheel=s=>{!this.isInview||s.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([a,l])=>{a.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:s.deltaY}),l.forEach(c=>c.dispatch(s.deltaY))})},this.onUserEvent=({eventName:s,target:a,reverse:l})=>{if(!s||!a)return;let c=Cb(s);c&&"Scroll"===c&&(a.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),this.wheelEventsPerObject.get(a)?.forEach(h=>{h.dispatchUserEvent(l)}))};let{page:n,sharedAssets:i,domElement:r,isExport:o}=this.eventContext;n.traverseEntity(s=>{if(s.data?.events.length)for(let{id:a,data:l}of s.data.events)if(!l.disabled&&"Scroll"===l.type)if("load"!==l.trigger&&o){let c=new n6e(a,l,s,n,i,r,t);this.scrollEventsPerObject.has(s)?this.scrollEventsPerObject.get(s)?.push(c):this.scrollEventsPerObject.set(s,[c])}else{let c=new t6e(a,l,s,n,i,t);this.wheelEventsPerObject.has(s)?this.wheelEventsPerObject.get(s)?.push(c):this.wheelEventsPerObject.set(s,[c])}}),this.intersectionObserver=new IntersectionObserver(s=>{let a=s[0];a&&(this.isInview=a.isIntersecting)},{root:null})}connect(){this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)})}},r6e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=il(t,t.actions,i,r,o,n)}disconnect(){Xs(this.actions)}dispatch(){this.actions.Transition.forEach(e=>{e.play()}),this.actions.Animation.forEach(e=>{e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.Create.forEach(e=>{e.dispatchFromStart()}),this.actions.Destroy.forEach(e=>{e.dispatchFromStart()})}dispatchAfter(e){this.actions.Audio.forEach(t=>{(t.interaction.data.triggerAfter??"any")===e&&(t.interaction instanceof tg?t.interaction.audioPlayer.play():t.interaction instanceof NI&&t.interaction.dispatch())}),this.actions.Video.forEach(t=>{let n=t.interaction.data.triggerAfter??"autoplay";n===e&&(t.interaction instanceof c1?t.interaction.play("autoplay"===n):t.interaction instanceof QI&&t.interaction.dispatch())})}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.Reset.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.interaction instanceof tg?t.interaction.audioPlayer.play():t.interaction instanceof NI&&t.interaction.dispatch()}),this.actions.Video.forEach(t=>{t.interaction instanceof c1?t.interaction.play():t.interaction instanceof QI&&t.interaction.dispatch()})}},o6e=class extends Ad{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:n,isExport:i}=this.eventContext;(i?document:n).removeEventListener("pointerdown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([r,o])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),o.forEach(s=>{s.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.actions.Audio.forEach(o=>{o.interaction instanceof tg&&o.interaction.audioPlayer.play()}),r.actions.Video.forEach(o=>{o.interaction instanceof c1&&o.interaction.play("autoplay"===(o.interaction.data.triggerAfter??"autoplay"))})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:n,target:i,reverse:r})=>{if(!n||!i)return;let o=Cb(n);o&&"Start"===o&&(i.dispatchEvent({type:"beginEvent",eventName:"Start"}),this.eventsPerObject.get(i)?.forEach(s=>{s.dispatchUserEvent(r)}),this.eventsAfterPerObject.get(i)?.forEach(s=>{s.dispatchUserEvent(r)}))}}connect(){let{sharedAssets:e,page:t}=this.eventContext;if(t.traverseEntity(n=>{if(n.data?.events.length)for(let{id:i,data:r}of n.data.events){if(r.disabled||"Start"!==r.type)continue;let o=new r6e(i,r,n,t,e,this.eventManager);(o.actions.Transition.length||o.actions.Animation.length||o.actions.SwitchCamera.length||o.actions.Create.length||o.actions.Destroy.length||o.actions.SceneTransition.length||o.actions.Reset.length||o.actions.SetVariable.length||o.actions.DynamicVariablePlay.length)&&(this.eventsPerObject.has(n)?this.eventsPerObject.get(n)?.push(o):this.eventsPerObject.set(n,[o])),o.actions.Audio.length&&(this.eventsAfterPerObject.has(n)?this.eventsAfterPerObject.get(n)?.push(o):this.eventsAfterPerObject.set(n,[o])),o.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(n)?this.eventsAfterPerObject.get(n)?.push(o):this.eventsAfterPerObject.set(n,[o]))}}),[...this.eventsAfterPerObject.values()].some(n=>n.length)){if(0===this.eventManager.activateCount){let{domElement:n,isExport:i}=this.eventContext,r=i?document:n;r.addEventListener("pointerdown",this.onMouseDown,{once:!0}),r.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),r.addEventListener("pointerdown",this.onAny),r.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([o,s])=>{o.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>r.dispatch()),n.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(e=>e.length)){let{domElement:e,isExport:t}=this.eventContext,n=t?document:e;n.removeEventListener("pointerdown",this.onMouseDown),n.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),n.removeEventListener("pointerdown",this.onAny),n.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([i,r])=>{i.removeEventListener("userEvent",this.onUserEvent),r.forEach(o=>o.disconnect())})}[...this.eventsPerObject.entries()].forEach(([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach(n=>n.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},s6e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=il(t,t.actions,i,r,o,n),this.target=t.target,this.useToggle="Toggle"===t.runMode}disconnect(){Xs(this.actions)}dispatch(e){this.disabled||(this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):"Once"===this.data.runMode&&this.alreadyPlayedNonTogglingActions.add(t)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()})):(this.actions.Transition.forEach(t=>{!1===this.alreadyPlayedNonTogglingActions.has(t)&&t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch(e??!1)}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}))}},a6e=class extends Ad{constructor(e,t,n,i,r){super(e),this.sharedVariables=t,this.eventManager=n,this.needsMouse=i,this.needsRaycast=r,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.events=[],this.onFrame=o=>{this.rafId=window.requestAnimationFrame(this.onFrame);let s=new Date,a=[],l=[];for(let d=0;d<this.propertiesToWatch.length;d++){let{objectId:u,property:f,prevValue:v}=this.propertiesToWatch[d],y=this.eventContext.scene.find(u),_=p3.propertyPaths[f];if("width"===_[0]||"height"===_[0]||"depth"===_[0])y=y.geometry.userData.parameters[_[0]];else for(let w=0;w<_.length;w++)y=y[_[w]];null===v?this.propertiesToWatch[d].prevValue=y instanceof ne?y.clone():y:(y instanceof ne?!y.equals(v):v!==y)&&(l.push({objId:u,property:f}),y instanceof ne?this.propertiesToWatch[d].prevValue.copy(y):this.propertiesToWatch[d].prevValue=y)}for(let d=0;d<this.variablesToWatch.length;d++){let{id:u,prevValue:f}=this.variablesToWatch[d],v=this.shared.getVariable(u);v!==f&&(a.push(u),this.variablesToWatch[d].prevValue=v)}for(let d=0;d<this.dynamicVars.length;d++){let{id:u,expectedTime:f,last:v,data:y,timerSeconds:_,startValue:w}=this.dynamicVars[d],O=1e3;if("timer"!==y.dynamicVariableType&&"stopwatch"!==y.dynamicVariableType||"number3decimal"!==y.format?"counter"===y.dynamicVariableType?O=y.updateInterval:"random"===y.dynamicVariableType&&(O=y.isStatic?1/0:y.updateInterval):O=1,-1!==f){if("Stopped"!==this.shared.getDynamicVariablePlayState(u)&&"Restarted"!==this.shared.getDynamicVariablePlayState(u)||(this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime=o+O,"counter"===y.dynamicVariableType&&this.shared.getVariable(u)!==w&&(this.shared.updateVariable(u,w),this.eventManager.requestRender()),("timer"===y.dynamicVariableType||"stopwatch"===y.dynamicVariableType)&&this.dynamicVars[d].timerSeconds!==w&&(this.dynamicVars[d].timerSeconds=w,this.shared.updateVariable(u,_d.getFormattedTimerTime(w,y)),this.eventManager.requestRender()),"Restarted"===this.shared.getDynamicVariablePlayState(u)&&this.shared.setDynamicVariablePlayState(u,"Playing"),"Stopped"!==this.shared.getDynamicVariablePlayState(u))){if("Paused"===this.shared.getDynamicVariablePlayState(u)){void 0===this.dynamicVars[d].deltaToExpectedTime&&(this.dynamicVars[d].deltaToExpectedTime=Math.max(this.dynamicVars[d].expectedTime-o,0)),this.dynamicVars[d].last=o-(O-this.dynamicVars[d].deltaToExpectedTime),this.dynamicVars[d].expectedTime=o+this.dynamicVars[d].deltaToExpectedTime;continue}if(this.dynamicVars[d].deltaToExpectedTime=void 0,o>=f)if(this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime+=O,"random"===y.dynamicVariableType){let S=y.min+Math.random()*(y.max-y.min),D=y.decimals;S=Math.round(S*Math.pow(10,D))/Math.pow(10,D),this.shared.updateVariable(u,S),a.push(u),this.eventManager.requestRender()}else if("counter"===y.dynamicVariableType){if(0===y.increment)continue;let S=this.shared.getVariable(u),D=this.shared.getDynamicVariableToggleIsForward(u)??!0,U=this.shared.getVariable(u)+y.increment*(D?1:-1);y.hasEnd&&(U=y.increment>0?Ln.clamp(U,w,y.endValue):Ln.clamp(U,y.endValue,w),U===w&&this.shared.setDynamicVariableToggleIsForward(u,void 0),y.repeat?U===y.endValue&&(U=w):(U===w||U===y.endValue)&&this.shared.setDynamicVariablePlayState(u,"Paused")),U!==S&&(a.push(u),this.shared.updateVariable(u,U),this.eventManager.requestRender())}else if("time"===y.dynamicVariableType)this.shared.updateVariable(u,Kq(s,y)),a.push(u),this.eventManager.requestRender();else{let S=tc.isTextValue(y.endValue)?I$(y.endValue.textValue):y.endValue,D=this.shared.getDynamicVariableToggleIsForward(u)??!0,U=_+(o-v)/1e3*("timer"===y.dynamicVariableType?-1:1)*(D?1:-1);U=Math.max(U,0),y.hasEnd&&(U="stopwatch"===y.dynamicVariableType?Ln.clamp(U,w,S):Ln.clamp(U,S,w),U===w&&this.shared.setDynamicVariableToggleIsForward(u,void 0),y.repeat?Math.abs(U-S)<("number3decimal"===y.format?1e-4:.1)&&(U=w):(Math.abs(U-w)<("number3decimal"===y.format?1e-4:.1)||Math.abs(U-S)<("number3decimal"===y.format?1e-4:.1))&&this.shared.setDynamicVariablePlayState(u,"Paused")),U!==_&&(a.push(u),this.dynamicVars[d].timerSeconds=U,this.shared.updateVariable(u,_d.getFormattedTimerTime(U,y)),this.eventManager.requestRender())}}}else this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime=o+O}this.needsMouse&&this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,this.events.forEach(d=>{"mouseProperty"===d.data.variableId&&(d.dispatch(),this.eventManager.requestRender())}));let c=!1;this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,c=!0);let h=!1;this.shared.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=this.shared.raycastProperty,h=!0),this.events.forEach(d=>{(a.includes(d.data.variableId)||l.find(u=>u.objId===d.data.objectId&&u.property===d.data.property)||"mouseProperty"===d.data.variableId&&c||"raycastProperty"===d.data.variableId&&h)&&(d.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()},e.page.traverseEntity(o=>{o.data?.events.filter(s=>"VariableChange"===s.data.type&&!s.data.disabled).forEach(s=>{this.events.push(new l6e(o.uuid,s.data,o,e.page,e.sharedAssets,n))})}),this.propertiesToWatch=this.events.filter(o=>"objectProperty"===o.data.variableId&&null!==o.data.objectId).map(o=>({objectId:o.data.objectId,property:o.data.property,prevValue:null})),this.shared=e.sharedAssets,this.sharedVariables.forEach(({id:o,data:s})=>{if(!("dynamicVariableType"in s))return void(this.events.find(l=>l.data.variableId===o)&&this.variablesToWatch.push({id:o,prevValue:this.shared.getVariable(o)}));let a;if("timer"===s.dynamicVariableType||"stopwatch"===s.dynamicVariableType){let l;if(tc.isTextValue(s.value)&&Array.isArray(s.value.textValue)){let c=s.value.textValue;l=3===c.length?c[2]+60*c[1]+3600*c[0]:c[1]+60*c[0]}else l=s.value;a=l,this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:s,timerSeconds:l,startValue:a})}else"time"===s.dynamicVariableType&&this.shared.updateVariable(o,Kq(new Date,s)),"counter"===s.dynamicVariableType&&(a=tc.isTextValue(s.value)?I$(s.value.textValue):s.value),this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:s,startValue:a})})}pause(){this.pauseTime=Date.now()}resume(){let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(e=>e.dispose())}},l6e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=il(t,t.actions,i,r,o,n)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch())}dispose(){Xs(this.actions)}};function I$(e){return 3===e.length?e[2]+60*e[1]+3600*e[0]:e[1]+60*e[0]}var N$,qi,ia,f6e={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1};fTe.then(e=>{N$=e,qi=new e.Vec3,ia=new e.Vec3});var m6e=new ne;function y6e(e){let t=!1;return e.scene.objects.forEach(n=>{"Page"===n.data.type&&!t&&n.data.publish.gameControlObject&&U_.traverseModuleInstances(e,n.id,(i,r,o)=>{for(let s of o)"GameControl"===s.data.type&&s.data.navmesh.enabled&&(t=!0)})}),t}var _6e={type:"change"},F$={type:"changeZoom"},b6e={type:"changePan"},f1={type:"start"},m1={type:"end",changed:!0},x6e={type:"end",changed:!1},cR=new hi,L$=new Fe,w6e=2*Math.PI,dR=new ne,s2=new Fe,hR=new ne,a2=new hi,B$=new Ut,P6e={type:"requestRender"},z$=class extends ta{constructor(e,t,n={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=n,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,3,1],this.offset=new ne,this.eye=new ne,this.lastPosition=new ne,this.lastQuaternion=new hi,this.current=new Fe,this.overShoot=new Fe,this.overRatio=new Fe,this.spherical=new qj,this.sphericalDelta=new qj,this.panOffset=new ne,this.panLeftV=new ne,this.panUpV=new ne,this.panV=new ne,this.rotateStart=new Fe,this.rotateEnd=new Fe,this.rotateDelta=new Fe,this.panStart=new Fe,this.panEnd=new Fe,this.panDelta=new Fe,this.dollyStart=new Fe,this.dollyEnd=new Fe,this.dollyDelta=new Fe,this.rotationRangeFactor=new Fe,this.panRangeFactor=new Fe,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=i=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=i.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(hR,a2,dR),this.offset.copy(hR).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&-1===this.state&&this.rotateLeft((!0===this.autoRotateClockwise?1:-1)*this.getAutoRotationAngle()),0!==this.rotationLimitsMode&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),2!==this.rotationLimitsMode&&(this.spherical.phi+=this.sphericalDelta.phi),(1!==this.rotationLimitsMode||!0===this.autoRotate)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),0!==this.panLimitsMode&&(this.target.applyQuaternion(cR.copy(a2).invert()),this.panOffset.applyQuaternion(cR),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(a2),this.panOffset.applyQuaternion(a2)),2===this.panLimitsMode&&(this.panOffset.y=0),1===this.panLimitsMode&&(this.panOffset.x=0),-1!==this.state||this.gesture?(this.target.add(this.panOffset),this.panOffset.set(0,0,0)):(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)),this.offset.setFromSpherical(this.spherical),hR.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(B$.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(B$));let i=this.spherical.phi%w6e;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(Tr.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),i>0&&i>Math.PI||i<0&&i>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),-1===this.state||!0===this.enableDamping){let r=1===this.hoverRotatePanMode?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-r,this.sphericalDelta.phi*=1-r}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>.01||8*(1-this.lastQuaternion.dot(this.object.quaternion))>1e-8?(this.dispatchEvent(_6e),this.object.dispatchEvent(P6e),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=i=>{!1!==this.enabled&&("touch"===i.pointerType||"pen"===i.pointerType&&Zl?this.onPointerDownTouch(i):this.onPointerDownMouse(i),-1!==this.state&&(this.isPointerDown=!0,this.dispatchEvent(f1),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),i.stopPropagation(),"touch"===i.pointerType||"pen"===i.pointerType&&Zl||this.domElement.setPointerCapture(i.pointerId)))},this.onPointerLeave=i=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(1===this.hoverRotatePanMode?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,dR.subVectors(this.position0,this.target0),this.spherical.setFromVector3(dR),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):2===this.hoverRotatePanMode&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=i},this.onPointerEnter=i=>{this.resetHoverEffectOnPointerLeave||void 0===this.pointerLeaveEvent?s2.set(i.clientX-this.domElement.clientWidth/2,i.clientY-this.domElement.clientHeight/2):s2.set(i.clientX-this.pointerLeaveEvent.clientX,i.clientY-this.pointerLeaveEvent.clientY),1===this.hoverRotatePanMode?(this.rotateDelta.copy(s2).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(L$,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(i.clientX,i.clientY)):2===this.hoverRotatePanMode&&(this.panDelta.copy(s2).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(i.clientX,i.clientY)),this.update()},this.onPointerMove=i=>{!1!==this.enabled&&(this.checkRaycastLock()||("touch"===i.pointerType||"pen"===i.pointerType&&Zl?this.onPointerMoveTouch(i):this.onPointerMoveMouse(i),i.stopPropagation()))},this.onPointerUp=i=>{this.isPointerDown=!1,0===ni.length&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),ni.length>1&&i.preventDefault(),this.dispatchEvent(this.hasChange?m1:x6e),this.state=-1,i&&(i.stopPropagation(),"touch"===i.pointerType||"pen"===i.pointerType&&Zl||this.domElement.releasePointerCapture(i.pointerId))},this.onPointerDownMouse=i=>{let r;switch(r=this.useKeyEvents?this.mouseButtons[i.button]:this.mouseButtonsPlay[i.button],r){case 0:if(!0!==i.altKey||i.shiftKey||MM(i)){if(" "===this.key){if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2}}else{if(!1===this.enableRotate)return;this.handleMouseDownRotate(i),this.state=0}break;case 4:if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2;break;case 3:if(MM(i)||i.shiftKey){if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2}else{if(!1===this.enableRotate)return;this.handleMouseDownRotate(i),this.state=0}break;case 5:if(MM(i)||i.shiftKey){if(!1===this.enableRotate)return;this.handleMouseDownRotate(i),this.state=0}else{if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=i=>{switch(this.state){case 0:if(!1===this.enableRotate)return;this.handleMouseMoveRotate(i);break;case 1:if(!1===this.enableZoom)return;this.handleMouseMoveDolly(i);break;case 2:if(!1===this.enablePan)return;this.handleMouseMovePan(i)}this.object.wasMovedByUser=!0},this.onPointerDownTouch=i=>{switch(ni.length>1&&i.preventDefault(),this.touches[ni.length-1]){case 0:if(!1===this.enableRotate)return void(this.state=-1);this.handleTouchStartRotate(),this.state=3;break;case 1:if(!1===this.enablePan)return void(this.state=-1);this.handleTouchStartPan(),this.state=4;break;case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this.handleTouchStartDollyPan(),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=i=>{switch(ni.length>1&&i.preventDefault(),this.state){case 3:if(!1===this.enableRotate)return;this.handleTouchMoveRotate(i),this.update();break;case 4:if(!1===this.enablePan)return;this.handleTouchMovePan(i),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this.handleTouchMoveDollyPan(i),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this.handleTouchMoveDollyRotate(i),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=NT(()=>this.dispatchEvent(m1),33),this.onMouseWheel=i=>{!1===this.enabled||!1===this.enableZoom&&!1===this.enablePan||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&i.preventDefault(),this.dispatchEvent(f1),this.handleMouseWheel(i),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=i=>{if(i.preventDefault(),!1!==this.enabled&&!this.checkRaycastLock()&&!LT)if("gesturechange"===i.type){if(!1===this.enableZoom||!1===this.isTouchZoom)return;this.dispatchEvent(f1),i.scale>this.prevScale?this.dollyIn(this.getZoomScale()):i.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=i.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(m1)},this.onContextMenu=i=>{i.preventDefault()},this.onTouchEnd=i=>{i.preventDefault()},this.onKeyDown=i=>{!1!==this.enabled&&(this.key=i.key," "===i.key&&this.dispatchEvent(f1))},this.onKeyUp=i=>{!1!==this.enabled&&(this.key=void 0,-1!==this.state&&"Alt"===i.key&&this.onPointerUp(ni[0])," "===i.key&&this.dispatchEvent(m1))},this.onPointerHover=i=>{"mouse"!==i.pointerType||!1===this.enabled||-1!==this.state||2===this.hoverRotatePanMode&&this.isPanOverShoot||1===this.hoverRotatePanMode&&this.isRotateOverShoot||(this.isPointerDown=!0,2===this.hoverRotatePanMode?this.handleMouseMovePan(i,this.hoverRotatePanStrength):1===this.hoverRotatePanMode&&this.handleMouseMoveRotate(i,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=i=>{i.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.addEventListenersToCamera()}dispatchEvent(e){this.hasChange="start"!==e.type,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,0!==this.hoverRotatePanMode&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),0!==this.hoverRotatePanMode&&!this.useWindowEvents){let t=this.useWindowEvents?window:this.domElement;t.addEventListener("pointerleave",this.onPointerLeave),t.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=e.hoverRotateDamping??this.dampingFactor,this.useWindowEvents="window"===t,0!==this.hoverRotatePanMode&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.hoverRotatePanStrength=(e.hoverRotatePanStrength/100)**2,this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/e.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let i=this.object.getTarget().applyQuaternion(cR.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+i.y,this.maxV=e.panVerticalOffset.max+i.y,this.minH=-e.panHorizontalOffset.min+i.x,this.maxH=e.panHorizontalOffset.max+i.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=Ih(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=Ih(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=Ih(Ih(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=Ih(Ih(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,1===e.orbitTouches&&(this.touches[0]=0),1===e.panTouches&&(this.touches[0]=1),2===e.orbitTouches&&(this.touches[1]=3),2===e.panTouches&&(this.touches[1]=2),3===e.orbitTouches&&(this.touches[2]=0),3===e.panTouches&&(this.touches[2]=1),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=e.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),0!==this.hoverRotatePanMode&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,n,i,r,o,s,a){let l,c,h;this.overShoot.set(0,0),e instanceof ne?(l=e.x,c=e.y,this.current.set(this.target.x,this.target.y),h=!0):(l=e.theta,c=e.phi,this.current.set(Ih(this.spherical.theta),Ih(this.spherical.phi)),h=!1),0===n&&(this.current.x+=l,this.current.y+=c),(3===t||2===t)&&(!h&&this.isThetaFlipped?this.current.x>i&&this.current.x<0?this.overShoot.x=i-this.current.x:this.current.x<r&&this.current.x>0&&(this.overShoot.x=r-this.current.x):this.current.x>i?this.overShoot.x=i-this.current.x:this.current.x<r&&(this.overShoot.x=r-this.current.x)),(3===t||1===t)&&(this.current.y>o?this.overShoot.y=o-this.current.y:this.current.y<s&&(this.overShoot.y=s-this.current.y)),h||(this.overShoot.x=Ih(this.overShoot.x),this.overShoot.y=Ih(this.overShoot.y)),0!==n?(this.overRatio.copy(this.overShoot).divide(a),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),1===n&&(this.overRatio.x=U$(Math.abs(this.overRatio.x)),this.overRatio.y=U$(Math.abs(this.overRatio.y))),this.isPointerDown||1===n?2===n&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(l*this.overShoot.x<0&&!this.thetaIsFree&&(l*=1-this.overRatio.x),c*this.overShoot.y<0&&!this.phiIsFree&&(c*=1-this.overRatio.y)):2===n&&(!h&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||h&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(l=.05*this.overShoot.x),this.phiIsFree||(c=.05*this.overShoot.y),h?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):h?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(l+=this.overShoot.x,c+=this.overShoot.y),e instanceof ne?(e.x=l,e.y=c):(this.thetaIsFree||(e.theta=l),this.phiIsFree||(e.phi=c))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=!0===e?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let n=this.domElement;if(n&&this.object.isPerspectiveCamera){this.panV.copy(this.object.position).sub(this.target);let r=this.panV.length();r*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*r/n.clientHeight,this.object.matrixWorld),this.panUp(2*t*r/n.clientHeight,this.object.matrixWorld)}else n&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrixWorld));this.dispatchEvent(b6e)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(F$)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(F$)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(f1),this.dollyOut(e),this.dispatchEvent(m1)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(f1),this.dollyIn(e),this.dispatchEvent(m1)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){void 0!==e.movementX?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(L$,-this.object.angleOffsetFromUp);let i=this.useWindowEvents?window.innerHeight:this.domElement.clientHeight,r=2*Math.PI*this.rotateDelta.x/i,o=2*Math.PI*this.rotateDelta.y/i;this.rotateLeft(r),this.rotateUp(o),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){void 0!==e.movementX?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(!1===cTe&&!1===MM(e)&&!0===function O6e(e){return 0===e.wheelDeltaY||0===e.deltaY?!(CM&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120)&&(e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:0===e.deltaMode):e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:0===e.deltaMode}(e)){if(!1===this.enablePan)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):this.pan(this.panDelta.x,e.shiftKey?0:this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(!1===this.enableZoom)return;0===e.deltaY?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){2===ni.length?this.rotateStart.set(.5*(ni[0].pageX+ni[1].pageX),.5*(ni[0].pageY+ni[1].pageY)):this.rotateStart.set(ni[0].pageX,ni[0].pageY)}handleTouchStartPan(){2===ni.length?this.panStart.set(.5*(ni[0].pageX+ni[1].pageX),.5*(ni[0].pageY+ni[1].pageY)):this.panStart.set(ni[0].pageX,ni[0].pageY)}handleTouchStartDolly(){let e=ni[0].pageX-ni[1].pageX,t=ni[0].pageY-ni[1].pageY,n=Math.sqrt(e*e+t*t);this.dollyStart.set(0,n)}handleTouchStartDollyPan(){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(2===ni.length){let n=BT(e);this.rotateEnd.set(.5*(e.pageX+n.x),.5*(e.pageY+n.y))}else{if(e.pointerId!==ni[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(2===ni.length){let t=BT(e);this.panEnd.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}else{if(e.pointerId!==ni[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=BT(e),n=e.pageX-t.x,i=e.pageY-t.y,r=Math.sqrt(n*n+i*i);this.dollyEnd.set(0,r),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let e=this.options?.showCameraLock;return e&&e(),!0}}return!1}};function Ih(e){let t=2*Math.PI;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function U$(e){return 1-Math.pow(1-e,4)}var ir,j$=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.page=i,this.currentIntersectedObjects=[],this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=il(t,t.actions,i,r,o,n),this.target=t.target,this.useToggle="Toggle"===t.runMode,this.triggeringObjects=t.triggeringObjects.map(s=>i.scene.find(s))}isValidTriggeringObject(e){return"all"===this.target||this.triggeringObjects.some(t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid))}disconnect(){Xs(this.actions)}dispatch(){this.disabled||this.object.destroyedInAction||(this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this?(e.object.currentTransitionEvent=this,e.init()):"Once"===this.data.runMode&&this.alreadyPlayedNonTogglingActions.add(e)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.useToggle?(this.actions.Transition.forEach(e=>{e.toggle()}),this.actions.SwitchCamera.forEach(e=>{e.toggle()})):(this.actions.Transition.forEach(e=>{!1===this.alreadyPlayedNonTogglingActions.has(e)&&e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()})),this.actions.Link.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>{e.dispatch()}),this.actions.Create.forEach(e=>{e.dispatch()}),this.actions.Destroy.forEach(e=>{e.dispatch(!1)}),this.actions.Audio.forEach(e=>{e.dispatchBasic()}),this.actions.Video.forEach(e=>{e.dispatchBasic()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}};gTe.then(e=>ir=e);var ms=new ne,Td=new hi,gf=new ne,uR=new Gs(0,0,0,"YXZ"),V$=new Gs(0,0,0,"XYZ"),kd=new ne,pR=new ne,fR=new ne(1,1,1),g1=new hi,l2=new Ut,H$=new Ut,S6e={type:"updateMatrix"},G$=new hi,mR=new ml,gR={type:"beginEvent",eventName:"Collision"},E6e={type:"beginEvent",eventName:"Trigger"},c2=e=>e.states.some(t=>void 0!==t.data.position||void 0!==t.data.rotation||void 0!==t.data.hiddenMatrix||void 0!==t.data.cloner||void 0!==t.data.pathSnapping);function T6e(e){let t=this._clip.duration,n=this._clip.start??0,i=this.loop,r=this.time+e,o=this._loopCount,s=2202===i;if(0===e)return-1===o?r:s&&1==(1&o)?t-(r-n):r;if(2200===i){-1===o&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===o&&(e>=0?(o=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),r>=t||r<n){let a=Math.floor((r-n)/(t-n));r-=(t-n)*a,o+=Math.abs(a);let l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s||(r=e>0?t:n,1===this.repetitions&&(r=t)),this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===l){let c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(s&&1==(1&o))return t-(r-n)}return r}var vf,W$=!1,vR=new WeakMap,I6e=class extends eT{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){let r=new tT(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,o=>{this.decodeDracoFile(o,t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){return this.decodeGeometry(e,{attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n}).then(t)}decodeGeometry(e,t){let n=JSON.stringify(t);if(vR.has(e)){let a=vR.get(e);if(a.key===n)return a.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i,r=this.workerNextTaskID++,s=this._getWorker(r,e.byteLength).then(a=>(i=a,new Promise((l,c)=>{i._callbacks[r]={resolve:l,reject:c},i.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(a=>this._createGeometry(a.geometry));return s.catch(()=>!0).then(()=>{i&&r&&this._releaseTask(i,r)}),vR.set(e,{key:n,promise:s}),s}_createGeometry(e){let t=new Vn;e.index&&t.setIndex(new ti(e.index.array,1));for(let n=0;n<e.attributes.length;n++){let i=e.attributes[n];t.setAttribute(i.name,new ti(i.array,i.itemSize))}return t}_loadLibrary(e,t){let n=new tT(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,r)=>{n.load(e,i,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{let i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);let r=R6e.toString(),o=["/* draco decoder */",i,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(r){let o=r.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,r){return i._taskLoad>r._taskLoad?-1:1});let n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}};function R6e(){let e,t;function r(s,a,l,c,h,d){let u=d.num_components(),f=l.num_points()*u,v=f*h.BYTES_PER_ELEMENT,y=function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}(s,h),_=s._malloc(v);a.GetAttributeDataArrayForAllPoints(l,d,y,v,_);let w=new h(s.HEAPF32.buffer,_,f).slice();return s._free(_),{name:c,array:w,itemSize:u}}onmessage=function(s){let a=s.data;switch(a.type){case"init":e=a.decoderConfig,t=new Promise(function(h){e.onModuleLoaded=function(d){h({draco:d})},DracoDecoderModule(e)});break;case"decode":let l=a.buffer,c=a.taskConfig;t.then(h=>{let d=h.draco,u=new d.Decoder,f=new d.DecoderBuffer;f.Init(new Int8Array(l),l.byteLength);try{let v=function n(s,a,l,c){let u,f,h=c.attributeIDs,d=c.attributeTypes,v=a.GetEncodedGeometryType(l);if(v===s.TRIANGULAR_MESH)u=new s.Mesh,f=a.DecodeBufferToMesh(l,u);else{if(v!==s.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");u=new s.PointCloud,f=a.DecodeBufferToPointCloud(l,u)}if(!f.ok()||0===u.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());let y={index:null,attributes:[]};for(let _ in h){let O,S,w=self[d[_]];if(c.useUniqueIDs)S=h[_],O=a.GetAttributeByUniqueId(u,S);else{if(S=a.GetAttributeId(u,s[h[_]]),-1===S)continue;O=a.GetAttribute(u,S)}y.attributes.push(r(s,a,u,_,w,O))}return v===s.TRIANGULAR_MESH&&(y.index=function i(s,a,l){let c=3*l.num_faces(),h=4*c,d=s._malloc(h);a.GetTrianglesUInt32Array(l,h,d);let u=new Uint32Array(s.HEAPF32.buffer,d,c).slice();return s._free(d),{array:u,itemSize:1}}(s,a,u)),s.destroy(u),y}(d,u,f,c),y=v.attributes.map(_=>_.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(f),d.destroy(u)}})}}}function N6e(){return vf||(vf=new I6e).setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload(),vf.decoderPending}function F6e(e){return yR.apply(this,arguments)}function yR(){return yR=(0,Yo.Z)(function*(e){if(vf){let n,t={attributeIDs:vf.defaultAttributeIDs,attributeTypes:vf.defaultAttributeTypes,useUniqueIDs:!1};try{n=yield vf.decodeGeometry(new Int8Array(e).buffer,t)}catch(i){console.error(i)}if(n)return{index:n.index?{array:n.index.array}:void 0,attributes:Object.entries(n.attributes).map(([i,r])=>({name:i,itemSize:r.itemSize,array:r.array}))}}return null}),yR.apply(this,arguments)}function _R(){return _R=(0,Yo.Z)(function*(e,t){let[n,i]=kH(l3.deserialize(new Uint8Array(e)));XG(n);let r=[];n.scene.objects.traverse((o,s)=>{"Mesh"===s.type&&"NonParametricGeometry"===s.geometry.type&&void 0!==s.geometry.data.draco&&r.push(s)}),r.length&&(yield N6e());for(let o of r){let s=yield F6e(hs(o.geometry.data.draco));if(s){s.index&&(o.geometry.data.index={array:s.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let a={};s.attributes.forEach(({name:l,array:c,itemSize:h})=>{a[l]={array:c,itemSize:h,type:"Float32Array",normalized:!1}}),o.geometry.data.attributes=a,o.geometry.data.draco=void 0}}return t&&t(n),i.result().data}),_R.apply(this,arguments)}var B6e=class{constructor(e,t,n,i,r,o,s){this.id=e,this.data=t,this.dataEvent=n,this.object=i,this.stage=!1,this.actions=il(n,t.actions,r,o,s,i)}disconnect(){Xs(this.actions)}dispatchIn(){this.actions.Audio.forEach(e=>e.dispatchBasic()),this.actions.Video.forEach(e=>e.dispatchBasic()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.Link.forEach(e=>e.dispatch()),this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.actions.Transition.forEach(e=>e.toggle()),this.actions.Animation.forEach(e=>e.play()),this.actions.SwitchCamera.forEach(e=>e.play()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch())}dispatchOut(){this.actions.Transition.forEach(e=>{e.toggle()})}},z6e=class extends Ad{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(n,i)=>{this.breakpoints.forEach(r=>{let a,o=u3.deviceToSize(r.data.size),s="horizontal"===r.dataEvent.orientation?n:i;switch(r.data.operator){case"<":a=s<o[0];break;case">":a=s>o[0];break;case"<>":a=s>o[0]&&s<o[1]}r.stage!==a&&(r.stage=a,r.stage?r.dispatchIn():r.dispatchOut())})},this.onResizeObserver=new ResizeObserver(n=>{for(let i of n){let{width:r,height:o}=i.contentRect;this.resize(r,o)}})}connect(){let{page:e,sharedAssets:t,domElement:n}=this.eventContext;this.onResizeObserver.observe(n),e.traverseEntity(i=>{if(i.visible&&i.data?.events.length)for(let{data:r}of i.data.events)r.disabled||"Resize"===r.type&&r.breakpoints.forEach(({data:o,id:s})=>{try{let a=new B6e(s,o,r,i,e,t,this.eventManager);this.breakpoints.push(a)}catch{}})})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(e=>{e.disconnect()}),this.breakpoints=[]}};function W6e(e){let t;if(e.index)for(let n=0;n<e.index.array.length;n+=3)t=e.index.array[n],e.index.array[n]=e.index.array[n+2],e.index.array[n+2]=t}function Db(e){return e instanceof db?"SubdivObject":"NonParametricGeometry"===e.geometry.type?"NonParametric":"Mesh"}var $6e=Vs(bve(),1),K6e=new Fe;function J6e(e,t){if(1&e&&(x(0,"div",93)(1,"div",94)(2,"div",95)(3,"div",96),oe(4,"img",97),M()(),x(5,"div",98)(6,"div",99)(7,"p",100),E(8,"Hiral Krupesh . Founder & Creative Director . Carat Craft Jewellery"),M(),x(9,"h4",101),E(10,"I HIGHLY RECOMMEND PIXTAR IF YOU ARE LOOKING TO REVAMP AND ELEVATE YOUR BRAND"),M(),x(11,"p",102),E(12,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()(),x(13,"div",103)(14,"div",99)(15,"p",104),E(16,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()()()()),2&e){const n=Ze();se(4),xe("src","",n.baseUrl,"/img/home/hiral-story-2.png",ve)}}function eze(e,t){if(1&e&&(x(0,"div",93)(1,"div",94)(2,"div",95)(3,"div",96),oe(4,"img",105),M()(),x(5,"div",98)(6,"div",99)(7,"p",100),E(8,"Hiral Krupesh . Founder & Creative Director . Carat Craft Jewellery"),M(),x(9,"h4",101),E(10,"I HIGHLY RECOMMEND PIXTAR IF YOU ARE LOOKING TO REVAMP AND ELEVATE YOUR BRAND"),M(),x(11,"p",102),E(12,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()(),x(13,"div",103)(14,"div",99)(15,"p",104),E(16,"\u201c Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est.\u201d"),M()()()()()),2&e){const n=Ze();se(4),xe("src","",n.baseUrl,"/img/home/crystal-story.png",ve)}}let tze=(()=>{class e{constructor(n,i,r,o,s,a,l,c,h,d,u,f){this.renderer=n,this._platformId=i,this.testimonialService=r,this.pageservice=o,this.metaTagService=s,this.titleService=a,this.blogService=l,this.formBuilder=c,this.http=h,this.projectservice=d,this.modalService=u,this.activeModal=f,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:15e3,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.baseUrl=Et_baseUrl+"/assets",this.imagepath=Et_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),setTimeout(()=>{const n=document.getElementById("canvas");this.spline=new class{constructor(e,{renderOnDemand:t,renderMode:n="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=i=>{this.time=i,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,this._perfs?.start(),!this._renderer||!this._isPaused&&("manual"===this.renderMode&&!this._renderRequested||"auto"===this.renderMode&&this._skipRender)||(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&(this._eventManager.handlers?.Start.hasVideoAction||this._eventManager.handlers?.Basic.hasVideoAction||this._eventManager.handlers?.Conditional.hasVideoAction)&&(this._skipRender=!1),this._animationControls?.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),this._eventManager?.isEnabled&&(this._eventManager.handlers?.Follow.onAnimationFrameDamping(),this._eventManager.handlers?.LookAt.onAnimationFrameDamping(),this._eventManager.handlers?.DragDrop.onAnimationFrameDamping()),this._scene&&this._camera&&(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0?(this._renderer.sceneTransitionTimeRemaining-=this.dt,this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration,this._skipRender=!1):this._renderer.pipeline.sceneTransitionFromTexture=null,this._renderer.renderSplineScene(this._scene,this._camera)),this.canvas.dispatchEvent(this._renderedEvent)),this._perfs?.end()},this._resize=()=>{if(this._renderer){if(1===this._viewportMode&&this._frameView&&(this._frameView.frameSize=K6e.set(this._viewportWidth,this._viewportHeight)),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._camera=this._scene?.activeCamera,this._scene?.updateViewPlaneSize(this._frameView?.frameSize?.x??this._viewportWidth,this._frameView?.frameSize?.y??this._viewportHeight,this._frameView?.enableResponsive??!1),this._camera){let i=Object.values(this._data?.frames??{})[0].preset??"fullscreen";this._frameView?.setCamera(this._camera),this._frameView?.updateCamera("fullscreen"!==i),"PerspectiveCamera"===this._camera.cameraType&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=NT(this._resize,10),this.canvas=e,this.renderMode=t?"auto":n,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new class{constructor({x:e=10,y:t=10}){this._startTime=0;let n=document.getElementById("spe-perfs");n?this.element=n:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){this.element.parentElement?.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}}({x:10,y:10})),function uTe(e){e.addEventListener("pointerdown",bH,!0),e.addEventListener("pointerdown",SM,!0),e.addEventListener("pointermove",SM,!0),e.addEventListener("pointerup",uv,!0),e.addEventListener("pointercancel",uv,!0),e.addEventListener("pointerleave",uv,!0),window.addEventListener("keydown",xH,!0),window.addEventListener("keyup",wH,!0)}(e)}load(e,t,n){var i=this;return(0,Yo.Z)(function*(){(function Q6e(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)})(e),i.disposed=!1;let r=yield(yield fetch(e,n)).arrayBuffer();yield i.start(r,{variables:t})})()}start(e,{interactive:t=!0,variables:n}={}){var i=this;return(0,Yo.Z)(function*(){if(i.disposed)return;let r=yield function L6e(e,t){return _R.apply(this,arguments)}(e);i._data=r,r.version&&(0,$6e.default)(r.version,"0.9.526")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),yield Promise.all([OY(r)&&YIe(),L4e(r)&&HIe(),U_.physicsEnabled(r.scene.objects)&&vTe(),gY(r)&&C4e(),y6e(r)&&mTe()].filter(Boolean)),i._eventManager?.deactivate(),i._controls?.deactivate(),i._scene?.dispose();let o=new class{get sharedAssets(){return this.shared}constructor(e,t={}){this.shared=new Hk(e.shared,t),this.scene=new SI(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof cf&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(e=>{e instanceof el&&e.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}}(r);if(o.resetPersonalCameraFromDocumentData(),i._scene=o.scene,i._sharedAssetsManager=o.sharedAssets,i._camera=i._scene.activeCamera,window.location.search.includes("merge-geometries")){let l=performance.now();!function X6e(e,t){let n=function q6e(e,t){let n={};return e.traverseEntity(i=>{if(!i.visible||!(i instanceof _l)||"Mesh"!==i.type||Array.isArray(i.material)||i.states&&Object.keys(i.states).length)return;let r=i.parent;for(;r;){if(r instanceof _l&&i.states&&Object.keys(i.states).length)return;r=r.parent}let o=i.material.uuid,s=t.shared.materials[o];if(s){if(!Ca.isMergable(s))return}else{let l=t.scene.objects.get(i.uuid)?.data;if(l&&"material"in l&&"string"!=typeof l.material){if(!Ca.isMergable(l.material))return;o=Ca.getHash(l.material)}}n[o]||(n[o]={});let a=n[o][Db(i)];if(a){if(a.push(i),i.cloner)for(let l of i.cloner.children)a.push(l)}else if(n[o][Db(i)]=[i],i.cloner)for(let l of i.cloner.children)n[o][Db(i)].push(l)}),n}(t,e),i=function Y6e(e){let t=0;return Object.values(e).forEach(n=>{Object.values(n).forEach(i=>{let r=i.length;r>t&&(t=r)})}),t}(n),r=new Array(i),o=0,s=new Array(i),a=0,l=new Array(i),c=0,h=new Array(i),d=0;for(let[u,f]of Object.entries(n))for(let v of Object.values(f)){if(a=0,c=0,v.forEach(_=>{_ instanceof _l&&(s[a++]=_.geometry.clone(),l[c++]=_)}),c<2)continue;for(let _=0;_<c;_++)l[_].updateWorldMatrix(!0,!1),s[_].applyMatrix4(l[_].matrixWorld),l[_].matrixWorld.determinant()<0&&W6e(s[_]);let y=Bm(s.slice(0,a),!1);if(y){let _;"SubdivObject"===u?(console.warn("Turning subdiv object into mesh"),_=new Ha(y,l[0].material)):_=new Ha(y,l[0].material),_.castShadow=l[0].castShadow,_.receiveShadow=l[0].receiveShadow,t.add(_);let w=O=>{d=0;for(let S of O)S.children&&w(S.children),S instanceof _l&&(Array.isArray(S.material)||n[S.material.uuid]&&n[S.material.uuid][Db(S)]&&n[S.material.uuid][Db(S)].length>1||(h[d++]=S));for(let S=0;S<d;S++)t.attach(h[S])};for(let O=0;O<c;O++){let S=l[O];w(S.children),r[o++]=S}}}for(let u=0;u<o;u++)r[u].removeFromParent()}(r,o.scene);let c=performance.now();console.log("Merged geometries in ",c-l," ms")}OY(r)&&i._scene.traverse(l=>{Iu(l)&&l.recomputeBoolean()}),i._sharedAssetsManager.setRequestRender(()=>{i._requestRenderAutoMode(),i._scene?.traverse(l=>{l instanceof Cd&&l.pendingMediaLoad&&l.update()})});let s=Object.keys(r.shared.fonts).map(l=>i._sharedAssetsManager.getFont(l).loadingPromise);Promise.all(s).then(()=>{o.scene.markNeedsUpdateRendererDirty(),i._requestRenderAutoMode()}),gY(r)&&function D6e(e){if(U_.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse((n,i)=>{if(i.events)if(Array.isArray(i.events)){for(let r of i.events)if(!0!==r.data.disabled&&"GameControl"===r.data.type&&r.data.collisionEnabled){t=!0;break}}else for(let r of Object.values(i.events))if(!0!==r.disabled&&"GameControl"===r.type&&r.collisionEnabled){t=!0;break}}),t}(r)&&(yield Promise.all(s)),i._scene.rewriteEventsBeforeGoToPlayMode(),$I(i._scene.activePage,i._sharedAssetsManager),i._renderer||(i._renderer=new uFe({canvas:i.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),i._renderer.hdTransmission=!0===r.scene.publish.hdTransmission,i._renderer.setPixelRatio(window.devicePixelRatio),i._renderer.pipeline.addEventListener("smaaloaded",i._requestRenderAutoMode)),i._scene.initializeSplatViewer(i._renderer),void 0!==r.scene.blueNoiseTextureData&&i._renderer.pipeline.updateBlueNoiseTexture(r.scene.blueNoiseTextureData);let a=Object.values(r.frames)[0];if(i._frameView?i._frameView.setCamera(i._camera):("fullscreen"===a.preset?(i._viewportMode=1,i.canvas.style.display="block",i.canvas.parentElement&&(i._viewportWidth=i.canvas.parentElement.clientWidth||300,i.canvas.style.width="100%"),i.canvas.parentElement&&(i._viewportHeight=i.canvas.parentElement.clientHeight||150,i.canvas.style.height="100%")):(i._viewportMode=2,i._viewportWidth=a.size[0],i._viewportHeight=a.size[1],i.canvas.style.width=`${i._viewportWidth}px`,i.canvas.style.height=`${i._viewportHeight}px`),i._renderer.setSize(i._viewportWidth,i._viewportHeight,!1),i._frameView=new class{constructor(e,t,n,i,r){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=(new Fe).copy(n),this._editorSize=(new Fe).copy(i),this._aspect=t.aspect,this._fov=r??t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||"PerspectiveCamera"!==this._camera.cameraType)return;let e=this._frameSize.x,t=this._frameSize.y,n=this._editorSize.y;this._aspect=e/t,t<=n&&(this._camera.zoom*=n/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if("PerspectiveCamera"===this._camera.cameraType){let t=this._frameSize.y,n=this._editorSize.y,i=this._fov;if(e&&t>n){let r=function V6e(e,t,n,i,r){return(e-t)/(n-t)*(r-i)+i}(t,1080,2160,1,15)/100;i*=t/n,i*=1-r}this._camera.aspect=this._aspect,this._camera.fov=i,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}}(i._renderer,i._camera,new Fe(i._viewportWidth,i._viewportHeight),new Fe(window.innerWidth,window.innerHeight)),i._frameView.enableResponsive=(a.allowResponsive??!1)&&"fullscreen"===a.preset),t){let l=new class{constructor(e,t,n,i,r,o,s,a){this.renderer=e,this.publish=t,this.scene=n,this.getCamera=i,this.sharedAssets=r,this.requestRender=o,this.isExport=s,this.frame=a,this.raycaster=new MBe,this._useWindowEvents=!1,this._useWindowEvents="window"===t.mouseEventTarget,this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}updateRaycaster(e){let{pageX:t,pageY:n}=e.touches?.length>0?e.touches[0]:e;this.raycaster.setFromCamera(function OBe(e,t,n){return{x:(e-(n.left+window.scrollX))/n.width*2-1,y:-(t-(n.top+window.scrollY))/n.height*2+1}}(t,n,this._domRect),this.getCamera())}}(i._renderer,i.data.scene.publish,i._scene,()=>i._scene.activeCamera,i._sharedAssetsManager,i._requestRenderAutoMode,!0,a);i._scene.updateMatrixWorld(!0),i._controls=new class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=t=>{if(t.bodyType()!==ir.RigidBodyType.Dynamic)return;t.isSleeping()||this.nActiveRigidBodies++;let[n,i,r]=this.rigidBodyToMesh.get(t.handle);if(ms.copy(t.translation()).multiplyScalar(this.pixelsPerMeter),Td.copy(t.rotation()),n.matrixWorld.compose(ms,Td,i),n.hasNonUniformScale&&n.matrixWorld.multiply(n.shearScale),n.dispatchEvent(S6e),r){let o=n.cloner;if(o&&void 0===o.objectForSample){o.matrixWorld.copy(n.matrixWorld);for(let s of o.children)s.updateMatrixWorld(!0)}for(let s of n.children)s.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(t,n,i)=>{if(!1===i)return;let r,o;if(this.sensorToTriggerEvent[t]?(r=this.sensorToTriggerEvent[t],o=this.sharedGameControlGlobals.colliderToEntity.get(n)):this.sensorToTriggerEvent[n]&&(r=this.sensorToTriggerEvent[n],o=this.sharedGameControlGlobals.colliderToEntity.get(t)),r&&o&&r.isValidTriggeringObject(o))r.dispatch();else{for(let s=this.sharedGameControlGlobals.createdObjects.length-1;s>=0;s--){let a=this.sharedGameControlGlobals.createdObjects[s];if(a.userData.hasCollisionDestroy&&(a.rigidBody?.collider(0).handle===t||a.rigidBody?.collider(0).handle===n)){this.sharedGameControlGlobals.createdObjects.splice(s,1),a.removeFromParent(),requestAnimationFrame(()=>this.sharedGameControlGlobals.rapierWorld?.removeRigidBody(a.rigidBody));break}}if(this.gameControl?.object===this.sharedGameControlGlobals.colliderToEntity.get(t)){let s=this.sharedGameControlGlobals.colliderToEntity.get(n),a=this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid];if(void 0===a)return;for(let l of a)"character"===l.data.target&&this.dispatchCollisionEvent(l,s,n)}else if(this.gameControl?.object===this.sharedGameControlGlobals.colliderToEntity.get(n)){let s=this.sharedGameControlGlobals.colliderToEntity.get(t),a=this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid];if(void 0===a)return;for(let l of a)"character"===l.data.target&&this.dispatchCollisionEvent(l,s,t)}else{let s=this.sharedGameControlGlobals.colliderToEntity.get(t),a=this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid];if(void 0!==a)for(let h of a)"scene"===h.data.target&&this.dispatchCollisionEvent(h,s,t);let l=this.sharedGameControlGlobals.colliderToEntity.get(n),c=this.sharedGameControlGlobals.entityToCollisionEvents[l?.uuid];if(void 0!==c)for(let h of c)"scene"===h.data.target&&this.dispatchCollisionEvent(h,l,n)}}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=200,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach(t=>{t.addEventListener("connected",n=>{"gamepad"in n.data&&"axes"in n.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(n.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let n of t.events){if(!0===n.data.disabled)continue;let i=n.data.actions?.find(r=>"Destroy"===r.data.type)?.data;if(i)for(let r of i.objects){let o=this.page.scene.find(r);o&&(o.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let n of t.events)if(!0!==n.data.disabled&&"DragDrop"===n.data.type)for(let i of n.data.objects){let r=this.page.scene.find(i);r&&(r.userData.hasDrag=!0)}})}initBVH(){let e=[];if(this.page.traverseChildren(t=>{let n;if(t instanceof Cd)return;n=t instanceof Ma?t.object:t;let i=n.dataPatched;if("visibility"===i.physics?.enabled?!i.visible:!i.physics?.enabled)return!0;let r=t.geometry,o=!0===n.userData.hasDestroy,s=!0===n.userData.hasDrag;if(c2(i)||o||s||n.dataPatched.events.some(a=>!0!==a.data.disabled&&"GameControl"===a.data.type))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;r&&e.push(Bu(r,t.matrixWorld))}),e.length>0){let t=Bm(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new $_(t)}}addRigidBody(e,t,n){let i=[],r="geometry"in e?e.geometry:void 0,o=t.dataPatched;if(void 0!==r?.getAttribute("position")&&i.push(Bu(r,e.shearScale)),o.physics.fusedBody){let s=this.gatherChildrenGeom(e,i);e.traverseObject(s),e.children.forEach(l=>l.updateMatrixWorld(!0));let a=e.cloner;a&&void 0===a.objectForSample&&"dynamic"===o.physics.rigidBody&&(a.traverseObject(s),a.children.forEach(l=>l.updateMatrixWorld(!0)))}if(i.length>0){let s,a=!n.fromCreate&&"dynamic"===o.physics.rigidBody||n.fromCreate&&n.dynamic;a?(s=ir.RigidBodyDesc.dynamic(),s.setLinearDamping(o.physics.damping).setAngularDamping(o.physics.damping).setAdditionalMass(1e-9).setGravityScale(o.physics.gravityScale).enabledRotations(...o.physics.enabledRotation).enabledTranslations(...o.physics.enabledTranslation)):(n.hasTransformAnim||n.hasFollow||n.hasDrag)&&!n.fromCreate?(s=ir.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):s=ir.RigidBodyDesc.fixed();let l=Bm(i);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(ms,Td,gf),e.position0=ms.clone().divideScalar(this.pixelsPerMeter),e.rotation0=Td.clone(),ms.divideScalar(this.pixelsPerMeter),s.setTranslation(ms.x,ms.y,ms.z).setRotation(Td),r?l?.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):l?.scale(gf.x/this.pixelsPerMeter,gf.y/this.pixelsPerMeter,gf.z/this.pixelsPerMeter);let c=this.sharedGameControlGlobals.rapierWorld.createRigidBody(s);a&&this.rigidBodyToMesh.set(c.handle,[e,gf.clone(),o.physics.fusedBody]);let h=!(void 0===o.geometry||"SubdivGeometry"===o.geometry.type||"NonParametricGeometry"===o.geometry.type||"BooleanGeometry"===o.geometry.type||"VectorGeometry"===o.geometry.type||"StarGeometry"===o.geometry.type||"RectangleGeometry"===o.geometry.type||"EllipseGeometry"===o.geometry.type||"TriangleGeometry"===o.geometry.type||"TorusGeometry"===o.geometry.type||"HelixGeometry"===o.geometry.type);try{this.addCollider(c,o.physics,l,t,h)}catch{try{this.addCollider(c,o.physics,l,t,!1)}catch(d){console.error(d)}}e.rigidBody=c}}addBoundsTree(e){let t=[];if(void 0!==e.geometry?.getAttribute("position")&&e.geometry?.getAttribute("position").count>0&&t.push(Bu(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach(n=>n.updateMatrixWorld(!0)),t.length>0){let n=Bm(t,!1);e.bvhGeometry=n,e.bvhGeometry.boundsTree=new $_(n),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)}}addCollider(e,t,n,i,r=!0){if(0===n?.getAttribute("position").count||0===n?.getIndex()?.count)return;let o;n&&(o="trimesh"===t.colliderType?ir.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array):ir.ColliderDesc.convexMesh(n.getAttribute("position").array,r?n.getIndex().array:void 0)),o.setFrictionCombineRule(ir.CoefficientCombineRule.Average).setRestitutionCombineRule(ir.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let s=this.sharedGameControlGlobals.rapierWorld.createCollider(o,e);this.sharedGameControlGlobals.colliderToEntity.set(s.handle,i),this.sharedGameControlGlobals.entityToCollisionEvents[i.uuid]?.some(a=>"scene"===a.target)&&s.setActiveEvents(ir.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(n,i)=>{if(0===i)return;let r;if(n instanceof Cd){if(!n.objectForSample)return!0===n.object.dataPatched.physics.fusedBody&&"dynamic"===n.object.dataPatched.physics.rigidBody||void 0;if(n.objectForSample.dataPatched.physics.fusedBody)return;r=n.object}else if(n instanceof Ma)r=n.object;else if(r=n,r.dataPatched.cloner?.hideBase)return!0;let o=r.dataPatched;if("visibility"===o.physics.enabled?!o.visible:!o.physics.enabled)return!0;1===i?e.hasNonUniformScale?n.matrixWorld.multiplyMatrices(e.shearScale,n.hiddenMatrix):n.matrixWorld.copy(n.hiddenMatrix):n.matrixWorld.multiplyMatrices(n.parent.matrixWorld,n.hiddenMatrix),n.matrixWorld.multiply(n.matrix);let s=n.geometry;void 0!==s?.getAttribute("position")&&t.push(Bu(s,n.matrixWorld))}}activate(e){if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,n=!1,i=5,r=8,o=9,s="drag",a=this.page.data.publish.gameControlObject,l=null!==a?this.page.find(a):null,c=null;if(l)for(let u of l.data.events){if(u.data.disabled||"GameControl"!==u.data.type)break;let f=l;for(;this.usePhysics&&null!==(f=f.parent)?.parent&&!f.data.physics?.fusedBody;);u.data.collisionEnabled&&(this.needsCollisionDetection=!0),null===c&&(c=u.data)}if(this.page.traverseEntity(u=>{for(let f of u.dataPatched.events)if(!1===f.data.disabled&&"Trigger"===f.data.type)return this.needsCollisionDetection=!0,!0}),l&&c){n=n||c.camera===t.uuid||l.uuid===t.uuid;let u=new x$(l,this.renderer.domElement,c,this.eventContext.page.data.globalPhysics,this,l.uuid!==t.uuid&&c.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=u,i=c.joystickPosLoc,r=c.joystickRotLoc,o=c.jumpTouchButtonLoc,s=c.rotByTouch,Zl&&c.touchControl&&(this.joystickToGameControls[i]="pos","walk"===c.moveMode&&(this.joystickToGameControls[o]="jmp"),"joystick"===s&&(this.joystickToGameControls[r]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let u=this.gameControl.data;if(!this.navigationMeshWrapper){let f;this.navigationMeshWrapper=new class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=n=>{if(1!==ni.length)return;let{raycaster:i,page:r}=this.eventContext;this.eventContext.updateRaycaster(n);let o=r.raycastWithClones(i);if(0!==o.length){if(this.gameControl){let s=m6e.copy(this.gameControl.colliderWorldPosition);s.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(s,o[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(n,i)=>r=>{let o;if(r instanceof Cd){if(!r.objectForSample)return!0===r.object.dataPatched.physics.fusedBody&&"dynamic"===r.object.dataPatched.physics.rigidBody||void 0;if(r.objectForSample.dataPatched.physics.fusedBody)return;o=r.object}else if(r instanceof Ma)o=r.object;else if(o=r,!1===o.dataPatched.cloner?.disabled&&o.dataPatched.cloner?.hideBase&&!0!==o.dataPatched.physics?.fusedBody)return!0;if(i&&!o.userData.navmesh)return;let s=o.dataPatched;if(!s.visible&&!0!==s.physics?.enabled)return!0;r.updateMatrixWorldSVD();let a=c2(s),l=o.userData.hasDestroy,c=o.userData.hasDrag,h=!1,d=!1;for(let u of s.events)!0!==u.data.disabled&&("GameControl"===u.data.type?h=!0:"Follow"===u.data.type&&(d=!0));if(h||a||d||l||c)return!0;if(this.usePhysics&&"dynamic"===s.physics?.rigidBody){if(this.usePhysics&&s.physics?.fusedBody)return!0}else if("geometry"in r&&r.geometry&&n.push(Bu(r.geometry,r.matrixWorld)),this.usePhysics&&s.physics?.fusedBody)return r.traverseObject((u,f)=>{if(0===f)return;let v;if(u instanceof Cd){if(!u.objectForSample)return!0===u.object.dataPatched.physics.fusedBody&&"dynamic"===u.object.dataPatched.physics.rigidBody||void 0;if(u.objectForSample.dataPatched.physics.fusedBody)return;v=u.object}else if(u instanceof Ma)v=u.object;else if(v=u,u.dataPatched.cloner?.hideBase)return!0;let y=v.dataPatched;if(!y.visible&&!0!==y.physics?.enabled)return!0;"geometry"in u&&u.geometry&&n.push(Bu(u.geometry,u.matrixWorld))}),!0},this.traverseNoPhysics=(n,i)=>r=>{let o;if(r instanceof Cd)return;o=r instanceof Ma?r.object:r;let s=o.dataPatched;if("visibility"===s.physics.enabled?!s.visible:!s.physics.enabled)return!0;if(i&&!o.userData.navmesh)return;let a=r.geometry,l=!0===o.userData.hasDestroy,c=!0===o.userData.hasDrag;if(c2(s)||l||c||o.dataPatched.events.some(h=>!0!==h.data.disabled&&"GameControl"===h.data.type))return!0;a&&n.push(Bu(a,r.matrixWorld))},this.navmeshWasm=N$,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?"\n(async function() {\n\tconst [wasmImport, wasmBinary] = await Promise.all([\n\t\timport('https://unpkg.com/@splinetool/runtime@0.9.526/build/' + 'navmesh.js'),\n\t\tfetch('https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build/' + 'navmesh.wasm').then((res) => res.arrayBuffer()),\n\t]);\n\tconst wasmModule = wasmImport.default;\n\tself.module = await wasmModule({ wasmBinary });\n\tpostMessage('ready');\n})();\n":"\n(async function() {\n\tconst [wasmImport, wasmBinary] = await Promise.all([\n\t\timport(self.location.origin + '/_libraries/navmesh.js'),\n\t\tfetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),\n\t]);\n\tconst wasmModule = wasmImport.default;\n\tself.module = await wasmModule({ wasmBinary });\n\tpostMessage('ready');\n})();\n")+"\n\nonmessage = function(messageEvent) {\n\tconst meshData = messageEvent.data;\n\tconst positions = meshData[0];\n\tconst offset = meshData[1];\n\tconst indices = meshData[2];\n\tconst indicesLength = meshData[3];\n\tconst parameters = meshData[4];\n\n\tconst module = self.module;\n\tconst rc = new module.rcConfig();\n\trc.cs = parameters.cs;\n\trc.ch = parameters.ch;\n\trc.borderSize = parameters.borderSize ? parameters.borderSize : 0;\n\trc.tileSize = parameters.tileSize ? parameters.tileSize : 0;\n\trc.walkableSlopeAngle = parameters.walkableSlopeAngle;\n\trc.walkableHeight = parameters.walkableHeight;\n\trc.walkableClimb = parameters.walkableClimb;\n\trc.walkableRadius = parameters.walkableRadius;\n\trc.maxEdgeLen = parameters.maxEdgeLen;\n\trc.maxSimplificationError = parameters.maxSimplificationError;\n\trc.minRegionArea = parameters.minRegionArea;\n\trc.mergeRegionArea = parameters.mergeRegionArea;\n\trc.maxVertsPerPoly = parameters.maxVertsPerPoly;\n\trc.detailSampleDist = parameters.detailSampleDist;\n\trc.detailSampleMaxError = parameters.detailSampleMaxError;\n\n\tif (!self.navMesh) {\n\t\tself.navMesh = new module.NavMesh();\n\t}\n\tself.navMesh.build(positions, offset, indices, indicesLength, rc);\n\n\tconst navmeshData = navMesh.getNavmeshData();\n\tconst arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);\n\tconst ret = new Uint8Array(navmeshData.size);\n\tret.set(arrView);\n\tnavMesh.freeNavmeshData(navmeshData);\n\n\tpostMessage(ret);\n}\n"])),this._worker=new Worker(this._workerURL)}init(e,t,n){this.gameControl=t,this.eventContext=n,this.resolution=e.ch,this.setDefaultQueryExtent((new ne).setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(n.page,e,i=>{this.buildFromNavmeshData(i.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,n){t.objects.forEach(l=>{let c=e.scene.find(l);c.traverseEntity(h=>{h.userData.navmesh=!0}),c.cloner?.traverseObject(h=>{h.userData.navmesh=!0})});let i=[],r=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(i,"custom"===t.zones);if(e.traverseChildren(r),t.objects.forEach(l=>{let c=e.scene.find(l);c.traverseEntity(h=>{h.userData.navmesh=void 0}),c.cloner?.traverseObject(h=>{h.userData.navmesh=void 0})}),0===i.length)return!1;let o=Bm(i),{positions:s,triIndices:a}=MP(o.getAttribute("position"),o.getIndex());return this._worker.postMessage([s,s.length/3,a,a.length,{...f6e,...t}]),this._worker.onmessage=n,!0}createDebugNavGeometry(){let e,t,n=this.navMesh.getDebugNavMesh(),i=n.getTriangleCount(),r=new Uint32Array(3*i),o=new Float32Array(3*i*3);for(e=0;e<3*i;e++)r[e]=e;for(e=0;e<i;e++)for(t=0;t<3;t++){let a=n.getTriangle(e).getPoint(t);o[9*e+3*t+0]=a.x,o[9*e+3*t+1]=a.y,o[9*e+3*t+2]=a.z}let s=new Vn;return s.setIndex(new ti(r,1)),s.setAttribute("position",new ti(o,3)),s}getClosestPoint(e){return qi.x=e.x,qi.y=e.y,qi.z=e.z,this.navMesh.getClosestPoint(qi)}getClosestPointToRef(e,t){qi.x=e.x,qi.y=e.y,qi.z=e.z;let n=this.navMesh.getClosestPoint(qi);t.set(n.x,n.y,n.z)}getRandomPointAround(e,t){return qi.x=e.x,qi.y=e.y,qi.z=e.z,this.navMesh.getRandomPointAround(qi,t)}getRandomPointAroundToRef(e,t,n){qi.x=e.x,qi.y=e.y,qi.z=e.z;let i=this.navMesh.getRandomPointAround(qi,t);n.set(i.x,i.y,i.z)}moveAlong(e,t){return qi.x=e.x,qi.y=e.y,qi.z=e.z,ia.x=t.x,ia.y=t.y,ia.z=t.z,this.navMesh.moveAlong(qi,ia)}moveAlongToRef(e,t,n){return qi.x=e.x,qi.y=e.y,qi.z=e.z,ia.x=t.x,ia.y=t.y,ia.z=t.z,this.navMesh.moveAlong(qi,ia)}computePath(e,t){let n=this.getClosestPoint(t);ia.x=n.x,ia.y=n.y,ia.z=n.z,this.getClosestPoint(e);let i=this.navMesh.computePath(qi,ia),r=i.getPointCount(),o=[];for(let s=0;s<r;s++){let a=i.getPoint(s);o.push(new ne(a.x,a.y,a.z))}return o}createCrowd(e,t){return new class{constructor(e,t,n){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,n,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,n){let i=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;i.radius=t.radius,i.height=t.height,i.maxAcceleration=t.maxAcceleration,i.maxSpeed=t.maxSpeed,i.collisionQueryRange=t.collisionQueryRange,i.pathOptimizationRange=t.pathOptimizationRange,i.separationWeight=t.separationWeight,i.updateFlags=7,i.obstacleAvoidanceType=0,i.queryFilterType=0,i.userData=0;let r=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),i);return this.transforms.push(n),this.agents.push(r),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new ne(0,0,0)),r}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let n=this.crowd.getAgentPosition(e);t.set(n.x,n.y,n.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let n=this.crowd.getAgentVelocity(e);t.set(n.x,n.y,n.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let n=this.crowd.getAgentNextTargetPath(e);t.set(n.x,n.y,n.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let n=this.agents.indexOf(e);n>-1&&(this._agentDestinationArmed[n]=!0,this._agentDestination[n].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let n=this.crowd.getAgentParameters(e);void 0!==t.radius&&(n.radius=t.radius),void 0!==t.height&&(n.height=t.height),void 0!==t.maxAcceleration&&(n.maxAcceleration=t.maxAcceleration),void 0!==t.maxSpeed&&(n.maxSpeed=t.maxSpeed),void 0!==t.collisionQueryRange&&(n.collisionQueryRange=t.collisionQueryRange),void 0!==t.pathOptimizationRange&&(n.pathOptimizationRange=t.pathOptimizationRange),void 0!==t.separationWeight&&(n.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,n)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),!(e<=.001)){{let i=Math.floor(e/.016666666666666666);i>10&&(i=10),i<1&&(i=1);let r=e/i;for(let o=0;o<i;o++)this.crowd.update(r)}for(let i=0;i<this.agents.length;i++){let r=this.agents[i],o=this.getAgentPosition(r);if(this.transforms[i].copy(o),this._agentDestinationArmed[i]){let s=o.x-this._agentDestination[i].x,a=o.z-this._agentDestination[i].z,l=this.reachRadii[i],h=this._agentDestination[i].y+this.reachRadii[i],d=s*s+a*a;o.y>this._agentDestination[i].y-this.reachRadii[i]&&o.y<h&&d<l*l&&(this.onReachTarget(r,this._agentDestination[i]),this._agentDestinationArmed[i]=!1)}}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,n=this.crowd.getCorners(e),i=n.getPointCount(),r=[];for(t=0;t<i;t++){let o=n.getPoint(t);r.push(new ne(o.x,o.y,o.z))}return r}dispose(){this.crowd.destroy()}}(this,e,t)}setDefaultQueryExtent(e){qi.x=e.x,qi.y=e.y,qi.z=e.z,this.navMesh.setDefaultQueryExtent(qi)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,n=this.navmeshWasm._malloc(t),i=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,n,t);i.set(e);let r=new this.navmeshWasm.NavmeshData;r.dataPointer=i.byteOffset,r.size=e.length,this.navMesh.buildFromNavmeshData(r),this.navmeshWasm._free(i.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),n=new Uint8Array(e.size);return n.set(t),this.navMesh.freeNavmeshData(e),n}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),this.eventContext?.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,n){return qi.x=e.x,qi.y=e.y,qi.z=e.z,this.navMesh.addCylinderObstacle(qi,t,n)}addBoxObstacle(e,t,n){return qi.x=e.x,qi.y=e.y,qi.z=e.z,ia.x=t.x,ia.y=t.y,ia.z=t.z,this.navMesh.addBoxObstacle(qi,ia,n)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return void 0!==this.navmeshWasm}}(this.usePhysics,this.isExport),f="sphere"===u.collider.type?2*u.collider.radius:u.collider.height,f=Math.floor(f/u.navmesh.ch-1),this.navigationMeshWrapper.init({...u.navmesh,walkableHeight:f},this.gameControl,this.eventContext)}}if(!1===n){let{enableRotate:u,enablePan:f,enableZoom:v,autoRotate:y,hoverRotatePanMode:_}=this.eventManager.publish.orbitControls;(u||f||v||y||0!==_)&&(this.orbitControls=new z$(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let h=this.renderer.domElement.width/this.renderer.getPixelRatio(),d=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((u,f)=>{let v=document.body.appendChild(document.createElement("div")),[y,_,w]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[f],O=(h-5*y)/4+y,S={},D="jmp"===u,U=D?0:y;f<10?(f<5?S.top=U/2:S.bottom=U/2,S.left=U/2+f%5*O):10===f?(S.left=U/2,S.top=d/2):(S.right=U/2,S.top=d/2),S.top?S.top-=_[1]:S.bottom+=_[1],S.left?S.left+=_[0]:S.right-=_[0];for(let K in S)S[K]+="px";if(D){let K=v.appendChild(document.createElement("div"));Object.assign(K.style,S,{position:"absolute",width:y+"px",height:y+"px",backgroundColor:`rgba(255,255,255,${"show"===w?.4:0})`,zIndex:"9999",borderRadius:y+"px",border:"show"===w?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"});let Z=y/16*16*.4;return"show"===w&&(K.innerHTML=`\n\t\t\t\t\t\t<svg width="${Z}" height="${.4*y}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t`),K.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),K.addEventListener("touchend",te=>te.preventDefault()),void(this.joysticks[f]=[void 0,v])}let Y={zone:v,mode:"static",position:S,size:y};"hide"===w&&(Y.restOpacity=0);let q=function(e){return mX.create(e)}(Y);q.on("move",(K,Z)=>{let te=this.gameControl;"pos"===u?Z.force<.2?te.moveForce=0:(te.movementState.movePosZ=Math.sin(-Z.angle.radian),te.movementState.movePosX=Math.cos(-Z.angle.radian),te.movementState.run=Z.force>1.2?1:0,te.moveForce=Z.force<.3?(Z.force-.2)/.1:1):"rot"===u&&(Z.force<.2?te.rotForce=0:(te.movementState.rotPosX=Z.vector.y,te.movementState.rotPosY=-Z.vector.x,te.rotForce=Z.force<.3?(Z.force-.2)/.1:1)),this.requestRender()}),q.on("end",(K,Z)=>{let te=this.gameControl;"pos"===u?(te.movementState.movePosZ=0,te.movementState.movePosX=0,te.moveForce=1):"rot"===u&&(te.movementState.rotPosX=0,te.movementState.rotPosY=0,te.rotForce=1)}),this.joysticks[f]=[q,v]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(u=>u.disabled=!1)},80)}initPhysics(){this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=new ir.World(new ir.Vector3(0,this.gravity,0)),this.events=new ir.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren(s=>{let a;if(s instanceof Cd){if(!s.objectForSample)return!0===s.object.dataPatched.physics.fusedBody&&"dynamic"===s.object.dataPatched.physics.rigidBody||void 0;if(s.objectForSample.dataPatched.physics.fusedBody)return;a=s.object}else if(s instanceof Ma)a=s.object;else if(a=s,!1===a.dataPatched.cloner?.disabled&&a.dataPatched.cloner?.hideBase&&!0!==a.dataPatched.physics?.fusedBody)return!0;let c,l=a.dataPatched;for(let _ of l.events)!0!==_.data.disabled&&"GameControl"===_.data.type&&(c=_.data);if(!l.physics||("visibility"===l.physics.enabled?!l.visible:!l.physics.enabled))return!0;s.updateMatrixWorldSVD();let h=c2(l),d=!1,u=a.userData.hasDestroy,f=a.userData.hasDrag,v=!1;for(let _ of l.events)if(!0!==_.data.disabled)if("Collision"===_.data.type){d=!0;let w=new s6e(_.id,_.data,a,this.page,this.sharedAssets,this.eventManager);w.disabled=!0,this.collisionEvents.push(w),this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].every(O=>O.id!==_.id)?this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].push(w):this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]=[w]}else if("Follow"===_.data.type){v=!0;let w=_.data.target;s.traverseVisible(O=>{O.userData.isFollowingObj=w})}"dynamic"===l.physics.rigidBody&&!1===l.physics.fusedBody&&(s.matrixWorldFusedFalse=s.matrixWorld.clone());let y=s.geometry;if(void 0!==c){let _=ir.RigidBodyDesc.kinematicPositionBased();(s.hasNonUniformScale?s.matrixWorldRigid:s.matrixWorld).decompose(ms,Td,gf),s.position0=ms.clone().divideScalar(this.pixelsPerMeter),s.rotation0=Td.clone(),ms.divideScalar(this.pixelsPerMeter),_.setTranslation(ms.x,ms.y,ms.z).setRotation(Td);let O,w=this.sharedGameControlGlobals.rapierWorld.createRigidBody(_);s.rigidBody=w,O="sphere"===c.collider.type?ir.ColliderDesc.ball(c.collider.radius/this.pixelsPerMeter):"capsule"===c.collider.type?ir.ColliderDesc.capsule((c.collider.height/2-c.collider.radius)/this.pixelsPerMeter,c.collider.radius/this.pixelsPerMeter):ir.ColliderDesc.cuboid(c.collider.width/this.pixelsPerMeter/2,c.collider.height/this.pixelsPerMeter/2,c.collider.depth/this.pixelsPerMeter/2),O.setFrictionCombineRule(ir.CoefficientCombineRule.Average).setRestitutionCombineRule(ir.CoefficientCombineRule.Average).setDensity(l.physics.density).setFriction(l.physics.friction).setRestitution(l.physics.restitution);let S=this.sharedGameControlGlobals.rapierWorld.createCollider(O,w);this.sharedGameControlGlobals.colliderToEntity.set(S.handle,a),ms.fromArray(c.collider.position).multiply(gf.setFromMatrixScale(a.matrixWorld)).divideScalar(this.pixelsPerMeter),S.setTranslationWrtParent(ms);let D=(new hi).setFromEuler((new Gs).setFromVector3((new ne).fromArray(c.collider.rotation)));S.setRotationWrtParent(D),S.setActiveEvents(ir.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(a,!0)}else"dynamic"===l.physics.rigidBody||h||v||u||f||d?(this.addRigidBody(s,a,{hasFollow:v,hasTransformAnim:h,hasDrag:f}),this.generateSensorColliderDescs(a,l.physics.fusedBody)):(y&&e.push(Bu(y,s.matrixWorld)),l.physics.fusedBody&&s.traverseObject((_,w)=>{if(0===w)return;let O;if(_ instanceof Cd){if(!_.objectForSample)return!0===_.object.dataPatched.physics.fusedBody&&"dynamic"===_.object.dataPatched.physics.rigidBody||void 0;if(_.objectForSample.dataPatched.physics.fusedBody)return;O=_.object}else if(_ instanceof Ma)O=_.object;else if(O=_,O.dataPatched.cloner?.hideBase)return!0;let S=O.dataPatched;if("visibility"===S.physics.enabled?!S.visible:!S.physics.enabled)return!0;let D=_.geometry;void 0!==D?.getAttribute("position")&&e.push(Bu(D,_.matrixWorld))}),this.generateSensorColliderDescs(a,l.physics.fusedBody,t));return!(!0!==l.physics?.fusedBody&&!c)||void 0}),0===e.length)return;let n=Bm(e);n.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let i=ir.RigidBodyDesc.fixed(),r=this.sharedGameControlGlobals.rapierWorld.createRigidBody(i),o=ir.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array).setFrictionCombineRule(ir.CoefficientCombineRule.Multiply).setRestitutionCombineRule(ir.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(o,r);for(let[s,a]of t){let l=this.sharedGameControlGlobals.rapierWorld.createCollider(s,r);this.sensorToTriggerEvent[l.handle]=a}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(e=>{for(let t of e.dataPatched.events)if("Trigger"===t.data.type&&!0!==t.data.disabled){let n=new j$(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),i=(new Ut).compose(kd.fromArray(t.data.position),g1.setFromEuler(V$.fromArray(t.data.rotation)),fR);if("box"===t.data.triggerZone){let r=new Ko;r.min.fromArray(t.data.size).multiplyScalar(-.5),r.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([r,i,e,n])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,i,e,n])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(e=>e.disconnect()),this.sharedGameControlGlobals.triggers.forEach(e=>e[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){if(this.isEnabled){this.isEnabled=!1,this.page.traverse(e=>{let t=e;t.matrixWorldFusedFalse&&(t.matrixWorldFusedFalse=void 0),t.rigidBody&&(t.rigidBody=void 0),t.position0&&(t.position0=void 0),t.rotation0&&(t.rotation0=void 0)}),this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),this.gameControl?.reset(),this.gameControl?.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([e,t])=>{e?.destroy(),t.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),this.navigationMeshWrapper?.dispose(),this.navigationMeshWrapper=void 0;for(let e of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))e.forEach(t=>t.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,n){if(!this.isEnabled)return!0;let i=!0;if(void 0!==this.orbitControls&&this.orbitControls.needsUpdate&&(i=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,i=!1):2===this.initializationCounter&&this.gameControl&&(i=!this.gameControl.update(e,t,n)&&i),!1===this.usePhysics&&this.checkTrigger(),this.usePhysics){let r=.016666666666666666;if(0===e)i=this.stepPhysics()&&i;else{let o=e/1e3;o<r&&o>.55*r&&(o=r),this.accumulator+=o;let s=performance.now(),a=0,l=6;for(;this.accumulator>=r&&a<l&&(i=this.stepPhysics()&&i,this.accumulator-=r,a++,!(performance.now()-s>1e3*r)););this.accumulator=this.accumulator%r}}return i}stepPhysics(){for(let e of this.sharedGameControlGlobals.entitiesWithTransformAnim){(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(ms,Td,gf),uR.setFromQuaternion(Td);let t=e;void 0===t.prevR?(t.prevR=uR.clone(),t.prevT=ms.clone()):(t.prevR.copy(uR),t.prevT.copy(ms)),e.rigidBody&&(e.rigidBody.setNextKinematicTranslation(ms.divideScalar(this.pixelsPerMeter)),e.rigidBody.setNextKinematicRotation(Td))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),this.events?.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,n){let r,i=this.sharedGameControlGlobals.rapierWorld?.getCollider(n)._parent;if(t.cloner)for(let o of t.cloner.children)if(o.rigidBody===i){r=o;break}e.dispatch(r),t.dispatchEvent(gR)}updateUseWindowEvents(e){this.orbitControls?.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,n){let i=H$.copy(e.matrixWorld).invert();e.traverseEntity((r,o)=>{if(!1===t&&1===o)return!0;for(let s of r.dataPatched.events)if("Trigger"===s.data.type&&!0!==s.data.disabled){let l,a=new j$(s.id,s.data,r,this.page,this.sharedAssets,this.eventManager);if(l="box"===s.data.triggerZone?ir.ColliderDesc.cuboid(...s.data.size.map(c=>c/(2*this.pixelsPerMeter))):ir.ColliderDesc.ball(s.data.radius/this.pixelsPerMeter),l.setDensity(0).setSensor(!0).setActiveEvents(ir.ActiveEvents.COLLISION_EVENTS),kd.fromArray(s.data.position),g1.setFromEuler(V$.fromArray(s.data.rotation)),l2.compose(kd,g1,fR).premultiply(r.matrixWorld),n?(l2.decompose(kd,g1,pR),l.setActiveCollisionTypes(ir.ActiveCollisionTypes.KINEMATIC_FIXED|ir.ActiveCollisionTypes.DYNAMIC_FIXED)):(l2.premultiply(i).decompose(kd,g1,pR),e.rigidBody.bodyType()===ir.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===ir.RigidBodyType.Fixed?l.setActiveCollisionTypes(ir.ActiveCollisionTypes.KINEMATIC_FIXED|ir.ActiveCollisionTypes.DYNAMIC_FIXED):l.setActiveCollisionTypes(ir.ActiveCollisionTypes.KINEMATIC_KINEMATIC|ir.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),kd.divideScalar(this.pixelsPerMeter),l.setTranslation(kd.x,kd.y,kd.z),l.setRotation(g1),n)n.push([l,a]);else{let c=this.sharedGameControlGlobals.rapierWorld.createCollider(l,e.rigidBody);this.sensorToTriggerEvent[c.handle]=a}}})}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[n,i,r,o]=this.sharedGameControlGlobals.triggers[t];for(let s=0;s<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;s++){let a=this.sharedGameControlGlobals.entitiesWithTransformAnim[s];if(r===a||!1===o.isValidTriggeringObject(Zi.is(a)?a:a.object))continue;let l=H$.copy(r.matrixWorld).decompose(kd,G$,pR).compose(kd,G$,fR).multiply(i),c=l2.copy(a.matrixWorld).invert().multiply(l);n instanceof Ko?e=a.bvhGeometry.boundsTree.intersectsBox(n,c):(mR.radius=n,mR.center.setFromMatrixPosition(c),e=a.bvhGeometry.boundsTree.intersectsSphere(mR)),e?-1===o.currentIntersectedObjects.indexOf(a)&&(o.currentIntersectedObjects.push(a),o.dispatch(),r.dispatchEvent(E6e)):o.currentIntersectedObjects=o.currentIntersectedObjects.filter(h=>h!==a)}}}}(l),i._animationControls=new class{constructor(e,t,n,i){this.scene=e,this.requestRender=t,this.updateDisplayProgress=n,this.animationInspectorState=i,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=r=>{"Empty"===r.data.type&&r.data.animations&&r.data.animations.forEach((o,s)=>{let a=o[0]+"/";if(Array.isArray(r.identity)?a+=r.identity[0]:a+=r.uuid,this.clipIdToAction[a])return;let l=JA.parse(JSON.parse(o[2]));r.animations[s]=l;let c=this.mixer.clipAction(l,r);!1===W$&&(Object.getPrototypeOf(c)._updateTime=T6e,W$=!0),c.clampWhenFinished=!0,this.clipIdToAction[a]=c})},this.mixer=new TCe(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let n=this.scene.find(t);if(!n)return;let i=n.animations.find(o=>o.uuid===e);if(!i)return;let r=this.clipIdToAction[e];!r||(r.stop(),this.mixer.uncacheClip(i),delete this.clipIdToAction[e],n.animations=n.animations.filter(o=>o.uuid!==e))}get isPlaying(){return Object.values(this.clipIdToAction).some(e=>e.isRunning())}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(e=>{e.repetitions=1/0,e.loop=2201}),this.mixer.stopAllAction(),this.requestRender()}play(e){let n=this.clipIdToAction[e.clipId+"/"+e.object];if(n)return e&&(e.repeat>=0&&(n.repetitions=e.repeat+1),"pingpong"===e.direction&&0!==e.repeat&&(n.loop=2202)),n.play(),n.paused=!1,this.requestRender(),n}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){if(this.needsUpdate)this.needsUpdate=!1;else if(!1===this.isPlaying||this.animationInspectorState?.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*this.maxFrames%this.maxFrames)),this.requestRender()}get maxFrames(){return this.activeClip?.tracks[0]?.times.length??0}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let n=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(this.maxFrames?e/this.maxFrames:0,.9999)*this.activeClip.duration),this.requestRender(),n&&(this.clipIdToAction[t].paused=!0)}}(i._scene,i._requestRenderAutoMode),i._eventManager=new class{constructor(e,t,n,i,r){this.publish=e,this.controlsManager=t,this.animationControls=n,this.eventContext=i,this.sharedVariables=r,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=o=>{(o.touches.length>1||this.preventTouchScroll)&&o.preventDefault()},this.onMouseWheelPreventScroll=o=>{this.preventScroll&&o.preventDefault()},this.onMouseMove=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:o.buttons>0}},this.onMouseDown=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!0}},this.onMouseUp=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!1}},this.getMousePosition=o=>{let{domRect:s}=this.eventContext,{pageX:a,pageY:l}=o.touches?.length>0?o.touches[0]:o;return{x:a-(s.left+window.scrollX),y:l-(s.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=i.requestRender}activate(){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new DBe(this.eventContext),DynamicVariable:new a6e(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),Conditional:new FBe(this.eventContext,this),Start:new o6e(this.eventContext,this),Basic:new TBe(this.eventContext,this,this.needsRaycast),MouseHover:new e6e(this.eventContext,this),Scroll:new i6e(this.eventContext,this),Follow:new qBe(this.eventContext,this),DragDrop:new jBe(this.eventContext,this),LookAt:new QBe(this.eventContext),Resize:new z6e(this.eventContext,this)};let{page:e,domElement:t}=this.eventContext;this.hideCursor&&(t.style.cursor="none"),e.traverseEntity(i=>{i.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(i=>i.connect()),t.addEventListener("wheel",this.onMouseWheelPreventScroll),t.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++}deactivate(){if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:e,domElement:t}=this.eventContext;t.style.cursor="",Object.values(this.handlers).forEach(n=>n.disconnect()),this.controlsManager.gameControl?.disposeActions(),this.controlsManager.disconnectEvents(),e.traverseEntity(n=>{n.removeEventListener("requestRender",this.requestRender),n.destroyedInAction=!1}),t.removeEventListener("touchmove",this.onTouchMovePreventScroll),t.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode()}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(),this.activate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=n=>{if("Conditional"===n.data.type&&(n.data.ifActions.forEach(t),n.data.elseActions.forEach(t)),"Conditional"===n.data.type||"SetVariable"===n.data.type)for(let i of"Conditional"===n.data.type?n.data.condition:n.data.expression)"id"in i&&Array.isArray(i.id)&&("mouse"===i.id[0]&&(this.needsMouse=!0),"raycast"===i.id[0]&&(this.needsRaycast=!0));"DynamicVariablePlay"===n.data.type&&""!==n.data.variableId&&("Play"===n.data.mode||"PlayPause"===n.data.mode||"Toggle"===n.data.mode)&&e.setDynamicVariablePlayState(n.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(n=>{if(n.data?.events.length)for(let i of n.data.events)if(!i.data.disabled)if("VariableChange"===i.data.type&&("mouseProperty"===i.data.variableId&&(this.needsMouse=!0),"raycastProperty"===i.data.variableId&&(this.needsRaycast=!0)),"Conditional"===i.data.type)for(let r of["inActions","outActions"])i.data[r].forEach(t);else if("DragDrop"===i.data.type)for(let r of["drag","drop"])i.data.dragDropActions[r].forEach(t);else if("GameControl"===i.data.type)for(let r of["idle","move","jump","run"])i.data.gameActions[r].forEach(t);else if("Resize"===i.data.type)for(let r of i.data.breakpoints)r.data.actions.forEach(t);else"LookAt"===i.data.type||i.data.actions.forEach(t)})}}(r.scene.publish,i._controls,i._animationControls,l,r.shared.variables),i._eventManager.activate(),i._controls.activate(i._eventManager)}i._resize(),void 0!==n&&i.setVariables(n),0===i.dt&&(i.render(performance.now()),setTimeout(()=>{i._renderer?.setAnimationLoop(i.render)},0)),i._resizeObserverTimeout=setTimeout(()=>{!i._resizeObserver&&i.canvas.parentElement&&(i._resizeObserver=new ResizeObserver(()=>{i._viewportWidth=i.canvas.clientWidth,i._viewportHeight=i.canvas.clientHeight,i._debouncedResize()}),i._resizeObserver.observe(i.canvas.parentElement))},300)})()}setVariables(e){if(void 0!==this._data){let t=Object.entries(e);for(let[n,i]of t)this.setVariable(n,i)}}setVariable(e,t){let n=this._getVariableByName(e);if(n&&!("dynamicVariableType"in n.data)){let i=t;"number"==typeof n.data.value?i="number"==typeof t?t:"boolean"==typeof t?!0===t?1:0:parseFloat(t):"boolean"==typeof n.data.value?i="number"==typeof t?!!t:"boolean"==typeof t?t:"false"!==t.toLocaleLowerCase()&&!!t:"string"!=typeof n.data.value&&void 0!==n.data.value.textValue&&(i=t.toString()),this._sharedAssetsManager?.updateVariable(n.id,"string"==typeof i?{textValue:i}:i),this.requestRender(),this._requestRenderAutoMode()}else void 0===n?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in n.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach(t=>{void 0===e[t.data.name]&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))}),e}getVariable(e){let t=this._getVariableByName(e);if(t){let n=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(n)}}_getVariableValue(e){return"string"!=typeof e&&tc.isTextValue(e)?tc.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find(n=>n.data.name===e);return t&&this._variablesCache.set(e,t),t}}findObjectById(e){let t=this._scene?.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){let t=this._scene?.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){let e=[];return this._scene?.traverseEntity(t=>{if(!(t.uuid===gv||this._scene.isInvisibleObjects(t)||t instanceof cf)){let n=this._createProxyObject(t);n&&e.push(n)}}),e}getSplineEvents(){return this._eventManager?.handlers?.Spline.splineEvents}emitEvent(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEvent(e)}emitEventReverse(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){this._controls?.orbitControls instanceof z$&&this._controls?.orbitControls.zoomOut(e)}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){let{r:t,g:n,b:i,a:r}={r:0,g:0,b:0,a:1},o=new wl(t,n,i,r);try{o.setStyle(e)}catch{console.error("This is not a valid css color",e)}this._scene?.activePage.setBackgroundColor(o),this._requestRenderAutoMode()}dispose(){this.disposed=!0,this._eventManager?.deactivate(),this._scene?.dispose(),this._sharedAssetsManager?.dispose(),this._proxyObjectCache.forEach(e=>{dV.unsubscribe(e)}),this._variablesCache.clear(),this._renderer?.setAnimationLoop(null),this._renderer?.dispose(),this._renderer=void 0,this._sharedAssetsManager?.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),void 0!==this._resizeObserverTimeout&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),this._controls?.deactivate(),function pTe(e){e.removeEventListener("pointerdown",bH,!0),e.removeEventListener("pointerdown",SM,!0),e.removeEventListener("pointermove",SM,!0),e.removeEventListener("pointerup",uv,!0),e.removeEventListener("pointercancel",uv,!0),e.removeEventListener("pointerleave",uv,!0),window.removeEventListener("keydown",xH,!0),window.removeEventListener("keyup",wH,!0)}(this.canvas)}get isStopped(){return this._isPaused}stop(){this._isPaused||(this._renderer?.setAnimationLoop(null),this._isPaused=!0,this._eventManager?.pause(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){!this._isPaused||(this._isPaused=!1,this._eventManager?.resume(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!0),this._renderer?.setAnimationLoop(this.render))}setGlobalEvents(e){this._eventManager?.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){if(null==e)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors(r=>{r instanceof cf&&(t=r.name)});let i=dV({name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof cf||e instanceof SI?void 0:e.parent?.uuid,emitEvent(r){e.dispatchEvent({type:"userEvent",eventName:r})},emitEventReverse(r){e.dispatchEvent({type:"userEvent",eventName:r,reverse:!0})}},(r,o)=>{"object"!=typeof e[r]&&Object.getOwnPropertyDescriptor(e,r)?.writable&&(e[r]=o),this._requestRenderAutoMode(),e.updateMatrix()});return this._proxyObjectCache.set(e.uuid,i),i}}(n),this.spline.load("https://prod.spline.design/ETc1NgtkFiSuPoFT/scene.splinecode")},500)}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(i=>{200==i.body.code&&(this.titleService.setTitle(i?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:i?.body.result.meta_description},{name:"keywords",content:i?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(i=>{200==i.code&&i.result&&i.result.length>0&&i.result.forEach(r=>{r.status&&this.allprojects.push(r)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(n){let r=this.allprojects[n].project_images,o=this.imagepath,s=document.getElementsByClassName("galleryimg"+n);this.sliderInterval=setInterval(()=>{$(s).each(function(a){let l=r[(a+Math.floor(Math.random()*r.length))%r.length];$(s).attr("src",o+l)})},900)}}return e.\u0275fac=function(n){return new(n||e)(Me(rs),Me(hc),Me(M0),Me(xc),Me(cl),Me(dl),Me(P0),Me(tm),Me(ul),Me(pm),Me(um),Me(su))},e.\u0275cmp=Yn({type:e,selectors:[["app-studio"]],decls:262,vars:11,consts:[[1,"cbanner"],[1,"container"],["id","canvas","data-aos","zoom-in","data-aos-duration","500","data-aos-delay","100",1,"img-globe"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90","textcolor3"],[1,"h1","size90","textcolor1"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"p3","semibold","textcolor1"],[1,"aboutbrand","mtrem5"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor3"],[1,"textcolor1"],[1,"barcy","text-color"],[1,"care-section"],[1,"care"],[1,"fontsize12"],[1,"size32","mb30","textcolor1"],["alt","",1,"mb30","w-100",3,"src"],[1,"col-md-4","col-sm-6"],[1,"box"],[1,"size18","textcolor1"],[1,"weight600"],[1,"deserve-section"],[1,"deserve","text-center"],[1,"textcolor1","weight500","size53","mb30"],[1,"textcolor1","size18"],["id","section3",1,"things-section","bannerdrk","position-relative"],[1,"header","text-center"],[1,"text-white","weight500","size53","mb30"],[1,"things"],[1,"scroll-track"],[1,"track-item","pt-0"],[1,"number-wrapper"],["alt","",3,"src"],[1,"text-wrapper"],[1,"size32","text-white","mb-3"],[1,"text-white"],[1,"track-item"],[1,"business","position-relative"],[1,"wrapper","position-relative"],[1,"imgbox"],["alt","",1,"img-fluid",3,"src"],[1,"box1"],[1,"textcolor1","mb-5","size32","lufgalight"],[1,"d-block"],[1,"textcolor1","size32","weight700"],[1,"textcolor1","mt-0","size18","weight700"],[1,"bottomtext","d-flex","justify-content-center","position-relative"],[1,"size53","textcolor1","mt-0"],[1,"action","position-relative"],[1,"position-absolute","start-50","translate-middle"],["href","#",1,"cstbtn","cstbtn128","ftr1"],[1,"text","text128"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"success-story","bannerdrk"],[1,"content","mbrem8"],[3,"options"],["carouselSlide","",3,"id"],[1,"section","bannerdrk","faqsection"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,""],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"col-md-9","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-lg-3","col-md-5","col-sm-5"],[1,"imgblk"],["alt","",1,"",3,"src"],[1,"col-lg-8","col-md-7","offset-lg-1","col-sm-7","mt-sm-0","mt-3"],[1,"slidecontent"],[1,"fontsize12","textcolor1","text-white"],[1,"size32","textcolor1","mt-0","mb30","text-white"],[1,"size18","textcolor3","d-md-block","d-sm-none","d-none","text-white"],[1,"col-md-12","d-md-none","d-sm-block","d-block","mt-sm-4","mt-3"],[1,"size18","textcolor3","text-white"],["alt","",1,"mx-auto",3,"src"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1),oe(2,"canvas",2),x(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),E(9,"When your vision needs "),M(),x(10,"h1",9),E(11,"a team by your side."),M()()()(),x(12,"div",10)(13,"div",11)(14,"p"),E(15,"If you\u2019re looking for a detail obsessed,"),M(),x(16,"p"),E(17,"marketing-savvy design team"),M(),x(18,"p"),E(19,"that elevate your brand and business\u2026"),M(),x(20,"p",12),E(21,"Then you\u2019re in the right place!"),M()()()()()()(),x(22,"section",13)(23,"div",1)(24,"div",3)(25,"div",14)(26,"div",15)(27,"h2",16)(28,"span",17),E(29,"At Pixtar, we believe "),M(),x(30,"span",18),E(31," design isn\u2019t just about "),x(32,"span",19),E(33," Aesthetics"),M(),E(34," \u2014it\u2019s about creating harmony, inspiring trust, and building connections."),M(),x(35,"span",17),E(36," We\u2019re a team of"),M(),x(37,"span",18),E(38," creators, thinkers, and dreamers, rooted in Dubai-UAE "),M(),x(39,"span",17),E(40," but designing for a global audience."),M()()()()()()(),x(41,"section",20)(42,"div",1)(43,"div",3)(44,"div",14)(45,"div",21)(46,"p",22),E(47,"WHAT DRIVES OUR DESIGN"),M(),x(48,"p",23),E(49,"We Care About\u2026"),M(),oe(50,"img",24),M(),x(51,"div",3)(52,"div",25)(53,"div",26)(54,"p",27),E(55,"You"),M(),x(56,"p",27),E(57,"We\u2019re here to make your life easier and to bring excitement to "),x(58,"span",28),E(59,"launching your brand or website."),M(),E(60," From the first design concept to a smooth launch, we handle every detail, so you can "),x(61,"span",28),E(62,"focus on what matters most."),M()()()(),x(63,"div",25)(64,"div",26)(65,"p",27),E(66,"Your Audience"),M(),x(67,"p",27),E(68,"Our designs don\u2019t just look good "),x(69,"span",28),E(70,"\u2014they connect."),M(),E(71," We create engaging, easy-to-navigate experiences that leave a lasting impression,"),x(72,"span",28),E(73," making sure your audience feels right at home on every page."),M()()()(),x(74,"div",25)(75,"div",26)(76,"p",27),E(77,"Your Business Goals"),M(),x(78,"p",27)(79,"span",28),E(80,"Great design solves problems,"),M(),E(81," from building brand loyalty to driving conversions. We\u2019re here to help you "),x(82,"span",28),E(83," grow, boost your impact, and reach more people "),M(),E(84,"through design that works as hard as you do."),M()()()()()()()(),x(85,"section",29)(86,"div",1)(87,"div",3)(88,"div",14)(89,"div",30)(90,"h2",31),E(91,"You Deserve The Best Team By Your Side. "),oe(92,"br"),E(93," So We Built One For You."),M(),x(94,"p",32),E(95,"Large Enough To Tackle Any Project. Small Enough To Keep It Personal."),M()()()()()(),x(96,"section",33)(97,"div",1)(98,"div",3)(99,"div",14)(100,"div",34)(101,"h2",35),E(102,"Six Things You Should Know "),oe(103,"br"),E(104,"About Pixtar"),M()(),x(105,"div",36)(106,"div",37)(107,"div",38)(108,"div",39),oe(109,"img",40),M(),x(110,"div",41)(111,"p",42),E(112,"We Looove What We Do"),M(),x(113,"p",43),E(114," We\u2019re not just designers; we\u2019re creators who live and breathe design. The kind of team that sparks with new ideas even during a weekend coffee run. Your project isn\u2019t just work\u2014it\u2019s what we love to do. "),M()()(),x(115,"div",44)(116,"div",39),oe(117,"img",40),M(),x(118,"div",41)(119,"p",42),E(120,"Conversion-Focused Design"),M(),x(121,"p",43),E(122,"Beautiful design that goes beyond aesthetics. We craft visuals that captivate, influence, and drive action, helping you connect with customers and achieve real results. "),M()()(),x(123,"div",44)(124,"div",39),oe(125,"img",40),M(),x(126,"div",41)(127,"p",42),E(128,"People First, Always"),M(),x(129,"p",43),E(130," Every project we take on starts with people. We believe that respect, care, and collaboration make great design possible. When we work together, creativity flourishes. "),M()()(),x(131,"div",44)(132,"div",39),oe(133,"img",40),M(),x(134,"div",41)(135,"p",42),E(136,"A Team Of Superpowers"),M(),x(137,"p",43),E(138,"Individually, we each have our own strengths. Together, we bring them all to the table\u2014design, strategy, and development\u2014to create powerful, custom solutions that stand out. "),M()()(),x(139,"div",44)(140,"div",39),oe(141,"img",40),M(),x(142,"div",41)(143,"p",42),E(144,"Details That Matter"),M(),x(145,"p",43),E(146,"Our commitment to detail means peace of mind for you. From concept to launch, we meticulously refine every aspect of your brand or website, ensuring everything is intentional and perfectly crafted. "),M()()(),x(147,"div",44)(148,"div",39),oe(149,"img",40),M(),x(150,"div",41)(151,"p",42),E(152,"Here For The Journey"),M(),x(153,"p",43),E(154," We\u2019re all about building designs that stand the test of time. Think of us as your long-term creative partner\u2014ready to grow with you, committed to your success, and always here to help bring your vision to life. "),M()()()()()()()()(),x(155,"section",45)(156,"div",1)(157,"div",3)(158,"div",14)(159,"div",46)(160,"div",47),oe(161,"img",48),M(),x(162,"div",49)(163,"p",50),E(164," \u201cIf you want a partner who gets you, knows your business, and is on "),x(165,"span",51),E(166," your side 100%\u2014look no further.\u201d"),M()(),x(167,"h2",52),E(168,"KBN "),M(),x(169,"h4",53),E(170,"CEO & Creative Director"),M()(),x(171,"div",54)(172,"h2",55),E(173,"We\u2019ll be your partner "),oe(174,"br"),E(175," in your journey"),M()()()()()()(),x(176,"div",56)(177,"div",57)(178,"p")(179,"a",58)(180,"span",59),E(181," Let\u2019s Begin"),M(),x(182,"span",60),oe(183,"i",61),M()()()()(),x(184,"section",62)(185,"div",1)(186,"div",3)(187,"div",14),oe(188,"div",63),x(189,"owl-carousel-o",64),zr(190),tt(191,J6e,17,1,"ng-template",65),tt(192,eze,17,1,"ng-template",65),Ur(),M()()()()(),x(193,"section",66)(194,"div",1)(195,"div",3)(196,"div",14)(197,"div",3)(198,"div",67)(199,"div",68)(200,"h1",69),E(201," What "),oe(202,"br"),E(203," makes Pixtar "),oe(204,"br"),E(205," Special? "),oe(206,"br"),x(207,"span"),E(208," And other FAQs\u2026 "),M()()()(),x(209,"div",70)(210,"div",51)(211,"div",71)(212,"div",72)(213,"div",73)(214,"h2",74)(215,"button",75),E(216," Alright, no secrets \u2013 what makes Pixtar stand out? "),M()(),x(217,"div",76)(218,"div",77),E(219," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),M()()(),x(220,"div",73)(221,"h2",78)(222,"button",79),E(223," Where are you based? "),M()(),x(224,"div",80)(225,"div",77),E(226," Virtually, next door! We\u2019re proudly based in Dubai, UAE, but our team collaborates with clients worldwide, making distance no barrier to outstanding design! Our business hours are 9 am\u20136 pm GST / 1 am\u201310 am EST / 10 pm\u20137 am PST. But with our early-rising CEO and night-owl CTO, we\u2019re always able to sync up with clients from LA all the way to Australia\u2014and all the lovely places in between. "),M()()(),x(227,"div",73)(228,"h2",81)(229,"button",82),E(230," How are you different from a freelance designer? "),M()(),x(231,"div",83)(232,"div",77),E(233," At Pixtar, you get the expertise of an entire team, not just one individual. We bring together specialized skills in design, strategy, and development, providing a more comprehensive approach and smoother project delivery. "),M()()(),x(234,"div",73)(235,"h2",84)(236,"button",85),E(237," What other design magic do you offer? "),M()(),x(238,"div",86)(239,"div",77),E(240," Besides website design, we specialize in branding, UI/UX design, graphic design, and digital marketing assets. Whatever your design needs, Pixtar has the creative solution. "),M()()(),x(241,"div",73)(242,"h2",84)(243,"button",87),E(244," Who do you usually work with? "),M()(),x(245,"div",88)(246,"div",77),E(247," We collaborate with businesses of all sizes\u2014from startups to established brands\u2014across a range of industries, including Lifestyle, healthcare, technology, real estate, and more. "),M()()(),x(248,"div",73)(249,"h2",84)(250,"button",89),E(251," Which platforms do you use for building websites? "),M()(),x(252,"div",90)(253,"div",77),E(254," We work with popular platforms like Angular, Node.js, React, Shopify, Magento and Webflow, ensuring you get a website that\u2019s not only beautiful but also easy to manage and scalable. "),M()()(),x(255,"div",73)(256,"h2",84)(257,"button",91),E(258," I\u2019m in! When can we get started? "),M()(),x(259,"div",92)(260,"div",77),E(261," We\u2019re thrilled to have you onboard! Just reach out through our contact page, and we\u2019ll set up a kickoff meeting to dive into your project. "),M()()()()()()()()()()()()),2&n&&(se(50),xe("src","",i.baseUrl,"/img/about-us/careimg.jpg",ve),se(59),xe("src","",i.baseUrl,"/img/about-us/zero1.png",ve),se(8),xe("src","",i.baseUrl,"/img/about-us/zero2.png",ve),se(8),xe("src","",i.baseUrl,"/img/about-us/zero3.png",ve),se(8),xe("src","",i.baseUrl,"/img/about-us/zero4.png",ve),se(8),xe("src","",i.baseUrl,"/img/about-us/zero5.png",ve),se(8),xe("src","",i.baseUrl,"/img/about-us/zero6.png",ve),se(12),xe("src","",i.baseUrl,"/img/about-us/kbn.png",ve),se(28),$e("options",i.desktopslider),se(2),$e("id",i.baseUrl),se(1),$e("id",i.baseUrl))},dependencies:[Zd,bc],styles:[".barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1068px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:360px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .p3[_ngcontent-%COMP%]{margin-top:30px}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:5%!important;bottom:9rem!important}}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:1%!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:2%;top:26%;width:400px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:3%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:2%;width:230px;top:30%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:100%;top:95px;opacity:.5;object-fit:cover;left:0;right:0}}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.things-section[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1D1D1F 85%,#1D1D1F 100%);min-height:100vh;height:100vh;overflow:scroll;z-index:0}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]{min-height:75vh;height:75vh}}.things-section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:9997;padding-top:100px;padding-bottom:65px;background:linear-gradient(180deg,rgb(26,26,26) 85%,rgba(26,26,26,0) 100%)}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:30px}}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]{max-width:780px;margin-left:auto;margin-right:auto}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:100px;padding-bottom:100px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgb(26,26,26) 20%,rgb(26,26,26) 80%,rgba(26,26,26,0) 100%)}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]{padding-top:80px;padding-bottom:80px;display:block;text-align:center}}@media (max-width: 768px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]{max-width:100%}}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .number-wrapper[_ngcontent-%COMP%]{color:#6e6e73}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .number-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .number-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{position:relative;margin-left:-61px}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{margin-left:0}}.business[_ngcontent-%COMP%]{min-height:710px}@media (max-width: 1366px){.business[_ngcontent-%COMP%]{min-height:650px}}@media (max-width: 767px){.business[_ngcontent-%COMP%]{min-height:570px}}.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{position:relative}.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;z-index:0;width:65%;float:right;right:0}@media (max-width: 767px){.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bottomtext[_ngcontent-%COMP%]{margin-top:7rem}@media (max-width: 1366px){.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bottomtext[_ngcontent-%COMP%]{margin-top:5rem}}.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{position:relative;z-index:1;width:52%;padding-top:5rem;display:flex;flex-direction:column;justify-content:center}@media (max-width: 1199px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:4rem}}@media (max-width: 767px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:15rem;width:80%}}@media (max-width: 480px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:12rem;width:100%}}@media (max-width: 380px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:10rem}.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]   .d-block[_ngcontent-%COMP%]{display:inline!important}}div.action[_ngcontent-%COMP%]{padding-bottom:50px}div.action[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:88px}.bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-top:1px dashed #6e6e73;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#6e6e73;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdbtm[_ngcontent-%COMP%]{border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:10px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin-bottom:30px}.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){margin-bottom:20px}@media (max-width: 1366px){.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){margin-bottom:15px}}.things-section.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}"]}),e})(),q$=(()=>{class e{constructor(n,i,r){this.payementservice=n,this.routes=i,this.route=r;let o=localStorage.getItem("stripe-payment-user");this.paramData=this.route.snapshot.queryParams.ispayament,o&&(this.paymentData=JSON.parse(o))}ngOnInit(){this.submitPayment()}submitPayment(){this.paymentData&&(this.paymentData.payment_gateway="Stripe",this.paymentData.payment_method="Card",this.paymentData.status="Success",this.payementservice.savePaymentSuccess(this.paymentData).subscribe(n=>{200==n.body.code&&(localStorage.setItem("stripe-payment-user",""),setTimeout(()=>{this.routes.navigate(["/"])},3e3))}))}}return e.\u0275fac=function(n){return new(n||e)(Me(O0),Me(ao),Me(pl))},e.\u0275cmp=Yn({type:e,selectors:[["app-payment-success"]],decls:17,vars:0,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xl-11","m-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head","position-relative","w-100","start-0","end-0","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),E(9,"Your Payment is Successfull "),M(),oe(10,"div",9),M(),x(11,"h1",10),E(12,"Your Payment is "),M(),x(13,"h1",11),E(14," Successfull"),M()()(),x(15,"p",12),E(16," We do it real "),M()()()()()())},styles:['@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.service-banner[_ngcontent-%COMP%]{background:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 92%;background-size:23%}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 575px){.service-banner[_ngcontent-%COMP%]{background-position:100% 103%;min-height:100vh;height:100%}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;font-weight:700;color:#1d1d1f;line-height:normal}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px;font-weight:400;line-height:normal;margin-bottom:0;color:#101010}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:20px;margin-top:-40px;transition:transform .7s ease-in-out}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{width:60px}}@media (max-width: 600px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:10px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-top:-24px;width:40px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:5px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]:hover{transform:rotate(-30deg)}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:50px 10px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;font-weight:700;color:#1d1d1f;margin-top:0}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 600px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#1d1d1f;line-height:normal}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;top:-1.5rem;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}']}),e})();const nze=[{path:"",component:GD},{path:"home",component:GD},{path:"process",component:sge},{path:"about",component:Khe},{path:"services",component:Ege},{path:"branding",component:Qge},{path:"website",component:b0e},{path:"ecommerce",component:H0e},{path:"graphics",component:J0e},{path:"studio",component:tze},{path:"projects",component:uge},{path:"contact",component:u9},{path:"contact/:id",component:u9},{path:"businesscard",component:Jhe},{path:"businesscard/view/:id",component:oue},{path:"p/kbn",component:iue},{path:"p/kbn2",component:rue},{path:"p/js",component:nue},{path:"p/io",component:tue},{path:"p/godly",component:eue},{path:"project-details/dnour",component:bue},{path:"project-details/pakhis",component:pge},{path:"project-details/beyou",component:Cge},{path:"project-details/autokoorosh",component:Mge},{path:"project-details/vendetta",component:Pge},{path:"project-details/spacex",component:Oge},{path:"payment-success",component:q$},{path:"payment-success/:ispayament",component:q$},{path:"payment-failed",component:(()=>{class e{constructor(n,i,r){this.payementservice=n,this.routes=i,this.route=r;let o=localStorage.getItem("stripe-payment-user");this.paramData=this.route.snapshot.queryParams.ispayament,o&&(this.paymentData=JSON.parse(o))}ngOnInit(){this.submitPayment()}submitPayment(){this.paymentData&&(this.paymentData.payment_gateway="Stripe",this.paymentData.payment_method="Card",this.paymentData.status="Failed",this.payementservice.savePaymentSuccess(this.paymentData).subscribe(n=>{200==n.body.code&&(localStorage.setItem("stripe-payment-user",""),setTimeout(()=>{this.routes.navigate(["/"])},3e3))}))}}return e.\u0275fac=function(n){return new(n||e)(Me(O0),Me(ao),Me(pl))},e.\u0275cmp=Yn({type:e,selectors:[["app-payment-failed"]],decls:17,vars:0,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xl-11","m-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head","position-relative","w-100","start-0","end-0","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"]],template:function(n,i){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),E(9,"Your Payment is Failed "),M(),oe(10,"div",9),M(),x(11,"h1",10),E(12,"Your Payment is "),M(),x(13,"h1",11),E(14," Failed"),M()()(),x(15,"p",12),E(16," We do it real "),M()()()()()())},styles:['@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.service-banner[_ngcontent-%COMP%]{background:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 92%;background-size:23%}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 575px){.service-banner[_ngcontent-%COMP%]{background-position:100% 103%;min-height:100vh;height:100%}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;font-weight:700;color:#1d1d1f;line-height:normal}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px;font-weight:400;line-height:normal;margin-bottom:0;color:#101010}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:20px;margin-top:-40px;transition:transform .7s ease-in-out}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{width:60px}}@media (max-width: 600px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:10px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-top:-24px;width:40px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:5px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]:hover{transform:rotate(-30deg)}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:50px 10px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;font-weight:700;color:#1d1d1f;margin-top:0}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 600px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#1d1d1f;line-height:normal}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;top:-1.5rem;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}']}),e})()},{path:"**",component:GD}];let ize=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=un({imports:[t9.forRoot(nze,{initialNavigation:"enabledBlocking"}),t9]}),e})();g(811);var rze=g(7123);function oze(e,t){1&e&&oe(0,"img",40),2&e&&xe("src","",Ze().baseUrl,"/img/logos/pixtar-main-logo.svg",ve)}function sze(e,t){1&e&&oe(0,"img",40),2&e&&xe("src","",Ze().baseUrl,"/img/logos/pixtar-main-logo-white.svg",ve)}function aze(e,t){1&e&&oe(0,"img",41),2&e&&xe("src","",Ze().baseUrl,"/img/logos/pixtar-black-logo.svg",ve)}function lze(e,t){1&e&&oe(0,"img",41),2&e&&xe("src","",Ze().baseUrl,"/img/logos/pixtar_white.svg",ve)}function cze(e,t){if(1&e){const n=or();x(0,"img",42),Ct("mouseenter",function(){return Dn(n),Yt(Ze().func())})("mouseleave",function(){return Dn(n),Yt(Ze().func2())}),M()}2&e&&xe("src","",Ze().baseUrl,"/img/home/home.png",ve)}function dze(e,t){if(1&e){const n=or();x(0,"img",42),Ct("mouseenter",function(){return Dn(n),Yt(Ze().func())})("mouseleave",function(){return Dn(n),Yt(Ze().func3())}),M()}2&e&&xe("src","",Ze().baseUrl,"/img/home/homewhite.png",ve)}function hze(e,t){1&e&&(x(0,"h3",43),E(1,"Close"),M())}function uze(e,t){1&e&&(x(0,"h3",44),E(1,"Close"),M())}function pze(e,t){1&e&&(x(0,"h3",45),E(1,"Menu"),M())}function fze(e,t){1&e&&(x(0,"h3",46),E(1,"Menu"),M())}function mze(e,t){if(1&e){const n=or();x(0,"img",47),Ct("click",function(){return Dn(n),Yt(Ze().selectLink("/"))}),M()}2&e&&xe("src","",Ze().baseUrl,"/img/logos/pixtar-black-logo.svg",ve)}function gze(e,t){if(1&e){const n=or();x(0,"img",47),Ct("click",function(){return Dn(n),Yt(Ze().selectLink("/"))}),M()}2&e&&xe("src","",Ze().baseUrl,"/img/logos/pixtar_white.svg",ve)}function vze(e,t){if(1&e){const n=or();x(0,"img",48),Ct("mouseenter",function(){return Dn(n),Yt(Ze().func4())})("mouseleave",function(){return Dn(n),Yt(Ze().func5())}),M()}2&e&&xe("src","",Ze().baseUrl,"/img/home/home.png",ve)}function yze(e,t){if(1&e){const n=or();x(0,"img",48),Ct("mouseenter",function(){return Dn(n),Yt(Ze().func4())})("mouseleave",function(){return Dn(n),Yt(Ze().func6())}),M()}2&e&&xe("src","",Ze().baseUrl,"/img/home/homewhite.png",ve)}function _ze(e,t){if(1&e&&(x(0,"p",49)(1,"a",50),oe(2,"img",51),M(),x(3,"a",52),oe(4,"img",51),M(),x(5,"a",53),oe(6,"img",51),M(),x(7,"a",54),oe(8,"img",55),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/images/instagram.svg",ve),se(2),xe("src","",n.baseUrl,"/images/facebook.svg",ve),se(2),xe("src","",n.baseUrl,"/images/linkedin.svg",ve),se(2),xe("src","",n.baseUrl,"/img/home/whatsapp.svg",ve)}}function bze(e,t){if(1&e&&(x(0,"p",49)(1,"a",50),oe(2,"img",51),M(),x(3,"a",52),oe(4,"img",51),M(),x(5,"a",53),oe(6,"img",51),M(),x(7,"a",54),oe(8,"img",56),M()()),2&e){const n=Ze();se(2),xe("src","",n.baseUrl,"/images/instagram-white.svg",ve),se(2),xe("src","",n.baseUrl,"/images/facebook-white.svg",ve),se(2),xe("src","",n.baseUrl,"/images/linkedin-white.svg",ve),se(2),xe("src","",n.baseUrl,"/img/home/whatsapp-white.svg",ve)}}let xze=(()=>{class e{constructor(n,i,r){this.location=n,this.element=i,this.route=r,this.isNavbar=!1,this.ifwhitebar=!1,this.ifblackbar=!0,this.isMenuActive=!1,this.ifbarcliked=!1,this.sidebarVisible=!1,this.imagepath=Et_baseUrl+"/public/",this.baseUrl=Et_baseUrl+"/assets"}ngOnInit(){this.ifblackbar=!1,ci("#navMenus").on("click","li",function(){ci(".menu-nav-item").removeClass("active"),ci(this).addClass("active")}),this.isHomemenu()}sidebarOpen(){const n=this.toggleButton,i=document.getElementsByTagName("html")[0];setTimeout(function(){n.classList.add("toggled")},500),i.classList.add("nav-open"),this.sidebarVisible=!0}sidebarClose(){const n=document.getElementsByTagName("html")[0];this.sidebarVisible=!1,n.classList.remove("nav-open")}sidebarToggle(){!1===this.sidebarVisible?this.sidebarOpen():this.sidebarClose()}isHome(){var n=this.location.prepareExternalUrl(this.location.path());return"#"===n.charAt(0)&&(n=n.slice(1)),"/home"===n}isDocumentation(){var n=this.location.prepareExternalUrl(this.location.path());return"#"===n.charAt(0)&&(n=n.slice(1)),"/documentation"===n}selectLink(n){"process"==n&&(this.ifbarcliked=!1),ci("#burger-toggle").prop("checked",!1),this.route.navigateByUrl(n),ci(".showcls").removeClass("active"),ci(".showcls2").removeClass("active")}showBlackbars(){var n=this.location.path();return"process"!=(n=n.split("/")[1])||this.ifbarcliked?(this.ifblackbar=!0,this.ifwhitebar=!1,ci(".navbar").removeClass("noblack")):(this.ifblackbar=!1,this.ifwhitebar=!0,ci(".navbar").addClass("noblack")),this.isHomemenu(),!0}onclicchange(){var n=this.location.path();n=n.split("/")[1],this.ifbarcliked="process"==n&&!this.ifbarcliked}func(){ci(".home-icon").attr("src",this.baseUrl+"/img/home/homehover.png")}func2(){ci(".home-icon").attr("src",this.baseUrl+"/img/home/home.png")}func3(){ci(".home-icon").attr("src",this.baseUrl+"/img/home/homewhite.png")}func4(){ci(".menuhome").attr("src",this.baseUrl+"/img/home/homehover.png")}func5(){ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")}func6(){ci(".menuhome").attr("src",this.baseUrl+"/img/home/homewhite.png")}isHomemenu(){ci("#home").removeClass("active"),ci("#projects").removeClass("active"),ci("#about").removeClass("active"),ci("#process").removeClass("active"),ci("#contact").removeClass("active"),ci("#ecommerce").removeClass("active"),ci("#graphics").removeClass("active"),ci("#services").removeClass("active"),ci("#studio").removeClass("active"),ci("#website").removeClass("active");let n=this.baseUrl;var i=this.location.path();"home"==(i=i.split("/")[1])||"#"==i?(ci("#home").addClass("active"),ci(".menuhome").attr("src",n+"/img/home/homehover.png")):"projects"==i?(ci("#projects").addClass("active"),ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"about"==i?(ci("#about").addClass("active"),ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"process"==i?(ci("#process").addClass("active"),ci(".menuhome").attr("src",this.baseUrl+"/img/home/homewhite.png")):"ecommerce"==i?(ci("#ecommerce").addClass("active"),ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"graphics"==i?(ci("#graphics").addClass("active"),ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"services"==i?(ci("#services").addClass("active"),ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"studio"==i?(ci("#studio").addClass("active"),ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"website"==i?(ci("#website").addClass("active"),ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"contact"==i&&(ci("#contact").addClass("active"),ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png"))}labelchange(){ci(".showcls").toggleClass("active"),ci(".showcls2").toggleClass("active")}}return e.\u0275fac=function(n){return new(n||e)(Me(qf),Me(wr),Me(ao))},e.\u0275cmp=Yn({type:e,selectors:[["app-navbar"]],decls:76,vars:17,consts:[["color-on-scroll","500",1,"navbar","navbar-expand-lg","fixed-top","navbar-transparent"],[1,"container-fluid"],[1,"w-100"],[1,"col-lg-10","offset-lg-1"],[1,"menu-container",2,"width","100%"],[1,"d-flex","justify-content-between","menu-block"],[1,"brand"],["href","/"],["alt","","width","160","class","logo1",3,"src",4,"ngIf"],["alt","pixtar","width","40","class","logo2",3,"src",4,"ngIf"],[1,"menu-list"],["alt","homeicon","class","home-icon",3,"src","mouseenter","mouseleave",4,"ngIf"],["type","checkbox","id","burger-toggle"],["for","burger-toggle",1,"burger-menu",3,"click"],[1,"line"],[1,"labelmenu"],["class","cstmenu showcls",4,"ngIf"],["class","cstmenu text-white showcls",4,"ngIf"],["class","d-none d-sm-none d-md-none d-lg-block cstmenu showcls2",4,"ngIf"],["class","d-none d-sm-none d-md-none d-lg-block cstmenu text-white showcls2",4,"ngIf"],["id","menu",1,"menu"],["class","logo","alt","pixtar","width","40",3,"src","click",4,"ngIf"],[1,"menu-inner"],["id","navMenus",1,"menu-nav"],["id","home",1,"menu-nav-item"],[1,"menu-nav-link",3,"click"],["alt","homeicon","class","menuhome",3,"src","mouseenter","mouseleave",4,"ngIf"],["id","services",1,"menu-nav-item"],["id","studio",1,"menu-nav-item"],["id","projects",1,"menu-nav-item"],["id","process",1,"menu-nav-item"],["id","blog",1,"menu-nav-item"],["target","_blank","href","/blog",1,"menu-nav-link",3,"click"],["id","contact",1,"menu-nav-item"],[1,"menu-nav-link","lastanch",3,"click"],[1,"d-flex","flex-row"],["alt","","width","30",1,"arrowimg",3,"src"],[1,"gallery"],[1,"position-absolute","menu-left-content"],["class","mt-2",4,"ngIf"],["alt","","width","160",1,"logo1",3,"src"],["alt","pixtar","width","40",1,"logo2",3,"src"],["alt","homeicon",1,"home-icon",3,"src","mouseenter","mouseleave"],[1,"cstmenu","showcls"],[1,"cstmenu","text-white","showcls"],[1,"d-none","d-sm-none","d-md-none","d-lg-block","cstmenu","showcls2"],[1,"d-none","d-sm-none","d-md-none","d-lg-block","cstmenu","text-white","showcls2"],["alt","pixtar","width","40",1,"logo",3,"src","click"],["alt","homeicon",1,"menuhome",3,"src","mouseenter","mouseleave"],[1,"mt-2"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,"me-2"],["alt","","width","30",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,"me-2"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,"me-2"],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","30",3,"src"],["alt","whatsapp",3,"src"]],template:function(n,i){1&n&&(x(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),tt(8,oze,1,1,"img",8),tt(9,sze,1,1,"img",8),tt(10,aze,1,1,"img",9),tt(11,lze,1,1,"img",9),M()(),x(12,"div",10)(13,"a",7),tt(14,cze,1,1,"img",11),tt(15,dze,1,1,"img",11),M(),oe(16,"input",12),x(17,"label",13),Ct("click",function(){return i.labelchange()}),oe(18,"div",14)(19,"div",14)(20,"div",14),M(),x(21,"div",15),tt(22,hze,2,0,"h3",16),tt(23,uze,2,0,"h3",17),tt(24,pze,2,0,"h3",18),tt(25,fze,2,0,"h3",19),M(),x(26,"div",20),tt(27,mze,1,1,"img",21),tt(28,gze,1,1,"img",21),x(29,"div",22)(30,"ul",23)(31,"li",24)(32,"a",25),Ct("click",function(){return i.selectLink("/")}),x(33,"span")(34,"div"),tt(35,vze,1,1,"img",26),tt(36,yze,1,1,"img",26),M()()()(),x(37,"li",27)(38,"a",25),Ct("click",function(){return i.selectLink("services")}),x(39,"span")(40,"div"),E(41,"Services"),M()()()(),x(42,"li",28)(43,"a",25),Ct("click",function(){return i.selectLink("studio")}),x(44,"span")(45,"div"),E(46,"Studio"),M()()()(),x(47,"li",29)(48,"a",25),Ct("click",function(){return i.selectLink("projects")}),x(49,"span")(50,"div"),E(51,"Projects"),M()()()(),x(52,"li",30)(53,"a",25),Ct("click",function(){return i.selectLink("process")}),x(54,"span")(55,"div"),E(56,"Process"),M()()()(),x(57,"li",31)(58,"a",32),Ct("click",function(){return i.selectLink("blog")}),x(59,"span")(60,"div"),E(61,"Blogs"),M()()()(),x(62,"li",33)(63,"a",34),Ct("click",function(){return i.selectLink("contact")}),x(64,"span")(65,"div",35),E(66,"Contact "),oe(67,"img",36),M()()()()(),x(68,"div",37)(69,"div",38)(70,"p"),E(71,"Creative agency based in Dubai, "),M(),x(72,"p"),E(73,"United Arab Emirates"),M(),tt(74,_ze,9,4,"p",39),tt(75,bze,9,4,"p",39),M()()()()()()()()()()()),2&n&&(se(8),$e("ngIf",i.showBlackbars()&&i.ifblackbar),se(1),$e("ngIf",i.showBlackbars()&&i.ifwhitebar),se(1),$e("ngIf",i.showBlackbars()&&i.ifblackbar),se(1),$e("ngIf",i.showBlackbars()&&i.ifwhitebar),se(3),$e("ngIf",i.showBlackbars()&&i.ifblackbar),se(1),$e("ngIf",i.showBlackbars()&&i.ifwhitebar),se(7),$e("ngIf",i.showBlackbars()&&i.ifblackbar),se(1),$e("ngIf",i.showBlackbars()&&i.ifwhitebar),se(1),$e("ngIf",i.showBlackbars()&&i.ifblackbar),se(1),$e("ngIf",i.showBlackbars()&&i.ifwhitebar),se(2),$e("ngIf",i.showBlackbars()&&i.ifblackbar),se(1),$e("ngIf",i.showBlackbars()&&i.ifwhitebar),se(7),$e("ngIf",i.showBlackbars()&&i.ifblackbar),se(1),$e("ngIf",i.showBlackbars()&&i.ifwhitebar),se(31),xe("src","",i.baseUrl,"/img/home/contactarrow.svg",ve),se(7),$e("ngIf",i.showBlackbars()&&i.ifblackbar),se(1),$e("ngIf",i.showBlackbars()&&i.ifwhitebar))},dependencies:[Us,UD],styles:['.navbar[_ngcontent-%COMP%]{background-color:#fff!important;box-shadow:none}.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:20px 0;align-items:center}@media (max-width: 1366px){.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:10px 0}}@media (max-width: 575px){.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:10px 0 10px 15px}}@media (max-width: 380px){.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:10px 0}}.navbar[_ngcontent-%COMP%]   .logo1[_ngcontent-%COMP%]{margin-top:0;display:none!important}.navbar[_ngcontent-%COMP%]   .logo1[_ngcontent-%COMP%]   .ptext[_ngcontent-%COMP%]{position:relative;top:5px}.navbar[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{margin-top:0;display:block!important;margin-left:1px}@media (max-width: 575px){.navbar[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{width:35px}}.navbar[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.navbar[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;margin-top:0}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .4s ease;opacity:0}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:500;cursor:pointer;font-size:1.75rem}@media (max-width: 1366px){.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 320px){.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.8rem}}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:visited   i[_ngcontent-%COMP%]{color:#de9b7a;opacity:1;transform:rotate(60deg)}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:visited   a[_ngcontent-%COMP%]{color:#de9b7a}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.menu-nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#de9b7a}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.menu-nav-item.active[_ngcontent-%COMP%]   .lastanch[_ngcontent-%COMP%]{color:#000!important}.navbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif!important;font-weight:700;color:#000}.noblack.navbar-transparent[_ngcontent-%COMP%]{background-color:transparent!important}.noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{background-color:#000;background-image:url(pixtar-splitlogo-black.8d5f4727f3a5141b.svg)}.noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#de9b7a}.navbar.navbar-transparent[_ngcontent-%COMP%]{border-bottom:none;box-shadow:none;padding-top:0}.navbar.navbar-transparent[_ngcontent-%COMP%]   .logo1[_ngcontent-%COMP%]{display:block!important}.navbar.navbar-transparent[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{display:none!important}p[_ngcontent-%COMP%]{margin:0}.cstmenu[_ngcontent-%COMP%]{font-weight:600}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(1)   img[_ngcontent-%COMP%]{transition-delay:.18s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(2)   img[_ngcontent-%COMP%]{transition-delay:.26s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(3)   img[_ngcontent-%COMP%]{transition-delay:.34s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(4)   img[_ngcontent-%COMP%]{transition-delay:.42s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{transform:translate(0)}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(calc(var(--burger-menu-radius) / 5)) rotate(45deg)}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){transform:scaleX(0)}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){transform:translateY(calc(var(--burger-menu-radius) / -5)) rotate(-45deg)}#burger-toggle[_ngcontent-%COMP%]{position:absolute;appearance:none;opacity:0;display:none}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]{opacity:1;visibility:visible}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .menu-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], #burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], #burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transform:translateY(0);transition:1.2s .1s cubic-bezier(.35,0,.07,1)}.burger-menu[_ngcontent-%COMP%]{--burger-menu-radius: 4em;position:relative;top:0;right:0;z-index:100;display:block;width:var(--burger-menu-radius);height:var(--burger-menu-radius);outline:none;cursor:pointer;width:55px}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;left:25%;width:50%;height:2px;background:#000;border-radius:10px;overflow:hidden;transition:.5s}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){top:30%}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){top:50%}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){top:70%}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:var(--primary-color-darker);transform:translate(-100%);transition:.25s}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2):after{transition-delay:.1s}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3):after{transition-delay:.2s}@media (max-width: 380px){.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{left:45%}}.burger-menu[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]:after{transform:translate(0)}.noblack[_ngcontent-%COMP%]   .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background:#fff}.menu[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;display:flex;justify-content:flex-start;align-items:center;background-color:#fff;opacity:0;overflow-x:hidden;visibility:hidden;transition:.3s;padding:0 9vw;min-height:100vh;height:100%;background-image:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 107%;background-size:23%}@media (max-width: 767px){.menu[_ngcontent-%COMP%]{background-size:60%}}.menu-nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0;padding:0;text-align:center;list-style-type:none}@media screen and (max-width: 750px){.menu-nav[_ngcontent-%COMP%]{flex-direction:column}}.menu-nav-item[_ngcontent-%COMP%]{flex:1;margin:15px 0}@media (max-width: 1366px){.menu-nav-item[_ngcontent-%COMP%]{margin:10px 0;line-height:normal}}@media (max-width: 320px){.menu-nav-item[_ngcontent-%COMP%]{margin:6px 0}}.menu-nav-link[_ngcontent-%COMP%]{position:relative;display:inline-flex;font-size:2rem;color:#fff;text-decoration:none}.menu-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden}.menu-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform:translateY(102%)}.menu-nav-link[_ngcontent-%COMP%]:after{position:absolute;content:"";top:100%;left:0;width:100%;height:3px;background:var(--primary-color);transform:scaleX(0);transform-origin:right;transition:transform .5s}.menu-nav-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:left}.menu[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{margin-top:60px;text-align:center}.menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;color:#fff;overflow:hidden}.menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;letter-spacing:2px;text-transform:uppercase;transform:translateY(102%)}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{margin-top:36px;display:flex;flex-wrap:wrap}@media screen and (max-width: 750px){.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{justify-content:center}}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]{width:15vw;margin:0 12px;overflow:hidden}@media screen and (max-width: 750px){.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]{width:40vw;margin:0 12px 12px 0}}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;transition:.6s}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]:before{position:absolute;content:attr(data-label);top:0;left:0;z-index:1;display:flex;justify-content:center;align-items:center;width:100%;height:100%;color:#fff;background:rgba(0,0,0,.6);opacity:0;transition:.4s}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.2)}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]:before{opacity:1}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;transform:translateY(102%)}.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;position:fixed;top:1.3vw}@media (max-width: 1440px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:2vw}}@media (max-width: 1366px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:1vw;left:9.5vw}}@media (max-width: 1024px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:1.5vw}}@media (max-width: 991px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{left:2vw;top:1.5vw}}@media (max-width: 600px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:4vw;left:3vw}}@media (max-width: 575px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:4vw;left:8vw;width:35px}}@media (max-width: 380px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:5vw;left:4.8vw}}.menu[_ngcontent-%COMP%]   .menu-inner[_ngcontent-%COMP%]{display:flex;width:50%;justify-content:center;align-items:center}@media (max-width: 600px){.menu[_ngcontent-%COMP%]   .menu-inner[_ngcontent-%COMP%]{width:50%}}.lastanch[_ngcontent-%COMP%]{font-weight:700!important;color:#de9b7a!important}.lastanch[_ngcontent-%COMP%]:hover{color:#000!important}.lastanch[_ngcontent-%COMP%]:focus{color:#000!important}.lastanch[_ngcontent-%COMP%]   .arrowimg[_ngcontent-%COMP%]{position:relative;top:-6px;margin-left:10px}.noblack[_ngcontent-%COMP%]   .lastanch[_ngcontent-%COMP%]:hover{color:#fff!important}.menu-left-content[_ngcontent-%COMP%]{left:5%;bottom:3%;text-align:left}.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal;font-size:18px}@media (max-width: 1199px){.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.menu-left-content[_ngcontent-%COMP%]   .text-color[_ngcontent-%COMP%]{color:#de9b7a}.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){font-weight:600}.home-icon[_ngcontent-%COMP%]{height:23px;position:relative;right:1rem}@media (max-width: 575px){.home-icon[_ngcontent-%COMP%]{right:.5rem;height:20px}}.menuhome[_ngcontent-%COMP%]{height:40px}@media (max-width: 575px){.menuhome[_ngcontent-%COMP%]{height:30px}}.showcls[_ngcontent-%COMP%]{display:none}.showcls.active[_ngcontent-%COMP%]{position:relative;z-index:1;display:block;animation:fadeIn 1s}@media (max-width: 991px){.showcls.active[_ngcontent-%COMP%]{display:none}}.showcls2[_ngcontent-%COMP%]{display:block;animation:fadeIn 1s}.showcls2.active[_ngcontent-%COMP%]{display:none!important}.labelmenu[_ngcontent-%COMP%]{display:block;position:relative;width:76.19px}.labelmenu[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:absolute;top:-1rem}@media (max-width: 991px){.labelmenu[_ngcontent-%COMP%]{display:none}}']}),e})(),wze=(()=>{class e{constructor(n){this.location=n,this.test=new Date,this.isfooterBlack=!1,this.imagepath=Et_baseUrl+"/public/",this.baseUrl=Et_baseUrl+"/assets"}ngOnInit(){}removeFooter(){this.isfooterBlack=!1;var n=this.location.path();return("projects"==(n=n.split("/")[1])||"about"==n)&&(this.isfooterBlack=!0,!0)}}return e.\u0275fac=function(n){return new(n||e)(Me(qf))},e.\u0275cmp=Yn({type:e,selectors:[["app-footer"]],decls:51,vars:5,consts:[[1,"footer"],[1,"container"],[1,"row"],[1,"col-md-12","col-sm-11","col-11","mx-auto"],[1,"desb","pb-0"],[1,"text-center"],[1,"footer-nav","desb"],[1,"position-absolute","start-50","translate-middle"],["routerLink","/contact",1,"cstbtn","cstbtn128","ftr1"],[1,"text","text128"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"d-flex","justify-content-between","align-items-center","footer-block"],[1,"d-flex1"],["alt","","width","160",1,"logo1",3,"src"],[1,"d-flex2"],[1,"mb-0"],["routerLink","/services"],["routerLink","/studio"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/contact",1,"cstbtn","cstbtn128","ftr2"],["aria-hidden","true",1,"fa","fa-chevron-right","opacity-0"],[1,"credits","ml-auto"],[1,"copyright"]],template:function(n,i){1&n&&(x(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),E(6,"READY TO TRANSFORM YOUR BRAND? "),oe(7,"br"),E(8," GET IN TOUCH WITH US TODAY."),M()(),x(9,"nav",6)(10,"div",7)(11,"p")(12,"a",8)(13,"span",9),E(14," Let\u2019s Talk"),M(),x(15,"span",10),oe(16,"i",11),M()()()(),x(17,"div",12)(18,"div",13),oe(19,"img",14),x(20,"p"),E(21,"Pixtar Branding Services LLC."),M(),x(22,"p"),E(23,"Dubai United Arab Emirates"),M(),x(24,"p"),E(25,"+971527930781"),M()(),x(26,"div",15)(27,"ul",16)(28,"li")(29,"a",17),E(30,"Services"),M()(),x(31,"li")(32,"a",18),E(33,"Studio"),M()(),x(34,"li")(35,"a",19),E(36,"Work"),M()(),x(37,"li")(38,"a",20),E(39,"Contact"),M()(),x(40,"li")(41,"p")(42,"a",21)(43,"span",9),E(44," Ask for a Quote"),M(),x(45,"span",10),oe(46,"i",22),M()()()()()()()()(),x(47,"div",23)(48,"span",24),E(49),function AF(e,t){const n=xn();let i;const r=e+22;n.firstCreatePass?(i=function Xte(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=qc(i.type)),s=zi(Me);try{const a=Bb(!1),l=o();return Bb(a),function $J(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(n,At(),r,l),l}finally{zi(s)}}(50,"date"),M()()()()()),2&n&&(se(19),xe("src","",i.baseUrl,"/img/logos/pixtar-main-logo.svg",ve),se(30),Ia(" \xa9 ",function TF(e,t,n,i){const r=e+22,o=At(),s=ee(o,r);return function oy(e,t){return e[1].data[t].pure}(o,r)?OF(o,Kr(),t,s.transform,n,i,s):s.transform(n,i)}(50,2,i.test,"yyyy"),", All Rights Reserved Pixtar "))},dependencies:[_c,rB],styles:[".footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none}.footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 5px}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38px;height:38px}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}}.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]{padding:80px 0}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 600px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]{padding:30px 0}}.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:32px}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .qrcode[_ngcontent-%COMP%]{height:150px}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .qrcode[_ngcontent-%COMP%]{height:130px}}@media (max-width: 575px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .qrcode[_ngcontent-%COMP%]{height:80px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]{padding-top:20px}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]{padding-top:10px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:barcelony,sans-serif;font-size:78px;color:#000;line-height:1}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 1280px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 575px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-size:90px;text-transform:uppercase;font-weight:700;line-height:1}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 1280px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 575px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]{padding-top:50px}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:14px;line-height:normal;margin-bottom:0;position:relative;left:54px}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]{text-align:center}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{left:0}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;align-items:center}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}}@media (max-width: 320px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 3px}}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#7a7a7a;font-size:14px;font-weight:600}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#dd9a7a}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#dd9a7a}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]{margin-top:15px;display:flex;align-items:center}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]{flex-direction:column;justify-content:center!important;align-items:center!important}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{display:block;margin:0}}.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;text-decoration:none;font-weight:600}.footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-nav[_ngcontent-%COMP%]{line-height:normal}.footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{margin:15px 0}.footerBlk[_ngcontent-%COMP%]{background:#000}.footerBlk[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.footerBlk[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important;font-size:18px}.footerBlk[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#dd9a7a!important}.whatsapp-icon[_ngcontent-%COMP%]{position:fixed;width:34px;text-align:center;text-decoration:none;bottom:4%;right:2%;z-index:9;cursor:pointer}@media (max-width: 1440px){.whatsapp-icon[_ngcontent-%COMP%]{bottom:3%}}@media (max-width: 480px){.whatsapp-icon[_ngcontent-%COMP%]{bottom:2%;right:4%;width:28px}}.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d1d1f}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:52%!important}}@media (max-width: 1024px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:53%!important}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:54%!important}}@media (max-width: 600px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{margin:.5rem auto}}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:59%!important}}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:end;align-items:center;text-decoration:none!important}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:35px;width:35px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#e5a381,#a9644b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8px}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:25px;width:25px}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:115px;position:relative;right:4px;font-size:14px}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:107px}}.cstbtn.ftr1[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:77px}"]}),e})();function Cze(e,t){1&e&&oe(0,"app-navbar")}function Mze(e,t){1&e&&oe(0,"app-footer")}let Pze=(()=>{class e{constructor(n,i,r){this.renderer=n,this.location=i,this.metaTagService=r}ngOnInit(){rze.init(),this.metaTagService.addTags([{name:"keywords",content:"pixtar.ae, pixtar"},{name:"robots",content:"index, follow"},{name:"author",content:"Ipcs"},{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},{name:"date",content:"2022-10-1",scheme:"YYYY-MM-DD"},{charset:"UTF-8"}]),window.scroll({top:0,left:0,behavior:"smooth"})}removeFooter(){var n=this.location.prepareExternalUrl(this.location.path());return!("/signup"===(n=n.slice(1))||"/nucleoicons"===n||n.includes("contact")||"p/kbn"===n||"p/kbn2"===n||"p/js"===n||"p/io"===n||"p/godly"===n)}removeHeader(){var n=this.location.prepareExternalUrl(this.location.path());return"p/kbn"!==(n=n.slice(1))&&"p/kbn2"!==n&&"p/js"!==n&&"p/io"!==n&&"p/godly"!==n||($("#botpenguin-launcher-12").hasClass("botpenguin-right")&&$(".BotPenguin-chat").addClass("d-none"),!1)}}return e.\u0275fac=function(n){return new(n||e)(Me(rs),Me(qf),Me(cl))},e.\u0275cmp=Yn({type:e,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"]],template:function(n,i){1&n&&(tt(0,Cze,1,0,"app-navbar",0),oe(1,"router-outlet"),tt(2,Mze,1,0,"app-footer",0)),2&n&&($e("ngIf",i.removeHeader()),se(2),$e("ngIf",i.removeFooter()))},dependencies:[Us,tD,xze,wze]}),e})(),Oze=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=yt({type:e,bootstrap:[Pze]}),e.\u0275inj=un({providers:[su],imports:[EB.withServerTransition({appId:"serverApp"}),ize,$le,Uae,Oz,Sz,Uhe,Xhe.forRoot(),tge]}),e})();function Y$(){Aoe().bootstrapModule(Oze).catch(e=>console.error(e))}(function Zne(){if(OL)throw new Error("Cannot enable prod mode after platform setup.");PL=!1})(),"complete"===document.readyState?Y$():document.addEventListener("DOMContentLoaded",Y$)},7123:function(p){p.exports=function(m){function g(C){if(b[C])return b[C].exports;var A=b[C]={exports:{},id:C,loaded:!1};return m[C].call(A.exports,A,A.exports,g),A.loaded=!0,A.exports}var b={};return g.m=m,g.c=b,g.p="dist/",g(0)}([function(m,g,b){"use strict";function C(ht){return ht&&ht.__esModule?ht:{default:ht}}var A=Object.assign||function(ht){for(var gt=1;gt<arguments.length;gt++){var zt=arguments[gt];for(var Qt in zt)Object.prototype.hasOwnProperty.call(zt,Qt)&&(ht[Qt]=zt[Qt])}return ht},z=(C(b(1)),b(6)),B=C(z),T=C(b(7)),W=C(b(8)),N=C(b(9)),I=C(b(10)),re=C(b(11)),pe=C(b(14)),Le=[],Qe=!1,Ne={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},je=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Qe=!0),Qe)return Le=(0,re.default)(Le,Ne),(0,I.default)(Le,Ne.once),Le},Je=function(){Le=(0,pe.default)(),je()};m.exports={init:function(ht){Ne=A(Ne,ht),Le=(0,pe.default)();var gt=document.all&&!window.atob;return function(ht){return!0===ht||"mobile"===ht&&N.default.mobile()||"phone"===ht&&N.default.phone()||"tablet"===ht&&N.default.tablet()||"function"==typeof ht&&!0===ht()}(Ne.disable)||gt?void Le.forEach(function(ht,gt){ht.node.removeAttribute("data-aos"),ht.node.removeAttribute("data-aos-easing"),ht.node.removeAttribute("data-aos-duration"),ht.node.removeAttribute("data-aos-delay")}):(Ne.disableMutationObserver||W.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),Ne.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Ne.easing),document.querySelector("body").setAttribute("data-aos-duration",Ne.duration),document.querySelector("body").setAttribute("data-aos-delay",Ne.delay),"DOMContentLoaded"===Ne.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?je(!0):"load"===Ne.startEvent?window.addEventListener(Ne.startEvent,function(){je(!0)}):document.addEventListener(Ne.startEvent,function(){je(!0)}),window.addEventListener("resize",(0,T.default)(je,Ne.debounceDelay,!0)),window.addEventListener("orientationchange",(0,T.default)(je,Ne.debounceDelay,!0)),window.addEventListener("scroll",(0,B.default)(function(){(0,I.default)(Le,Ne.once)},Ne.throttleDelay)),Ne.disableMutationObserver||W.default.ready("[data-aos]",Je),Le)},refresh:je,refreshHard:Je}},function(m,g){},,,,,function(m,g){(function(b){"use strict";function C(Se,pt,ht){function gt(Vt){var Pi=Bt,Di=_n;return Bt=_n=void 0,un=Vt,En=Se.apply(Di,Pi)}function zt(Vt){return un=Vt,lt=setTimeout(Ae,pt),Hi?gt(Vt):En}function at(Vt){var Pi=Vt-Fn;return void 0===Fn||Pi>=pt||Pi<0||Xi&&Vt-un>=on}function Ae(){var Vt=j();return at(Vt)?ot(Vt):void(lt=setTimeout(Ae,function Qt(Vt){var rr=pt-(Vt-Fn);return Xi?Je(rr,on-(Vt-un)):rr}(Vt)))}function ot(Vt){return lt=void 0,Qn&&Bt?gt(Vt):(Bt=_n=void 0,En)}function nn(){var Vt=j(),Pi=at(Vt);if(Bt=arguments,_n=this,Fn=Vt,Pi){if(void 0===lt)return zt(Fn);if(Xi)return lt=setTimeout(Ae,pt),gt(Fn)}return void 0===lt&&(lt=setTimeout(Ae,pt)),En}var Bt,_n,on,En,lt,Fn,un=0,Hi=!1,Xi=!1,Qn=!0;if("function"!=typeof Se)throw new TypeError(F);return pt=X(pt)||0,H(ht)&&(Hi=!!ht.leading,on=(Xi="maxWait"in ht)?je(X(ht.maxWait)||0,pt):on,Qn="trailing"in ht?!!ht.trailing:Qn),nn.cancel=function Ht(){void 0!==lt&&clearTimeout(lt),un=0,Bt=Fn=_n=lt=void 0},nn.flush=function An(){return void 0===lt?En:ot(j())},nn}function H(Se){var pt=typeof Se>"u"?"undefined":T(Se);return!!Se&&("object"==pt||"function"==pt)}function B(Se){return"symbol"==(typeof Se>"u"?"undefined":T(Se))||function z(Se){return!!Se&&"object"==(typeof Se>"u"?"undefined":T(Se))}(Se)&&Ne.call(Se)==R}function X(Se){if("number"==typeof Se)return Se;if(B(Se))return W;if(H(Se)){var pt="function"==typeof Se.valueOf?Se.valueOf():Se;Se=H(pt)?pt+"":pt}if("string"!=typeof Se)return 0===Se?Se:+Se;Se=Se.replace(N,"");var ht=I.test(Se);return ht||V.test(Se)?re(Se.slice(2),ht?2:8):G.test(Se)?W:+Se}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},F="Expected a function",W=NaN,R="[object Symbol]",N=/^\s+|\s+$/g,G=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,V=/^0o[0-7]+$/i,re=parseInt,he="object"==(typeof b>"u"?"undefined":T(b))&&b&&b.Object===Object&&b,pe="object"==(typeof self>"u"?"undefined":T(self))&&self&&self.Object===Object&&self,Le=he||pe||Function("return this")(),Ne=Object.prototype.toString,je=Math.max,Je=Math.min,j=function(){return Le.Date.now()};m.exports=function A(Se,pt,ht){var gt=!0,zt=!0;if("function"!=typeof Se)throw new TypeError(F);return H(ht)&&(gt="leading"in ht?!!ht.leading:gt,zt="trailing"in ht?!!ht.trailing:zt),C(Se,pt,{leading:gt,maxWait:pt,trailing:zt})}}).call(g,function(){return this}())},function(m,g){(function(b){"use strict";function A(j){var Se=typeof j>"u"?"undefined":X(j);return!!j&&("object"==Se||"function"==Se)}function z(j){return"symbol"==(typeof j>"u"?"undefined":X(j))||function H(j){return!!j&&"object"==(typeof j>"u"?"undefined":X(j))}(j)&&Qe.call(j)==W}function B(j){if("number"==typeof j)return j;if(z(j))return F;if(A(j)){var Se="function"==typeof j.valueOf?j.valueOf():j;j=A(Se)?Se+"":Se}if("string"!=typeof j)return 0===j?j:+j;j=j.replace(R,"");var pt=G.test(j);return pt||I.test(j)?V(j.slice(2),pt?2:8):N.test(j)?F:+j}var X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},T="Expected a function",F=NaN,W="[object Symbol]",R=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,I=/^0o[0-7]+$/i,V=parseInt,re="object"==(typeof b>"u"?"undefined":X(b))&&b&&b.Object===Object&&b,he="object"==(typeof self>"u"?"undefined":X(self))&&self&&self.Object===Object&&self,pe=re||he||Function("return this")(),Qe=Object.prototype.toString,Ne=Math.max,je=Math.min,Je=function(){return pe.Date.now()};m.exports=function C(j,Se,pt){function ht(Qn){var Vt=nn,Pi=Bt;return nn=Bt=void 0,Fn=Qn,on=j.apply(Pi,Vt)}function gt(Qn){return Fn=Qn,En=setTimeout(at,Se),un?ht(Qn):on}function Qt(Qn){var Vt=Qn-lt;return void 0===lt||Vt>=Se||Vt<0||Hi&&Qn-Fn>=_n}function at(){var Qn=Je();return Qt(Qn)?Ae(Qn):void(En=setTimeout(at,function zt(Qn){var Di=Se-(Qn-lt);return Hi?je(Di,_n-(Qn-Fn)):Di}(Qn)))}function Ae(Qn){return En=void 0,Xi&&nn?ht(Qn):(nn=Bt=void 0,on)}function An(){var Qn=Je(),Vt=Qt(Qn);if(nn=arguments,Bt=this,lt=Qn,Vt){if(void 0===En)return gt(lt);if(Hi)return En=setTimeout(at,Se),ht(lt)}return void 0===En&&(En=setTimeout(at,Se)),on}var nn,Bt,_n,on,En,lt,Fn=0,un=!1,Hi=!1,Xi=!0;if("function"!=typeof j)throw new TypeError(T);return Se=B(Se)||0,A(pt)&&(un=!!pt.leading,_n=(Hi="maxWait"in pt)?Ne(B(pt.maxWait)||0,Se):_n,Xi="trailing"in pt?!!pt.trailing:Xi),An.cancel=function ot(){void 0!==En&&clearTimeout(En),Fn=0,nn=lt=Bt=En=void 0},An.flush=function Ht(){return void 0===En?on:Ae(Je())},An}}).call(g,function(){return this}())},function(m,g){"use strict";function b(X){var T=void 0,F=void 0;for(T=0;T<X.length;T+=1)if((F=X[T]).dataset&&F.dataset.aos||F.children&&b(F.children))return!0;return!1}function C(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function z(X){X&&X.forEach(function(T){var F=Array.prototype.slice.call(T.addedNodes),W=Array.prototype.slice.call(T.removedNodes);if(b(F.concat(W)))return B()})}Object.defineProperty(g,"__esModule",{value:!0});var B=function(){};g.default={isSupported:function A(){return!!C()},ready:function H(X,T){var F=window.document,R=new(C())(z);B=T,R.observe(F.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(m,g){"use strict";function C(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(g,"__esModule",{value:!0});var A=function(){function F(W,R){for(var N=0;N<R.length;N++){var G=R[N];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(W,G.key,G)}}return function(W,R,N){return R&&F(W.prototype,R),N&&F(W,N),W}}(),H=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,z=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,B=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,X=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,T=function(){function F(){!function b(F,W){if(!(F instanceof W))throw new TypeError("Cannot call a class as a function")}(this,F)}return A(F,[{key:"phone",value:function(){var W=C();return!(!H.test(W)&&!z.test(W.substr(0,4)))}},{key:"mobile",value:function(){var W=C();return!(!B.test(W)&&!X.test(W.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),F}();g.default=new T},function(m,g){"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.default=function(A,H){var z=window.pageYOffset,B=window.innerHeight;A.forEach(function(X,T){!function(A,H,z){var B=A.node.getAttribute("data-aos-once");H>A.position?A.node.classList.add("aos-animate"):typeof B<"u"&&("false"===B||!z&&"true"!==B)&&A.node.classList.remove("aos-animate")}(X,B+z,H)})}},function(m,g,b){"use strict";Object.defineProperty(g,"__esModule",{value:!0});var H=function C(B){return B&&B.__esModule?B:{default:B}}(b(12));g.default=function(B,X){return B.forEach(function(T,F){T.node.classList.add("aos-init"),T.position=(0,H.default)(T.node,X.offset)}),B}},function(m,g,b){"use strict";Object.defineProperty(g,"__esModule",{value:!0});var H=function C(B){return B&&B.__esModule?B:{default:B}}(b(13));g.default=function(B,X){var T=0,F=0,W=window.innerHeight,R={offset:B.getAttribute("data-aos-offset"),anchor:B.getAttribute("data-aos-anchor"),anchorPlacement:B.getAttribute("data-aos-anchor-placement")};switch(R.offset&&!isNaN(R.offset)&&(F=parseInt(R.offset)),R.anchor&&document.querySelectorAll(R.anchor)&&(B=document.querySelectorAll(R.anchor)[0]),T=(0,H.default)(B).top,R.anchorPlacement){case"top-bottom":break;case"center-bottom":T+=B.offsetHeight/2;break;case"bottom-bottom":T+=B.offsetHeight;break;case"top-center":T+=W/2;break;case"bottom-center":T+=W/2+B.offsetHeight;break;case"center-center":T+=W/2+B.offsetHeight/2;break;case"top-top":T+=W;break;case"bottom-top":T+=B.offsetHeight+W;break;case"center-top":T+=B.offsetHeight/2+W}return R.anchorPlacement||R.offset||isNaN(X)||(F=X),T+F}},function(m,g){"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(C){for(var A=0,H=0;C&&!isNaN(C.offsetLeft)&&!isNaN(C.offsetTop);)A+=C.offsetLeft-("BODY"!=C.tagName?C.scrollLeft:0),H+=C.offsetTop-("BODY"!=C.tagName?C.scrollTop:0),C=C.offsetParent;return{top:H,left:A}}},function(m,g){"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(C){return C=C||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(C,function(A){return{node:A}})}}])},8259:function(p,m){var b;!function(C,A){"use strict";"object"==typeof p.exports?p.exports=C.document?A(C,!0):function(H){if(!H.document)throw new Error("jQuery requires a window with a document");return A(H)}:A(C)}(typeof window<"u"?window:this,function(C,A){"use strict";var H=[],z=Object.getPrototypeOf,B=H.slice,X=H.flat?function(P){return H.flat.call(P)}:function(P){return H.concat.apply([],P)},T=H.push,F=H.indexOf,W={},R=W.toString,N=W.hasOwnProperty,G=N.toString,I=G.call(Object),V={},re=function(k){return"function"==typeof k&&"number"!=typeof k.nodeType&&"function"!=typeof k.item},he=function(k){return null!=k&&k===k.window},pe=C.document,Le={type:!0,src:!0,nonce:!0,noModule:!0};function Qe(P,k,Q){var ee,ae,le=(Q=Q||pe).createElement("script");if(le.text=P,k)for(ee in Le)(ae=k[ee]||k.getAttribute&&k.getAttribute(ee))&&le.setAttribute(ee,ae);Q.head.appendChild(le).parentNode.removeChild(le)}function Ne(P){return null==P?P+"":"object"==typeof P||"function"==typeof P?W[R.call(P)]||"object":typeof P}var Je=/HTML$/i,j=function(P,k){return new j.fn.init(P,k)};function Se(P){var k=!!P&&"length"in P&&P.length,Q=Ne(P);return!re(P)&&!he(P)&&("array"===Q||0===k||"number"==typeof k&&k>0&&k-1 in P)}function pt(P,k){return P.nodeName&&P.nodeName.toLowerCase()===k.toLowerCase()}j.fn=j.prototype={jquery:"3.7.1",constructor:j,length:0,toArray:function(){return B.call(this)},get:function(P){return null==P?B.call(this):P<0?this[P+this.length]:this[P]},pushStack:function(P){var k=j.merge(this.constructor(),P);return k.prevObject=this,k},each:function(P){return j.each(this,P)},map:function(P){return this.pushStack(j.map(this,function(k,Q){return P.call(k,Q,k)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(j.grep(this,function(P,k){return(k+1)%2}))},odd:function(){return this.pushStack(j.grep(this,function(P,k){return k%2}))},eq:function(P){var k=this.length,Q=+P+(P<0?k:0);return this.pushStack(Q>=0&&Q<k?[this[Q]]:[])},end:function(){return this.prevObject||this.constructor()},push:T,sort:H.sort,splice:H.splice},j.extend=j.fn.extend=function(){var P,k,Q,ee,ae,le,fe=arguments[0]||{},Ue=1,Te=arguments.length,Ye=!1;for("boolean"==typeof fe&&(Ye=fe,fe=arguments[Ue]||{},Ue++),"object"!=typeof fe&&!re(fe)&&(fe={}),Ue===Te&&(fe=this,Ue--);Ue<Te;Ue++)if(null!=(P=arguments[Ue]))for(k in P)ee=P[k],"__proto__"!==k&&fe!==ee&&(Ye&&ee&&(j.isPlainObject(ee)||(ae=Array.isArray(ee)))?(Q=fe[k],le=ae&&!Array.isArray(Q)?[]:ae||j.isPlainObject(Q)?Q:{},ae=!1,fe[k]=j.extend(Ye,le,ee)):void 0!==ee&&(fe[k]=ee));return fe},j.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(P){throw new Error(P)},noop:function(){},isPlainObject:function(P){var k,Q;return!(!P||"[object Object]"!==R.call(P)||(k=z(P))&&("function"!=typeof(Q=N.call(k,"constructor")&&k.constructor)||G.call(Q)!==I))},isEmptyObject:function(P){var k;for(k in P)return!1;return!0},globalEval:function(P,k,Q){Qe(P,{nonce:k&&k.nonce},Q)},each:function(P,k){var Q,ee=0;if(Se(P))for(Q=P.length;ee<Q&&!1!==k.call(P[ee],ee,P[ee]);ee++);else for(ee in P)if(!1===k.call(P[ee],ee,P[ee]))break;return P},text:function(P){var k,Q="",ee=0,ae=P.nodeType;if(!ae)for(;k=P[ee++];)Q+=j.text(k);return 1===ae||11===ae?P.textContent:9===ae?P.documentElement.textContent:3===ae||4===ae?P.nodeValue:Q},makeArray:function(P,k){var Q=k||[];return null!=P&&(Se(Object(P))?j.merge(Q,"string"==typeof P?[P]:P):T.call(Q,P)),Q},inArray:function(P,k,Q){return null==k?-1:F.call(k,P,Q)},isXMLDoc:function(P){var Q=P&&(P.ownerDocument||P).documentElement;return!Je.test(P&&P.namespaceURI||Q&&Q.nodeName||"HTML")},merge:function(P,k){for(var Q=+k.length,ee=0,ae=P.length;ee<Q;ee++)P[ae++]=k[ee];return P.length=ae,P},grep:function(P,k,Q){for(var ae=[],le=0,fe=P.length,Ue=!Q;le<fe;le++)!k(P[le],le)!==Ue&&ae.push(P[le]);return ae},map:function(P,k,Q){var ee,ae,le=0,fe=[];if(Se(P))for(ee=P.length;le<ee;le++)null!=(ae=k(P[le],le,Q))&&fe.push(ae);else for(le in P)null!=(ae=k(P[le],le,Q))&&fe.push(ae);return X(fe)},guid:1,support:V}),"function"==typeof Symbol&&(j.fn[Symbol.iterator]=H[Symbol.iterator]),j.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(P,k){W["[object "+k+"]"]=k.toLowerCase()});var ht=H.pop,gt=H.sort,zt=H.splice,Qt="[\\x20\\t\\r\\n\\f]",at=new RegExp("^"+Qt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Qt+"+$","g");j.contains=function(P,k){var Q=k&&k.parentNode;return P===Q||!(!Q||1!==Q.nodeType||!(P.contains?P.contains(Q):P.compareDocumentPosition&&16&P.compareDocumentPosition(Q)))};var Ae=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ot(P,k){return k?"\0"===P?"\ufffd":P.slice(0,-1)+"\\"+P.charCodeAt(P.length-1).toString(16)+" ":"\\"+P}j.escapeSelector=function(P){return(P+"").replace(Ae,ot)};var Ht=pe,An=T;!function(){var P,k,Q,ee,ae,fe,Ue,Te,Ye,_t,le=An,et=j.expando,dt=0,qt=0,ei=jd(),ji=jd(),fi=jd(),Ao=jd(),wo=function(Pe,Ge){return Pe===Ge&&(ae=!0),0},Qs="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",At="(?:\\\\[\\da-fA-F]{1,6}"+Qt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",xn="\\["+Qt+"*("+At+")(?:"+Qt+"*([*^$|!~]?=)"+Qt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+At+"))|)"+Qt+"*\\]",Dn=":("+At+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+xn+")*)|.*)\\)|)",Yt=new RegExp(Qt+"+","g"),Oi=new RegExp("^"+Qt+"*,"+Qt+"*"),zd=new RegExp("^"+Qt+"*([>+~]|"+Qt+")"+Qt+"*"),Yc=new RegExp(Qt+"|>"),yo=new RegExp(Dn),Xc=new RegExp("^"+At+"$"),ca={ID:new RegExp("^#("+At+")"),CLASS:new RegExp("^\\.("+At+")"),TAG:new RegExp("^("+At+"|[*])"),ATTR:new RegExp("^"+xn),PSEUDO:new RegExp("^"+Dn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Qt+"*(even|odd|(([+-]|)(\\d*)n|)"+Qt+"*(?:([+-]|)"+Qt+"*(\\d+)|))"+Qt+"*\\)|)","i"),bool:new RegExp("^(?:"+Qs+")$","i"),needsContext:new RegExp("^"+Qt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Qt+"*((?:-\\d)?\\d*)"+Qt+"*\\)|)(?=[^-]|$)","i")},$c=/^(?:input|select|textarea|button)$/i,oc=/^h\d$/i,Aa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Zu=/[+~]/,Kr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Qt+"?|\\\\([^\\r\\n\\f])","g"),jo=function(Pe,Ge){var rt="0x"+Pe.slice(1)-65536;return Ge||(rt<0?String.fromCharCode(rt+65536):String.fromCharCode(rt>>10|55296,1023&rt|56320))},_g=function(){kl()},Ud=Uh(function(Pe){return!0===Pe.disabled&&pt(Pe,"fieldset")},{dir:"parentNode",next:"legend"});try{le.apply(H=B.call(Ht.childNodes),Ht.childNodes)}catch{le={apply:function(Ge,rt){An.apply(Ge,B.call(rt))},call:function(Ge){An.apply(Ge,B.call(arguments,1))}}}function hr(Pe,Ge,rt,ft){var St,en,fn,Tn,gn,Ii,me,L=Ge&&Ge.ownerDocument,J=Ge?Ge.nodeType:9;if(rt=rt||[],"string"!=typeof Pe||!Pe||1!==J&&9!==J&&11!==J)return rt;if(!ft&&(kl(Ge),Ge=Ge||fe,Te)){if(11!==J&&(gn=Aa.exec(Pe)))if(St=gn[1]){if(9===J){if(!(fn=Ge.getElementById(St)))return rt;if(fn.id===St)return le.call(rt,fn),rt}else if(L&&(fn=L.getElementById(St))&&hr.contains(Ge,fn)&&fn.id===St)return le.call(rt,fn),rt}else{if(gn[2])return le.apply(rt,Ge.getElementsByTagName(Pe)),rt;if((St=gn[3])&&Ge.getElementsByClassName)return le.apply(rt,Ge.getElementsByClassName(St)),rt}if(!(Ao[Pe+" "]||Ye&&Ye.test(Pe))){if(me=Pe,L=Ge,1===J&&(Yc.test(Pe)||zd.test(Pe))){for(((L=Zu.test(Pe)&&Pf(Ge.parentNode)||Ge)!=Ge||!V.scope)&&((Tn=Ge.getAttribute("id"))?Tn=j.escapeSelector(Tn):Ge.setAttribute("id",Tn=et)),en=(Ii=Vd(Pe)).length;en--;)Ii[en]=(Tn?"#"+Tn:":scope")+" "+zh(Ii[en]);me=Ii.join(",")}try{return le.apply(rt,L.querySelectorAll(me)),rt}catch{Ao(Pe,!0)}finally{Tn===et&&Ge.removeAttribute("id")}}}return Ef(Pe.replace(at,"$1"),Ge,rt,ft)}function jd(){var Pe=[];return function Ge(rt,ft){return Pe.push(rt+" ")>k.cacheLength&&delete Ge[Pe.shift()],Ge[rt+" "]=ft}}function Ta(Pe){return Pe[et]=!0,Pe}function sc(Pe){var Ge=fe.createElement("fieldset");try{return!!Pe(Ge)}catch{return!1}finally{Ge.parentNode&&Ge.parentNode.removeChild(Ge),Ge=null}}function wf(Pe){return function(Ge){return pt(Ge,"input")&&Ge.type===Pe}}function Cf(Pe){return function(Ge){return(pt(Ge,"input")||pt(Ge,"button"))&&Ge.type===Pe}}function Mf(Pe){return function(Ge){return"form"in Ge?Ge.parentNode&&!1===Ge.disabled?"label"in Ge?"label"in Ge.parentNode?Ge.parentNode.disabled===Pe:Ge.disabled===Pe:Ge.isDisabled===Pe||Ge.isDisabled!==!Pe&&Ud(Ge)===Pe:Ge.disabled===Pe:"label"in Ge&&Ge.disabled===Pe}}function Tl(Pe){return Ta(function(Ge){return Ge=+Ge,Ta(function(rt,ft){for(var St,en=Pe([],rt.length,Ge),fn=en.length;fn--;)rt[St=en[fn]]&&(rt[St]=!(ft[St]=rt[St]))})})}function Pf(Pe){return Pe&&typeof Pe.getElementsByTagName<"u"&&Pe}function kl(Pe){var Ge,rt=Pe?Pe.ownerDocument||Pe:Ht;return rt==fe||9!==rt.nodeType||!rt.documentElement||(Ue=(fe=rt).documentElement,Te=!j.isXMLDoc(fe),_t=Ue.matches||Ue.webkitMatchesSelector||Ue.msMatchesSelector,Ue.msMatchesSelector&&Ht!=fe&&(Ge=fe.defaultView)&&Ge.top!==Ge&&Ge.addEventListener("unload",_g),V.getById=sc(function(ft){return Ue.appendChild(ft).id=j.expando,!fe.getElementsByName||!fe.getElementsByName(j.expando).length}),V.disconnectedMatch=sc(function(ft){return _t.call(ft,"*")}),V.scope=sc(function(){return fe.querySelectorAll(":scope")}),V.cssHas=sc(function(){try{return fe.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),V.getById?(k.filter.ID=function(ft){var St=ft.replace(Kr,jo);return function(en){return en.getAttribute("id")===St}},k.find.ID=function(ft,St){if(typeof St.getElementById<"u"&&Te){var en=St.getElementById(ft);return en?[en]:[]}}):(k.filter.ID=function(ft){var St=ft.replace(Kr,jo);return function(en){var fn=typeof en.getAttributeNode<"u"&&en.getAttributeNode("id");return fn&&fn.value===St}},k.find.ID=function(ft,St){if(typeof St.getElementById<"u"&&Te){var en,fn,Tn,gn=St.getElementById(ft);if(gn){if((en=gn.getAttributeNode("id"))&&en.value===ft)return[gn];for(Tn=St.getElementsByName(ft),fn=0;gn=Tn[fn++];)if((en=gn.getAttributeNode("id"))&&en.value===ft)return[gn]}return[]}}),k.find.TAG=function(ft,St){return typeof St.getElementsByTagName<"u"?St.getElementsByTagName(ft):St.querySelectorAll(ft)},k.find.CLASS=function(ft,St){if(typeof St.getElementsByClassName<"u"&&Te)return St.getElementsByClassName(ft)},Ye=[],sc(function(ft){var St;Ue.appendChild(ft).innerHTML="<a id='"+et+"' href='' disabled='disabled'></a><select id='"+et+"-\r\\' disabled='disabled'><option selected=''></option></select>",ft.querySelectorAll("[selected]").length||Ye.push("\\["+Qt+"*(?:value|"+Qs+")"),ft.querySelectorAll("[id~="+et+"-]").length||Ye.push("~="),ft.querySelectorAll("a#"+et+"+*").length||Ye.push(".#.+[+~]"),ft.querySelectorAll(":checked").length||Ye.push(":checked"),(St=fe.createElement("input")).setAttribute("type","hidden"),ft.appendChild(St).setAttribute("name","D"),Ue.appendChild(ft).disabled=!0,2!==ft.querySelectorAll(":disabled").length&&Ye.push(":enabled",":disabled"),(St=fe.createElement("input")).setAttribute("name",""),ft.appendChild(St),ft.querySelectorAll("[name='']").length||Ye.push("\\["+Qt+"*name"+Qt+"*="+Qt+"*(?:''|\"\")")}),V.cssHas||Ye.push(":has"),Ye=Ye.length&&new RegExp(Ye.join("|")),wo=function(ft,St){if(ft===St)return ae=!0,0;var en=!ft.compareDocumentPosition-!St.compareDocumentPosition;return en||(1&(en=(ft.ownerDocument||ft)==(St.ownerDocument||St)?ft.compareDocumentPosition(St):1)||!V.sortDetached&&St.compareDocumentPosition(ft)===en?ft===fe||ft.ownerDocument==Ht&&hr.contains(Ht,ft)?-1:St===fe||St.ownerDocument==Ht&&hr.contains(Ht,St)?1:ee?F.call(ee,ft)-F.call(ee,St):0:4&en?-1:1)}),fe}for(P in hr.matches=function(Pe,Ge){return hr(Pe,null,null,Ge)},hr.matchesSelector=function(Pe,Ge){if(kl(Pe),Te&&!Ao[Ge+" "]&&(!Ye||!Ye.test(Ge)))try{var rt=_t.call(Pe,Ge);if(rt||V.disconnectedMatch||Pe.document&&11!==Pe.document.nodeType)return rt}catch{Ao(Ge,!0)}return hr(Ge,fe,null,[Pe]).length>0},hr.contains=function(Pe,Ge){return(Pe.ownerDocument||Pe)!=fe&&kl(Pe),j.contains(Pe,Ge)},hr.attr=function(Pe,Ge){(Pe.ownerDocument||Pe)!=fe&&kl(Pe);var rt=k.attrHandle[Ge.toLowerCase()],ft=rt&&N.call(k.attrHandle,Ge.toLowerCase())?rt(Pe,Ge,!Te):void 0;return void 0!==ft?ft:Pe.getAttribute(Ge)},hr.error=function(Pe){throw new Error("Syntax error, unrecognized expression: "+Pe)},j.uniqueSort=function(Pe){var Ge,rt=[],ft=0,St=0;if(ae=!V.sortStable,ee=!V.sortStable&&B.call(Pe,0),gt.call(Pe,wo),ae){for(;Ge=Pe[St++];)Ge===Pe[St]&&(ft=rt.push(St));for(;ft--;)zt.call(Pe,rt[ft],1)}return ee=null,Pe},j.fn.uniqueSort=function(){return this.pushStack(j.uniqueSort(B.apply(this)))},(k=j.expr={cacheLength:50,createPseudo:Ta,match:ca,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Pe){return Pe[1]=Pe[1].replace(Kr,jo),Pe[3]=(Pe[3]||Pe[4]||Pe[5]||"").replace(Kr,jo),"~="===Pe[2]&&(Pe[3]=" "+Pe[3]+" "),Pe.slice(0,4)},CHILD:function(Pe){return Pe[1]=Pe[1].toLowerCase(),"nth"===Pe[1].slice(0,3)?(Pe[3]||hr.error(Pe[0]),Pe[4]=+(Pe[4]?Pe[5]+(Pe[6]||1):2*("even"===Pe[3]||"odd"===Pe[3])),Pe[5]=+(Pe[7]+Pe[8]||"odd"===Pe[3])):Pe[3]&&hr.error(Pe[0]),Pe},PSEUDO:function(Pe){var Ge,rt=!Pe[6]&&Pe[2];return ca.CHILD.test(Pe[0])?null:(Pe[3]?Pe[2]=Pe[4]||Pe[5]||"":rt&&yo.test(rt)&&(Ge=Vd(rt,!0))&&(Ge=rt.indexOf(")",rt.length-Ge)-rt.length)&&(Pe[0]=Pe[0].slice(0,Ge),Pe[2]=rt.slice(0,Ge)),Pe.slice(0,3))}},filter:{TAG:function(Pe){var Ge=Pe.replace(Kr,jo).toLowerCase();return"*"===Pe?function(){return!0}:function(rt){return pt(rt,Ge)}},CLASS:function(Pe){var Ge=ei[Pe+" "];return Ge||(Ge=new RegExp("(^|"+Qt+")"+Pe+"("+Qt+"|$)"))&&ei(Pe,function(rt){return Ge.test("string"==typeof rt.className&&rt.className||typeof rt.getAttribute<"u"&&rt.getAttribute("class")||"")})},ATTR:function(Pe,Ge,rt){return function(ft){var St=hr.attr(ft,Pe);return null==St?"!="===Ge:!Ge||(St+="","="===Ge?St===rt:"!="===Ge?St!==rt:"^="===Ge?rt&&0===St.indexOf(rt):"*="===Ge?rt&&St.indexOf(rt)>-1:"$="===Ge?rt&&St.slice(-rt.length)===rt:"~="===Ge?(" "+St.replace(Yt," ")+" ").indexOf(rt)>-1:"|="===Ge&&(St===rt||St.slice(0,rt.length+1)===rt+"-"))}},CHILD:function(Pe,Ge,rt,ft,St){var en="nth"!==Pe.slice(0,3),fn="last"!==Pe.slice(-4),Tn="of-type"===Ge;return 1===ft&&0===St?function(gn){return!!gn.parentNode}:function(gn,Ii,me){var L,J,ge,qe,Tt,yn=en!==fn?"nextSibling":"previousSibling",vi=gn.parentNode,fr=Tn&&gn.nodeName.toLowerCase(),lc=!me&&!Tn,To=!1;if(vi){if(en){for(;yn;){for(ge=gn;ge=ge[yn];)if(Tn?pt(ge,fr):1===ge.nodeType)return!1;Tt=yn="only"===Pe&&!Tt&&"nextSibling"}return!0}if(Tt=[fn?vi.firstChild:vi.lastChild],fn&&lc){for(To=(qe=(L=(J=vi[et]||(vi[et]={}))[Pe]||[])[0]===dt&&L[1])&&L[2],ge=qe&&vi.childNodes[qe];ge=++qe&&ge&&ge[yn]||(To=qe=0)||Tt.pop();)if(1===ge.nodeType&&++To&&ge===gn){J[Pe]=[dt,qe,To];break}}else if(lc&&(To=qe=(L=(J=gn[et]||(gn[et]={}))[Pe]||[])[0]===dt&&L[1]),!1===To)for(;(ge=++qe&&ge&&ge[yn]||(To=qe=0)||Tt.pop())&&(!(Tn?pt(ge,fr):1===ge.nodeType)||!++To||(lc&&((J=ge[et]||(ge[et]={}))[Pe]=[dt,To]),ge!==gn)););return(To-=St)===ft||To%ft==0&&To/ft>=0}}},PSEUDO:function(Pe,Ge){var rt,ft=k.pseudos[Pe]||k.setFilters[Pe.toLowerCase()]||hr.error("unsupported pseudo: "+Pe);return ft[et]?ft(Ge):ft.length>1?(rt=[Pe,Pe,"",Ge],k.setFilters.hasOwnProperty(Pe.toLowerCase())?Ta(function(St,en){for(var fn,Tn=ft(St,Ge),gn=Tn.length;gn--;)St[fn=F.call(St,Tn[gn])]=!(en[fn]=Tn[gn])}):function(St){return ft(St,0,rt)}):ft}},pseudos:{not:Ta(function(Pe){var Ge=[],rt=[],ft=Or(Pe.replace(at,"$1"));return ft[et]?Ta(function(St,en,fn,Tn){for(var gn,Ii=ft(St,null,Tn,[]),me=St.length;me--;)(gn=Ii[me])&&(St[me]=!(en[me]=gn))}):function(St,en,fn){return Ge[0]=St,ft(Ge,null,fn,rt),Ge[0]=null,!rt.pop()}}),has:Ta(function(Pe){return function(Ge){return hr(Pe,Ge).length>0}}),contains:Ta(function(Pe){return Pe=Pe.replace(Kr,jo),function(Ge){return(Ge.textContent||j.text(Ge)).indexOf(Pe)>-1}}),lang:Ta(function(Pe){return Xc.test(Pe||"")||hr.error("unsupported lang: "+Pe),Pe=Pe.replace(Kr,jo).toLowerCase(),function(Ge){var rt;do{if(rt=Te?Ge.lang:Ge.getAttribute("xml:lang")||Ge.getAttribute("lang"))return(rt=rt.toLowerCase())===Pe||0===rt.indexOf(Pe+"-")}while((Ge=Ge.parentNode)&&1===Ge.nodeType);return!1}}),target:function(Pe){var Ge=C.location&&C.location.hash;return Ge&&Ge.slice(1)===Pe.id},root:function(Pe){return Pe===Ue},focus:function(Pe){return Pe===function Al(){try{return fe.activeElement}catch{}}()&&fe.hasFocus()&&!!(Pe.type||Pe.href||~Pe.tabIndex)},enabled:Mf(!1),disabled:Mf(!0),checked:function(Pe){return pt(Pe,"input")&&!!Pe.checked||pt(Pe,"option")&&!!Pe.selected},selected:function(Pe){return!0===Pe.selected},empty:function(Pe){for(Pe=Pe.firstChild;Pe;Pe=Pe.nextSibling)if(Pe.nodeType<6)return!1;return!0},parent:function(Pe){return!k.pseudos.empty(Pe)},header:function(Pe){return oc.test(Pe.nodeName)},input:function(Pe){return $c.test(Pe.nodeName)},button:function(Pe){return pt(Pe,"input")&&"button"===Pe.type||pt(Pe,"button")},text:function(Pe){var Ge;return pt(Pe,"input")&&"text"===Pe.type&&(null==(Ge=Pe.getAttribute("type"))||"text"===Ge.toLowerCase())},first:Tl(function(){return[0]}),last:Tl(function(Pe,Ge){return[Ge-1]}),eq:Tl(function(Pe,Ge,rt){return[rt<0?rt+Ge:rt]}),even:Tl(function(Pe,Ge){for(var rt=0;rt<Ge;rt+=2)Pe.push(rt);return Pe}),odd:Tl(function(Pe,Ge){for(var rt=1;rt<Ge;rt+=2)Pe.push(rt);return Pe}),lt:Tl(function(Pe,Ge,rt){var ft;for(ft=rt<0?rt+Ge:rt>Ge?Ge:rt;--ft>=0;)Pe.push(ft);return Pe}),gt:Tl(function(Pe,Ge,rt){for(var ft=rt<0?rt+Ge:rt;++ft<Ge;)Pe.push(ft);return Pe})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[P]=wf(P);for(P in{submit:!0,reset:!0})k.pseudos[P]=Cf(P);function Ju(){}function Vd(Pe,Ge){var rt,ft,St,en,fn,Tn,gn,Ii=ji[Pe+" "];if(Ii)return Ge?0:Ii.slice(0);for(fn=Pe,Tn=[],gn=k.preFilter;fn;){for(en in(!rt||(ft=Oi.exec(fn)))&&(ft&&(fn=fn.slice(ft[0].length)||fn),Tn.push(St=[])),rt=!1,(ft=zd.exec(fn))&&(rt=ft.shift(),St.push({value:rt,type:ft[0].replace(at," ")}),fn=fn.slice(rt.length)),k.filter)(ft=ca[en].exec(fn))&&(!gn[en]||(ft=gn[en](ft)))&&(rt=ft.shift(),St.push({value:rt,type:en,matches:ft}),fn=fn.slice(rt.length));if(!rt)break}return Ge?fn.length:fn?hr.error(Pe):ji(Pe,Tn).slice(0)}function zh(Pe){for(var Ge=0,rt=Pe.length,ft="";Ge<rt;Ge++)ft+=Pe[Ge].value;return ft}function Uh(Pe,Ge,rt){var ft=Ge.dir,St=Ge.next,en=St||ft,fn=rt&&"parentNode"===en,Tn=qt++;return Ge.first?function(gn,Ii,me){for(;gn=gn[ft];)if(1===gn.nodeType||fn)return Pe(gn,Ii,me);return!1}:function(gn,Ii,me){var L,J,ge=[dt,Tn];if(me){for(;gn=gn[ft];)if((1===gn.nodeType||fn)&&Pe(gn,Ii,me))return!0}else for(;gn=gn[ft];)if(1===gn.nodeType||fn)if(J=gn[et]||(gn[et]={}),St&&pt(gn,St))gn=gn[ft]||gn;else{if((L=J[en])&&L[0]===dt&&L[1]===Tn)return ge[2]=L[2];if(J[en]=ge,ge[2]=Pe(gn,Ii,me))return!0}return!1}}function ep(Pe){return Pe.length>1?function(Ge,rt,ft){for(var St=Pe.length;St--;)if(!Pe[St](Ge,rt,ft))return!1;return!0}:Pe[0]}function tp(Pe,Ge,rt,ft,St){for(var en,fn=[],Tn=0,gn=Pe.length,Ii=null!=Ge;Tn<gn;Tn++)(en=Pe[Tn])&&(!rt||rt(en,ft,St))&&(fn.push(en),Ii&&Ge.push(Tn));return fn}function Sf(Pe,Ge,rt,ft,St,en){return ft&&!ft[et]&&(ft=Sf(ft)),St&&!St[et]&&(St=Sf(St,en)),Ta(function(fn,Tn,gn,Ii){var me,L,J,ge,qe=[],Tt=[],yn=Tn.length,vi=fn||function Of(Pe,Ge,rt){for(var ft=0,St=Ge.length;ft<St;ft++)hr(Pe,Ge[ft],rt);return rt}(Ge||"*",gn.nodeType?[gn]:gn,[]),fr=!Pe||!fn&&Ge?vi:tp(vi,qe,Pe,gn,Ii);if(rt?rt(fr,ge=St||(fn?Pe:yn||ft)?[]:Tn,gn,Ii):ge=fr,ft)for(me=tp(ge,Tt),ft(me,[],gn,Ii),L=me.length;L--;)(J=me[L])&&(ge[Tt[L]]=!(fr[Tt[L]]=J));if(fn){if(St||Pe){if(St){for(me=[],L=ge.length;L--;)(J=ge[L])&&me.push(fr[L]=J);St(null,ge=[],me,Ii)}for(L=ge.length;L--;)(J=ge[L])&&(me=St?F.call(fn,J):qe[L])>-1&&(fn[me]=!(Tn[me]=J))}}else ge=tp(ge===Tn?ge.splice(yn,ge.length):ge),St?St(null,Tn,ge,Ii):le.apply(Tn,ge)})}function Vo(Pe){for(var Ge,rt,ft,St=Pe.length,en=k.relative[Pe[0].type],fn=en||k.relative[" "],Tn=en?1:0,gn=Uh(function(L){return L===Ge},fn,!0),Ii=Uh(function(L){return F.call(Ge,L)>-1},fn,!0),me=[function(L,J,ge){var qe=!en&&(ge||J!=Q)||((Ge=J).nodeType?gn(L,J,ge):Ii(L,J,ge));return Ge=null,qe}];Tn<St;Tn++)if(rt=k.relative[Pe[Tn].type])me=[Uh(ep(me),rt)];else{if((rt=k.filter[Pe[Tn].type].apply(null,Pe[Tn].matches))[et]){for(ft=++Tn;ft<St&&!k.relative[Pe[ft].type];ft++);return Sf(Tn>1&&ep(me),Tn>1&&zh(Pe.slice(0,Tn-1).concat({value:" "===Pe[Tn-2].type?"*":""})).replace(at,"$1"),rt,Tn<ft&&Vo(Pe.slice(Tn,ft)),ft<St&&Vo(Pe=Pe.slice(ft)),ft<St&&zh(Pe))}me.push(rt)}return ep(me)}function Or(Pe,Ge){var rt,ft=[],St=[],en=fi[Pe+" "];if(!en){for(Ge||(Ge=Vd(Pe)),rt=Ge.length;rt--;)(en=Vo(Ge[rt]))[et]?ft.push(en):St.push(en);en=fi(Pe,function ac(Pe,Ge){var rt=Ge.length>0,ft=Pe.length>0,St=function(en,fn,Tn,gn,Ii){var me,L,J,ge=0,qe="0",Tt=en&&[],yn=[],vi=Q,fr=en||ft&&k.find.TAG("*",Ii),lc=dt+=null==vi?1:Math.random()||.1,To=fr.length;for(Ii&&(Q=fn==fe||fn||Ii);qe!==To&&null!=(me=fr[qe]);qe++){if(ft&&me){for(L=0,!fn&&me.ownerDocument!=fe&&(kl(me),Tn=!Te);J=Pe[L++];)if(J(me,fn||fe,Tn)){le.call(gn,me);break}Ii&&(dt=lc)}rt&&((me=!J&&me)&&ge--,en&&Tt.push(me))}if(ge+=qe,rt&&qe!==ge){for(L=0;J=Ge[L++];)J(Tt,yn,fn,Tn);if(en){if(ge>0)for(;qe--;)Tt[qe]||yn[qe]||(yn[qe]=ht.call(gn));yn=tp(yn)}le.apply(gn,yn),Ii&&!en&&yn.length>0&&ge+Ge.length>1&&j.uniqueSort(gn)}return Ii&&(dt=lc,Q=vi),Tt};return rt?Ta(St):St}(St,ft)),en.selector=Pe}return en}function Ef(Pe,Ge,rt,ft){var St,en,fn,Tn,gn,Ii="function"==typeof Pe&&Pe,me=!ft&&Vd(Pe=Ii.selector||Pe);if(rt=rt||[],1===me.length){if((en=me[0]=me[0].slice(0)).length>2&&"ID"===(fn=en[0]).type&&9===Ge.nodeType&&Te&&k.relative[en[1].type]){if(!(Ge=(k.find.ID(fn.matches[0].replace(Kr,jo),Ge)||[])[0]))return rt;Ii&&(Ge=Ge.parentNode),Pe=Pe.slice(en.shift().value.length)}for(St=ca.needsContext.test(Pe)?0:en.length;St--&&!k.relative[Tn=(fn=en[St]).type];)if((gn=k.find[Tn])&&(ft=gn(fn.matches[0].replace(Kr,jo),Zu.test(en[0].type)&&Pf(Ge.parentNode)||Ge))){if(en.splice(St,1),!(Pe=ft.length&&zh(en)))return le.apply(rt,ft),rt;break}}return(Ii||Or(Pe,me))(ft,Ge,!Te,rt,!Ge||Zu.test(Pe)&&Pf(Ge.parentNode)||Ge),rt}Ju.prototype=k.filters=k.pseudos,k.setFilters=new Ju,V.sortStable=et.split("").sort(wo).join("")===et,kl(),V.sortDetached=sc(function(Pe){return 1&Pe.compareDocumentPosition(fe.createElement("fieldset"))}),j.find=hr,j.expr[":"]=j.expr.pseudos,j.unique=j.uniqueSort,hr.compile=Or,hr.select=Ef,hr.setDocument=kl,hr.tokenize=Vd,hr.escape=j.escapeSelector,hr.getText=j.text,hr.isXML=j.isXMLDoc,hr.selectors=j.expr,hr.support=j.support,hr.uniqueSort=j.uniqueSort}();var nn=function(P,k,Q){for(var ee=[],ae=void 0!==Q;(P=P[k])&&9!==P.nodeType;)if(1===P.nodeType){if(ae&&j(P).is(Q))break;ee.push(P)}return ee},Bt=function(P,k){for(var Q=[];P;P=P.nextSibling)1===P.nodeType&&P!==k&&Q.push(P);return Q},_n=j.expr.match.needsContext,on=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function En(P,k,Q){return re(k)?j.grep(P,function(ee,ae){return!!k.call(ee,ae,ee)!==Q}):k.nodeType?j.grep(P,function(ee){return ee===k!==Q}):"string"!=typeof k?j.grep(P,function(ee){return F.call(k,ee)>-1!==Q}):j.filter(k,P,Q)}j.filter=function(P,k,Q){var ee=k[0];return Q&&(P=":not("+P+")"),1===k.length&&1===ee.nodeType?j.find.matchesSelector(ee,P)?[ee]:[]:j.find.matches(P,j.grep(k,function(ae){return 1===ae.nodeType}))},j.fn.extend({find:function(P){var k,Q,ee=this.length,ae=this;if("string"!=typeof P)return this.pushStack(j(P).filter(function(){for(k=0;k<ee;k++)if(j.contains(ae[k],this))return!0}));for(Q=this.pushStack([]),k=0;k<ee;k++)j.find(P,ae[k],Q);return ee>1?j.uniqueSort(Q):Q},filter:function(P){return this.pushStack(En(this,P||[],!1))},not:function(P){return this.pushStack(En(this,P||[],!0))},is:function(P){return!!En(this,"string"==typeof P&&_n.test(P)?j(P):P||[],!1).length}});var lt,Fn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,un=j.fn.init=function(P,k,Q){var ee,ae;if(!P)return this;if(Q=Q||lt,"string"==typeof P){if(!(ee="<"===P[0]&&">"===P[P.length-1]&&P.length>=3?[null,P,null]:Fn.exec(P))||!ee[1]&&k)return!k||k.jquery?(k||Q).find(P):this.constructor(k).find(P);if(ee[1]){if(j.merge(this,j.parseHTML(ee[1],(k=k instanceof j?k[0]:k)&&k.nodeType?k.ownerDocument||k:pe,!0)),on.test(ee[1])&&j.isPlainObject(k))for(ee in k)re(this[ee])?this[ee](k[ee]):this.attr(ee,k[ee]);return this}return(ae=pe.getElementById(ee[2]))&&(this[0]=ae,this.length=1),this}return P.nodeType?(this[0]=P,this.length=1,this):re(P)?void 0!==Q.ready?Q.ready(P):P(j):j.makeArray(P,this)};un.prototype=j.fn,lt=j(pe);var Hi=/^(?:parents|prev(?:Until|All))/,Xi={children:!0,contents:!0,next:!0,prev:!0};function Qn(P,k){for(;(P=P[k])&&1!==P.nodeType;);return P}j.fn.extend({has:function(P){var k=j(P,this),Q=k.length;return this.filter(function(){for(var ee=0;ee<Q;ee++)if(j.contains(this,k[ee]))return!0})},closest:function(P,k){var Q,ee=0,ae=this.length,le=[],fe="string"!=typeof P&&j(P);if(!_n.test(P))for(;ee<ae;ee++)for(Q=this[ee];Q&&Q!==k;Q=Q.parentNode)if(Q.nodeType<11&&(fe?fe.index(Q)>-1:1===Q.nodeType&&j.find.matchesSelector(Q,P))){le.push(Q);break}return this.pushStack(le.length>1?j.uniqueSort(le):le)},index:function(P){return P?"string"==typeof P?F.call(j(P),this[0]):F.call(this,P.jquery?P[0]:P):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(P,k){return this.pushStack(j.uniqueSort(j.merge(this.get(),j(P,k))))},addBack:function(P){return this.add(null==P?this.prevObject:this.prevObject.filter(P))}}),j.each({parent:function(P){var k=P.parentNode;return k&&11!==k.nodeType?k:null},parents:function(P){return nn(P,"parentNode")},parentsUntil:function(P,k,Q){return nn(P,"parentNode",Q)},next:function(P){return Qn(P,"nextSibling")},prev:function(P){return Qn(P,"previousSibling")},nextAll:function(P){return nn(P,"nextSibling")},prevAll:function(P){return nn(P,"previousSibling")},nextUntil:function(P,k,Q){return nn(P,"nextSibling",Q)},prevUntil:function(P,k,Q){return nn(P,"previousSibling",Q)},siblings:function(P){return Bt((P.parentNode||{}).firstChild,P)},children:function(P){return Bt(P.firstChild)},contents:function(P){return null!=P.contentDocument&&z(P.contentDocument)?P.contentDocument:(pt(P,"template")&&(P=P.content||P),j.merge([],P.childNodes))}},function(P,k){j.fn[P]=function(Q,ee){var ae=j.map(this,k,Q);return"Until"!==P.slice(-5)&&(ee=Q),ee&&"string"==typeof ee&&(ae=j.filter(ee,ae)),this.length>1&&(Xi[P]||j.uniqueSort(ae),Hi.test(P)&&ae.reverse()),this.pushStack(ae)}});var Vt=/[^\x20\t\r\n\f]+/g;function Di(P){return P}function rr(P){throw P}function to(P,k,Q,ee){var ae;try{P&&re(ae=P.promise)?ae.call(P).done(k).fail(Q):P&&re(ae=P.then)?ae.call(P,k,Q):k.apply(void 0,[P].slice(ee))}catch(le){Q.apply(void 0,[le])}}j.Callbacks=function(P){P="string"==typeof P?function Pi(P){var k={};return j.each(P.match(Vt)||[],function(Q,ee){k[ee]=!0}),k}(P):j.extend({},P);var k,Q,ee,ae,le=[],fe=[],Ue=-1,Te=function(){for(ae=ae||P.once,ee=k=!0;fe.length;Ue=-1)for(Q=fe.shift();++Ue<le.length;)!1===le[Ue].apply(Q[0],Q[1])&&P.stopOnFalse&&(Ue=le.length,Q=!1);P.memory||(Q=!1),k=!1,ae&&(le=Q?[]:"")},Ye={add:function(){return le&&(Q&&!k&&(Ue=le.length-1,fe.push(Q)),function _t(et){j.each(et,function(dt,qt){re(qt)?(!P.unique||!Ye.has(qt))&&le.push(qt):qt&&qt.length&&"string"!==Ne(qt)&&_t(qt)})}(arguments),Q&&!k&&Te()),this},remove:function(){return j.each(arguments,function(_t,et){for(var dt;(dt=j.inArray(et,le,dt))>-1;)le.splice(dt,1),dt<=Ue&&Ue--}),this},has:function(_t){return _t?j.inArray(_t,le)>-1:le.length>0},empty:function(){return le&&(le=[]),this},disable:function(){return ae=fe=[],le=Q="",this},disabled:function(){return!le},lock:function(){return ae=fe=[],!Q&&!k&&(le=Q=""),this},locked:function(){return!!ae},fireWith:function(_t,et){return ae||(et=[_t,(et=et||[]).slice?et.slice():et],fe.push(et),k||Te()),this},fire:function(){return Ye.fireWith(this,arguments),this},fired:function(){return!!ee}};return Ye},j.extend({Deferred:function(P){var k=[["notify","progress",j.Callbacks("memory"),j.Callbacks("memory"),2],["resolve","done",j.Callbacks("once memory"),j.Callbacks("once memory"),0,"resolved"],["reject","fail",j.Callbacks("once memory"),j.Callbacks("once memory"),1,"rejected"]],Q="pending",ee={state:function(){return Q},always:function(){return ae.done(arguments).fail(arguments),this},catch:function(le){return ee.then(null,le)},pipe:function(){var le=arguments;return j.Deferred(function(fe){j.each(k,function(Ue,Te){var Ye=re(le[Te[4]])&&le[Te[4]];ae[Te[1]](function(){var _t=Ye&&Ye.apply(this,arguments);_t&&re(_t.promise)?_t.promise().progress(fe.notify).done(fe.resolve).fail(fe.reject):fe[Te[0]+"With"](this,Ye?[_t]:arguments)})}),le=null}).promise()},then:function(le,fe,Ue){var Te=0;function Ye(_t,et,dt,qt){return function(){var ei=this,ji=arguments,fi=function(){var wo,Qs;if(!(_t<Te)){if((wo=dt.apply(ei,ji))===et.promise())throw new TypeError("Thenable self-resolution");re(Qs=wo&&("object"==typeof wo||"function"==typeof wo)&&wo.then)?qt?Qs.call(wo,Ye(Te,et,Di,qt),Ye(Te,et,rr,qt)):(Te++,Qs.call(wo,Ye(Te,et,Di,qt),Ye(Te,et,rr,qt),Ye(Te,et,Di,et.notifyWith))):(dt!==Di&&(ei=void 0,ji=[wo]),(qt||et.resolveWith)(ei,ji))}},Ao=qt?fi:function(){try{fi()}catch(wo){j.Deferred.exceptionHook&&j.Deferred.exceptionHook(wo,Ao.error),_t+1>=Te&&(dt!==rr&&(ei=void 0,ji=[wo]),et.rejectWith(ei,ji))}};_t?Ao():(j.Deferred.getErrorHook?Ao.error=j.Deferred.getErrorHook():j.Deferred.getStackHook&&(Ao.error=j.Deferred.getStackHook()),C.setTimeout(Ao))}}return j.Deferred(function(_t){k[0][3].add(Ye(0,_t,re(Ue)?Ue:Di,_t.notifyWith)),k[1][3].add(Ye(0,_t,re(le)?le:Di)),k[2][3].add(Ye(0,_t,re(fe)?fe:rr))}).promise()},promise:function(le){return null!=le?j.extend(le,ee):ee}},ae={};return j.each(k,function(le,fe){var Ue=fe[2],Te=fe[5];ee[fe[1]]=Ue.add,Te&&Ue.add(function(){Q=Te},k[3-le][2].disable,k[3-le][3].disable,k[0][2].lock,k[0][3].lock),Ue.add(fe[3].fire),ae[fe[0]]=function(){return ae[fe[0]+"With"](this===ae?void 0:this,arguments),this},ae[fe[0]+"With"]=Ue.fireWith}),ee.promise(ae),P&&P.call(ae,ae),ae},when:function(P){var k=arguments.length,Q=k,ee=Array(Q),ae=B.call(arguments),le=j.Deferred(),fe=function(Ue){return function(Te){ee[Ue]=this,ae[Ue]=arguments.length>1?B.call(arguments):Te,--k||le.resolveWith(ee,ae)}};if(k<=1&&(to(P,le.done(fe(Q)).resolve,le.reject,!k),"pending"===le.state()||re(ae[Q]&&ae[Q].then)))return le.then();for(;Q--;)to(ae[Q],fe(Q),le.reject);return le.promise()}});var qr=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;j.Deferred.exceptionHook=function(P,k){C.console&&C.console.warn&&P&&qr.test(P.name)&&C.console.warn("jQuery.Deferred exception: "+P.message,P.stack,k)},j.readyException=function(P){C.setTimeout(function(){throw P})};var Yr=j.Deferred();function cn(){pe.removeEventListener("DOMContentLoaded",cn),C.removeEventListener("load",cn),j.ready()}j.fn.ready=function(P){return Yr.then(P).catch(function(k){j.readyException(k)}),this},j.extend({isReady:!1,readyWait:1,ready:function(P){(!0===P?--j.readyWait:j.isReady)||(j.isReady=!0,!(!0!==P&&--j.readyWait>0)&&Yr.resolveWith(pe,[j]))}}),j.ready.then=Yr.then,"complete"===pe.readyState||"loading"!==pe.readyState&&!pe.documentElement.doScroll?C.setTimeout(j.ready):(pe.addEventListener("DOMContentLoaded",cn),C.addEventListener("load",cn));var ui=function(P,k,Q,ee,ae,le,fe){var Ue=0,Te=P.length,Ye=null==Q;if("object"===Ne(Q))for(Ue in ae=!0,Q)ui(P,k,Ue,Q[Ue],!0,le,fe);else if(void 0!==ee&&(ae=!0,re(ee)||(fe=!0),Ye&&(fe?(k.call(P,ee),k=null):(Ye=k,k=function(_t,et,dt){return Ye.call(j(_t),dt)})),k))for(;Ue<Te;Ue++)k(P[Ue],Q,fe?ee:ee.call(P[Ue],Ue,k(P[Ue],Q)));return ae?P:Ye?k.call(P):Te?k(P[0],Q):le},xo=/^-ms-/,zi=/-([a-z])/g;function Xr(P,k){return k.toUpperCase()}function Ki(P){return P.replace(xo,"ms-").replace(zi,Xr)}var yr=function(P){return 1===P.nodeType||9===P.nodeType||!+P.nodeType};function ur(){this.expando=j.expando+ur.uid++}ur.uid=1,ur.prototype={cache:function(P){var k=P[this.expando];return k||(k={},yr(P)&&(P.nodeType?P[this.expando]=k:Object.defineProperty(P,this.expando,{value:k,configurable:!0}))),k},set:function(P,k,Q){var ee,ae=this.cache(P);if("string"==typeof k)ae[Ki(k)]=Q;else for(ee in k)ae[Ki(ee)]=k[ee];return ae},get:function(P,k){return void 0===k?this.cache(P):P[this.expando]&&P[this.expando][Ki(k)]},access:function(P,k,Q){return void 0===k||k&&"string"==typeof k&&void 0===Q?this.get(P,k):(this.set(P,k,Q),void 0!==Q?Q:k)},remove:function(P,k){var Q,ee=P[this.expando];if(void 0!==ee){if(void 0!==k)for((Q=(k=Array.isArray(k)?k.map(Ki):(k=Ki(k))in ee?[k]:k.match(Vt)||[]).length);Q--;)delete ee[k[Q]];(void 0===k||j.isEmptyObject(ee))&&(P.nodeType?P[this.expando]=void 0:delete P[this.expando])}},hasData:function(P){var k=P[this.expando];return void 0!==k&&!j.isEmptyObject(k)}};var vn=new ur,_r=new ur,uo=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ki=/[A-Z]/g;function Gn(P,k,Q){var ee;if(void 0===Q&&1===P.nodeType)if(ee="data-"+k.replace(ki,"-$&").toLowerCase(),"string"==typeof(Q=P.getAttribute(ee))){try{Q=function sn(P){return"true"===P||"false"!==P&&("null"===P?null:P===+P+""?+P:uo.test(P)?JSON.parse(P):P)}(Q)}catch{}_r.set(P,k,Q)}else Q=void 0;return Q}j.extend({hasData:function(P){return _r.hasData(P)||vn.hasData(P)},data:function(P,k,Q){return _r.access(P,k,Q)},removeData:function(P,k){_r.remove(P,k)},_data:function(P,k,Q){return vn.access(P,k,Q)},_removeData:function(P,k){vn.remove(P,k)}}),j.fn.extend({data:function(P,k){var Q,ee,ae,le=this[0],fe=le&&le.attributes;if(void 0===P){if(this.length&&(ae=_r.get(le),1===le.nodeType&&!vn.get(le,"hasDataAttrs"))){for(Q=fe.length;Q--;)fe[Q]&&0===(ee=fe[Q].name).indexOf("data-")&&(ee=Ki(ee.slice(5)),Gn(le,ee,ae[ee]));vn.set(le,"hasDataAttrs",!0)}return ae}return"object"==typeof P?this.each(function(){_r.set(this,P)}):ui(this,function(Ue){var Te;if(le&&void 0===Ue)return void 0!==(Te=_r.get(le,P))||void 0!==(Te=Gn(le,P))?Te:void 0;this.each(function(){_r.set(this,P,Ue)})},null,k,arguments.length>1,null,!0)},removeData:function(P){return this.each(function(){_r.remove(this,P)})}}),j.extend({queue:function(P,k,Q){var ee;if(P)return ee=vn.get(P,k=(k||"fx")+"queue"),Q&&(!ee||Array.isArray(Q)?ee=vn.access(P,k,j.makeArray(Q)):ee.push(Q)),ee||[]},dequeue:function(P,k){var Q=j.queue(P,k=k||"fx"),ee=Q.length,ae=Q.shift(),le=j._queueHooks(P,k);"inprogress"===ae&&(ae=Q.shift(),ee--),ae&&("fx"===k&&Q.unshift("inprogress"),delete le.stop,ae.call(P,function(){j.dequeue(P,k)},le)),!ee&&le&&le.empty.fire()},_queueHooks:function(P,k){var Q=k+"queueHooks";return vn.get(P,Q)||vn.access(P,Q,{empty:j.Callbacks("once memory").add(function(){vn.remove(P,[k+"queue",Q])})})}}),j.fn.extend({queue:function(P,k){var Q=2;return"string"!=typeof P&&(k=P,P="fx",Q--),arguments.length<Q?j.queue(this[0],P):void 0===k?this:this.each(function(){var ee=j.queue(this,P,k);j._queueHooks(this,P),"fx"===P&&"inprogress"!==ee[0]&&j.dequeue(this,P)})},dequeue:function(P){return this.each(function(){j.dequeue(this,P)})},clearQueue:function(P){return this.queue(P||"fx",[])},promise:function(P,k){var Q,ee=1,ae=j.Deferred(),le=this,fe=this.length,Ue=function(){--ee||ae.resolveWith(le,[le])};for("string"!=typeof P&&(k=P,P=void 0),P=P||"fx";fe--;)(Q=vn.get(le[fe],P+"queueHooks"))&&Q.empty&&(ee++,Q.empty.add(Ue));return Ue(),ae.promise(k)}});var Li=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bn=new RegExp("^(?:([+-])=|)("+Li+")([a-z%]*)$","i"),er=["Top","Right","Bottom","Left"],dr=pe.documentElement,$r=function(P){return j.contains(P.ownerDocument,P)},ys={composed:!0};dr.getRootNode&&($r=function(P){return j.contains(P.ownerDocument,P)||P.getRootNode(ys)===P.ownerDocument});var Fr=function(P,k){return"none"===(P=k||P).style.display||""===P.style.display&&$r(P)&&"none"===j.css(P,"display")};function Eo(P,k,Q,ee){var ae,le,fe=20,Ue=ee?function(){return ee.cur()}:function(){return j.css(P,k,"")},Te=Ue(),Ye=Q&&Q[3]||(j.cssNumber[k]?"":"px"),_t=P.nodeType&&(j.cssNumber[k]||"px"!==Ye&&+Te)&&Bn.exec(j.css(P,k));if(_t&&_t[3]!==Ye){for(Ye=Ye||_t[3],_t=+(Te/=2)||1;fe--;)j.style(P,k,_t+Ye),(1-le)*(1-(le=Ue()/Te||.5))<=0&&(fe=0),_t/=le;j.style(P,k,(_t*=2)+Ye),Q=Q||[]}return Q&&(_t=+_t||+Te||0,ae=Q[1]?_t+(Q[1]+1)*Q[2]:+Q[2],ee&&(ee.unit=Ye,ee.start=_t,ee.end=ae)),ae}var oa={};function Yn(P){var k,Q=P.ownerDocument,ee=P.nodeName,ae=oa[ee];return ae||(k=Q.body.appendChild(Q.createElement(ee)),ae=j.css(k,"display"),k.parentNode.removeChild(k),"none"===ae&&(ae="block"),oa[ee]=ae,ae)}function po(P,k){for(var Q,ee,ae=[],le=0,fe=P.length;le<fe;le++)(ee=P[le]).style&&(Q=ee.style.display,k?("none"===Q&&(ae[le]=vn.get(ee,"display")||null,ae[le]||(ee.style.display="")),""===ee.style.display&&Fr(ee)&&(ae[le]=Yn(ee))):"none"!==Q&&(ae[le]="none",vn.set(ee,"display",Q)));for(le=0;le<fe;le++)null!=ae[le]&&(P[le].style.display=ae[le]);return P}j.fn.extend({show:function(){return po(this,!0)},hide:function(){return po(this)},toggle:function(P){return"boolean"==typeof P?P?this.show():this.hide():this.each(function(){Fr(this)?j(this).show():j(this).hide()})}});var k,Q,$t=/^(?:checkbox|radio)$/i,Ot=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;k=pe.createDocumentFragment().appendChild(pe.createElement("div")),(Q=pe.createElement("input")).setAttribute("type","radio"),Q.setAttribute("checked","checked"),Q.setAttribute("name","t"),k.appendChild(Q),V.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,k.innerHTML="<textarea>x</textarea>",V.noCloneChecked=!!k.cloneNode(!0).lastChild.defaultValue,k.innerHTML="<option></option>",V.option=!!k.lastChild;var Wt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Kt(P,k){var Q;return Q=typeof P.getElementsByTagName<"u"?P.getElementsByTagName(k||"*"):typeof P.querySelectorAll<"u"?P.querySelectorAll(k||"*"):[],void 0===k||k&&pt(P,k)?j.merge([P],Q):Q}function xt(P,k){for(var Q=0,ee=P.length;Q<ee;Q++)vn.set(P[Q],"globalEval",!k||vn.get(k[Q],"globalEval"))}Wt.tbody=Wt.tfoot=Wt.colgroup=Wt.caption=Wt.thead,Wt.th=Wt.td,V.option||(Wt.optgroup=Wt.option=[1,"<select multiple='multiple'>","</select>"]);var xi=/<|&#?\w+;/;function bn(P,k,Q,ee,ae){for(var le,fe,Ue,Te,Ye,_t,et=k.createDocumentFragment(),dt=[],qt=0,ei=P.length;qt<ei;qt++)if((le=P[qt])||0===le)if("object"===Ne(le))j.merge(dt,le.nodeType?[le]:le);else if(xi.test(le)){for(fe=fe||et.appendChild(k.createElement("div")),Ue=(Ot.exec(le)||["",""])[1].toLowerCase(),fe.innerHTML=(Te=Wt[Ue]||Wt._default)[1]+j.htmlPrefilter(le)+Te[2],_t=Te[0];_t--;)fe=fe.lastChild;j.merge(dt,fe.childNodes),(fe=et.firstChild).textContent=""}else dt.push(k.createTextNode(le));for(et.textContent="",qt=0;le=dt[qt++];)if(ee&&j.inArray(le,ee)>-1)ae&&ae.push(le);else if(Ye=$r(le),fe=Kt(et.appendChild(le),"script"),Ye&&xt(fe),Q)for(_t=0;le=fe[_t++];)yt.test(le.type||"")&&Q.push(le);return et}var Ui=/^([^.]*)(?:\.(.+)|)/;function si(){return!0}function Qi(){return!1}function fo(P,k,Q,ee,ae,le){var fe,Ue;if("object"==typeof k){for(Ue in"string"!=typeof Q&&(ee=ee||Q,Q=void 0),k)fo(P,Ue,Q,ee,k[Ue],le);return P}if(null==ee&&null==ae?(ae=Q,ee=Q=void 0):null==ae&&("string"==typeof Q?(ae=ee,ee=void 0):(ae=ee,ee=Q,Q=void 0)),!1===ae)ae=Qi;else if(!ae)return P;return 1===le&&(fe=ae,ae=function(Te){return j().off(Te),fe.apply(this,arguments)},ae.guid=fe.guid||(fe.guid=j.guid++)),P.each(function(){j.event.add(this,k,ae,ee,Q)})}function _s(P,k,Q){Q?(vn.set(P,k,!1),j.event.add(P,k,{namespace:!1,handler:function(ee){var ae,le=vn.get(this,k);if(1&ee.isTrigger&&this[k]){if(le)(j.event.special[k]||{}).delegateType&&ee.stopPropagation();else if(le=B.call(arguments),vn.set(this,k,le),this[k](),ae=vn.get(this,k),vn.set(this,k,!1),le!==ae)return ee.stopImmediatePropagation(),ee.preventDefault(),ae}else le&&(vn.set(this,k,j.event.trigger(le[0],le.slice(1),this)),ee.stopPropagation(),ee.isImmediatePropagationStopped=si)}})):void 0===vn.get(P,k)&&j.event.add(P,k,si)}j.event={global:{},add:function(P,k,Q,ee,ae){var le,fe,Ue,Te,Ye,_t,et,dt,qt,ei,ji,fi=vn.get(P);if(yr(P))for(Q.handler&&(Q=(le=Q).handler,ae=le.selector),ae&&j.find.matchesSelector(dr,ae),Q.guid||(Q.guid=j.guid++),(Te=fi.events)||(Te=fi.events=Object.create(null)),(fe=fi.handle)||(fe=fi.handle=function(Ao){return typeof j<"u"&&j.event.triggered!==Ao.type?j.event.dispatch.apply(P,arguments):void 0}),Ye=(k=(k||"").match(Vt)||[""]).length;Ye--;)qt=ji=(Ue=Ui.exec(k[Ye])||[])[1],ei=(Ue[2]||"").split(".").sort(),qt&&(et=j.event.special[qt]||{},et=j.event.special[qt=(ae?et.delegateType:et.bindType)||qt]||{},_t=j.extend({type:qt,origType:ji,data:ee,handler:Q,guid:Q.guid,selector:ae,needsContext:ae&&j.expr.match.needsContext.test(ae),namespace:ei.join(".")},le),(dt=Te[qt])||((dt=Te[qt]=[]).delegateCount=0,(!et.setup||!1===et.setup.call(P,ee,ei,fe))&&P.addEventListener&&P.addEventListener(qt,fe)),et.add&&(et.add.call(P,_t),_t.handler.guid||(_t.handler.guid=Q.guid)),ae?dt.splice(dt.delegateCount++,0,_t):dt.push(_t),j.event.global[qt]=!0)},remove:function(P,k,Q,ee,ae){var le,fe,Ue,Te,Ye,_t,et,dt,qt,ei,ji,fi=vn.hasData(P)&&vn.get(P);if(fi&&(Te=fi.events)){for(Ye=(k=(k||"").match(Vt)||[""]).length;Ye--;)if(qt=ji=(Ue=Ui.exec(k[Ye])||[])[1],ei=(Ue[2]||"").split(".").sort(),qt){for(et=j.event.special[qt]||{},dt=Te[qt=(ee?et.delegateType:et.bindType)||qt]||[],Ue=Ue[2]&&new RegExp("(^|\\.)"+ei.join("\\.(?:.*\\.|)")+"(\\.|$)"),fe=le=dt.length;le--;)_t=dt[le],(ae||ji===_t.origType)&&(!Q||Q.guid===_t.guid)&&(!Ue||Ue.test(_t.namespace))&&(!ee||ee===_t.selector||"**"===ee&&_t.selector)&&(dt.splice(le,1),_t.selector&&dt.delegateCount--,et.remove&&et.remove.call(P,_t));fe&&!dt.length&&((!et.teardown||!1===et.teardown.call(P,ei,fi.handle))&&j.removeEvent(P,qt,fi.handle),delete Te[qt])}else for(qt in Te)j.event.remove(P,qt+k[Ye],Q,ee,!0);j.isEmptyObject(Te)&&vn.remove(P,"handle events")}},dispatch:function(P){var k,Q,ee,ae,le,fe,Ue=new Array(arguments.length),Te=j.event.fix(P),Ye=(vn.get(this,"events")||Object.create(null))[Te.type]||[],_t=j.event.special[Te.type]||{};for(Ue[0]=Te,k=1;k<arguments.length;k++)Ue[k]=arguments[k];if(Te.delegateTarget=this,!_t.preDispatch||!1!==_t.preDispatch.call(this,Te)){for(fe=j.event.handlers.call(this,Te,Ye),k=0;(ae=fe[k++])&&!Te.isPropagationStopped();)for(Te.currentTarget=ae.elem,Q=0;(le=ae.handlers[Q++])&&!Te.isImmediatePropagationStopped();)(!Te.rnamespace||!1===le.namespace||Te.rnamespace.test(le.namespace))&&(Te.handleObj=le,Te.data=le.data,void 0!==(ee=((j.event.special[le.origType]||{}).handle||le.handler).apply(ae.elem,Ue))&&!1===(Te.result=ee)&&(Te.preventDefault(),Te.stopPropagation()));return _t.postDispatch&&_t.postDispatch.call(this,Te),Te.result}},handlers:function(P,k){var Q,ee,ae,le,fe,Ue=[],Te=k.delegateCount,Ye=P.target;if(Te&&Ye.nodeType&&!("click"===P.type&&P.button>=1))for(;Ye!==this;Ye=Ye.parentNode||this)if(1===Ye.nodeType&&("click"!==P.type||!0!==Ye.disabled)){for(le=[],fe={},Q=0;Q<Te;Q++)void 0===fe[ae=(ee=k[Q]).selector+" "]&&(fe[ae]=ee.needsContext?j(ae,this).index(Ye)>-1:j.find(ae,this,null,[Ye]).length),fe[ae]&&le.push(ee);le.length&&Ue.push({elem:Ye,handlers:le})}return Ye=this,Te<k.length&&Ue.push({elem:Ye,handlers:k.slice(Te)}),Ue},addProp:function(P,k){Object.defineProperty(j.Event.prototype,P,{enumerable:!0,configurable:!0,get:re(k)?function(){if(this.originalEvent)return k(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[P]},set:function(Q){Object.defineProperty(this,P,{enumerable:!0,configurable:!0,writable:!0,value:Q})}})},fix:function(P){return P[j.expando]?P:new j.Event(P)},special:{load:{noBubble:!0},click:{setup:function(P){var k=this||P;return $t.test(k.type)&&k.click&&pt(k,"input")&&_s(k,"click",!0),!1},trigger:function(P){var k=this||P;return $t.test(k.type)&&k.click&&pt(k,"input")&&_s(k,"click"),!0},_default:function(P){var k=P.target;return $t.test(k.type)&&k.click&&pt(k,"input")&&vn.get(k,"click")||pt(k,"a")}},beforeunload:{postDispatch:function(P){void 0!==P.result&&P.originalEvent&&(P.originalEvent.returnValue=P.result)}}}},j.removeEvent=function(P,k,Q){P.removeEventListener&&P.removeEventListener(k,Q)},j.Event=function(P,k){if(!(this instanceof j.Event))return new j.Event(P,k);P&&P.type?(this.originalEvent=P,this.type=P.type,this.isDefaultPrevented=P.defaultPrevented||void 0===P.defaultPrevented&&!1===P.returnValue?si:Qi,this.target=P.target&&3===P.target.nodeType?P.target.parentNode:P.target,this.currentTarget=P.currentTarget,this.relatedTarget=P.relatedTarget):this.type=P,k&&j.extend(this,k),this.timeStamp=P&&P.timeStamp||Date.now(),this[j.expando]=!0},j.Event.prototype={constructor:j.Event,isDefaultPrevented:Qi,isPropagationStopped:Qi,isImmediatePropagationStopped:Qi,isSimulated:!1,preventDefault:function(){var P=this.originalEvent;this.isDefaultPrevented=si,P&&!this.isSimulated&&P.preventDefault()},stopPropagation:function(){var P=this.originalEvent;this.isPropagationStopped=si,P&&!this.isSimulated&&P.stopPropagation()},stopImmediatePropagation:function(){var P=this.originalEvent;this.isImmediatePropagationStopped=si,P&&!this.isSimulated&&P.stopImmediatePropagation(),this.stopPropagation()}},j.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},j.event.addProp),j.each({focus:"focusin",blur:"focusout"},function(P,k){function Q(ee){if(pe.documentMode){var ae=vn.get(this,"handle"),le=j.event.fix(ee);le.type="focusin"===ee.type?"focus":"blur",le.isSimulated=!0,ae(ee),le.target===le.currentTarget&&ae(le)}else j.event.simulate(k,ee.target,j.event.fix(ee))}j.event.special[P]={setup:function(){var ee;if(_s(this,P,!0),!pe.documentMode)return!1;(ee=vn.get(this,k))||this.addEventListener(k,Q),vn.set(this,k,(ee||0)+1)},trigger:function(){return _s(this,P),!0},teardown:function(){var ee;if(!pe.documentMode)return!1;(ee=vn.get(this,k)-1)?vn.set(this,k,ee):(this.removeEventListener(k,Q),vn.remove(this,k))},_default:function(ee){return vn.get(ee.target,P)},delegateType:k},j.event.special[k]={setup:function(){var ee=this.ownerDocument||this.document||this,ae=pe.documentMode?this:ee,le=vn.get(ae,k);le||(pe.documentMode?this.addEventListener(k,Q):ee.addEventListener(P,Q,!0)),vn.set(ae,k,(le||0)+1)},teardown:function(){var ee=this.ownerDocument||this.document||this,ae=pe.documentMode?this:ee,le=vn.get(ae,k)-1;le?vn.set(ae,k,le):(pe.documentMode?this.removeEventListener(k,Q):ee.removeEventListener(P,Q,!0),vn.remove(ae,k))}}}),j.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(P,k){j.event.special[P]={delegateType:k,bindType:k,handle:function(Q){var ee,ae=this,le=Q.relatedTarget,fe=Q.handleObj;return(!le||le!==ae&&!j.contains(ae,le))&&(Q.type=fe.origType,ee=fe.handler.apply(this,arguments),Q.type=k),ee}}}),j.fn.extend({on:function(P,k,Q,ee){return fo(this,P,k,Q,ee)},one:function(P,k,Q,ee){return fo(this,P,k,Q,ee,1)},off:function(P,k,Q){var ee,ae;if(P&&P.preventDefault&&P.handleObj)return ee=P.handleObj,j(P.delegateTarget).off(ee.namespace?ee.origType+"."+ee.namespace:ee.origType,ee.selector,ee.handler),this;if("object"==typeof P){for(ae in P)this.off(ae,k,P[ae]);return this}return(!1===k||"function"==typeof k)&&(Q=k,k=void 0),!1===Q&&(Q=Qi),this.each(function(){j.event.remove(this,P,Q,k)})}});var pn=/<script|<style|<link/i,gi=/checked\s*(?:[^=]|=\s*.checked.)/i,Lr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ls(P,k){return pt(P,"table")&&pt(11!==k.nodeType?k:k.firstChild,"tr")&&j(P).children("tbody")[0]||P}function jc(P){return P.type=(null!==P.getAttribute("type"))+"/"+P.type,P}function Do(P){return"true/"===(P.type||"").slice(0,5)?P.type=P.type.slice(5):P.removeAttribute("type"),P}function rc(P,k){var Q,ee,ae,fe,Ue,Te;if(1===k.nodeType){if(vn.hasData(P)&&(Te=vn.get(P).events))for(ae in vn.remove(k,"handle events"),Te)for(Q=0,ee=Te[ae].length;Q<ee;Q++)j.event.add(k,ae,Te[ae][Q]);_r.hasData(P)&&(fe=_r.access(P),Ue=j.extend({},fe),_r.set(k,Ue))}}function no(P,k){var Q=k.nodeName.toLowerCase();"input"===Q&&$t.test(P.type)?k.checked=P.checked:("input"===Q||"textarea"===Q)&&(k.defaultValue=P.defaultValue)}function ol(P,k,Q,ee){k=X(k);var ae,le,fe,Ue,Te,Ye,_t=0,et=P.length,dt=et-1,qt=k[0],ei=re(qt);if(ei||et>1&&"string"==typeof qt&&!V.checkClone&&gi.test(qt))return P.each(function(ji){var fi=P.eq(ji);ei&&(k[0]=qt.call(this,ji,fi.html())),ol(fi,k,Q,ee)});if(et&&(le=(ae=bn(k,P[0].ownerDocument,!1,P,ee)).firstChild,1===ae.childNodes.length&&(ae=le),le||ee)){for(Ue=(fe=j.map(Kt(ae,"script"),jc)).length;_t<et;_t++)Te=ae,_t!==dt&&(Te=j.clone(Te,!0,!0),Ue&&j.merge(fe,Kt(Te,"script"))),Q.call(P[_t],Te,_t);if(Ue)for(Ye=fe[fe.length-1].ownerDocument,j.map(fe,Do),_t=0;_t<Ue;_t++)yt.test((Te=fe[_t]).type||"")&&!vn.access(Te,"globalEval")&&j.contains(Ye,Te)&&(Te.src&&"module"!==(Te.type||"").toLowerCase()?j._evalUrl&&!Te.noModule&&j._evalUrl(Te.src,{nonce:Te.nonce||Te.getAttribute("nonce")},Ye):Qe(Te.textContent.replace(Lr,""),Te,Ye))}return P}function Id(P,k,Q){for(var ee,ae=k?j.filter(k,P):P,le=0;null!=(ee=ae[le]);le++)!Q&&1===ee.nodeType&&j.cleanData(Kt(ee)),ee.parentNode&&(Q&&$r(ee)&&xt(Kt(ee,"script")),ee.parentNode.removeChild(ee));return P}j.extend({htmlPrefilter:function(P){return P},clone:function(P,k,Q){var ee,ae,le,fe,Ue=P.cloneNode(!0),Te=$r(P);if(!(V.noCloneChecked||1!==P.nodeType&&11!==P.nodeType||j.isXMLDoc(P)))for(fe=Kt(Ue),ee=0,ae=(le=Kt(P)).length;ee<ae;ee++)no(le[ee],fe[ee]);if(k)if(Q)for(le=le||Kt(P),fe=fe||Kt(Ue),ee=0,ae=le.length;ee<ae;ee++)rc(le[ee],fe[ee]);else rc(P,Ue);return(fe=Kt(Ue,"script")).length>0&&xt(fe,!Te&&Kt(P,"script")),Ue},cleanData:function(P){for(var k,Q,ee,ae=j.event.special,le=0;void 0!==(Q=P[le]);le++)if(yr(Q)){if(k=Q[vn.expando]){if(k.events)for(ee in k.events)ae[ee]?j.event.remove(Q,ee):j.removeEvent(Q,ee,k.handle);Q[vn.expando]=void 0}Q[_r.expando]&&(Q[_r.expando]=void 0)}}}),j.fn.extend({detach:function(P){return Id(this,P,!0)},remove:function(P){return Id(this,P)},text:function(P){return ui(this,function(k){return void 0===k?j.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=k)})},null,P,arguments.length)},append:function(){return ol(this,arguments,function(P){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ls(this,P).appendChild(P)})},prepend:function(){return ol(this,arguments,function(P){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var k=Ls(this,P);k.insertBefore(P,k.firstChild)}})},before:function(){return ol(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this)})},after:function(){return ol(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this.nextSibling)})},empty:function(){for(var P,k=0;null!=(P=this[k]);k++)1===P.nodeType&&(j.cleanData(Kt(P,!1)),P.textContent="");return this},clone:function(P,k){return P=P??!1,k=k??P,this.map(function(){return j.clone(this,P,k)})},html:function(P){return ui(this,function(k){var Q=this[0]||{},ee=0,ae=this.length;if(void 0===k&&1===Q.nodeType)return Q.innerHTML;if("string"==typeof k&&!pn.test(k)&&!Wt[(Ot.exec(k)||["",""])[1].toLowerCase()]){k=j.htmlPrefilter(k);try{for(;ee<ae;ee++)1===(Q=this[ee]||{}).nodeType&&(j.cleanData(Kt(Q,!1)),Q.innerHTML=k);Q=0}catch{}}Q&&this.empty().append(k)},null,P,arguments.length)},replaceWith:function(){var P=[];return ol(this,arguments,function(k){var Q=this.parentNode;j.inArray(this,P)<0&&(j.cleanData(Kt(this)),Q&&Q.replaceChild(k,this))},P)}}),j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(P,k){j.fn[P]=function(Q){for(var ee,ae=[],le=j(Q),fe=le.length-1,Ue=0;Ue<=fe;Ue++)ee=Ue===fe?this:this.clone(!0),j(le[Ue])[k](ee),T.apply(ae,ee.get());return this.pushStack(ae)}});var pi=new RegExp("^("+Li+")(?!px)[a-z%]+$","i"),Rd=/^--/,El=function(P){var k=P.ownerDocument.defaultView;return(!k||!k.opener)&&(k=C),k.getComputedStyle(P)},Nd=function(P,k,Q){var ee,ae,le={};for(ae in k)le[ae]=P.style[ae],P.style[ae]=k[ae];for(ae in ee=Q.call(P),k)P.style[ae]=le[ae];return ee},Vc=new RegExp(er.join("|"),"i");function vo(P,k,Q){var ee,ae,le,fe,Ue=Rd.test(k),Te=P.style;return(Q=Q||El(P))&&(fe=Q.getPropertyValue(k)||Q[k],Ue&&fe&&(fe=fe.replace(at,"$1")||void 0),""===fe&&!$r(P)&&(fe=j.style(P,k)),!V.pixelBoxStyles()&&pi.test(fe)&&Vc.test(k)&&(ee=Te.width,ae=Te.minWidth,le=Te.maxWidth,Te.minWidth=Te.maxWidth=Te.width=fe,fe=Q.width,Te.width=ee,Te.minWidth=ae,Te.maxWidth=le)),void 0!==fe?fe+"":fe}function Fd(P,k){return{get:function(){if(!P())return(this.get=k).apply(this,arguments);delete this.get}}}!function(){function P(){if(Ye){Te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ye.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",dr.appendChild(Te).appendChild(Ye);var _t=C.getComputedStyle(Ye);Q="1%"!==_t.top,Ue=12===k(_t.marginLeft),Ye.style.right="60%",le=36===k(_t.right),ee=36===k(_t.width),Ye.style.position="absolute",ae=12===k(Ye.offsetWidth/3),dr.removeChild(Te),Ye=null}}function k(_t){return Math.round(parseFloat(_t))}var Q,ee,ae,le,fe,Ue,Te=pe.createElement("div"),Ye=pe.createElement("div");!Ye.style||(Ye.style.backgroundClip="content-box",Ye.cloneNode(!0).style.backgroundClip="",V.clearCloneStyle="content-box"===Ye.style.backgroundClip,j.extend(V,{boxSizingReliable:function(){return P(),ee},pixelBoxStyles:function(){return P(),le},pixelPosition:function(){return P(),Q},reliableMarginLeft:function(){return P(),Ue},scrollboxSize:function(){return P(),ae},reliableTrDimensions:function(){var _t,et,dt,qt;return null==fe&&(_t=pe.createElement("table"),et=pe.createElement("tr"),dt=pe.createElement("div"),_t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",et.style.cssText="box-sizing:content-box;border:1px solid",et.style.height="1px",dt.style.height="9px",dt.style.display="block",dr.appendChild(_t).appendChild(et).appendChild(dt),qt=C.getComputedStyle(et),fe=parseInt(qt.height,10)+parseInt(qt.borderTopWidth,10)+parseInt(qt.borderBottomWidth,10)===et.offsetHeight,dr.removeChild(_t)),fe}}))}();var Dl=["Webkit","Moz","ms"],sa=pe.createElement("div").style,Hc={};function pr(P){return j.cssProps[P]||Hc[P]||(P in sa?P:Hc[P]=function dg(P){for(var k=P[0].toUpperCase()+P.slice(1),Q=Dl.length;Q--;)if((P=Dl[Q]+k)in sa)return P}(P)||P)}var Gu=/^(none|table(?!-c[ea]).+)/,v1={position:"absolute",visibility:"hidden",display:"block"},Rh={letterSpacing:"0",fontWeight:"400"};function Wu(P,k,Q){var ee=Bn.exec(k);return ee?Math.max(0,ee[2]-(Q||0))+(ee[3]||"px"):k}function Gc(P,k,Q,ee,ae,le){var fe="width"===k?1:0,Ue=0,Te=0,Ye=0;if(Q===(ee?"border":"content"))return 0;for(;fe<4;fe+=2)"margin"===Q&&(Ye+=j.css(P,Q+er[fe],!0,ae)),ee?("content"===Q&&(Te-=j.css(P,"padding"+er[fe],!0,ae)),"margin"!==Q&&(Te-=j.css(P,"border"+er[fe]+"Width",!0,ae))):(Te+=j.css(P,"padding"+er[fe],!0,ae),"padding"!==Q?Te+=j.css(P,"border"+er[fe]+"Width",!0,ae):Ue+=j.css(P,"border"+er[fe]+"Width",!0,ae));return!ee&&le>=0&&(Te+=Math.max(0,Math.ceil(P["offset"+k[0].toUpperCase()+k.slice(1)]-le-Te-Ue-.5))||0),Te+Ye}function Nh(P,k,Q){var ee=El(P),le=(!V.boxSizingReliable()||Q)&&"border-box"===j.css(P,"boxSizing",!1,ee),fe=le,Ue=vo(P,k,ee),Te="offset"+k[0].toUpperCase()+k.slice(1);if(pi.test(Ue)){if(!Q)return Ue;Ue="auto"}return(!V.boxSizingReliable()&&le||!V.reliableTrDimensions()&&pt(P,"tr")||"auto"===Ue||!parseFloat(Ue)&&"inline"===j.css(P,"display",!1,ee))&&P.getClientRects().length&&(le="border-box"===j.css(P,"boxSizing",!1,ee),(fe=Te in P)&&(Ue=P[Te])),(Ue=parseFloat(Ue)||0)+Gc(P,k,Q||(le?"border":"content"),fe,ee,Ue)+"px"}function Pr(P,k,Q,ee,ae){return new Pr.prototype.init(P,k,Q,ee,ae)}j.extend({cssHooks:{opacity:{get:function(P,k){if(k){var Q=vo(P,"opacity");return""===Q?"1":Q}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(P,k,Q,ee){if(P&&3!==P.nodeType&&8!==P.nodeType&&P.style){var ae,le,fe,Ue=Ki(k),Te=Rd.test(k),Ye=P.style;if(Te||(k=pr(Ue)),fe=j.cssHooks[k]||j.cssHooks[Ue],void 0===Q)return fe&&"get"in fe&&void 0!==(ae=fe.get(P,!1,ee))?ae:Ye[k];if("string"==(le=typeof Q)&&(ae=Bn.exec(Q))&&ae[1]&&(Q=Eo(P,k,ae),le="number"),null==Q||Q!=Q)return;"number"===le&&!Te&&(Q+=ae&&ae[3]||(j.cssNumber[Ue]?"":"px")),!V.clearCloneStyle&&""===Q&&0===k.indexOf("background")&&(Ye[k]="inherit"),(!fe||!("set"in fe)||void 0!==(Q=fe.set(P,Q,ee)))&&(Te?Ye.setProperty(k,Q):Ye[k]=Q)}},css:function(P,k,Q,ee){var ae,le,fe,Ue=Ki(k);return Rd.test(k)||(k=pr(Ue)),(fe=j.cssHooks[k]||j.cssHooks[Ue])&&"get"in fe&&(ae=fe.get(P,!0,Q)),void 0===ae&&(ae=vo(P,k,ee)),"normal"===ae&&k in Rh&&(ae=Rh[k]),""===Q||Q?(le=parseFloat(ae),!0===Q||isFinite(le)?le||0:ae):ae}}),j.each(["height","width"],function(P,k){j.cssHooks[k]={get:function(Q,ee,ae){if(ee)return!Gu.test(j.css(Q,"display"))||Q.getClientRects().length&&Q.getBoundingClientRect().width?Nh(Q,k,ae):Nd(Q,v1,function(){return Nh(Q,k,ae)})},set:function(Q,ee,ae){var le,fe=El(Q),Ue=!V.scrollboxSize()&&"absolute"===fe.position,Ye=(Ue||ae)&&"border-box"===j.css(Q,"boxSizing",!1,fe),_t=ae?Gc(Q,k,ae,Ye,fe):0;return Ye&&Ue&&(_t-=Math.ceil(Q["offset"+k[0].toUpperCase()+k.slice(1)]-parseFloat(fe[k])-Gc(Q,k,"border",!1,fe)-.5)),_t&&(le=Bn.exec(ee))&&"px"!==(le[3]||"px")&&(Q.style[k]=ee,ee=j.css(Q,k)),Wu(0,ee,_t)}}}),j.cssHooks.marginLeft=Fd(V.reliableMarginLeft,function(P,k){if(k)return(parseFloat(vo(P,"marginLeft"))||P.getBoundingClientRect().left-Nd(P,{marginLeft:0},function(){return P.getBoundingClientRect().left}))+"px"}),j.each({margin:"",padding:"",border:"Width"},function(P,k){j.cssHooks[P+k]={expand:function(Q){for(var ee=0,ae={},le="string"==typeof Q?Q.split(" "):[Q];ee<4;ee++)ae[P+er[ee]+k]=le[ee]||le[ee-2]||le[0];return ae}},"margin"!==P&&(j.cssHooks[P+k].set=Wu)}),j.fn.extend({css:function(P,k){return ui(this,function(Q,ee,ae){var le,fe,Ue={},Te=0;if(Array.isArray(ee)){for(le=El(Q),fe=ee.length;Te<fe;Te++)Ue[ee[Te]]=j.css(Q,ee[Te],!1,le);return Ue}return void 0!==ae?j.style(Q,ee,ae):j.css(Q,ee)},P,k,arguments.length>1)}}),j.Tween=Pr,(Pr.prototype={constructor:Pr,init:function(P,k,Q,ee,ae,le){this.elem=P,this.prop=Q,this.easing=ae||j.easing._default,this.options=k,this.start=this.now=this.cur(),this.end=ee,this.unit=le||(j.cssNumber[Q]?"":"px")},cur:function(){var P=Pr.propHooks[this.prop];return P&&P.get?P.get(this):Pr.propHooks._default.get(this)},run:function(P){var k,Q=Pr.propHooks[this.prop];return this.pos=k=this.options.duration?j.easing[this.easing](P,this.options.duration*P,0,1,this.options.duration):P,this.now=(this.end-this.start)*k+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Q&&Q.set?Q.set(this):Pr.propHooks._default.set(this),this}}).init.prototype=Pr.prototype,(Pr.propHooks={_default:{get:function(P){var k;return 1!==P.elem.nodeType||null!=P.elem[P.prop]&&null==P.elem.style[P.prop]?P.elem[P.prop]:(k=j.css(P.elem,P.prop,""))&&"auto"!==k?k:0},set:function(P){j.fx.step[P.prop]?j.fx.step[P.prop](P):1!==P.elem.nodeType||!j.cssHooks[P.prop]&&null==P.elem.style[pr(P.prop)]?P.elem[P.prop]=P.now:j.style(P.elem,P.prop,P.now+P.unit)}}}).scrollTop=Pr.propHooks.scrollLeft={set:function(P){P.elem.nodeType&&P.elem.parentNode&&(P.elem[P.prop]=P.now)}},j.easing={linear:function(P){return P},swing:function(P){return.5-Math.cos(P*Math.PI)/2},_default:"swing"},j.fx=Pr.prototype.init,j.fx.step={};var mo,qu,Ks=/^(?:toggle|show|hide)$/,aa=/queueHooks$/;function Fh(){qu&&(!1===pe.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(Fh):C.setTimeout(Fh,j.fx.interval),j.fx.tick())}function Lh(){return C.setTimeout(function(){mo=void 0}),mo=Date.now()}function Wc(P,k){var Q,ee=0,ae={height:P};for(k=k?1:0;ee<4;ee+=2-k)ae["margin"+(Q=er[ee])]=ae["padding"+Q]=P;return k&&(ae.opacity=ae.width=P),ae}function la(P,k,Q){for(var ee,ae=(Da.tweeners[k]||[]).concat(Da.tweeners["*"]),le=0,fe=ae.length;le<fe;le++)if(ee=ae[le].call(Q,k,P))return ee}function Da(P,k,Q){var ee,ae,le=0,fe=Da.prefilters.length,Ue=j.Deferred().always(function(){delete Te.elem}),Te=function(){if(ae)return!1;for(var et=mo||Lh(),dt=Math.max(0,Ye.startTime+Ye.duration-et),ei=1-(dt/Ye.duration||0),ji=0,fi=Ye.tweens.length;ji<fi;ji++)Ye.tweens[ji].run(ei);return Ue.notifyWith(P,[Ye,ei,dt]),ei<1&&fi?dt:(fi||Ue.notifyWith(P,[Ye,1,0]),Ue.resolveWith(P,[Ye]),!1)},Ye=Ue.promise({elem:P,props:j.extend({},k),opts:j.extend(!0,{specialEasing:{},easing:j.easing._default},Q),originalProperties:k,originalOptions:Q,startTime:mo||Lh(),duration:Q.duration,tweens:[],createTween:function(et,dt){var qt=j.Tween(P,Ye.opts,et,dt,Ye.opts.specialEasing[et]||Ye.opts.easing);return Ye.tweens.push(qt),qt},stop:function(et){var dt=0,qt=et?Ye.tweens.length:0;if(ae)return this;for(ae=!0;dt<qt;dt++)Ye.tweens[dt].run(1);return et?(Ue.notifyWith(P,[Ye,1,0]),Ue.resolveWith(P,[Ye,et])):Ue.rejectWith(P,[Ye,et]),this}}),_t=Ye.props;for(function Tb(P,k){var Q,ee,ae,le,fe;for(Q in P)if(ae=k[ee=Ki(Q)],le=P[Q],Array.isArray(le)&&(ae=le[1],le=P[Q]=le[0]),Q!==ee&&(P[ee]=le,delete P[Q]),(fe=j.cssHooks[ee])&&"expand"in fe)for(Q in le=fe.expand(le),delete P[ee],le)Q in P||(P[Q]=le[Q],k[Q]=ae);else k[ee]=ae}(_t,Ye.opts.specialEasing);le<fe;le++)if(ee=Da.prefilters[le].call(Ye,P,_t,Ye.opts))return re(ee.stop)&&(j._queueHooks(Ye.elem,Ye.opts.queue).stop=ee.stop.bind(ee)),ee;return j.map(_t,la,Ye),re(Ye.opts.start)&&Ye.opts.start.call(P,Ye),Ye.progress(Ye.opts.progress).done(Ye.opts.done,Ye.opts.complete).fail(Ye.opts.fail).always(Ye.opts.always),j.fx.timer(j.extend(Te,{elem:P,anim:Ye,queue:Ye.opts.queue})),Ye}j.Animation=j.extend(Da,{tweeners:{"*":[function(P,k){var Q=this.createTween(P,k);return Eo(Q.elem,P,Bn.exec(k),Q),Q}]},tweener:function(P,k){re(P)?(k=P,P=["*"]):P=P.match(Vt);for(var Q,ee=0,ae=P.length;ee<ae;ee++)(Da.tweeners[Q=P[ee]]=Da.tweeners[Q]||[]).unshift(k)},prefilters:[function y1(P,k,Q){var ee,ae,le,fe,Ue,Te,Ye,_t,et="width"in k||"height"in k,dt=this,qt={},ei=P.style,ji=P.nodeType&&Fr(P),fi=vn.get(P,"fxshow");for(ee in Q.queue||(null==(fe=j._queueHooks(P,"fx")).unqueued&&(fe.unqueued=0,Ue=fe.empty.fire,fe.empty.fire=function(){fe.unqueued||Ue()}),fe.unqueued++,dt.always(function(){dt.always(function(){fe.unqueued--,j.queue(P,"fx").length||fe.empty.fire()})})),k)if(Ks.test(ae=k[ee])){if(delete k[ee],le=le||"toggle"===ae,ae===(ji?"hide":"show")){if("show"!==ae||!fi||void 0===fi[ee])continue;ji=!0}qt[ee]=fi&&fi[ee]||j.style(P,ee)}if((Te=!j.isEmptyObject(k))||!j.isEmptyObject(qt))for(ee in et&&1===P.nodeType&&(Q.overflow=[ei.overflow,ei.overflowX,ei.overflowY],null==(Ye=fi&&fi.display)&&(Ye=vn.get(P,"display")),"none"===(_t=j.css(P,"display"))&&(Ye?_t=Ye:(po([P],!0),Ye=P.style.display||Ye,_t=j.css(P,"display"),po([P]))),("inline"===_t||"inline-block"===_t&&null!=Ye)&&"none"===j.css(P,"float")&&(Te||(dt.done(function(){ei.display=Ye}),null==Ye&&(Ye="none"===(_t=ei.display)?"":_t)),ei.display="inline-block")),Q.overflow&&(ei.overflow="hidden",dt.always(function(){ei.overflow=Q.overflow[0],ei.overflowX=Q.overflow[1],ei.overflowY=Q.overflow[2]})),Te=!1,qt)Te||(fi?"hidden"in fi&&(ji=fi.hidden):fi=vn.access(P,"fxshow",{display:Ye}),le&&(fi.hidden=!ji),ji&&po([P],!0),dt.done(function(){for(ee in ji||po([P]),vn.remove(P,"fxshow"),qt)j.style(P,ee,qt[ee])})),Te=la(ji?fi[ee]:0,ee,dt),ee in fi||(fi[ee]=Te.start,ji&&(Te.end=Te.start,Te.start=0))}],prefilter:function(P,k){k?Da.prefilters.unshift(P):Da.prefilters.push(P)}}),j.speed=function(P,k,Q){var ee=P&&"object"==typeof P?j.extend({},P):{complete:Q||!Q&&k||re(P)&&P,duration:P,easing:Q&&k||k&&!re(k)&&k};return j.fx.off?ee.duration=0:"number"!=typeof ee.duration&&(ee.duration=ee.duration in j.fx.speeds?j.fx.speeds[ee.duration]:j.fx.speeds._default),(null==ee.queue||!0===ee.queue)&&(ee.queue="fx"),ee.old=ee.complete,ee.complete=function(){re(ee.old)&&ee.old.call(this),ee.queue&&j.dequeue(this,ee.queue)},ee},j.fn.extend({fadeTo:function(P,k,Q,ee){return this.filter(Fr).css("opacity",0).show().end().animate({opacity:k},P,Q,ee)},animate:function(P,k,Q,ee){var ae=j.isEmptyObject(P),le=j.speed(k,Q,ee),fe=function(){var Ue=Da(this,j.extend({},P),le);(ae||vn.get(this,"finish"))&&Ue.stop(!0)};return fe.finish=fe,ae||!1===le.queue?this.each(fe):this.queue(le.queue,fe)},stop:function(P,k,Q){var ee=function(ae){var le=ae.stop;delete ae.stop,le(Q)};return"string"!=typeof P&&(Q=k,k=P,P=void 0),k&&this.queue(P||"fx",[]),this.each(function(){var ae=!0,le=null!=P&&P+"queueHooks",fe=j.timers,Ue=vn.get(this);if(le)Ue[le]&&Ue[le].stop&&ee(Ue[le]);else for(le in Ue)Ue[le]&&Ue[le].stop&&aa.test(le)&&ee(Ue[le]);for(le=fe.length;le--;)fe[le].elem===this&&(null==P||fe[le].queue===P)&&(fe[le].anim.stop(Q),ae=!1,fe.splice(le,1));(ae||!Q)&&j.dequeue(this,P)})},finish:function(P){return!1!==P&&(P=P||"fx"),this.each(function(){var k,Q=vn.get(this),ee=Q[P+"queue"],ae=Q[P+"queueHooks"],le=j.timers,fe=ee?ee.length:0;for(Q.finish=!0,j.queue(this,P,[]),ae&&ae.stop&&ae.stop.call(this,!0),k=le.length;k--;)le[k].elem===this&&le[k].queue===P&&(le[k].anim.stop(!0),le.splice(k,1));for(k=0;k<fe;k++)ee[k]&&ee[k].finish&&ee[k].finish.call(this);delete Q.finish})}}),j.each(["toggle","show","hide"],function(P,k){var Q=j.fn[k];j.fn[k]=function(ee,ae,le){return null==ee||"boolean"==typeof ee?Q.apply(this,arguments):this.animate(Wc(k,!0),ee,ae,le)}}),j.each({slideDown:Wc("show"),slideUp:Wc("hide"),slideToggle:Wc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(P,k){j.fn[P]=function(Q,ee,ae){return this.animate(k,Q,ee,ae)}}),j.timers=[],j.fx.tick=function(){var P,k=0,Q=j.timers;for(mo=Date.now();k<Q.length;k++)!(P=Q[k])()&&Q[k]===P&&Q.splice(k--,1);Q.length||j.fx.stop(),mo=void 0},j.fx.timer=function(P){j.timers.push(P),j.fx.start()},j.fx.interval=13,j.fx.start=function(){qu||(qu=!0,Fh())},j.fx.stop=function(){qu=null},j.fx.speeds={slow:600,fast:200,_default:400},j.fn.delay=function(P,k){return P=j.fx&&j.fx.speeds[P]||P,this.queue(k=k||"fx",function(Q,ee){var ae=C.setTimeout(Q,P);ee.stop=function(){C.clearTimeout(ae)}})},function(){var P=pe.createElement("input"),Q=pe.createElement("select").appendChild(pe.createElement("option"));P.type="checkbox",V.checkOn=""!==P.value,V.optSelected=Q.selected,(P=pe.createElement("input")).value="t",P.type="radio",V.radioValue="t"===P.value}();var hg,Bs=j.expr.attrHandle;j.fn.extend({attr:function(P,k){return ui(this,j.attr,P,k,arguments.length>1)},removeAttr:function(P){return this.each(function(){j.removeAttr(this,P)})}}),j.extend({attr:function(P,k,Q){var ee,ae,le=P.nodeType;if(3!==le&&8!==le&&2!==le)return typeof P.getAttribute>"u"?j.prop(P,k,Q):((1!==le||!j.isXMLDoc(P))&&(ae=j.attrHooks[k.toLowerCase()]||(j.expr.match.bool.test(k)?hg:void 0)),void 0!==Q?null===Q?void j.removeAttr(P,k):ae&&"set"in ae&&void 0!==(ee=ae.set(P,Q,k))?ee:(P.setAttribute(k,Q+""),Q):ae&&"get"in ae&&null!==(ee=ae.get(P,k))?ee:(ee=j.find.attr(P,k))??void 0)},attrHooks:{type:{set:function(P,k){if(!V.radioValue&&"radio"===k&&pt(P,"input")){var Q=P.value;return P.setAttribute("type",k),Q&&(P.value=Q),k}}}},removeAttr:function(P,k){var Q,ee=0,ae=k&&k.match(Vt);if(ae&&1===P.nodeType)for(;Q=ae[ee++];)P.removeAttribute(Q)}}),hg={set:function(P,k,Q){return!1===k?j.removeAttr(P,Q):P.setAttribute(Q,Q),Q}},j.each(j.expr.match.bool.source.match(/\w+/g),function(P,k){var Q=Bs[k]||j.find.attr;Bs[k]=function(ee,ae,le){var fe,Ue,Te=ae.toLowerCase();return le||(Ue=Bs[Te],Bs[Te]=fe,fe=null!=Q(ee,ae,le)?Te:null,Bs[Te]=Ue),fe}});var kb=/^(?:input|select|textarea|button)$/i,Ib=/^(?:a|area)$/i;function Ld(P){return(P.match(Vt)||[]).join(" ")}function Bd(P){return P.getAttribute&&P.getAttribute("class")||""}function ug(P){return Array.isArray(P)?P:"string"==typeof P&&P.match(Vt)||[]}j.fn.extend({prop:function(P,k){return ui(this,j.prop,P,k,arguments.length>1)},removeProp:function(P){return this.each(function(){delete this[j.propFix[P]||P]})}}),j.extend({prop:function(P,k,Q){var ee,ae,le=P.nodeType;if(3!==le&&8!==le&&2!==le)return(1!==le||!j.isXMLDoc(P))&&(ae=j.propHooks[k=j.propFix[k]||k]),void 0!==Q?ae&&"set"in ae&&void 0!==(ee=ae.set(P,Q,k))?ee:P[k]=Q:ae&&"get"in ae&&null!==(ee=ae.get(P,k))?ee:P[k]},propHooks:{tabIndex:{get:function(P){var k=j.find.attr(P,"tabindex");return k?parseInt(k,10):kb.test(P.nodeName)||Ib.test(P.nodeName)&&P.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),V.optSelected||(j.propHooks.selected={get:function(P){return null},set:function(P){}}),j.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){j.propFix[this.toLowerCase()]=this}),j.fn.extend({addClass:function(P){var k,Q,ee,ae,le,fe;return re(P)?this.each(function(Ue){j(this).addClass(P.call(this,Ue,Bd(this)))}):(k=ug(P)).length?this.each(function(){if(ee=Bd(this),Q=1===this.nodeType&&" "+Ld(ee)+" "){for(le=0;le<k.length;le++)Q.indexOf(" "+(ae=k[le])+" ")<0&&(Q+=ae+" ");fe=Ld(Q),ee!==fe&&this.setAttribute("class",fe)}}):this},removeClass:function(P){var k,Q,ee,ae,le,fe;return re(P)?this.each(function(Ue){j(this).removeClass(P.call(this,Ue,Bd(this)))}):arguments.length?(k=ug(P)).length?this.each(function(){if(ee=Bd(this),Q=1===this.nodeType&&" "+Ld(ee)+" "){for(le=0;le<k.length;le++)for(ae=k[le];Q.indexOf(" "+ae+" ")>-1;)Q=Q.replace(" "+ae+" "," ");fe=Ld(Q),ee!==fe&&this.setAttribute("class",fe)}}):this:this.attr("class","")},toggleClass:function(P,k){var Q,ee,ae,le,fe=typeof P,Ue="string"===fe||Array.isArray(P);return re(P)?this.each(function(Te){j(this).toggleClass(P.call(this,Te,Bd(this),k),k)}):"boolean"==typeof k&&Ue?k?this.addClass(P):this.removeClass(P):(Q=ug(P),this.each(function(){if(Ue)for(le=j(this),ae=0;ae<Q.length;ae++)le.hasClass(ee=Q[ae])?le.removeClass(ee):le.addClass(ee);else(void 0===P||"boolean"===fe)&&((ee=Bd(this))&&vn.set(this,"__className__",ee),this.setAttribute&&this.setAttribute("class",ee||!1===P?"":vn.get(this,"__className__")||""))}))},hasClass:function(P){var k,Q,ee=0;for(k=" "+P+" ";Q=this[ee++];)if(1===Q.nodeType&&(" "+Ld(Bd(Q))+" ").indexOf(k)>-1)return!0;return!1}});var _1=/\r/g;j.fn.extend({val:function(P){var k,Q,ee,ae=this[0];return arguments.length?(ee=re(P),this.each(function(le){var fe;1===this.nodeType&&(null==(fe=ee?P.call(this,le,j(this).val()):P)?fe="":"number"==typeof fe?fe+="":Array.isArray(fe)&&(fe=j.map(fe,function(Ue){return null==Ue?"":Ue+""})),(!(k=j.valHooks[this.type]||j.valHooks[this.nodeName.toLowerCase()])||!("set"in k)||void 0===k.set(this,fe,"value"))&&(this.value=fe))})):ae?(k=j.valHooks[ae.type]||j.valHooks[ae.nodeName.toLowerCase()])&&"get"in k&&void 0!==(Q=k.get(ae,"value"))?Q:"string"==typeof(Q=ae.value)?Q.replace(_1,""):Q??"":void 0}}),j.extend({valHooks:{option:{get:function(P){return j.find.attr(P,"value")??Ld(j.text(P))}},select:{get:function(P){var k,Q,ee,ae=P.options,le=P.selectedIndex,fe="select-one"===P.type,Ue=fe?null:[],Te=fe?le+1:ae.length;for(ee=le<0?Te:fe?le:0;ee<Te;ee++)if(((Q=ae[ee]).selected||ee===le)&&!Q.disabled&&(!Q.parentNode.disabled||!pt(Q.parentNode,"optgroup"))){if(k=j(Q).val(),fe)return k;Ue.push(k)}return Ue},set:function(P,k){for(var Q,ee,ae=P.options,le=j.makeArray(k),fe=ae.length;fe--;)((ee=ae[fe]).selected=j.inArray(j.valHooks.option.get(ee),le)>-1)&&(Q=!0);return Q||(P.selectedIndex=-1),le}}}}),j.each(["radio","checkbox"],function(){j.valHooks[this]={set:function(P,k){if(Array.isArray(k))return P.checked=j.inArray(j(P).val(),k)>-1}},V.checkOn||(j.valHooks[this].get=function(P){return null===P.getAttribute("value")?"on":P.value})});var Yu=C.location,b1={guid:Date.now()},pg=/\?/;j.parseXML=function(P){var k,Q;if(!P||"string"!=typeof P)return null;try{k=(new C.DOMParser).parseFromString(P,"text/xml")}catch{}return Q=k&&k.getElementsByTagName("parsererror")[0],(!k||Q)&&j.error("Invalid XML: "+(Q?j.map(Q.childNodes,function(ee){return ee.textContent}).join("\n"):P)),k};var x1=/^(?:focusinfocus|focusoutblur)$/,w1=function(P){P.stopPropagation()};j.extend(j.event,{trigger:function(P,k,Q,ee){var ae,le,fe,Ue,Te,Ye,_t,et,dt=[Q||pe],qt=N.call(P,"type")?P.type:P,ei=N.call(P,"namespace")?P.namespace.split("."):[];if(le=et=fe=Q=Q||pe,3!==Q.nodeType&&8!==Q.nodeType&&!x1.test(qt+j.event.triggered)&&(qt.indexOf(".")>-1&&(ei=qt.split("."),qt=ei.shift(),ei.sort()),Te=qt.indexOf(":")<0&&"on"+qt,(P=P[j.expando]?P:new j.Event(qt,"object"==typeof P&&P)).isTrigger=ee?2:3,P.namespace=ei.join("."),P.rnamespace=P.namespace?new RegExp("(^|\\.)"+ei.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,P.result=void 0,P.target||(P.target=Q),k=null==k?[P]:j.makeArray(k,[P]),_t=j.event.special[qt]||{},ee||!_t.trigger||!1!==_t.trigger.apply(Q,k))){if(!ee&&!_t.noBubble&&!he(Q)){for(x1.test((Ue=_t.delegateType||qt)+qt)||(le=le.parentNode);le;le=le.parentNode)dt.push(le),fe=le;fe===(Q.ownerDocument||pe)&&dt.push(fe.defaultView||fe.parentWindow||C)}for(ae=0;(le=dt[ae++])&&!P.isPropagationStopped();)et=le,P.type=ae>1?Ue:_t.bindType||qt,(Ye=(vn.get(le,"events")||Object.create(null))[P.type]&&vn.get(le,"handle"))&&Ye.apply(le,k),(Ye=Te&&le[Te])&&Ye.apply&&yr(le)&&(P.result=Ye.apply(le,k),!1===P.result&&P.preventDefault());return P.type=qt,!ee&&!P.isDefaultPrevented()&&(!_t._default||!1===_t._default.apply(dt.pop(),k))&&yr(Q)&&Te&&re(Q[qt])&&!he(Q)&&((fe=Q[Te])&&(Q[Te]=null),j.event.triggered=qt,P.isPropagationStopped()&&et.addEventListener(qt,w1),Q[qt](),P.isPropagationStopped()&&et.removeEventListener(qt,w1),j.event.triggered=void 0,fe&&(Q[Te]=fe)),P.result}},simulate:function(P,k,Q){var ee=j.extend(new j.Event,Q,{type:P,isSimulated:!0});j.event.trigger(ee,null,k)}}),j.fn.extend({trigger:function(P,k){return this.each(function(){j.event.trigger(P,k,this)})},triggerHandler:function(P,k){var Q=this[0];if(Q)return j.event.trigger(P,k,Q,!0)}});var C1=/\[\]$/,M1=/\r?\n/g,fg=/^(?:submit|button|image|reset|file)$/i,yf=/^(?:input|select|textarea|keygen)/i;function mg(P,k,Q,ee){var ae;if(Array.isArray(k))j.each(k,function(le,fe){Q||C1.test(P)?ee(P,fe):mg(P+"["+("object"==typeof fe&&null!=fe?le:"")+"]",fe,Q,ee)});else if(Q||"object"!==Ne(k))ee(P,k);else for(ae in k)mg(P+"["+ae+"]",k[ae],Q,ee)}j.param=function(P,k){var Q,ee=[],ae=function(le,fe){var Ue=re(fe)?fe():fe;ee[ee.length]=encodeURIComponent(le)+"="+encodeURIComponent(Ue??"")};if(null==P)return"";if(Array.isArray(P)||P.jquery&&!j.isPlainObject(P))j.each(P,function(){ae(this.name,this.value)});else for(Q in P)mg(Q,P[Q],k,ae);return ee.join("&")},j.fn.extend({serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var P=j.prop(this,"elements");return P?j.makeArray(P):this}).filter(function(){var P=this.type;return this.name&&!j(this).is(":disabled")&&yf.test(this.nodeName)&&!fg.test(P)&&(this.checked||!$t.test(P))}).map(function(P,k){var Q=j(this).val();return null==Q?null:Array.isArray(Q)?j.map(Q,function(ee){return{name:k.name,value:ee.replace(M1,"\r\n")}}):{name:k.name,value:Q.replace(M1,"\r\n")}}).get()}});var Rb=/%20/g,Nb=/#.*$/,qc=/([?&])_=[^&]*/,P1=/^(.*?):[ \t]*([^\r\n]*)$/gm,gg=/^(?:GET|HEAD)$/,O1=/^\/\//,vg={},Xu={},_f="*/".concat("*"),bf=pe.createElement("a");function $u(P){return function(k,Q){"string"!=typeof k&&(Q=k,k="*");var ee,ae=0,le=k.toLowerCase().match(Vt)||[];if(re(Q))for(;ee=le[ae++];)"+"===ee[0]?(ee=ee.slice(1)||"*",(P[ee]=P[ee]||[]).unshift(Q)):(P[ee]=P[ee]||[]).push(Q)}}function yg(P,k,Q,ee){var ae={},le=P===Xu;function fe(Ue){var Te;return ae[Ue]=!0,j.each(P[Ue]||[],function(Ye,_t){var et=_t(k,Q,ee);return"string"!=typeof et||le||ae[et]?le?!(Te=et):void 0:(k.dataTypes.unshift(et),fe(et),!1)}),Te}return fe(k.dataTypes[0])||!ae["*"]&&fe("*")}function zs(P,k){var Q,ee,ae=j.ajaxSettings.flatOptions||{};for(Q in k)void 0!==k[Q]&&((ae[Q]?P:ee||(ee={}))[Q]=k[Q]);return ee&&j.extend(!0,P,ee),P}bf.href=Yu.href,j.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Yu.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Yu.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_f,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":j.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(P,k){return k?zs(zs(P,j.ajaxSettings),k):zs(j.ajaxSettings,P)},ajaxPrefilter:$u(vg),ajaxTransport:$u(Xu),ajax:function(P,k){"object"==typeof P&&(k=P,P=void 0);var Q,ee,ae,le,fe,Ue,Te,Ye,_t,et,dt=j.ajaxSetup({},k=k||{}),qt=dt.context||dt,ei=dt.context&&(qt.nodeType||qt.jquery)?j(qt):j.event,ji=j.Deferred(),fi=j.Callbacks("once memory"),Ao=dt.statusCode||{},wo={},Qs={},At="canceled",xn={readyState:0,getResponseHeader:function(Yt){var Oi;if(Te){if(!le)for(le={};Oi=P1.exec(ae);)le[Oi[1].toLowerCase()+" "]=(le[Oi[1].toLowerCase()+" "]||[]).concat(Oi[2]);Oi=le[Yt.toLowerCase()+" "]}return null==Oi?null:Oi.join(", ")},getAllResponseHeaders:function(){return Te?ae:null},setRequestHeader:function(Yt,Oi){return null==Te&&(Yt=Qs[Yt.toLowerCase()]=Qs[Yt.toLowerCase()]||Yt,wo[Yt]=Oi),this},overrideMimeType:function(Yt){return null==Te&&(dt.mimeType=Yt),this},statusCode:function(Yt){var Oi;if(Yt)if(Te)xn.always(Yt[xn.status]);else for(Oi in Yt)Ao[Oi]=[Ao[Oi],Yt[Oi]];return this},abort:function(Yt){var Oi=Yt||At;return Q&&Q.abort(Oi),Dn(0,Oi),this}};if(ji.promise(xn),dt.url=((P||dt.url||Yu.href)+"").replace(O1,Yu.protocol+"//"),dt.type=k.method||k.type||dt.method||dt.type,dt.dataTypes=(dt.dataType||"*").toLowerCase().match(Vt)||[""],null==dt.crossDomain){Ue=pe.createElement("a");try{Ue.href=dt.url,Ue.href=Ue.href,dt.crossDomain=bf.protocol+"//"+bf.host!=Ue.protocol+"//"+Ue.host}catch{dt.crossDomain=!0}}if(dt.data&&dt.processData&&"string"!=typeof dt.data&&(dt.data=j.param(dt.data,dt.traditional)),yg(vg,dt,k,xn),Te)return xn;for(_t in(Ye=j.event&&dt.global)&&0==j.active++&&j.event.trigger("ajaxStart"),dt.type=dt.type.toUpperCase(),dt.hasContent=!gg.test(dt.type),ee=dt.url.replace(Nb,""),dt.hasContent?dt.data&&dt.processData&&0===(dt.contentType||"").indexOf("application/x-www-form-urlencoded")&&(dt.data=dt.data.replace(Rb,"+")):(et=dt.url.slice(ee.length),dt.data&&(dt.processData||"string"==typeof dt.data)&&(ee+=(pg.test(ee)?"&":"?")+dt.data,delete dt.data),!1===dt.cache&&(ee=ee.replace(qc,"$1"),et=(pg.test(ee)?"&":"?")+"_="+b1.guid+++et),dt.url=ee+et),dt.ifModified&&(j.lastModified[ee]&&xn.setRequestHeader("If-Modified-Since",j.lastModified[ee]),j.etag[ee]&&xn.setRequestHeader("If-None-Match",j.etag[ee])),(dt.data&&dt.hasContent&&!1!==dt.contentType||k.contentType)&&xn.setRequestHeader("Content-Type",dt.contentType),xn.setRequestHeader("Accept",dt.dataTypes[0]&&dt.accepts[dt.dataTypes[0]]?dt.accepts[dt.dataTypes[0]]+("*"!==dt.dataTypes[0]?", "+_f+"; q=0.01":""):dt.accepts["*"]),dt.headers)xn.setRequestHeader(_t,dt.headers[_t]);if(dt.beforeSend&&(!1===dt.beforeSend.call(qt,xn,dt)||Te))return xn.abort();if(At="abort",fi.add(dt.complete),xn.done(dt.success),xn.fail(dt.error),Q=yg(Xu,dt,k,xn)){if(xn.readyState=1,Ye&&ei.trigger("ajaxSend",[xn,dt]),Te)return xn;dt.async&&dt.timeout>0&&(fe=C.setTimeout(function(){xn.abort("timeout")},dt.timeout));try{Te=!1,Q.send(wo,Dn)}catch(Yt){if(Te)throw Yt;Dn(-1,Yt)}}else Dn(-1,"No Transport");function Dn(Yt,Oi,zd,Yc){var yo,Xc,ca,$c,oc,Aa=Oi;Te||(Te=!0,fe&&C.clearTimeout(fe),Q=void 0,ae=Yc||"",xn.readyState=Yt>0?4:0,yo=Yt>=200&&Yt<300||304===Yt,zd&&($c=function Ku(P,k,Q){for(var ee,ae,le,fe,Ue=P.contents,Te=P.dataTypes;"*"===Te[0];)Te.shift(),void 0===ee&&(ee=P.mimeType||k.getResponseHeader("Content-Type"));if(ee)for(ae in Ue)if(Ue[ae]&&Ue[ae].test(ee)){Te.unshift(ae);break}if(Te[0]in Q)le=Te[0];else{for(ae in Q){if(!Te[0]||P.converters[ae+" "+Te[0]]){le=ae;break}fe||(fe=ae)}le=le||fe}if(le)return le!==Te[0]&&Te.unshift(le),Q[le]}(dt,xn,zd)),!yo&&j.inArray("script",dt.dataTypes)>-1&&j.inArray("json",dt.dataTypes)<0&&(dt.converters["text script"]=function(){}),$c=function S1(P,k,Q,ee){var ae,le,fe,Ue,Te,Ye={},_t=P.dataTypes.slice();if(_t[1])for(fe in P.converters)Ye[fe.toLowerCase()]=P.converters[fe];for(le=_t.shift();le;)if(P.responseFields[le]&&(Q[P.responseFields[le]]=k),!Te&&ee&&P.dataFilter&&(k=P.dataFilter(k,P.dataType)),Te=le,le=_t.shift())if("*"===le)le=Te;else if("*"!==Te&&Te!==le){if(!(fe=Ye[Te+" "+le]||Ye["* "+le]))for(ae in Ye)if((Ue=ae.split(" "))[1]===le&&(fe=Ye[Te+" "+Ue[0]]||Ye["* "+Ue[0]])){!0===fe?fe=Ye[ae]:!0!==Ye[ae]&&(le=Ue[0],_t.unshift(Ue[1]));break}if(!0!==fe)if(fe&&P.throws)k=fe(k);else try{k=fe(k)}catch(et){return{state:"parsererror",error:fe?et:"No conversion from "+Te+" to "+le}}}return{state:"success",data:k}}(dt,$c,xn,yo),yo?(dt.ifModified&&((oc=xn.getResponseHeader("Last-Modified"))&&(j.lastModified[ee]=oc),(oc=xn.getResponseHeader("etag"))&&(j.etag[ee]=oc)),204===Yt||"HEAD"===dt.type?Aa="nocontent":304===Yt?Aa="notmodified":(Aa=$c.state,Xc=$c.data,yo=!(ca=$c.error))):(ca=Aa,(Yt||!Aa)&&(Aa="error",Yt<0&&(Yt=0))),xn.status=Yt,xn.statusText=(Oi||Aa)+"",yo?ji.resolveWith(qt,[Xc,Aa,xn]):ji.rejectWith(qt,[xn,Aa,ca]),xn.statusCode(Ao),Ao=void 0,Ye&&ei.trigger(yo?"ajaxSuccess":"ajaxError",[xn,dt,yo?Xc:ca]),fi.fireWith(qt,[xn,Aa]),Ye&&(ei.trigger("ajaxComplete",[xn,dt]),--j.active||j.event.trigger("ajaxStop")))}return xn},getJSON:function(P,k,Q){return j.get(P,k,Q,"json")},getScript:function(P,k){return j.get(P,void 0,k,"script")}}),j.each(["get","post"],function(P,k){j[k]=function(Q,ee,ae,le){return re(ee)&&(le=le||ae,ae=ee,ee=void 0),j.ajax(j.extend({url:Q,type:k,dataType:le,data:ee,success:ae},j.isPlainObject(Q)&&Q))}}),j.ajaxPrefilter(function(P){var k;for(k in P.headers)"content-type"===k.toLowerCase()&&(P.contentType=P.headers[k]||"")}),j._evalUrl=function(P,k,Q){return j.ajax({url:P,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ee){j.globalEval(ee,k,Q)}})},j.fn.extend({wrapAll:function(P){var k;return this[0]&&(re(P)&&(P=P.call(this[0])),k=j(P,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&k.insertBefore(this[0]),k.map(function(){for(var Q=this;Q.firstElementChild;)Q=Q.firstElementChild;return Q}).append(this)),this},wrapInner:function(P){return re(P)?this.each(function(k){j(this).wrapInner(P.call(this,k))}):this.each(function(){var k=j(this),Q=k.contents();Q.length?Q.wrapAll(P):k.append(P)})},wrap:function(P){var k=re(P);return this.each(function(Q){j(this).wrapAll(k?P.call(this,Q):P)})},unwrap:function(P){return this.parent(P).not("body").each(function(){j(this).replaceWith(this.childNodes)}),this}}),j.expr.pseudos.hidden=function(P){return!j.expr.pseudos.visible(P)},j.expr.pseudos.visible=function(P){return!!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)},j.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch{}};var xf={0:200,1223:204},Bh=j.ajaxSettings.xhr();V.cors=!!Bh&&"withCredentials"in Bh,V.ajax=Bh=!!Bh,j.ajaxTransport(function(P){var k,Q;if(V.cors||Bh&&!P.crossDomain)return{send:function(ee,ae){var le,fe=P.xhr();if(fe.open(P.type,P.url,P.async,P.username,P.password),P.xhrFields)for(le in P.xhrFields)fe[le]=P.xhrFields[le];for(le in P.mimeType&&fe.overrideMimeType&&fe.overrideMimeType(P.mimeType),!P.crossDomain&&!ee["X-Requested-With"]&&(ee["X-Requested-With"]="XMLHttpRequest"),ee)fe.setRequestHeader(le,ee[le]);k=function(Ue){return function(){k&&(k=Q=fe.onload=fe.onerror=fe.onabort=fe.ontimeout=fe.onreadystatechange=null,"abort"===Ue?fe.abort():"error"===Ue?"number"!=typeof fe.status?ae(0,"error"):ae(fe.status,fe.statusText):ae(xf[fe.status]||fe.status,fe.statusText,"text"!==(fe.responseType||"text")||"string"!=typeof fe.responseText?{binary:fe.response}:{text:fe.responseText},fe.getAllResponseHeaders()))}},fe.onload=k(),Q=fe.onerror=fe.ontimeout=k("error"),void 0!==fe.onabort?fe.onabort=Q:fe.onreadystatechange=function(){4===fe.readyState&&C.setTimeout(function(){k&&Q()})},k=k("abort");try{fe.send(P.hasContent&&P.data||null)}catch(Ue){if(k)throw Ue}},abort:function(){k&&k()}}}),j.ajaxPrefilter(function(P){P.crossDomain&&(P.contents.script=!1)}),j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(P){return j.globalEval(P),P}}}),j.ajaxPrefilter("script",function(P){void 0===P.cache&&(P.cache=!1),P.crossDomain&&(P.type="GET")}),j.ajaxTransport("script",function(P){var k,Q;if(P.crossDomain||P.scriptAttrs)return{send:function(ee,ae){k=j("<script>").attr(P.scriptAttrs||{}).prop({charset:P.scriptCharset,src:P.url}).on("load error",Q=function(le){k.remove(),Q=null,le&&ae("error"===le.type?404:200,le.type)}),pe.head.appendChild(k[0])},abort:function(){Q&&Q()}}});var P,E1=[],io=/(=)\?(?=&|$)|\?\?/;j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var P=E1.pop()||j.expando+"_"+b1.guid++;return this[P]=!0,P}}),j.ajaxPrefilter("json jsonp",function(P,k,Q){var ee,ae,le,fe=!1!==P.jsonp&&(io.test(P.url)?"url":"string"==typeof P.data&&0===(P.contentType||"").indexOf("application/x-www-form-urlencoded")&&io.test(P.data)&&"data");if(fe||"jsonp"===P.dataTypes[0])return ee=P.jsonpCallback=re(P.jsonpCallback)?P.jsonpCallback():P.jsonpCallback,fe?P[fe]=P[fe].replace(io,"$1"+ee):!1!==P.jsonp&&(P.url+=(pg.test(P.url)?"&":"?")+P.jsonp+"="+ee),P.converters["script json"]=function(){return le||j.error(ee+" was not called"),le[0]},P.dataTypes[0]="json",ae=C[ee],C[ee]=function(){le=arguments},Q.always(function(){void 0===ae?j(C).removeProp(ee):C[ee]=ae,P[ee]&&(P.jsonpCallback=k.jsonpCallback,E1.push(ee)),le&&re(ae)&&ae(le[0]),le=ae=void 0}),"script"}),V.createHTMLDocument=((P=pe.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===P.childNodes.length),j.parseHTML=function(P,k,Q){return"string"!=typeof P?[]:("boolean"==typeof k&&(Q=k,k=!1),k||(V.createHTMLDocument?((ee=(k=pe.implementation.createHTMLDocument("")).createElement("base")).href=pe.location.href,k.head.appendChild(ee)):k=pe),le=!Q&&[],(ae=on.exec(P))?[k.createElement(ae[1])]:(ae=bn([P],k,le),le&&le.length&&j(le).remove(),j.merge([],ae.childNodes)));var ee,ae,le},j.fn.load=function(P,k,Q){var ee,ae,le,fe=this,Ue=P.indexOf(" ");return Ue>-1&&(ee=Ld(P.slice(Ue)),P=P.slice(0,Ue)),re(k)?(Q=k,k=void 0):k&&"object"==typeof k&&(ae="POST"),fe.length>0&&j.ajax({url:P,type:ae||"GET",dataType:"html",data:k}).done(function(Te){le=arguments,fe.html(ee?j("<div>").append(j.parseHTML(Te)).find(ee):Te)}).always(Q&&function(Te,Ye){fe.each(function(){Q.apply(this,le||[Te.responseText,Ye,Te])})}),this},j.expr.pseudos.animated=function(P){return j.grep(j.timers,function(k){return P===k.elem}).length},j.offset={setOffset:function(P,k,Q){var ee,ae,le,fe,Ue,Te,_t=j.css(P,"position"),et=j(P),dt={};"static"===_t&&(P.style.position="relative"),Ue=et.offset(),le=j.css(P,"top"),Te=j.css(P,"left"),("absolute"===_t||"fixed"===_t)&&(le+Te).indexOf("auto")>-1?(fe=(ee=et.position()).top,ae=ee.left):(fe=parseFloat(le)||0,ae=parseFloat(Te)||0),re(k)&&(k=k.call(P,Q,j.extend({},Ue))),null!=k.top&&(dt.top=k.top-Ue.top+fe),null!=k.left&&(dt.left=k.left-Ue.left+ae),"using"in k?k.using.call(P,dt):et.css(dt)}},j.fn.extend({offset:function(P){if(arguments.length)return void 0===P?this:this.each(function(ae){j.offset.setOffset(this,P,ae)});var k,Q,ee=this[0];return ee?ee.getClientRects().length?{top:(k=ee.getBoundingClientRect()).top+(Q=ee.ownerDocument.defaultView).pageYOffset,left:k.left+Q.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var P,k,Q,ee=this[0],ae={top:0,left:0};if("fixed"===j.css(ee,"position"))k=ee.getBoundingClientRect();else{for(k=this.offset(),Q=ee.ownerDocument,P=ee.offsetParent||Q.documentElement;P&&(P===Q.body||P===Q.documentElement)&&"static"===j.css(P,"position");)P=P.parentNode;P&&P!==ee&&1===P.nodeType&&((ae=j(P).offset()).top+=j.css(P,"borderTopWidth",!0),ae.left+=j.css(P,"borderLeftWidth",!0))}return{top:k.top-ae.top-j.css(ee,"marginTop",!0),left:k.left-ae.left-j.css(ee,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var P=this.offsetParent;P&&"static"===j.css(P,"position");)P=P.offsetParent;return P||dr})}}),j.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(P,k){var Q="pageYOffset"===k;j.fn[P]=function(ee){return ui(this,function(ae,le,fe){var Ue;if(he(ae)?Ue=ae:9===ae.nodeType&&(Ue=ae.defaultView),void 0===fe)return Ue?Ue[k]:ae[le];Ue?Ue.scrollTo(Q?Ue.pageXOffset:fe,Q?fe:Ue.pageYOffset):ae[le]=fe},P,ee,arguments.length)}}),j.each(["top","left"],function(P,k){j.cssHooks[k]=Fd(V.pixelPosition,function(Q,ee){if(ee)return ee=vo(Q,k),pi.test(ee)?j(Q).position()[k]+"px":ee})}),j.each({Height:"height",Width:"width"},function(P,k){j.each({padding:"inner"+P,content:k,"":"outer"+P},function(Q,ee){j.fn[ee]=function(ae,le){var fe=arguments.length&&(Q||"boolean"!=typeof ae),Ue=Q||(!0===ae||!0===le?"margin":"border");return ui(this,function(Te,Ye,_t){var et;return he(Te)?0===ee.indexOf("outer")?Te["inner"+P]:Te.document.documentElement["client"+P]:9===Te.nodeType?(et=Te.documentElement,Math.max(Te.body["scroll"+P],et["scroll"+P],Te.body["offset"+P],et["offset"+P],et["client"+P])):void 0===_t?j.css(Te,Ye,Ue):j.style(Te,Ye,_t,Ue)},k,fe?ae:void 0,fe)}})}),j.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(P,k){j.fn[k]=function(Q){return this.on(k,Q)}}),j.fn.extend({bind:function(P,k,Q){return this.on(P,null,k,Q)},unbind:function(P,k){return this.off(P,null,k)},delegate:function(P,k,Q,ee){return this.on(k,P,Q,ee)},undelegate:function(P,k,Q){return 1===arguments.length?this.off(P,"**"):this.off(k,P||"**",Q)},hover:function(P,k){return this.on("mouseenter",P).on("mouseleave",k||P)}}),j.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(P,k){j.fn[k]=function(Q,ee){return arguments.length>0?this.on(k,null,Q,ee):this.trigger(k)}});var D1=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;j.proxy=function(P,k){var Q,ee,ae;if("string"==typeof k&&(Q=P[k],k=P,P=Q),re(P))return ee=B.call(arguments,2),ae=function(){return P.apply(k||this,ee.concat(B.call(arguments)))},ae.guid=P.guid=P.guid||j.guid++,ae},j.holdReady=function(P){P?j.readyWait++:j.ready(!0)},j.isArray=Array.isArray,j.parseJSON=JSON.parse,j.nodeName=pt,j.isFunction=re,j.isWindow=he,j.camelCase=Ki,j.type=Ne,j.now=Date.now,j.isNumeric=function(P){var k=j.type(P);return("number"===k||"string"===k)&&!isNaN(P-parseFloat(P))},j.trim=function(P){return null==P?"":(P+"").replace(D1,"$1")},void 0!==(b=function(){return j}.apply(m,[]))&&(p.exports=b);var Fb=C.jQuery,Qu=C.$;return j.noConflict=function(P){return C.$===j&&(C.$=Qu),P&&C.jQuery===j&&(C.jQuery=Fb),j},typeof A>"u"&&(C.jQuery=C.$=j),j})},8548:p=>{var m,b;b=function(g,b,C){"use strict";var A,H;if(function(){var Ae,ot={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(Ae in H=g.lazySizesConfig||g.lazysizesConfig||{},ot)Ae in H||(H[Ae]=ot[Ae])}(),!b||!b.getElementsByClassName)return{init:function(){},cfg:H,noSupport:!0};var Ae,ot,Ht,An,nn,Bt,_n,z=b.documentElement,B=g.HTMLPictureElement,X="addEventListener",T="getAttribute",F=g[X].bind(g),W=g.setTimeout,R=g.requestAnimationFrame||W,N=g.requestIdleCallback,G=/^picture$/i,I=["load","error","lazyincluded","_lazyloaded"],V={},re=Array.prototype.forEach,he=function(Ae,ot){return V[ot]||(V[ot]=new RegExp("(\\s|^)"+ot+"(\\s|$)")),V[ot].test(Ae[T]("class")||"")&&V[ot]},pe=function(Ae,ot){he(Ae,ot)||Ae.setAttribute("class",(Ae[T]("class")||"").trim()+" "+ot)},Le=function(Ae,ot){var Ht;(Ht=he(Ae,ot))&&Ae.setAttribute("class",(Ae[T]("class")||"").replace(Ht," "))},Qe=function(Ae,ot,Ht){var An=Ht?X:"removeEventListener";Ht&&Qe(Ae,ot),I.forEach(function(nn){Ae[An](nn,ot)})},Ne=function(Ae,ot,Ht,An,nn){var Bt=b.createEvent("Event");return Ht||(Ht={}),Ht.instance=A,Bt.initEvent(ot,!An,!nn),Bt.detail=Ht,Ae.dispatchEvent(Bt),Bt},je=function(Ae,ot){var Ht;!B&&(Ht=g.picturefill||H.pf)?(ot&&ot.src&&!Ae[T]("srcset")&&Ae.setAttribute("srcset",ot.src),Ht({reevaluate:!0,elements:[Ae]})):ot&&ot.src&&(Ae.src=ot.src)},Je=function(Ae,ot){return(getComputedStyle(Ae,null)||{})[ot]},j=function(Ae,ot,Ht){for(Ht=Ht||Ae.offsetWidth;Ht<H.minSize&&ot&&!Ae._lazysizesWidth;)Ht=ot.offsetWidth,ot=ot.parentNode;return Ht},Se=(An=[],nn=Ht=[],_n=function(on,En){Ae&&!En?on.apply(this,arguments):(nn.push(on),ot||(ot=!0,(b.hidden?W:R)(Bt)))},_n._lsFlush=Bt=function(){var on=nn;for(nn=Ht.length?An:Ht,Ae=!0,ot=!1;on.length;)on.shift()();Ae=!1},_n),pt=function(Ae,ot){return ot?function(){Se(Ae)}:function(){var Ht=this,An=arguments;Se(function(){Ae.apply(Ht,An)})}},gt=function(Ae){var ot,Ht,nn=function(){ot=null,Ae()},Bt=function(){var _n=C.now()-Ht;_n<99?W(Bt,99-_n):(N||nn)(nn)};return function(){Ht=C.now(),ot||(ot=W(Bt,99))}},zt=function(){var Ae,ot,Ht,An,nn,Bt,_n,on,En,lt,Fn,un,Hi=/^img$/i,Xi=/^iframe$/i,Qn="onscroll"in g&&!/(gle|ing)bot/.test(navigator.userAgent),Pi=0,Di=0,rr=-1,to=function(sn){Di--,(!sn||Di<0||!sn.target)&&(Di=0)},qr=function(sn){return null==un&&(un="hidden"==Je(b.body,"visibility")),un||!("hidden"==Je(sn.parentNode,"visibility")&&"hidden"==Je(sn,"visibility"))},Yr=function(sn,Gn){var Li,Bn=sn,er=qr(sn);for(on-=Gn,Fn+=Gn,En-=Gn,lt+=Gn;er&&(Bn=Bn.offsetParent)&&Bn!=b.body&&Bn!=z;)(er=(Je(Bn,"opacity")||1)>0)&&"visible"!=Je(Bn,"overflow")&&(Li=Bn.getBoundingClientRect(),er=lt>Li.left&&En<Li.right&&Fn>Li.top-1&&on<Li.bottom+1);return er},cn=function(){var sn,Gn,Li,Bn,er,dr,$r,ys,Fr,Eo,oa,Yn,po=A.elements;if((An=H.loadMode)&&Di<8&&(sn=po.length)){for(Gn=0,rr++;Gn<sn;Gn++)if(po[Gn]&&!po[Gn]._lazyRace){if(!Qn||A.prematureUnveil&&A.prematureUnveil(po[Gn])){vn(po[Gn]);continue}if((!(ys=po[Gn][T]("data-expand"))||!(dr=1*ys))&&(dr=Pi),Eo||(A._defEx=Eo=!H.expand||H.expand<1?z.clientHeight>500&&z.clientWidth>500?500:370:H.expand,Yn=H.hFac,un=null,Pi<(oa=Eo*H.expFactor)&&Di<1&&rr>2&&An>2&&!b.hidden?(Pi=oa,rr=0):Pi=An>1&&rr>1&&Di<6?Eo:0),Fr!==dr&&(Bt=innerWidth+dr*Yn,_n=innerHeight+dr,$r=-1*dr,Fr=dr),Li=po[Gn].getBoundingClientRect(),(Fn=Li.bottom)>=$r&&(on=Li.top)<=_n&&(lt=Li.right)>=$r*Yn&&(En=Li.left)<=Bt&&(Fn||lt||En||on)&&(H.loadHidden||qr(po[Gn]))&&(ot&&Di<3&&!ys&&(An<3||rr<4)||Yr(po[Gn],dr))){if(vn(po[Gn]),er=!0,Di>9)break}else!er&&ot&&!Bn&&Di<4&&rr<4&&An>2&&(Ae[0]||H.preloadAfterLoad)&&(Ae[0]||!ys&&(Fn||lt||En||on||"auto"!=po[Gn][T](H.sizesAttr)))&&(Bn=Ae[0]||po[Gn])}Bn&&!er&&vn(Bn)}},ui=function(Ae){var ot,Ht=0,An=H.throttleDelay,nn=H.ricTimeout,Bt=function(){ot=!1,Ht=C.now(),Ae()},_n=N&&nn>49?function(){N(Bt,{timeout:nn}),nn!==H.ricTimeout&&(nn=H.ricTimeout)}:pt(function(){W(Bt)},!0);return function(on){var En;(on=!0===on)&&(nn=33),!ot&&(ot=!0,(En=An-(C.now()-Ht))<0&&(En=0),on||En<9?_n():W(_n,En))}}(cn),xo=function(sn){var Gn=sn.target;Gn._lazyCache?delete Gn._lazyCache:(to(sn),pe(Gn,H.loadedClass),Le(Gn,H.loadingClass),Qe(Gn,Xr),Ne(Gn,"lazyloaded"))},zi=pt(xo),Xr=function(sn){zi({target:sn.target})},yr=function(sn){var Gn,Li=sn[T](H.srcsetAttr);(Gn=H.customMedia[sn[T]("data-media")||sn[T]("media")])&&sn.setAttribute("media",Gn),Li&&sn.setAttribute("srcset",Li)},ur=pt(function(sn,Gn,Li,Bn,er){var dr,$r,ys,Fr,Eo,oa;(Eo=Ne(sn,"lazybeforeunveil",Gn)).defaultPrevented||(Bn&&(Li?pe(sn,H.autosizesClass):sn.setAttribute("sizes",Bn)),$r=sn[T](H.srcsetAttr),dr=sn[T](H.srcAttr),er&&(Fr=(ys=sn.parentNode)&&G.test(ys.nodeName||"")),oa=Gn.firesLoad||"src"in sn&&($r||dr||Fr),Eo={target:sn},pe(sn,H.loadingClass),oa&&(clearTimeout(Ht),Ht=W(to,2500),Qe(sn,Xr,!0)),Fr&&re.call(ys.getElementsByTagName("source"),yr),$r?sn.setAttribute("srcset",$r):dr&&!Fr&&(Xi.test(sn.nodeName)?function(sn,Gn){var Li=sn.getAttribute("data-load-mode")||H.iframeLoadMode;0==Li?sn.contentWindow.location.replace(Gn):1==Li&&(sn.src=Gn)}(sn,dr):sn.src=dr),er&&($r||Fr)&&je(sn,{src:dr})),sn._lazyRace&&delete sn._lazyRace,Le(sn,H.lazyClass),Se(function(){var Yn=sn.complete&&sn.naturalWidth>1;(!oa||Yn)&&(Yn&&pe(sn,H.fastLoadedClass),xo(Eo),sn._lazyCache=!0,W(function(){"_lazyCache"in sn&&delete sn._lazyCache},9)),"lazy"==sn.loading&&Di--},!0)}),vn=function(sn){if(!sn._lazyRace){var Gn,Li=Hi.test(sn.nodeName),Bn=Li&&(sn[T](H.sizesAttr)||sn[T]("sizes")),er="auto"==Bn;(er||!ot)&&Li&&(sn[T]("src")||sn.srcset)&&!sn.complete&&!he(sn,H.errorClass)&&he(sn,H.lazyClass)||(Gn=Ne(sn,"lazyunveilread").detail,er&&Qt.updateElem(sn,!0,sn.offsetWidth),sn._lazyRace=!0,Di++,ur(sn,Gn,er,Bn,Li))}},_r=gt(function(){H.loadMode=3,ui()}),uo=function(){3==H.loadMode&&(H.loadMode=2),_r()},ki=function(){if(!ot){if(C.now()-nn<999)return void W(ki,999);ot=!0,H.loadMode=3,ui(),F("scroll",uo,!0)}};return{_:function(){nn=C.now(),A.elements=b.getElementsByClassName(H.lazyClass),Ae=b.getElementsByClassName(H.lazyClass+" "+H.preloadClass),F("scroll",ui,!0),F("resize",ui,!0),F("pageshow",function(sn){if(sn.persisted){var Gn=b.querySelectorAll("."+H.loadingClass);Gn.length&&Gn.forEach&&R(function(){Gn.forEach(function(Li){Li.complete&&vn(Li)})})}}),g.MutationObserver?new MutationObserver(ui).observe(z,{childList:!0,subtree:!0,attributes:!0}):(z[X]("DOMNodeInserted",ui,!0),z[X]("DOMAttrModified",ui,!0),setInterval(ui,999)),F("hashchange",ui,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(sn){b[X](sn,ui,!0)}),/d$|^c/.test(b.readyState)?ki():(F("load",ki),b[X]("DOMContentLoaded",ui),W(ki,2e4)),A.elements.length?(cn(),Se._lsFlush()):ui()},checkElems:ui,unveil:vn,_aLSL:uo}}(),Qt=function(){var Ae,ot=pt(function(Bt,_n,on,En){var lt,Fn,un;if(Bt._lazysizesWidth=En,Bt.setAttribute("sizes",En+="px"),G.test(_n.nodeName||""))for(Fn=0,un=(lt=_n.getElementsByTagName("source")).length;Fn<un;Fn++)lt[Fn].setAttribute("sizes",En);on.detail.dataAttr||je(Bt,on.detail)}),Ht=function(Bt,_n,on){var En,lt=Bt.parentNode;lt&&(on=j(Bt,lt,on),(En=Ne(Bt,"lazybeforesizes",{width:on,dataAttr:!!_n})).defaultPrevented||(on=En.detail.width)&&on!==Bt._lazysizesWidth&&ot(Bt,lt,En,on))},nn=gt(function(){var Bt,_n=Ae.length;if(_n)for(Bt=0;Bt<_n;Bt++)Ht(Ae[Bt])});return{_:function(){Ae=b.getElementsByClassName(H.autosizesClass),F("resize",nn)},checkElems:nn,updateElem:Ht}}(),at=function(){!at.i&&b.getElementsByClassName&&(at.i=!0,Qt._(),zt._())};return W(function(){H.init&&at()}),A={cfg:H,autoSizer:Qt,loader:zt,init:at,uP:je,aC:pe,rC:Le,hC:he,fire:Ne,gW:j,rAF:Se}}(m=typeof window<"u"?window:{},m.document,Date),m.lazySizes=b,p.exports&&(p.exports=b)},2181:(p,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=g(5186),C=g(1973);b.Observable.prototype.filter=C.filter},1973:(p,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=g(8732);m.filter=function C(A,H){return b.filter(A,H)(this)}},5186:(p,m,g)=>{"use strict";g.r(m),g.d(m,{ArgumentOutOfRangeError:()=>gt.W,AsyncSubject:()=>T.c,BehaviorSubject:()=>B.X,ConnectableObservable:()=>C.c,EMPTY:()=>Pi.E,EmptyError:()=>zt.K,GroupedObservable:()=>A.T,NEVER:()=>ur.C,Notification:()=>Je.P,NotificationKind:()=>Je.W,ObjectUnsubscribedError:()=>Qt.N,Observable:()=>b.y,ReplaySubject:()=>X.t,Scheduler:()=>Qe.b,Subject:()=>z.xQ,Subscriber:()=>je.L,Subscription:()=>Ne.w,TimeoutError:()=>Ae.W,UnsubscriptionError:()=>at.B,VirtualAction:()=>Le,VirtualTimeScheduler:()=>pe,animationFrame:()=>he,animationFrameScheduler:()=>re,asap:()=>F.e,asapScheduler:()=>F.E,async:()=>W.P,asyncScheduler:()=>W.z,bindCallback:()=>Bt,bindNodeCallback:()=>lt,combineLatest:()=>Xi.aj,concat:()=>Qn.z,config:()=>po.v,defer:()=>Vt.P,empty:()=>Pi.c,forkJoin:()=>Di.D,from:()=>rr.D,fromEvent:()=>to.R,fromEventPattern:()=>Yr,generate:()=>cn,identity:()=>pt.y,iif:()=>xo,interval:()=>Xr,isObservable:()=>ht,merge:()=>yr.T,never:()=>ur.F,noop:()=>Se.Z,observable:()=>H.L,of:()=>vn.of,onErrorResumeNext:()=>_r,pairs:()=>uo,partition:()=>Bn,pipe:()=>j.z,queue:()=>R.c,queueScheduler:()=>R.N,race:()=>er.S3,range:()=>dr,scheduled:()=>Yn.x,throwError:()=>ys._,timer:()=>Fr.H,using:()=>Eo,zip:()=>oa.$R});var b=g(4202),C=g(1762),A=g(4002),H=g(3821),z=g(8929),B=g(591),X=g(839),T=g(2185),F=g(8139),W=g(353),R=g(341),N=g(6686),I=g(198);const re=new class V extends I.v{flush(Ot){this.active=!0,this.scheduled=void 0;const{actions:yt}=this;let Wt,Kt=-1,xt=yt.length;Ot=Ot||yt.shift();do{if(Wt=Ot.execute(Ot.state,Ot.delay))break}while(++Kt<xt&&(Ot=yt.shift()));if(this.active=!1,Wt){for(;++Kt<xt&&(Ot=yt.shift());)Ot.unsubscribe();throw Wt}}}(class G extends N.o{constructor(Ot,yt){super(Ot,yt),this.scheduler=Ot,this.work=yt}requestAsyncId(Ot,yt,Wt=0){return null!==Wt&&Wt>0?super.requestAsyncId(Ot,yt,Wt):(Ot.actions.push(this),Ot.scheduled||(Ot.scheduled=requestAnimationFrame(()=>Ot.flush(null))))}recycleAsyncId(Ot,yt,Wt=0){if(null!==Wt&&Wt>0||null===Wt&&this.delay>0)return super.recycleAsyncId(Ot,yt,Wt);0===Ot.actions.length&&(cancelAnimationFrame(yt),Ot.scheduled=void 0)}}),he=re;let pe=(()=>{class $t extends I.v{constructor(yt=Le,Wt=Number.POSITIVE_INFINITY){super(yt,()=>this.frame),this.maxFrames=Wt,this.frame=0,this.index=-1}flush(){const{actions:yt,maxFrames:Wt}=this;let Kt,xt;for(;(xt=yt[0])&&xt.delay<=Wt&&(yt.shift(),this.frame=xt.delay,!(Kt=xt.execute(xt.state,xt.delay))););if(Kt){for(;xt=yt.shift();)xt.unsubscribe();throw Kt}}}return $t.frameTimeFactor=10,$t})();class Le extends N.o{constructor(Ot,yt,Wt=(Ot.index+=1)){super(Ot,yt),this.scheduler=Ot,this.work=yt,this.index=Wt,this.active=!0,this.index=Ot.index=Wt}schedule(Ot,yt=0){if(!this.id)return super.schedule(Ot,yt);this.active=!1;const Wt=new Le(this.scheduler,this.work);return this.add(Wt),Wt.schedule(Ot,yt)}requestAsyncId(Ot,yt,Wt=0){this.delay=Ot.frame+Wt;const{actions:Kt}=Ot;return Kt.push(this),Kt.sort(Le.sortActions),!0}recycleAsyncId(Ot,yt,Wt=0){}_execute(Ot,yt){if(!0===this.active)return super._execute(Ot,yt)}static sortActions(Ot,yt){return Ot.delay===yt.delay?Ot.index===yt.index?0:Ot.index>yt.index?1:-1:Ot.delay>yt.delay?1:-1}}var Qe=g(2221),Ne=g(4096),je=g(3489),Je=g(9312),j=g(4843),Se=g(7876),pt=g(5379);function ht($t){return!!$t&&($t instanceof b.y||"function"==typeof $t.lift&&"function"==typeof $t.subscribe)}var gt=g(4231),zt=g(4450),Qt=g(5279),at=g(7964),Ae=g(854),ot=g(4850),Ht=g(9476),An=g(6688),nn=g(2866);function Bt($t,Ot,yt){if(Ot){if(!(0,nn.K)(Ot))return(...Wt)=>Bt($t,yt)(...Wt).pipe((0,ot.U)(Kt=>(0,An.k)(Kt)?Ot(...Kt):Ot(Kt)));yt=Ot}return function(...Wt){const Kt=this;let xt;const xi={context:Kt,subject:xt,callbackFunc:$t,scheduler:yt};return new b.y(bn=>{if(yt)return yt.schedule(_n,0,{args:Wt,subscriber:bn,params:xi});if(!xt){xt=new T.c;const Ui=(...si)=>{xt.next(si.length<=1?si[0]:si),xt.complete()};try{$t.apply(Kt,[...Wt,Ui])}catch(si){(0,Ht._)(xt)?xt.error(si):console.warn(si)}}return xt.subscribe(bn)})}}function _n($t){const{args:yt,subscriber:Wt,params:Kt}=$t,{callbackFunc:xt,context:xi,scheduler:bn}=Kt;let{subject:Ui}=Kt;if(!Ui){Ui=Kt.subject=new T.c;const si=(...Qi)=>{this.add(bn.schedule(on,0,{value:Qi.length<=1?Qi[0]:Qi,subject:Ui}))};try{xt.apply(xi,[...yt,si])}catch(Qi){Ui.error(Qi)}}this.add(Ui.subscribe(Wt))}function on($t){const{value:Ot,subject:yt}=$t;yt.next(Ot),yt.complete()}function lt($t,Ot,yt){if(Ot){if(!(0,nn.K)(Ot))return(...Wt)=>lt($t,yt)(...Wt).pipe((0,ot.U)(Kt=>(0,An.k)(Kt)?Ot(...Kt):Ot(Kt)));yt=Ot}return function(...Wt){const Kt={subject:void 0,args:Wt,callbackFunc:$t,scheduler:yt,context:this};return new b.y(xt=>{const{context:xi}=Kt;let{subject:bn}=Kt;if(yt)return yt.schedule(Fn,0,{params:Kt,subscriber:xt,context:xi});if(!bn){bn=Kt.subject=new T.c;const Ui=(...si)=>{const Qi=si.shift();Qi?bn.error(Qi):(bn.next(si.length<=1?si[0]:si),bn.complete())};try{$t.apply(xi,[...Wt,Ui])}catch(si){(0,Ht._)(bn)?bn.error(si):console.warn(si)}}return bn.subscribe(xt)})}}function Fn($t){const{params:Ot,subscriber:yt,context:Wt}=$t,{callbackFunc:Kt,args:xt,scheduler:xi}=Ot;let bn=Ot.subject;if(!bn){bn=Ot.subject=new T.c;const Ui=(...si)=>{const Qi=si.shift();this.add(Qi?xi.schedule(Hi,0,{err:Qi,subject:bn}):xi.schedule(un,0,{value:si.length<=1?si[0]:si,subject:bn}))};try{Kt.apply(Wt,[...xt,Ui])}catch(si){this.add(xi.schedule(Hi,0,{err:si,subject:bn}))}}this.add(bn.subscribe(yt))}function un($t){const{value:Ot,subject:yt}=$t;yt.next(Ot),yt.complete()}function Hi($t){const{err:Ot,subject:yt}=$t;yt.error(Ot)}var Xi=g(6053),Qn=g(1961),Vt=g(8514),Pi=g(8896),Di=g(567),rr=g(3527),to=g(3753),qr=g(7043);function Yr($t,Ot,yt){return yt?Yr($t,Ot).pipe((0,ot.U)(Wt=>(0,An.k)(Wt)?yt(...Wt):yt(Wt))):new b.y(Wt=>{const Kt=(...xi)=>Wt.next(1===xi.length?xi[0]:xi);let xt;try{xt=$t(Kt)}catch(xi){return void Wt.error(xi)}if((0,qr.m)(Ot))return()=>Ot(Kt,xt)})}function cn($t,Ot,yt,Wt,Kt){let xt,xi;return 1==arguments.length?(xi=$t.initialState,Ot=$t.condition,yt=$t.iterate,xt=$t.resultSelector||pt.y,Kt=$t.scheduler):void 0===Wt||(0,nn.K)(Wt)?(xi=$t,xt=pt.y,Kt=Wt):(xi=$t,xt=Wt),new b.y(bn=>{let Ui=xi;if(Kt)return Kt.schedule(ui,0,{subscriber:bn,iterate:yt,condition:Ot,resultSelector:xt,state:Ui});for(;;){if(Ot){let Qi;try{Qi=Ot(Ui)}catch(fo){return void bn.error(fo)}if(!Qi){bn.complete();break}}let si;try{si=xt(Ui)}catch(Qi){return void bn.error(Qi)}if(bn.next(si),bn.closed)break;try{Ui=yt(Ui)}catch(Qi){return void bn.error(Qi)}}})}function ui($t){const{subscriber:Ot,condition:yt}=$t;if(Ot.closed)return;if($t.needIterate)try{$t.state=$t.iterate($t.state)}catch(Kt){return void Ot.error(Kt)}else $t.needIterate=!0;if(yt){let Kt;try{Kt=yt($t.state)}catch(xt){return void Ot.error(xt)}if(!Kt)return void Ot.complete();if(Ot.closed)return}let Wt;try{Wt=$t.resultSelector($t.state)}catch(Kt){return void Ot.error(Kt)}return Ot.closed||(Ot.next(Wt),Ot.closed)?void 0:this.schedule($t)}function xo($t,Ot=Pi.E,yt=Pi.E){return(0,Vt.P)(()=>$t()?Ot:yt)}var zi=g(4241);function Xr($t=0,Ot=W.P){return(!(0,zi.k)($t)||$t<0)&&($t=0),(!Ot||"function"!=typeof Ot.schedule)&&(Ot=W.P),new b.y(yt=>(yt.add(Ot.schedule(Ki,$t,{subscriber:yt,counter:0,period:$t})),yt))}function Ki($t){const{subscriber:Ot,counter:yt,period:Wt}=$t;Ot.next(yt),this.schedule({subscriber:Ot,counter:yt+1,period:Wt},Wt)}var yr=g(6787),ur=g(7274),vn=g(1086);function _r(...$t){if(0===$t.length)return Pi.E;const[Ot,...yt]=$t;return 1===$t.length&&(0,An.k)(Ot)?_r(...Ot):new b.y(Wt=>{const Kt=()=>Wt.add(_r(...yt).subscribe(Wt));return(0,rr.D)(Ot).subscribe({next(xt){Wt.next(xt)},error:Kt,complete:Kt})})}function uo($t,Ot){return new b.y(Ot?yt=>{const Wt=Object.keys($t),Kt=new Ne.w;return Kt.add(Ot.schedule(ki,0,{keys:Wt,index:0,subscriber:yt,subscription:Kt,obj:$t})),Kt}:yt=>{const Wt=Object.keys($t);for(let Kt=0;Kt<Wt.length&&!yt.closed;Kt++){const xt=Wt[Kt];$t.hasOwnProperty(xt)&&yt.next([xt,$t[xt]])}yt.complete()})}function ki($t){const{keys:Ot,index:yt,subscriber:Wt,subscription:Kt,obj:xt}=$t;if(!Wt.closed)if(yt<Ot.length){const xi=Ot[yt];Wt.next([xi,xt[xi]]),Kt.add(this.schedule({keys:Ot,index:yt+1,subscriber:Wt,subscription:Kt,obj:xt}))}else Wt.complete()}var sn=g(5884),Gn=g(9249),Li=g(2198);function Bn($t,Ot,yt){return[(0,Li.h)(Ot,yt)(new b.y((0,Gn.s)($t))),(0,Li.h)((0,sn.f)(Ot,yt))(new b.y((0,Gn.s)($t)))]}var er=g(1946);function dr($t=0,Ot,yt){return new b.y(Wt=>{void 0===Ot&&(Ot=$t,$t=0);let Kt=0,xt=$t;if(yt)return yt.schedule($r,0,{index:Kt,count:Ot,start:$t,subscriber:Wt});for(;;){if(Kt++>=Ot){Wt.complete();break}if(Wt.next(xt++),Wt.closed)break}})}function $r($t){const{start:Ot,index:yt,count:Wt,subscriber:Kt}=$t;yt>=Wt?Kt.complete():(Kt.next(Ot),!Kt.closed&&($t.index=yt+1,$t.start=Ot+1,this.schedule($t)))}var ys=g(1737),Fr=g(8723);function Eo($t,Ot){return new b.y(yt=>{let Wt,Kt;try{Wt=$t()}catch(bn){return void yt.error(bn)}try{Kt=Ot(Wt)}catch(bn){return void yt.error(bn)}const xi=(Kt?(0,rr.D)(Kt):Pi.E).subscribe(yt);return()=>{xi.unsubscribe(),Wt&&Wt.unsubscribe()}})}var oa=g(1746),Yn=g(3998),po=g(2830)},2185:(p,m,g)=>{"use strict";g.d(m,{c:()=>A});var b=g(8929),C=g(4096);class A extends b.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(z){return this.hasError?(z.error(this.thrownError),C.w.EMPTY):this.hasCompleted&&this.hasNext?(z.next(this.value),z.complete(),C.w.EMPTY):super._subscribe(z)}next(z){this.hasCompleted||(this.value=z,this.hasNext=!0)}error(z){this.hasCompleted||super.error(z)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},591:(p,m,g)=>{"use strict";g.d(m,{X:()=>A});var b=g(8929),C=g(5279);class A extends b.xQ{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const B=super._subscribe(z);return B&&!B.closed&&z.next(this._value),B}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C.N;return this._value}next(z){super.next(this._value=z)}}},9312:(p,m,g)=>{"use strict";g.d(m,{P:()=>z,W:()=>H});var b=g(8896),C=g(1086),A=g(1737),H=(()=>{return(B=H||(H={})).NEXT="N",B.ERROR="E",B.COMPLETE="C",H;var B})();class z{constructor(X,T,F){this.kind=X,this.value=T,this.error=F,this.hasValue="N"===X}observe(X){switch(this.kind){case"N":return X.next&&X.next(this.value);case"E":return X.error&&X.error(this.error);case"C":return X.complete&&X.complete()}}do(X,T,F){switch(this.kind){case"N":return X&&X(this.value);case"E":return T&&T(this.error);case"C":return F&&F()}}accept(X,T,F){return X&&"function"==typeof X.next?this.observe(X):this.do(X,T,F)}toObservable(){switch(this.kind){case"N":return(0,C.of)(this.value);case"E":return(0,A._)(this.error);case"C":return(0,b.c)()}throw new Error("unexpected notification kind value")}static createNext(X){return typeof X<"u"?new z("N",X):z.undefinedValueNotification}static createError(X){return new z("E",void 0,X)}static createComplete(){return z.completeNotification}}z.completeNotification=new z("C"),z.undefinedValueNotification=new z("N",void 0)},4202:(p,m,g)=>{"use strict";g.d(m,{y:()=>F});var b=g(9476),C=g(3489),A=g(7668),H=g(3292),B=g(3821),X=g(4843),T=g(2830);let F=(()=>{class R{constructor(G){this._isScalar=!1,G&&(this._subscribe=G)}lift(G){const I=new R;return I.source=this,I.operator=G,I}subscribe(G,I,V){const{operator:re}=this,he=function z(R,N,G){if(R){if(R instanceof C.L)return R;if(R[A.b])return R[A.b]()}return R||N||G?new C.L(R,N,G):new C.L(H.c)}(G,I,V);if(he.add(re?re.call(he,this.source):this.source||T.v.useDeprecatedSynchronousErrorHandling&&!he.syncErrorThrowable?this._subscribe(he):this._trySubscribe(he)),T.v.useDeprecatedSynchronousErrorHandling&&he.syncErrorThrowable&&(he.syncErrorThrowable=!1,he.syncErrorThrown))throw he.syncErrorValue;return he}_trySubscribe(G){try{return this._subscribe(G)}catch(I){T.v.useDeprecatedSynchronousErrorHandling&&(G.syncErrorThrown=!0,G.syncErrorValue=I),(0,b._)(G)?G.error(I):console.warn(I)}}forEach(G,I){return new(I=W(I))((V,re)=>{let he;he=this.subscribe(pe=>{try{G(pe)}catch(Le){re(Le),he&&he.unsubscribe()}},re,V)})}_subscribe(G){const{source:I}=this;return I&&I.subscribe(G)}[B.L](){return this}pipe(...G){return 0===G.length?this:(0,X.U)(G)(this)}toPromise(G){return new(G=W(G))((I,V)=>{let re;this.subscribe(he=>re=he,he=>V(he),()=>I(re))})}}return R.create=N=>new R(N),R})();function W(R){if(R||(R=T.v.Promise||Promise),!R)throw new Error("no Promise impl found");return R}},3292:(p,m,g)=>{"use strict";g.d(m,{c:()=>A});var b=g(2830),C=g(2782);const A={closed:!0,next(H){},error(H){if(b.v.useDeprecatedSynchronousErrorHandling)throw H;(0,C.z)(H)},complete(){}}},826:(p,m,g)=>{"use strict";g.d(m,{L:()=>C});var b=g(3489);class C extends b.L{notifyNext(H,z,B,X,T){this.destination.next(z)}notifyError(H,z){this.destination.error(H)}notifyComplete(H){this.destination.complete()}}},839:(p,m,g)=>{"use strict";g.d(m,{t:()=>X});var b=g(8929),C=g(341),A=g(4096),H=g(7770),z=g(5279),B=g(5283);class X extends b.xQ{constructor(W=Number.POSITIVE_INFINITY,R=Number.POSITIVE_INFINITY,N){super(),this.scheduler=N,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=W<1?1:W,this._windowTime=R<1?1:R,R===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(W){if(!this.isStopped){const R=this._events;R.push(W),R.length>this._bufferSize&&R.shift()}super.next(W)}nextTimeWindow(W){this.isStopped||(this._events.push(new T(this._getNow(),W)),this._trimBufferThenGetEvents()),super.next(W)}_subscribe(W){const R=this._infiniteTimeWindow,N=R?this._events:this._trimBufferThenGetEvents(),G=this.scheduler,I=N.length;let V;if(this.closed)throw new z.N;if(this.isStopped||this.hasError?V=A.w.EMPTY:(this.observers.push(W),V=new B.W(this,W)),G&&W.add(W=new H.ht(W,G)),R)for(let re=0;re<I&&!W.closed;re++)W.next(N[re]);else for(let re=0;re<I&&!W.closed;re++)W.next(N[re].value);return this.hasError?W.error(this.thrownError):this.isStopped&&W.complete(),V}_getNow(){return(this.scheduler||C.c).now()}_trimBufferThenGetEvents(){const W=this._getNow(),R=this._bufferSize,N=this._windowTime,G=this._events,I=G.length;let V=0;for(;V<I&&!(W-G[V].time<N);)V++;return I>R&&(V=Math.max(V,I-R)),V>0&&G.splice(0,V),G}}class T{constructor(W,R){this.time=W,this.value=R}}},2221:(p,m,g)=>{"use strict";g.d(m,{b:()=>b});let b=(()=>{class C{constructor(H,z=C.now){this.SchedulerAction=H,this.now=z}schedule(H,z=0,B){return new this.SchedulerAction(this,H).schedule(B,z)}}return C.now=()=>Date.now(),C})()},8929:(p,m,g)=>{"use strict";g.d(m,{Yc:()=>X,xQ:()=>T});var b=g(4202),C=g(3489),A=g(4096),H=g(5279),z=g(5283),B=g(7668);class X extends C.L{constructor(R){super(R),this.destination=R}}let T=(()=>{class W extends b.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[B.b](){return new X(this)}lift(N){const G=new F(this,this);return G.operator=N,G}next(N){if(this.closed)throw new H.N;if(!this.isStopped){const{observers:G}=this,I=G.length,V=G.slice();for(let re=0;re<I;re++)V[re].next(N)}}error(N){if(this.closed)throw new H.N;this.hasError=!0,this.thrownError=N,this.isStopped=!0;const{observers:G}=this,I=G.length,V=G.slice();for(let re=0;re<I;re++)V[re].error(N);this.observers.length=0}complete(){if(this.closed)throw new H.N;this.isStopped=!0;const{observers:N}=this,G=N.length,I=N.slice();for(let V=0;V<G;V++)I[V].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(N){if(this.closed)throw new H.N;return super._trySubscribe(N)}_subscribe(N){if(this.closed)throw new H.N;return this.hasError?(N.error(this.thrownError),A.w.EMPTY):this.isStopped?(N.complete(),A.w.EMPTY):(this.observers.push(N),new z.W(this,N))}asObservable(){const N=new b.y;return N.source=this,N}}return W.create=(R,N)=>new F(R,N),W})();class F extends T{constructor(R,N){super(),this.destination=R,this.source=N}next(R){const{destination:N}=this;N&&N.next&&N.next(R)}error(R){const{destination:N}=this;N&&N.error&&this.destination.error(R)}complete(){const{destination:R}=this;R&&R.complete&&this.destination.complete()}_subscribe(R){const{source:N}=this;return N?this.source.subscribe(R):A.w.EMPTY}}},5283:(p,m,g)=>{"use strict";g.d(m,{W:()=>C});var b=g(4096);class C extends b.w{constructor(H,z){super(),this.subject=H,this.subscriber=z,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const H=this.subject,z=H.observers;if(this.subject=null,!z||0===z.length||H.isStopped||H.closed)return;const B=z.indexOf(this.subscriber);-1!==B&&z.splice(B,1)}}},3489:(p,m,g)=>{"use strict";g.d(m,{L:()=>X});var b=g(7043),C=g(3292),A=g(4096),H=g(7668),z=g(2830),B=g(2782);class X extends A.w{constructor(W,R,N){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=C.c;break;case 1:if(!W){this.destination=C.c;break}if("object"==typeof W){W instanceof X?(this.syncErrorThrowable=W.syncErrorThrowable,this.destination=W,W.add(this)):(this.syncErrorThrowable=!0,this.destination=new T(this,W));break}default:this.syncErrorThrowable=!0,this.destination=new T(this,W,R,N)}}[H.b](){return this}static create(W,R,N){const G=new X(W,R,N);return G.syncErrorThrowable=!1,G}next(W){this.isStopped||this._next(W)}error(W){this.isStopped||(this.isStopped=!0,this._error(W))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(W){this.destination.next(W)}_error(W){this.destination.error(W),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:W}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=W,this}}class T extends X{constructor(W,R,N,G){super(),this._parentSubscriber=W;let I,V=this;(0,b.m)(R)?I=R:R&&(I=R.next,N=R.error,G=R.complete,R!==C.c&&(V=Object.create(R),(0,b.m)(V.unsubscribe)&&this.add(V.unsubscribe.bind(V)),V.unsubscribe=this.unsubscribe.bind(this))),this._context=V,this._next=I,this._error=N,this._complete=G}next(W){if(!this.isStopped&&this._next){const{_parentSubscriber:R}=this;z.v.useDeprecatedSynchronousErrorHandling&&R.syncErrorThrowable?this.__tryOrSetError(R,this._next,W)&&this.unsubscribe():this.__tryOrUnsub(this._next,W)}}error(W){if(!this.isStopped){const{_parentSubscriber:R}=this,{useDeprecatedSynchronousErrorHandling:N}=z.v;if(this._error)N&&R.syncErrorThrowable?(this.__tryOrSetError(R,this._error,W),this.unsubscribe()):(this.__tryOrUnsub(this._error,W),this.unsubscribe());else if(R.syncErrorThrowable)N?(R.syncErrorValue=W,R.syncErrorThrown=!0):(0,B.z)(W),this.unsubscribe();else{if(this.unsubscribe(),N)throw W;(0,B.z)(W)}}}complete(){if(!this.isStopped){const{_parentSubscriber:W}=this;if(this._complete){const R=()=>this._complete.call(this._context);z.v.useDeprecatedSynchronousErrorHandling&&W.syncErrorThrowable?(this.__tryOrSetError(W,R),this.unsubscribe()):(this.__tryOrUnsub(R),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(W,R){try{W.call(this._context,R)}catch(N){if(this.unsubscribe(),z.v.useDeprecatedSynchronousErrorHandling)throw N;(0,B.z)(N)}}__tryOrSetError(W,R,N){if(!z.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{R.call(this._context,N)}catch(G){return z.v.useDeprecatedSynchronousErrorHandling?(W.syncErrorValue=G,W.syncErrorThrown=!0,!0):((0,B.z)(G),!0)}return!1}_unsubscribe(){const{_parentSubscriber:W}=this;this._context=null,this._parentSubscriber=null,W.unsubscribe()}}},4096:(p,m,g)=>{"use strict";g.d(m,{w:()=>z});var X,b=g(6688),C=g(7830),A=g(7043),H=g(7964);class z{constructor(T){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,T&&(this._ctorUnsubscribe=!0,this._unsubscribe=T)}unsubscribe(){let T;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:W,_unsubscribe:R,_subscriptions:N}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof z)F.remove(this);else if(null!==F)for(let G=0;G<F.length;++G)F[G].remove(this);if((0,A.m)(R)){W&&(this._unsubscribe=void 0);try{R.call(this)}catch(G){T=G instanceof H.B?B(G.errors):[G]}}if((0,b.k)(N)){let G=-1,I=N.length;for(;++G<I;){const V=N[G];if((0,C.K)(V))try{V.unsubscribe()}catch(re){T=T||[],re instanceof H.B?T=T.concat(B(re.errors)):T.push(re)}}}if(T)throw new H.B(T)}add(T){let F=T;if(!T)return z.EMPTY;switch(typeof T){case"function":F=new z(T);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof z)){const N=F;F=new z,F._subscriptions=[N]}break;default:throw new Error("unrecognized teardown "+T+" added to Subscription.")}let{_parentOrParents:W}=F;if(null===W)F._parentOrParents=this;else if(W instanceof z){if(W===this)return F;F._parentOrParents=[W,this]}else{if(-1!==W.indexOf(this))return F;W.push(this)}const R=this._subscriptions;return null===R?this._subscriptions=[F]:R.push(F),F}remove(T){const F=this._subscriptions;if(F){const W=F.indexOf(T);-1!==W&&F.splice(W,1)}}}function B(X){return X.reduce((T,F)=>T.concat(F instanceof H.B?F.errors:F),[])}z.EMPTY=((X=new z).closed=!0,X)},2830:(p,m,g)=>{"use strict";g.d(m,{v:()=>C});let b=!1;const C={Promise:void 0,set useDeprecatedSynchronousErrorHandling(A){if(A){const H=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+H.stack)}else b&&console.log("RxJS: Back to a better error behavior. Thank you. <3");b=A},get useDeprecatedSynchronousErrorHandling(){return b}}},1177:(p,m,g)=>{"use strict";g.d(m,{Ds:()=>B,IY:()=>H,ft:()=>T});var b=g(3489),C=g(4202),A=g(9249);class H extends b.L{constructor(W){super(),this.parent=W}_next(W){this.parent.notifyNext(W)}_error(W){this.parent.notifyError(W),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class B extends b.L{notifyNext(W){this.destination.next(W)}notifyError(W){this.destination.error(W)}notifyComplete(){this.destination.complete()}}function T(F,W){if(W.closed)return;if(F instanceof C.y)return F.subscribe(W);let R;try{R=(0,A.s)(F)(W)}catch(N){W.error(N)}return R}},1762:(p,m,g)=>{"use strict";g.d(m,{N:()=>B,c:()=>z});var b=g(8929),C=g(4202),A=g(4096),H=g(4327);class z extends C.y{constructor(R,N){super(),this.source=R,this.subjectFactory=N,this._refCount=0,this._isComplete=!1}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let R=this._connection;return R||(this._isComplete=!1,R=this._connection=new A.w,R.add(this.source.subscribe(new X(this.getSubject(),this))),R.closed&&(this._connection=null,R=A.w.EMPTY)),R}refCount(){return(0,H.x)()(this)}}const B=(()=>{const W=z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:W._subscribe},_isComplete:{value:W._isComplete,writable:!0},getSubject:{value:W.getSubject},connect:{value:W.connect},refCount:{value:W.refCount}}})();class X extends b.Yc{constructor(R,N){super(R),this.connectable=N}_error(R){this._unsubscribe(),super._error(R)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const R=this.connectable;if(R){this.connectable=null;const N=R._connection;R._refCount=0,R._subject=null,R._connection=null,N&&N.unsubscribe()}}}},6053:(p,m,g)=>{"use strict";g.d(m,{Ms:()=>T,aj:()=>X});var b=g(2866),C=g(6688),A=g(826),H=g(448),z=g(3009);const B={};function X(...W){let R,N;return(0,b.K)(W[W.length-1])&&(N=W.pop()),"function"==typeof W[W.length-1]&&(R=W.pop()),1===W.length&&(0,C.k)(W[0])&&(W=W[0]),(0,z.n)(W,N).lift(new T(R))}class T{constructor(R){this.resultSelector=R}call(R,N){return N.subscribe(new F(R,this.resultSelector))}}class F extends A.L{constructor(R,N){super(R),this.resultSelector=N,this.active=0,this.values=[],this.observables=[]}_next(R){this.values.push(B),this.observables.push(R)}_complete(){const R=this.observables,N=R.length;if(0===N)this.destination.complete();else{this.active=N,this.toRespond=N;for(let G=0;G<N;G++)this.add((0,H.D)(this,R[G],void 0,G))}}notifyComplete(R){0==(this.active-=1)&&this.destination.complete()}notifyNext(R,N,G){const I=this.values,re=this.toRespond?I[G]===B?--this.toRespond:this.toRespond:0;I[G]=N,0===re&&(this.resultSelector?this._tryResultSelector(I):this.destination.next(I.slice()))}_tryResultSelector(R){let N;try{N=this.resultSelector.apply(this,R)}catch(G){return void this.destination.error(G)}this.destination.next(N)}}},1961:(p,m,g)=>{"use strict";g.d(m,{z:()=>A});var b=g(1086),C=g(534);function A(...H){return(0,C.u)()((0,b.of)(...H))}},8514:(p,m,g)=>{"use strict";g.d(m,{P:()=>H});var b=g(4202),C=g(3527),A=g(8896);function H(z){return new b.y(B=>{let X;try{X=z()}catch(F){return void B.error(F)}return(X?(0,C.D)(X):(0,A.c)()).subscribe(B)})}},8896:(p,m,g)=>{"use strict";g.d(m,{E:()=>C,c:()=>A});var b=g(4202);const C=new b.y(z=>z.complete());function A(z){return z?function H(z){return new b.y(B=>z.schedule(()=>B.complete()))}(z):C}},567:(p,m,g)=>{"use strict";g.d(m,{D:()=>B});var b=g(4202),C=g(6688),A=g(4850),H=g(7830),z=g(3527);function B(...T){if(1===T.length){const F=T[0];if((0,C.k)(F))return X(F,null);if((0,H.K)(F)&&Object.getPrototypeOf(F)===Object.prototype){const W=Object.keys(F);return X(W.map(R=>F[R]),W)}}if("function"==typeof T[T.length-1]){const F=T.pop();return X(T=1===T.length&&(0,C.k)(T[0])?T[0]:T,null).pipe((0,A.U)(W=>F(...W)))}return X(T,null)}function X(T,F){return new b.y(W=>{const R=T.length;if(0===R)return void W.complete();const N=new Array(R);let G=0,I=0;for(let V=0;V<R;V++){const re=(0,z.D)(T[V]);let he=!1;W.add(re.subscribe({next:pe=>{he||(he=!0,I++),N[V]=pe},error:pe=>W.error(pe),complete:()=>{G++,(G===R||!he)&&(I===R&&W.next(F?F.reduce((pe,Le,Qe)=>(pe[Le]=N[Qe],pe),{}):N),W.complete())}}))}})}},3527:(p,m,g)=>{"use strict";g.d(m,{D:()=>H});var b=g(4202),C=g(9249),A=g(3998);function H(z,B){return B?(0,A.x)(z,B):z instanceof b.y?z:new b.y((0,C.s)(z))}},3009:(p,m,g)=>{"use strict";g.d(m,{n:()=>H});var b=g(4202),C=g(3650),A=g(6454);function H(z,B){return B?(0,A.r)(z,B):new b.y((0,C.V)(z))}},3753:(p,m,g)=>{"use strict";g.d(m,{R:()=>B});var b=g(4202),C=g(6688),A=g(7043),H=g(4850);function B(R,N,G,I){return(0,A.m)(G)&&(I=G,G=void 0),I?B(R,N,G).pipe((0,H.U)(V=>(0,C.k)(V)?I(...V):I(V))):new b.y(V=>{X(R,N,function re(he){V.next(arguments.length>1?Array.prototype.slice.call(arguments):he)},V,G)})}function X(R,N,G,I,V){let re;if(function W(R){return R&&"function"==typeof R.addEventListener&&"function"==typeof R.removeEventListener}(R)){const he=R;R.addEventListener(N,G,V),re=()=>he.removeEventListener(N,G,V)}else if(function F(R){return R&&"function"==typeof R.on&&"function"==typeof R.off}(R)){const he=R;R.on(N,G),re=()=>he.off(N,G)}else if(function T(R){return R&&"function"==typeof R.addListener&&"function"==typeof R.removeListener}(R)){const he=R;R.addListener(N,G),re=()=>he.removeListener(N,G)}else{if(!R||!R.length)throw new TypeError("Invalid event target");for(let he=0,pe=R.length;he<pe;he++)X(R[he],N,G,I,V)}I.add(re)}},6787:(p,m,g)=>{"use strict";g.d(m,{T:()=>z});var b=g(4202),C=g(2866),A=g(9146),H=g(3009);function z(...B){let X=Number.POSITIVE_INFINITY,T=null,F=B[B.length-1];return(0,C.K)(F)?(T=B.pop(),B.length>1&&"number"==typeof B[B.length-1]&&(X=B.pop())):"number"==typeof F&&(X=B.pop()),null===T&&1===B.length&&B[0]instanceof b.y?B[0]:(0,A.J)(X)((0,H.n)(B,T))}},7274:(p,m,g)=>{"use strict";g.d(m,{C:()=>A,F:()=>H});var b=g(4202),C=g(7876);const A=new b.y(C.Z);function H(){return A}},1086:(p,m,g)=>{"use strict";g.d(m,{of:()=>H});var b=g(2866),C=g(3009),A=g(6454);function H(...z){let B=z[z.length-1];return(0,b.K)(B)?(z.pop(),(0,A.r)(z,B)):(0,C.n)(z)}},1946:(p,m,g)=>{"use strict";g.d(m,{S3:()=>z});var b=g(6688),C=g(3009),A=g(826),H=g(448);function z(...T){if(1===T.length){if(!(0,b.k)(T[0]))return T[0];T=T[0]}return(0,C.n)(T,void 0).lift(new B)}class B{call(F,W){return W.subscribe(new X(F))}}class X extends A.L{constructor(F){super(F),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(F){this.observables.push(F)}_complete(){const F=this.observables,W=F.length;if(0===W)this.destination.complete();else{for(let R=0;R<W&&!this.hasFirst;R++){const G=(0,H.D)(this,F[R],void 0,R);this.subscriptions&&this.subscriptions.push(G),this.add(G)}this.observables=null}}notifyNext(F,W,R){if(!this.hasFirst){this.hasFirst=!0;for(let N=0;N<this.subscriptions.length;N++)if(N!==R){let G=this.subscriptions[N];G.unsubscribe(),this.remove(G)}this.subscriptions=null}this.destination.next(W)}}},1737:(p,m,g)=>{"use strict";g.d(m,{_:()=>C});var b=g(4202);function C(H,z){return new b.y(z?B=>z.schedule(A,0,{error:H,subscriber:B}):B=>B.error(H))}function A({error:H,subscriber:z}){z.error(H)}},8723:(p,m,g)=>{"use strict";g.d(m,{H:()=>z});var b=g(4202),C=g(353),A=g(4241),H=g(2866);function z(X=0,T,F){let W=-1;return(0,A.k)(T)?W=Number(T)<1?1:Number(T):(0,H.K)(T)&&(F=T),(0,H.K)(F)||(F=C.P),new b.y(R=>{const N=(0,A.k)(X)?X:+X-F.now();return F.schedule(B,N,{index:0,period:W,subscriber:R})})}function B(X){const{index:T,period:F,subscriber:W}=X;if(W.next(T),!W.closed){if(-1===F)return W.complete();X.index=T+1,this.schedule(X,F)}}},1746:(p,m,g)=>{"use strict";g.d(m,{$R:()=>B,mx:()=>X});var b=g(3009),C=g(6688),A=g(3489),H=g(5430),z=g(1177);function B(...N){const G=N[N.length-1];return"function"==typeof G&&N.pop(),(0,b.n)(N,void 0).lift(new X(G))}class X{constructor(G){this.resultSelector=G}call(G,I){return I.subscribe(new T(G,this.resultSelector))}}class T extends A.L{constructor(G,I,V=Object.create(null)){super(G),this.resultSelector=I,this.iterators=[],this.active=0,this.resultSelector="function"==typeof I?I:void 0}_next(G){const I=this.iterators;(0,C.k)(G)?I.push(new W(G)):I.push("function"==typeof G[H.hZ]?new F(G[H.hZ]()):new R(this.destination,this,G))}_complete(){const G=this.iterators,I=G.length;if(this.unsubscribe(),0!==I){this.active=I;for(let V=0;V<I;V++){let re=G[V];re.stillUnsubscribed?this.destination.add(re.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const G=this.iterators,I=G.length,V=this.destination;for(let pe=0;pe<I;pe++){let Le=G[pe];if("function"==typeof Le.hasValue&&!Le.hasValue())return}let re=!1;const he=[];for(let pe=0;pe<I;pe++){let Le=G[pe],Qe=Le.next();if(Le.hasCompleted()&&(re=!0),Qe.done)return void V.complete();he.push(Qe.value)}this.resultSelector?this._tryresultSelector(he):V.next(he),re&&V.complete()}_tryresultSelector(G){let I;try{I=this.resultSelector.apply(this,G)}catch(V){return void this.destination.error(V)}this.destination.next(I)}}class F{constructor(G){this.iterator=G,this.nextResult=G.next()}hasValue(){return!0}next(){const G=this.nextResult;return this.nextResult=this.iterator.next(),G}hasCompleted(){const G=this.nextResult;return Boolean(G&&G.done)}}class W{constructor(G){this.array=G,this.index=0,this.length=0,this.length=G.length}[H.hZ](){return this}next(G){const I=this.index++;return I<this.length?{value:this.array[I],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class R extends z.Ds{constructor(G,I,V){super(G),this.parent=I,this.observable=V,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[H.hZ](){return this}next(){const G=this.buffer;return 0===G.length&&this.isComplete?{value:null,done:!0}:{value:G.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(G){this.buffer.push(G),this.parent.checkIterators()}subscribe(){return(0,z.ft)(this.observable,new z.IY(this))}}},7221:(p,m,g)=>{"use strict";g.d(m,{K:()=>C});var b=g(1177);function C(z){return function(X){const T=new A(z),F=X.lift(T);return T.caught=F}}class A{constructor(B){this.selector=B}call(B,X){return X.subscribe(new H(B,this.selector,this.caught))}}class H extends b.Ds{constructor(B,X,T){super(B),this.selector=X,this.caught=T}error(B){if(!this.isStopped){let X;try{X=this.selector(B,this.caught)}catch(W){return void super.error(W)}this._unsubscribeAndRecycle();const T=new b.IY(this);this.add(T);const F=(0,b.ft)(X,T);F!==T&&this.add(F)}}}},534:(p,m,g)=>{"use strict";g.d(m,{u:()=>C});var b=g(9146);function C(){return(0,b.J)(1)}},1406:(p,m,g)=>{"use strict";g.d(m,{b:()=>C});var b=g(1709);function C(A,H){return(0,b.zg)(A,H,1)}},7314:(p,m,g)=>{"use strict";g.d(m,{d:()=>C});var b=g(3489);function C(z=null){return B=>B.lift(new A(z))}class A{constructor(B){this.defaultValue=B}call(B,X){return X.subscribe(new H(B,this.defaultValue))}}class H extends b.L{constructor(B,X){super(B),this.defaultValue=X,this.isEmpty=!0}_next(B){this.isEmpty=!1,this.destination.next(B)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},943:(p,m,g)=>{"use strict";g.d(m,{g:()=>z});var b=g(353),C=g(2697),A=g(3489),H=g(9312);function z(F,W=b.P){const N=(0,C.J)(F)?+F-W.now():Math.abs(F);return G=>G.lift(new B(N,W))}class B{constructor(W,R){this.delay=W,this.scheduler=R}call(W,R){return R.subscribe(new X(W,this.delay,this.scheduler))}}class X extends A.L{constructor(W,R,N){super(W),this.delay=R,this.scheduler=N,this.queue=[],this.active=!1,this.errored=!1}static dispatch(W){const R=W.source,N=R.queue,G=W.scheduler,I=W.destination;for(;N.length>0&&N[0].time-G.now()<=0;)N.shift().notification.observe(I);if(N.length>0){const V=Math.max(0,N[0].time-G.now());this.schedule(W,V)}else this.unsubscribe(),R.active=!1}_schedule(W){this.active=!0,this.destination.add(W.schedule(X.dispatch,this.delay,{source:this,destination:this.destination,scheduler:W}))}scheduleNotification(W){if(!0===this.errored)return;const R=this.scheduler,N=new T(R.now()+this.delay,W);this.queue.push(N),!1===this.active&&this._schedule(R)}_next(W){this.scheduleNotification(H.P.createNext(W))}_error(W){this.errored=!0,this.queue=[],this.destination.error(W),this.unsubscribe()}_complete(){this.scheduleNotification(H.P.createComplete()),this.unsubscribe()}}class T{constructor(W,R){this.time=W,this.notification=R}}},5778:(p,m,g)=>{"use strict";g.d(m,{x:()=>C});var b=g(3489);function C(z,B){return X=>X.lift(new A(z,B))}class A{constructor(B,X){this.compare=B,this.keySelector=X}call(B,X){return X.subscribe(new H(B,this.compare,this.keySelector))}}class H extends b.L{constructor(B,X,T){super(B),this.keySelector=T,this.hasKey=!1,"function"==typeof X&&(this.compare=X)}compare(B,X){return B===X}_next(B){let X;try{const{keySelector:F}=this;X=F?F(B):B}catch(F){return this.destination.error(F)}let T=!1;if(this.hasKey)try{const{compare:F}=this;T=F(this.key,X)}catch(F){return this.destination.error(F)}else this.hasKey=!0;T||(this.key=X,this.destination.next(B))}}},2334:(p,m,g)=>{"use strict";g.d(m,{l:()=>A});var b=g(1961),C=g(1086);function A(...H){return z=>(0,b.z)(z,(0,C.of)(...H))}},2198:(p,m,g)=>{"use strict";g.d(m,{h:()=>C});var b=g(3489);function C(z,B){return function(T){return T.lift(new A(z,B))}}class A{constructor(B,X){this.predicate=B,this.thisArg=X}call(B,X){return X.subscribe(new H(B,this.predicate,this.thisArg))}}class H extends b.L{constructor(B,X,T){super(B),this.predicate=X,this.thisArg=T,this.count=0}_next(B){let X;try{X=this.predicate.call(this.thisArg,B,this.count++)}catch(T){return void this.destination.error(T)}X&&this.destination.next(B)}}},537:(p,m,g)=>{"use strict";g.d(m,{x:()=>A});var b=g(3489),C=g(4096);function A(B){return X=>X.lift(new H(B))}class H{constructor(X){this.callback=X}call(X,T){return T.subscribe(new z(X,this.callback))}}class z extends b.L{constructor(X,T){super(X),this.add(new C.w(T))}}},7224:(p,m,g)=>{"use strict";g.d(m,{P:()=>X});var b=g(4450),C=g(2198),A=g(2986),H=g(7314),z=g(4907),B=g(5379);function X(T,F){const W=arguments.length>=2;return R=>R.pipe(T?(0,C.h)((N,G)=>T(N,G,R)):B.y,(0,A.q)(1),W?(0,H.d)(F):(0,z.T)(()=>new b.K))}},4002:(p,m,g)=>{"use strict";g.d(m,{T:()=>F,v:()=>z});var b=g(3489),C=g(4096),A=g(4202),H=g(8929);function z(R,N,G,I){return V=>V.lift(new B(R,N,G,I))}class B{constructor(N,G,I,V){this.keySelector=N,this.elementSelector=G,this.durationSelector=I,this.subjectSelector=V}call(N,G){return G.subscribe(new X(N,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class X extends b.L{constructor(N,G,I,V,re){super(N),this.keySelector=G,this.elementSelector=I,this.durationSelector=V,this.subjectSelector=re,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(N){let G;try{G=this.keySelector(N)}catch(I){return void this.error(I)}this._group(N,G)}_group(N,G){let I=this.groups;I||(I=this.groups=new Map);let re,V=I.get(G);if(this.elementSelector)try{re=this.elementSelector(N)}catch(he){this.error(he)}else re=N;if(!V){V=this.subjectSelector?this.subjectSelector():new H.xQ,I.set(G,V);const he=new F(G,V,this);if(this.destination.next(he),this.durationSelector){let pe;try{pe=this.durationSelector(new F(G,V))}catch(Le){return void this.error(Le)}this.add(pe.subscribe(new T(G,V,this)))}}V.closed||V.next(re)}_error(N){const G=this.groups;G&&(G.forEach((I,V)=>{I.error(N)}),G.clear()),this.destination.error(N)}_complete(){const N=this.groups;N&&(N.forEach((G,I)=>{G.complete()}),N.clear()),this.destination.complete()}removeGroup(N){this.groups.delete(N)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class T extends b.L{constructor(N,G,I){super(G),this.key=N,this.group=G,this.parent=I}_next(N){this.complete()}_unsubscribe(){const{parent:N,key:G}=this;this.key=this.parent=null,N&&N.removeGroup(G)}}class F extends A.y{constructor(N,G,I){super(),this.key=N,this.groupSubject=G,this.refCountSubscription=I}_subscribe(N){const G=new C.w,{refCountSubscription:I,groupSubject:V}=this;return I&&!I.closed&&G.add(new W(I)),G.add(V.subscribe(N)),G}}class W extends C.w{constructor(N){super(),this.parent=N,N.count++}unsubscribe(){const N=this.parent;!N.closed&&!this.closed&&(super.unsubscribe(),N.count-=1,0===N.count&&N.attemptedToUnsubscribe&&N.unsubscribe())}}},8127:(p,m,g)=>{"use strict";g.d(m,{Z:()=>X});var b=g(4450),C=g(2198),A=g(2821),H=g(4907),z=g(7314),B=g(5379);function X(T,F){const W=arguments.length>=2;return R=>R.pipe(T?(0,C.h)((N,G)=>T(N,G,R)):B.y,(0,A.h)(1),W?(0,z.d)(F):(0,H.T)(()=>new b.K))}},4850:(p,m,g)=>{"use strict";g.d(m,{U:()=>C});var b=g(3489);function C(z,B){return function(T){if("function"!=typeof z)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return T.lift(new A(z,B))}}class A{constructor(B,X){this.project=B,this.thisArg=X}call(B,X){return X.subscribe(new H(B,this.project,this.thisArg))}}class H extends b.L{constructor(B,X,T){super(B),this.project=X,this.count=0,this.thisArg=T||this}_next(B){let X;try{X=this.project.call(this.thisArg,B,this.count++)}catch(T){return void this.destination.error(T)}this.destination.next(X)}}},7604:(p,m,g)=>{"use strict";g.d(m,{h:()=>C});var b=g(3489);function C(z){return B=>B.lift(new A(z))}class A{constructor(B){this.value=B}call(B,X){return X.subscribe(new H(B,this.value))}}class H extends b.L{constructor(B,X){super(B),this.value=X}_next(B){this.destination.next(this.value)}}},9146:(p,m,g)=>{"use strict";g.d(m,{J:()=>A});var b=g(1709),C=g(5379);function A(H=Number.POSITIVE_INFINITY){return(0,b.zg)(C.y,H)}},1709:(p,m,g)=>{"use strict";g.d(m,{VS:()=>X,zg:()=>H});var b=g(4850),C=g(3527),A=g(1177);function H(T,F,W=Number.POSITIVE_INFINITY){return"function"==typeof F?R=>R.pipe(H((N,G)=>(0,C.D)(T(N,G)).pipe((0,b.U)((I,V)=>F(N,I,G,V))),W)):("number"==typeof F&&(W=F),R=>R.lift(new z(T,W)))}class z{constructor(F,W=Number.POSITIVE_INFINITY){this.project=F,this.concurrent=W}call(F,W){return W.subscribe(new B(F,this.project,this.concurrent))}}class B extends A.Ds{constructor(F,W,R=Number.POSITIVE_INFINITY){super(F),this.project=W,this.concurrent=R,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(F){this.active<this.concurrent?this._tryNext(F):this.buffer.push(F)}_tryNext(F){let W;const R=this.index++;try{W=this.project(F,R)}catch(N){return void this.destination.error(N)}this.active++,this._innerSub(W)}_innerSub(F){const W=new A.IY(this),R=this.destination;R.add(W);const N=(0,A.ft)(F,W);N!==W&&R.add(N)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(F){this.destination.next(F)}notifyComplete(){const F=this.buffer;this.active--,F.length>0?this._next(F.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const X=H},2536:(p,m,g)=>{"use strict";g.d(m,{O:()=>C});var b=g(1762);function C(H,z){return function(X){let T;if(T="function"==typeof H?H:function(){return H},"function"==typeof z)return X.lift(new A(T,z));const F=Object.create(X,b.N);return F.source=X,F.subjectFactory=T,F}}class A{constructor(z,B){this.subjectFactory=z,this.selector=B}call(z,B){const{selector:X}=this,T=this.subjectFactory(),F=X(T).subscribe(z);return F.add(B.subscribe(T)),F}}},7770:(p,m,g)=>{"use strict";g.d(m,{QV:()=>A,ht:()=>z});var b=g(3489),C=g(9312);function A(X,T=0){return function(W){return W.lift(new H(X,T))}}class H{constructor(T,F=0){this.scheduler=T,this.delay=F}call(T,F){return F.subscribe(new z(T,this.scheduler,this.delay))}}class z extends b.L{constructor(T,F,W=0){super(T),this.scheduler=F,this.delay=W}static dispatch(T){const{notification:F,destination:W}=T;F.observe(W),this.unsubscribe()}scheduleMessage(T){this.destination.add(this.scheduler.schedule(z.dispatch,this.delay,new B(T,this.destination)))}_next(T){this.scheduleMessage(C.P.createNext(T))}_error(T){this.scheduleMessage(C.P.createError(T)),this.unsubscribe()}_complete(){this.scheduleMessage(C.P.createComplete()),this.unsubscribe()}}class B{constructor(T,F){this.notification=T,this.destination=F}}},8077:(p,m,g)=>{"use strict";g.d(m,{u:()=>z});var b=g(2014),C=g(2821),A=g(7314),H=g(4843);function z(B,X){return arguments.length>=2?function(F){return(0,H.z)((0,b.R)(B,X),(0,C.h)(1),(0,A.d)(X))(F)}:function(F){return(0,H.z)((0,b.R)((W,R,N)=>B(W,R,N+1)),(0,C.h)(1))(F)}}},4327:(p,m,g)=>{"use strict";g.d(m,{x:()=>C});var b=g(3489);function C(){return function(B){return B.lift(new A(B))}}class A{constructor(B){this.connectable=B}call(B,X){const{connectable:T}=this;T._refCount++;const F=new H(B,T),W=X.subscribe(F);return F.closed||(F.connection=T.connect()),W}}class H extends b.L{constructor(B,X){super(B),this.connectable=X}_unsubscribe(){const{connectable:B}=this;if(!B)return void(this.connection=null);this.connectable=null;const X=B._refCount;if(X<=0)return void(this.connection=null);if(B._refCount=X-1,X>1)return void(this.connection=null);const{connection:T}=this,F=B._connection;this.connection=null,F&&(!T||F===T)&&F.unsubscribe()}}},2014:(p,m,g)=>{"use strict";g.d(m,{R:()=>C});var b=g(3489);function C(z,B){let X=!1;return arguments.length>=2&&(X=!0),function(F){return F.lift(new A(z,B,X))}}class A{constructor(B,X,T=!1){this.accumulator=B,this.seed=X,this.hasSeed=T}call(B,X){return X.subscribe(new H(B,this.accumulator,this.seed,this.hasSeed))}}class H extends b.L{constructor(B,X,T,F){super(B),this.accumulator=X,this._seed=T,this.hasSeed=F,this.index=0}get seed(){return this._seed}set seed(B){this.hasSeed=!0,this._seed=B}_next(B){if(this.hasSeed)return this._tryNext(B);this.seed=B,this.destination.next(B)}_tryNext(B){const X=this.index++;let T;try{T=this.accumulator(this.seed,B,X)}catch(F){this.destination.error(F)}this.seed=T,this.destination.next(T)}}},8117:(p,m,g)=>{"use strict";g.d(m,{B:()=>z});var b=g(2536),C=g(4327),A=g(8929);function H(){return new A.xQ}function z(){return B=>(0,C.x)()((0,b.O)(H)(B))}},1307:(p,m,g)=>{"use strict";g.d(m,{T:()=>C});var b=g(3489);function C(z){return B=>B.lift(new A(z))}class A{constructor(B){this.total=B}call(B,X){return X.subscribe(new H(B,this.total))}}class H extends b.L{constructor(B,X){super(B),this.total=X,this.count=0}_next(B){++this.count>this.total&&this.destination.next(B)}}},1059:(p,m,g)=>{"use strict";g.d(m,{O:()=>A});var b=g(1961),C=g(2866);function A(...H){const z=H[H.length-1];return(0,C.K)(z)?(H.pop(),B=>(0,b.z)(H,B,z)):B=>(0,b.z)(H,B)}},7545:(p,m,g)=>{"use strict";g.d(m,{w:()=>H});var b=g(4850),C=g(3527),A=g(1177);function H(X,T){return"function"==typeof T?F=>F.pipe(H((W,R)=>(0,C.D)(X(W,R)).pipe((0,b.U)((N,G)=>T(W,N,R,G))))):F=>F.lift(new z(X))}class z{constructor(T){this.project=T}call(T,F){return F.subscribe(new B(T,this.project))}}class B extends A.Ds{constructor(T,F){super(T),this.project=F,this.index=0}_next(T){let F;const W=this.index++;try{F=this.project(T,W)}catch(R){return void this.destination.error(R)}this._innerSub(F)}_innerSub(T){const F=this.innerSubscription;F&&F.unsubscribe();const W=new A.IY(this),R=this.destination;R.add(W),this.innerSubscription=(0,A.ft)(T,W),this.innerSubscription!==W&&R.add(this.innerSubscription)}_complete(){const{innerSubscription:T}=this;(!T||T.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(T){this.destination.next(T)}}},2986:(p,m,g)=>{"use strict";g.d(m,{q:()=>H});var b=g(3489),C=g(4231),A=g(8896);function H(X){return T=>0===X?(0,A.c)():T.lift(new z(X))}class z{constructor(T){if(this.total=T,this.total<0)throw new C.W}call(T,F){return F.subscribe(new B(T,this.total))}}class B extends b.L{constructor(T,F){super(T),this.total=F,this.count=0}_next(T){const F=this.total,W=++this.count;W<=F&&(this.destination.next(T),W===F&&(this.destination.complete(),this.unsubscribe()))}}},2821:(p,m,g)=>{"use strict";g.d(m,{h:()=>H});var b=g(3489),C=g(4231),A=g(8896);function H(X){return function(F){return 0===X?(0,A.c)():F.lift(new z(X))}}class z{constructor(T){if(this.total=T,this.total<0)throw new C.W}call(T,F){return F.subscribe(new B(T,this.total))}}class B extends b.L{constructor(T,F){super(T),this.total=F,this.ring=new Array,this.count=0}_next(T){const F=this.ring,W=this.total,R=this.count++;F.length<W?F.push(T):F[R%W]=T}_complete(){const T=this.destination;let F=this.count;if(F>0){const W=this.count>=this.total?this.total:this.count,R=this.ring;for(let N=0;N<W;N++){const G=F++%W;T.next(R[G])}}T.complete()}}},7625:(p,m,g)=>{"use strict";g.d(m,{R:()=>C});var b=g(1177);function C(z){return B=>B.lift(new A(z))}class A{constructor(B){this.notifier=B}call(B,X){const T=new H(B),F=(0,b.ft)(this.notifier,new b.IY(T));return F&&!T.seenValue?(T.add(F),X.subscribe(T)):T}}class H extends b.Ds{constructor(B){super(B),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},4290:(p,m,g)=>{"use strict";g.d(m,{o:()=>C});var b=g(3489);function C(z,B=!1){return X=>X.lift(new A(z,B))}class A{constructor(B,X){this.predicate=B,this.inclusive=X}call(B,X){return X.subscribe(new H(B,this.predicate,this.inclusive))}}class H extends b.L{constructor(B,X,T){super(B),this.predicate=X,this.inclusive=T,this.index=0}_next(B){const X=this.destination;let T;try{T=this.predicate(B,this.index++)}catch(F){return void X.error(F)}this.nextOrComplete(B,T)}nextOrComplete(B,X){const T=this.destination;Boolean(X)?T.next(B):(this.inclusive&&T.next(B),T.complete())}}},2994:(p,m,g)=>{"use strict";g.d(m,{b:()=>H});var b=g(3489),C=g(7876),A=g(7043);function H(X,T,F){return function(R){return R.lift(new z(X,T,F))}}class z{constructor(T,F,W){this.nextOrObserver=T,this.error=F,this.complete=W}call(T,F){return F.subscribe(new B(T,this.nextOrObserver,this.error,this.complete))}}class B extends b.L{constructor(T,F,W,R){super(T),this._tapNext=C.Z,this._tapError=C.Z,this._tapComplete=C.Z,this._tapError=W||C.Z,this._tapComplete=R||C.Z,(0,A.m)(F)?(this._context=this,this._tapNext=F):F&&(this._context=F,this._tapNext=F.next||C.Z,this._tapError=F.error||C.Z,this._tapComplete=F.complete||C.Z)}_next(T){try{this._tapNext.call(this._context,T)}catch(F){return void this.destination.error(F)}this.destination.next(T)}_error(T){try{this._tapError.call(this._context,T)}catch(F){return void this.destination.error(F)}this.destination.error(T)}_complete(){try{this._tapComplete.call(this._context)}catch(T){return void this.destination.error(T)}return this.destination.complete()}}},4907:(p,m,g)=>{"use strict";g.d(m,{T:()=>A});var b=g(4450),C=g(3489);function A(X=B){return T=>T.lift(new H(X))}class H{constructor(T){this.errorFactory=T}call(T,F){return F.subscribe(new z(T,this.errorFactory))}}class z extends C.L{constructor(T,F){super(T),this.errorFactory=F,this.hasValue=!1}_next(T){this.hasValue=!0,this.destination.next(T)}_complete(){if(this.hasValue)return this.destination.complete();{let T;try{T=this.errorFactory()}catch(F){T=F}this.destination.error(T)}}}function B(){return new b.K}},864:(p,m,g)=>{"use strict";g.d(m,{q:()=>A});var b=g(8077);function C(H,z,B){return 0===B?[z]:(H.push(z),H)}function A(){return(0,b.u)(C,[])}},7168:(p,m,g)=>{"use strict";g.d(m,{M:()=>A});var b=g(826),C=g(448);function A(...B){return X=>{let T;return"function"==typeof B[B.length-1]&&(T=B.pop()),X.lift(new H(B,T))}}class H{constructor(X,T){this.observables=X,this.project=T}call(X,T){return T.subscribe(new z(X,this.observables,this.project))}}class z extends b.L{constructor(X,T,F){super(X),this.observables=T,this.project=F,this.toRespond=[];const W=T.length;this.values=new Array(W);for(let R=0;R<W;R++)this.toRespond.push(R);for(let R=0;R<W;R++)this.add((0,C.D)(this,T[R],void 0,R))}notifyNext(X,T,F){this.values[F]=T;const W=this.toRespond;if(W.length>0){const R=W.indexOf(F);-1!==R&&W.splice(R,1)}}notifyComplete(){}_next(X){if(0===this.toRespond.length){const T=[X,...this.values];this.project?this._tryProject(T):this.destination.next(T)}}_tryProject(X){let T;try{T=this.project.apply(this,X)}catch(F){return void this.destination.error(F)}this.destination.next(T)}}},6454:(p,m,g)=>{"use strict";g.d(m,{r:()=>A});var b=g(4202),C=g(4096);function A(H,z){return new b.y(B=>{const X=new C.w;let T=0;return X.add(z.schedule(function(){T!==H.length?(B.next(H[T++]),B.closed||X.add(this.schedule())):B.complete()})),X})}},3998:(p,m,g)=>{"use strict";g.d(m,{x:()=>G});var b=g(4202),C=g(4096),A=g(3821),B=g(6454),X=g(5430),W=g(8955),R=g(8515);function G(I,V){if(null!=I){if(function F(I){return I&&"function"==typeof I[A.L]}(I))return function H(I,V){return new b.y(re=>{const he=new C.w;return he.add(V.schedule(()=>{const pe=I[A.L]();he.add(pe.subscribe({next(Le){he.add(V.schedule(()=>re.next(Le)))},error(Le){he.add(V.schedule(()=>re.error(Le)))},complete(){he.add(V.schedule(()=>re.complete()))}}))})),he})}(I,V);if((0,W.t)(I))return function z(I,V){return new b.y(re=>{const he=new C.w;return he.add(V.schedule(()=>I.then(pe=>{he.add(V.schedule(()=>{re.next(pe),he.add(V.schedule(()=>re.complete()))}))},pe=>{he.add(V.schedule(()=>re.error(pe)))}))),he})}(I,V);if((0,R.z)(I))return(0,B.r)(I,V);if(function N(I){return I&&"function"==typeof I[X.hZ]}(I)||"string"==typeof I)return function T(I,V){if(!I)throw new Error("Iterable cannot be null");return new b.y(re=>{const he=new C.w;let pe;return he.add(()=>{pe&&"function"==typeof pe.return&&pe.return()}),he.add(V.schedule(()=>{pe=I[X.hZ](),he.add(V.schedule(function(){if(re.closed)return;let Le,Qe;try{const Ne=pe.next();Le=Ne.value,Qe=Ne.done}catch(Ne){return void re.error(Ne)}Qe?re.complete():(re.next(Le),this.schedule())}))})),he})}(I,V)}throw new TypeError((null!==I&&typeof I||I)+" is not observable")}},6686:(p,m,g)=>{"use strict";g.d(m,{o:()=>A});var b=g(4096);class C extends b.w{constructor(z,B){super()}schedule(z,B=0){return this}}class A extends C{constructor(z,B){super(z,B),this.scheduler=z,this.work=B,this.pending=!1}schedule(z,B=0){if(this.closed)return this;this.state=z;const X=this.id,T=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(T,X,B)),this.pending=!0,this.delay=B,this.id=this.id||this.requestAsyncId(T,this.id,B),this}requestAsyncId(z,B,X=0){return setInterval(z.flush.bind(z,this),X)}recycleAsyncId(z,B,X=0){if(null!==X&&this.delay===X&&!1===this.pending)return B;clearInterval(B)}execute(z,B){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(z,B);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(z,B){let T,X=!1;try{this.work(z)}catch(F){X=!0,T=!!F&&F||new Error(F)}if(X)return this.unsubscribe(),T}_unsubscribe(){const z=this.id,B=this.scheduler,X=B.actions,T=X.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==T&&X.splice(T,1),null!=z&&(this.id=this.recycleAsyncId(B,z,null)),this.delay=null}}},198:(p,m,g)=>{"use strict";g.d(m,{v:()=>C});var b=g(2221);class C extends b.b{constructor(H,z=b.b.now){super(H,()=>C.delegate&&C.delegate!==this?C.delegate.now():z()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(H,z=0,B){return C.delegate&&C.delegate!==this?C.delegate.schedule(H,z,B):super.schedule(H,z,B)}flush(H){const{actions:z}=this;if(this.active)return void z.push(H);let B;this.active=!0;do{if(B=H.execute(H.state,H.delay))break}while(H=z.shift());if(this.active=!1,B){for(;H=z.shift();)H.unsubscribe();throw B}}}},8139:(p,m,g)=>{"use strict";g.d(m,{e:()=>N,E:()=>R});let b=1;const C=Promise.resolve(),A={};function H(G){return G in A&&(delete A[G],!0)}const z={setImmediate(G){const I=b++;return A[I]=!0,C.then(()=>H(I)&&G()),I},clearImmediate(G){H(G)}};var X=g(6686),F=g(198);const R=new class W extends F.v{flush(I){this.active=!0,this.scheduled=void 0;const{actions:V}=this;let re,he=-1,pe=V.length;I=I||V.shift();do{if(re=I.execute(I.state,I.delay))break}while(++he<pe&&(I=V.shift()));if(this.active=!1,re){for(;++he<pe&&(I=V.shift());)I.unsubscribe();throw re}}}(class T extends X.o{constructor(I,V){super(I,V),this.scheduler=I,this.work=V}requestAsyncId(I,V,re=0){return null!==re&&re>0?super.requestAsyncId(I,V,re):(I.actions.push(this),I.scheduled||(I.scheduled=z.setImmediate(I.flush.bind(I,null))))}recycleAsyncId(I,V,re=0){if(null!==re&&re>0||null===re&&this.delay>0)return super.recycleAsyncId(I,V,re);0===I.actions.length&&(z.clearImmediate(V),I.scheduled=void 0)}}),N=R},353:(p,m,g)=>{"use strict";g.d(m,{P:()=>H,z:()=>A});var b=g(6686);const A=new(g(198).v)(b.o),H=A},341:(p,m,g)=>{"use strict";g.d(m,{c:()=>B,N:()=>z});var b=g(6686),A=g(198);const z=new class H extends A.v{}(class C extends b.o{constructor(T,F){super(T,F),this.scheduler=T,this.work=F}schedule(T,F=0){return F>0?super.schedule(T,F):(this.delay=F,this.state=T,this.scheduler.flush(this),this)}execute(T,F){return F>0||this.closed?super.execute(T,F):this._execute(T,F)}requestAsyncId(T,F,W=0){return null!==W&&W>0||null===W&&this.delay>0?super.requestAsyncId(T,F,W):T.flush(this)}}),B=z},5430:(p,m,g)=>{"use strict";g.d(m,{hZ:()=>C});const C=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(p,m,g)=>{"use strict";g.d(m,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(p,m,g)=>{"use strict";g.d(m,{b:()=>b});const b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(p,m,g)=>{"use strict";g.d(m,{W:()=>C});const C=(()=>{function A(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return A.prototype=Object.create(Error.prototype),A})()},4450:(p,m,g)=>{"use strict";g.d(m,{K:()=>C});const C=(()=>{function A(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return A.prototype=Object.create(Error.prototype),A})()},5279:(p,m,g)=>{"use strict";g.d(m,{N:()=>C});const C=(()=>{function A(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return A.prototype=Object.create(Error.prototype),A})()},854:(p,m,g)=>{"use strict";g.d(m,{W:()=>C});const C=(()=>{function A(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return A.prototype=Object.create(Error.prototype),A})()},7964:(p,m,g)=>{"use strict";g.d(m,{B:()=>C});const C=(()=>{function A(H){return Error.call(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((z,B)=>`${B+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H,this}return A.prototype=Object.create(Error.prototype),A})()},9476:(p,m,g)=>{"use strict";g.d(m,{_:()=>C});var b=g(3489);function C(A){for(;A;){const{closed:H,destination:z,isStopped:B}=A;if(H||B)return!1;A=z&&z instanceof b.L?z:null}return!0}},2782:(p,m,g)=>{"use strict";function b(C){setTimeout(()=>{throw C},0)}g.d(m,{z:()=>b})},5379:(p,m,g)=>{"use strict";function b(C){return C}g.d(m,{y:()=>b})},6688:(p,m,g)=>{"use strict";g.d(m,{k:()=>b});const b=Array.isArray||(C=>C&&"number"==typeof C.length)},8515:(p,m,g)=>{"use strict";g.d(m,{z:()=>b});const b=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2697:(p,m,g)=>{"use strict";function b(C){return C instanceof Date&&!isNaN(+C)}g.d(m,{J:()=>b})},7043:(p,m,g)=>{"use strict";function b(C){return"function"==typeof C}g.d(m,{m:()=>b})},4241:(p,m,g)=>{"use strict";g.d(m,{k:()=>C});var b=g(6688);function C(A){return!(0,b.k)(A)&&A-parseFloat(A)+1>=0}},7830:(p,m,g)=>{"use strict";function b(C){return null!==C&&"object"==typeof C}g.d(m,{K:()=>b})},8955:(p,m,g)=>{"use strict";function b(C){return!!C&&"function"!=typeof C.subscribe&&"function"==typeof C.then}g.d(m,{t:()=>b})},2866:(p,m,g)=>{"use strict";function b(C){return C&&"function"==typeof C.schedule}g.d(m,{K:()=>b})},7876:(p,m,g)=>{"use strict";function b(){}g.d(m,{Z:()=>b})},5884:(p,m,g)=>{"use strict";function b(C,A){function H(){return!H.pred.apply(H.thisArg,arguments)}return H.pred=C,H.thisArg=A,H}g.d(m,{f:()=>b})},4843:(p,m,g)=>{"use strict";g.d(m,{U:()=>A,z:()=>C});var b=g(5379);function C(...H){return A(H)}function A(H){return 0===H.length?b.y:1===H.length?H[0]:function(B){return H.reduce((X,T)=>T(X),B)}}},9249:(p,m,g)=>{"use strict";g.d(m,{s:()=>R});var b=g(3650),C=g(2782),H=g(5430),B=g(3821),T=g(8515),F=g(8955),W=g(7830);const R=N=>{if(N&&"function"==typeof N[B.L])return(N=>G=>{const I=N[B.L]();if("function"!=typeof I.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return I.subscribe(G)})(N);if((0,T.z)(N))return(0,b.V)(N);if((0,F.t)(N))return(N=>G=>(N.then(I=>{G.closed||(G.next(I),G.complete())},I=>G.error(I)).then(null,C.z),G))(N);if(N&&"function"==typeof N[H.hZ])return(N=>G=>{const I=N[H.hZ]();for(;;){let V;try{V=I.next()}catch(re){return G.error(re),G}if(V.done){G.complete();break}if(G.next(V.value),G.closed)break}return"function"==typeof I.return&&G.add(()=>{I.return&&I.return()}),G})(N);{const I=`You provided ${(0,W.K)(N)?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(I)}}},3650:(p,m,g)=>{"use strict";g.d(m,{V:()=>b});const b=C=>A=>{for(let H=0,z=C.length;H<z&&!A.closed;H++)A.next(C[H]);A.complete()}},448:(p,m,g)=>{"use strict";g.d(m,{D:()=>z});var b=g(3489);class C extends b.L{constructor(X,T,F){super(),this.parent=X,this.outerValue=T,this.outerIndex=F,this.index=0}_next(X){this.parent.notifyNext(this.outerValue,X,this.outerIndex,this.index++,this)}_error(X){this.parent.notifyError(X,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var A=g(9249),H=g(4202);function z(B,X,T,F,W=new C(B,T,F)){if(!W.closed)return X instanceof H.y?X.subscribe(W):(0,A.s)(X)(W)}},8732:(p,m,g)=>{"use strict";g.r(m),g.d(m,{audit:()=>C,auditTime:()=>X,buffer:()=>T,bufferCount:()=>N,bufferTime:()=>he,bufferToggle:()=>ht,bufferWhen:()=>Qt,catchError:()=>ot.K,combineAll:()=>An,combineLatest:()=>on,concat:()=>lt,concatAll:()=>Fn.u,concatMap:()=>un.b,concatMapTo:()=>Hi,count:()=>Xi,debounce:()=>Pi,debounceTime:()=>to,defaultIfEmpty:()=>ui.d,delay:()=>xo.g,delayWhen:()=>Xr,dematerialize:()=>_r,distinct:()=>sn,distinctUntilChanged:()=>Bn.x,distinctUntilKeyChanged:()=>er,elementAt:()=>Eo,endWith:()=>oa.l,every:()=>Yn,exhaust:()=>Ot,exhaustMap:()=>xt,expand:()=>Ui,filter:()=>$r.h,finalize:()=>fo.x,find:()=>_s,findIndex:()=>Lr,first:()=>Ls.P,flatMap:()=>Gu.VS,groupBy:()=>jc.v,ignoreElements:()=>Do,isEmpty:()=>ol,last:()=>Rd.Z,map:()=>Kt.U,mapTo:()=>El.h,materialize:()=>Vc,max:()=>sa,merge:()=>dg,mergeAll:()=>pr.J,mergeMap:()=>Gu.zg,mergeMapTo:()=>v1,mergeScan:()=>Rh,min:()=>Nh,multicast:()=>Pr.O,observeOn:()=>mo.QV,onErrorResumeNext:()=>qu,pairwise:()=>Lh,partition:()=>Tb,pluck:()=>Da,publish:()=>kb,publishBehavior:()=>Ld,publishLast:()=>ug,publishReplay:()=>Yu,race:()=>pg,reduce:()=>Dl.u,refCount:()=>O1.x,repeat:()=>w1,repeatWhen:()=>fg,retry:()=>Rb,retryWhen:()=>P1,sample:()=>vg,sampleTime:()=>bf,scan:()=>Ku.R,sequenceEqual:()=>S1,share:()=>io.B,shareReplay:()=>D1,single:()=>P,skip:()=>ee.T,skipLast:()=>ae,skipUntil:()=>Ue,skipWhile:()=>_t,startWith:()=>qt.O,subscribeOn:()=>Ao,switchAll:()=>xn,switchMap:()=>Qs.w,switchMapTo:()=>Dn,take:()=>Fr.q,takeLast:()=>Yt.h,takeUntil:()=>Oi.R,takeWhile:()=>zd.o,tap:()=>Yc.b,throttle:()=>Xc,throttleTime:()=>oc,throwIfEmpty:()=>ys.T,timeInterval:()=>_g,timeout:()=>Cf,timeoutWith:()=>jd,timestamp:()=>Mf,toArray:()=>Pf.q,window:()=>kl,windowCount:()=>zh,windowTime:()=>Of,windowToggle:()=>Pe,windowWhen:()=>ft,withLatestFrom:()=>fn.M,zip:()=>gn,zipAll:()=>Ii});var b=g(1177);function C(me){return function(J){return J.lift(new A(me))}}class A{constructor(L){this.durationSelector=L}call(L,J){return J.subscribe(new H(L,this.durationSelector))}}class H extends b.Ds{constructor(L,J){super(L),this.durationSelector=J,this.hasValue=!1}_next(L){if(this.value=L,this.hasValue=!0,!this.throttled){let J;try{const{durationSelector:qe}=this;J=qe(L)}catch(qe){return this.destination.error(qe)}const ge=(0,b.ft)(J,new b.IY(this));!ge||ge.closed?this.clearThrottle():this.add(this.throttled=ge)}}clearThrottle(){const{value:L,hasValue:J,throttled:ge}=this;ge&&(this.remove(ge),this.throttled=void 0,ge.unsubscribe()),J&&(this.value=void 0,this.hasValue=!1,this.destination.next(L))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var z=g(353),B=g(8723);function X(me,L=z.P){return C(()=>(0,B.H)(me,L))}function T(me){return function(J){return J.lift(new F(me))}}class F{constructor(L){this.closingNotifier=L}call(L,J){return J.subscribe(new W(L,this.closingNotifier))}}class W extends b.Ds{constructor(L,J){super(L),this.buffer=[],this.add((0,b.ft)(J,new b.IY(this)))}_next(L){this.buffer.push(L)}notifyNext(){const L=this.buffer;this.buffer=[],this.destination.next(L)}}var R=g(3489);function N(me,L=null){return function(ge){return ge.lift(new G(me,L))}}class G{constructor(L,J){this.bufferSize=L,this.startBufferEvery=J,this.subscriberClass=J&&L!==J?V:I}call(L,J){return J.subscribe(new this.subscriberClass(L,this.bufferSize,this.startBufferEvery))}}class I extends R.L{constructor(L,J){super(L),this.bufferSize=J,this.buffer=[]}_next(L){const J=this.buffer;J.push(L),J.length==this.bufferSize&&(this.destination.next(J),this.buffer=[])}_complete(){const L=this.buffer;L.length>0&&this.destination.next(L),super._complete()}}class V extends R.L{constructor(L,J,ge){super(L),this.bufferSize=J,this.startBufferEvery=ge,this.buffers=[],this.count=0}_next(L){const{bufferSize:J,startBufferEvery:ge,buffers:qe,count:Tt}=this;this.count++,Tt%ge==0&&qe.push([]);for(let yn=qe.length;yn--;){const vi=qe[yn];vi.push(L),vi.length===J&&(qe.splice(yn,1),this.destination.next(vi))}}_complete(){const{buffers:L,destination:J}=this;for(;L.length>0;){let ge=L.shift();ge.length>0&&J.next(ge)}super._complete()}}var re=g(2866);function he(me){let L=arguments.length,J=z.P;(0,re.K)(arguments[arguments.length-1])&&(J=arguments[arguments.length-1],L--);let ge=null;L>=2&&(ge=arguments[1]);let qe=Number.POSITIVE_INFINITY;return L>=3&&(qe=arguments[2]),function(yn){return yn.lift(new pe(me,ge,qe,J))}}class pe{constructor(L,J,ge,qe){this.bufferTimeSpan=L,this.bufferCreationInterval=J,this.maxBufferSize=ge,this.scheduler=qe}call(L,J){return J.subscribe(new Qe(L,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class Le{constructor(){this.buffer=[]}}class Qe extends R.L{constructor(L,J,ge,qe,Tt){super(L),this.bufferTimeSpan=J,this.bufferCreationInterval=ge,this.maxBufferSize=qe,this.scheduler=Tt,this.contexts=[];const yn=this.openContext();if(this.timespanOnly=null==ge||ge<0,this.timespanOnly)this.add(yn.closeAction=Tt.schedule(Ne,J,{subscriber:this,context:yn,bufferTimeSpan:J}));else{const fr={bufferTimeSpan:J,bufferCreationInterval:ge,subscriber:this,scheduler:Tt};this.add(yn.closeAction=Tt.schedule(Je,J,{subscriber:this,context:yn})),this.add(Tt.schedule(je,ge,fr))}}_next(L){const J=this.contexts,ge=J.length;let qe;for(let Tt=0;Tt<ge;Tt++){const yn=J[Tt],vi=yn.buffer;vi.push(L),vi.length==this.maxBufferSize&&(qe=yn)}qe&&this.onBufferFull(qe)}_error(L){this.contexts.length=0,super._error(L)}_complete(){const{contexts:L,destination:J}=this;for(;L.length>0;){const ge=L.shift();J.next(ge.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(L){this.closeContext(L);const J=L.closeAction;if(J.unsubscribe(),this.remove(J),!this.closed&&this.timespanOnly){L=this.openContext();const ge=this.bufferTimeSpan;this.add(L.closeAction=this.scheduler.schedule(Ne,ge,{subscriber:this,context:L,bufferTimeSpan:ge}))}}openContext(){const L=new Le;return this.contexts.push(L),L}closeContext(L){this.destination.next(L.buffer);const J=this.contexts;(J?J.indexOf(L):-1)>=0&&J.splice(J.indexOf(L),1)}}function Ne(me){const L=me.subscriber,J=me.context;J&&L.closeContext(J),L.closed||(me.context=L.openContext(),me.context.closeAction=this.schedule(me,me.bufferTimeSpan))}function je(me){const{bufferCreationInterval:L,bufferTimeSpan:J,subscriber:ge,scheduler:qe}=me,Tt=ge.openContext();ge.closed||(ge.add(Tt.closeAction=qe.schedule(Je,J,{subscriber:ge,context:Tt})),this.schedule(me,L))}function Je(me){const{subscriber:L,context:J}=me;L.closeContext(J)}var j=g(4096),Se=g(448),pt=g(826);function ht(me,L){return function(ge){return ge.lift(new gt(me,L))}}class gt{constructor(L,J){this.openings=L,this.closingSelector=J}call(L,J){return J.subscribe(new zt(L,this.openings,this.closingSelector))}}class zt extends pt.L{constructor(L,J,ge){super(L),this.closingSelector=ge,this.contexts=[],this.add((0,Se.D)(this,J))}_next(L){const J=this.contexts,ge=J.length;for(let qe=0;qe<ge;qe++)J[qe].buffer.push(L)}_error(L){const J=this.contexts;for(;J.length>0;){const ge=J.shift();ge.subscription.unsubscribe(),ge.buffer=null,ge.subscription=null}this.contexts=null,super._error(L)}_complete(){const L=this.contexts;for(;L.length>0;){const J=L.shift();this.destination.next(J.buffer),J.subscription.unsubscribe(),J.buffer=null,J.subscription=null}this.contexts=null,super._complete()}notifyNext(L,J){L?this.closeBuffer(L):this.openBuffer(J)}notifyComplete(L){this.closeBuffer(L.context)}openBuffer(L){try{const ge=this.closingSelector.call(this,L);ge&&this.trySubscribe(ge)}catch(J){this._error(J)}}closeBuffer(L){const J=this.contexts;if(J&&L){const{buffer:ge,subscription:qe}=L;this.destination.next(ge),J.splice(J.indexOf(L),1),this.remove(qe),qe.unsubscribe()}}trySubscribe(L){const J=this.contexts,qe=new j.w,Tt={buffer:[],subscription:qe};J.push(Tt);const yn=(0,Se.D)(this,L,Tt);!yn||yn.closed?this.closeBuffer(Tt):(yn.context=Tt,this.add(yn),qe.add(yn))}}function Qt(me){return function(L){return L.lift(new at(me))}}class at{constructor(L){this.closingSelector=L}call(L,J){return J.subscribe(new Ae(L,this.closingSelector))}}class Ae extends b.Ds{constructor(L,J){super(L),this.closingSelector=J,this.subscribing=!1,this.openBuffer()}_next(L){this.buffer.push(L)}_complete(){const L=this.buffer;L&&this.destination.next(L),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let ge,{closingSubscription:L}=this;L&&(this.remove(L),L.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:qe}=this;ge=qe()}catch(qe){return this.error(qe)}L=new j.w,this.closingSubscription=L,this.add(L),this.subscribing=!0,L.add((0,b.ft)(ge,new b.IY(this))),this.subscribing=!1}}var ot=g(7221),Ht=g(6053);function An(me){return L=>L.lift(new Ht.Ms(me))}var nn=g(6688),Bt=g(3527);function on(...me){let L=null;return"function"==typeof me[me.length-1]&&(L=me.pop()),1===me.length&&(0,nn.k)(me[0])&&(me=me[0].slice()),J=>J.lift.call((0,Bt.D)([J,...me]),new Ht.Ms(L))}var En=g(1961);function lt(...me){return L=>L.lift.call((0,En.z)(L,...me))}var Fn=g(534),un=g(1406);function Hi(me,L){return(0,un.b)(()=>me,L)}function Xi(me){return L=>L.lift(new Qn(me,L))}class Qn{constructor(L,J){this.predicate=L,this.source=J}call(L,J){return J.subscribe(new Vt(L,this.predicate,this.source))}}class Vt extends R.L{constructor(L,J,ge){super(L),this.predicate=J,this.source=ge,this.count=0,this.index=0}_next(L){this.predicate?this._tryPredicate(L):this.count++}_tryPredicate(L){let J;try{J=this.predicate(L,this.index++,this.source)}catch(ge){return void this.destination.error(ge)}J&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Pi(me){return L=>L.lift(new Di(me))}class Di{constructor(L){this.durationSelector=L}call(L,J){return J.subscribe(new rr(L,this.durationSelector))}}class rr extends b.Ds{constructor(L,J){super(L),this.durationSelector=J,this.hasValue=!1}_next(L){try{const J=this.durationSelector.call(this,L);J&&this._tryNext(L,J)}catch(J){this.destination.error(J)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(L,J){let ge=this.durationSubscription;this.value=L,this.hasValue=!0,ge&&(ge.unsubscribe(),this.remove(ge)),ge=(0,b.ft)(J,new b.IY(this)),ge&&!ge.closed&&this.add(this.durationSubscription=ge)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const L=this.value,J=this.durationSubscription;J&&(this.durationSubscription=void 0,J.unsubscribe(),this.remove(J)),this.value=void 0,this.hasValue=!1,super._next(L)}}}function to(me,L=z.P){return J=>J.lift(new qr(me,L))}class qr{constructor(L,J){this.dueTime=L,this.scheduler=J}call(L,J){return J.subscribe(new Yr(L,this.dueTime,this.scheduler))}}class Yr extends R.L{constructor(L,J,ge){super(L),this.dueTime=J,this.scheduler=ge,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(L){this.clearDebounce(),this.lastValue=L,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cn,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:L}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(L)}}clearDebounce(){const L=this.debouncedSubscription;null!==L&&(this.remove(L),L.unsubscribe(),this.debouncedSubscription=null)}}function cn(me){me.debouncedNext()}var ui=g(7314),xo=g(943),zi=g(4202);function Xr(me,L){return L?J=>new ur(J,L).lift(new Ki(me)):J=>J.lift(new Ki(me))}class Ki{constructor(L){this.delayDurationSelector=L}call(L,J){return J.subscribe(new yr(L,this.delayDurationSelector))}}class yr extends pt.L{constructor(L,J){super(L),this.delayDurationSelector=J,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(L,J,ge,qe,Tt){this.destination.next(L),this.removeSubscription(Tt),this.tryComplete()}notifyError(L,J){this._error(L)}notifyComplete(L){const J=this.removeSubscription(L);J&&this.destination.next(J),this.tryComplete()}_next(L){const J=this.index++;try{const ge=this.delayDurationSelector(L,J);ge&&this.tryDelay(ge,L)}catch(ge){this.destination.error(ge)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(L){L.unsubscribe();const J=this.delayNotifierSubscriptions.indexOf(L);return-1!==J&&this.delayNotifierSubscriptions.splice(J,1),L.outerValue}tryDelay(L,J){const ge=(0,Se.D)(this,L,J);ge&&!ge.closed&&(this.destination.add(ge),this.delayNotifierSubscriptions.push(ge))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class ur extends zi.y{constructor(L,J){super(),this.source=L,this.subscriptionDelay=J}_subscribe(L){this.subscriptionDelay.subscribe(new vn(L,this.source))}}class vn extends R.L{constructor(L,J){super(),this.parent=L,this.source=J,this.sourceSubscribed=!1}_next(L){this.subscribeToSource()}_error(L){this.unsubscribe(),this.parent.error(L)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function _r(){return function(L){return L.lift(new uo)}}class uo{call(L,J){return J.subscribe(new ki(L))}}class ki extends R.L{constructor(L){super(L)}_next(L){L.observe(this.destination)}}function sn(me,L){return J=>J.lift(new Gn(me,L))}class Gn{constructor(L,J){this.keySelector=L,this.flushes=J}call(L,J){return J.subscribe(new Li(L,this.keySelector,this.flushes))}}class Li extends b.Ds{constructor(L,J,ge){super(L),this.keySelector=J,this.values=new Set,ge&&this.add((0,b.ft)(ge,new b.IY(this)))}notifyNext(){this.values.clear()}notifyError(L){this._error(L)}_next(L){this.keySelector?this._useKeySelector(L):this._finalizeNext(L,L)}_useKeySelector(L){let J;const{destination:ge}=this;try{J=this.keySelector(L)}catch(qe){return void ge.error(qe)}this._finalizeNext(J,L)}_finalizeNext(L,J){const{values:ge}=this;ge.has(L)||(ge.add(L),this.destination.next(J))}}var Bn=g(5778);function er(me,L){return(0,Bn.x)((J,ge)=>L?L(J[me],ge[me]):J[me]===ge[me])}var dr=g(4231),$r=g(2198),ys=g(4907),Fr=g(2986);function Eo(me,L){if(me<0)throw new dr.W;const J=arguments.length>=2;return ge=>ge.pipe((0,$r.h)((qe,Tt)=>Tt===me),(0,Fr.q)(1),J?(0,ui.d)(L):(0,ys.T)(()=>new dr.W))}var oa=g(2334);function Yn(me,L){return J=>J.lift(new po(me,L,J))}class po{constructor(L,J,ge){this.predicate=L,this.thisArg=J,this.source=ge}call(L,J){return J.subscribe(new $t(L,this.predicate,this.thisArg,this.source))}}class $t extends R.L{constructor(L,J,ge,qe){super(L),this.predicate=J,this.thisArg=ge,this.source=qe,this.index=0,this.thisArg=ge||this}notifyComplete(L){this.destination.next(L),this.destination.complete()}_next(L){let J=!1;try{J=this.predicate.call(this.thisArg,L,this.index++,this.source)}catch(ge){return void this.destination.error(ge)}J||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ot(){return me=>me.lift(new yt)}class yt{call(L,J){return J.subscribe(new Wt(L))}}class Wt extends b.Ds{constructor(L){super(L),this.hasCompleted=!1,this.hasSubscription=!1}_next(L){this.hasSubscription||(this.hasSubscription=!0,this.add((0,b.ft)(L,new b.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var Kt=g(4850);function xt(me,L){return L?J=>J.pipe(xt((ge,qe)=>(0,Bt.D)(me(ge,qe)).pipe((0,Kt.U)((Tt,yn)=>L(ge,Tt,qe,yn))))):J=>J.lift(new xi(me))}class xi{constructor(L){this.project=L}call(L,J){return J.subscribe(new bn(L,this.project))}}class bn extends b.Ds{constructor(L,J){super(L),this.project=J,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(L){this.hasSubscription||this.tryNext(L)}tryNext(L){let J;const ge=this.index++;try{J=this.project(L,ge)}catch(qe){return void this.destination.error(qe)}this.hasSubscription=!0,this._innerSub(J)}_innerSub(L){const J=new b.IY(this),ge=this.destination;ge.add(J);const qe=(0,b.ft)(L,J);qe!==J&&ge.add(qe)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Ui(me,L=Number.POSITIVE_INFINITY,J){return L=(L||0)<1?Number.POSITIVE_INFINITY:L,ge=>ge.lift(new si(me,L,J))}class si{constructor(L,J,ge){this.project=L,this.concurrent=J,this.scheduler=ge}call(L,J){return J.subscribe(new Qi(L,this.project,this.concurrent,this.scheduler))}}class Qi extends b.Ds{constructor(L,J,ge,qe){super(L),this.project=J,this.concurrent=ge,this.scheduler=qe,this.index=0,this.active=0,this.hasCompleted=!1,ge<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(L){const{subscriber:J,result:ge,value:qe,index:Tt}=L;J.subscribeToProjection(ge,qe,Tt)}_next(L){const J=this.destination;if(J.closed)return void this._complete();const ge=this.index++;if(this.active<this.concurrent){J.next(L);try{const{project:qe}=this,Tt=qe(L,ge);this.scheduler?this.destination.add(this.scheduler.schedule(Qi.dispatch,0,{subscriber:this,result:Tt,value:L,index:ge})):this.subscribeToProjection(Tt,L,ge)}catch(qe){J.error(qe)}}else this.buffer.push(L)}subscribeToProjection(L,J,ge){this.active++,this.destination.add((0,b.ft)(L,new b.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(L){this._next(L)}notifyComplete(){const L=this.buffer;this.active--,L&&L.length>0&&this._next(L.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var fo=g(537);function _s(me,L){if("function"!=typeof me)throw new TypeError("predicate is not a function");return J=>J.lift(new pn(me,J,!1,L))}class pn{constructor(L,J,ge,qe){this.predicate=L,this.source=J,this.yieldIndex=ge,this.thisArg=qe}call(L,J){return J.subscribe(new gi(L,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class gi extends R.L{constructor(L,J,ge,qe,Tt){super(L),this.predicate=J,this.source=ge,this.yieldIndex=qe,this.thisArg=Tt,this.index=0}notifyComplete(L){const J=this.destination;J.next(L),J.complete(),this.unsubscribe()}_next(L){const{predicate:J,thisArg:ge}=this,qe=this.index++;try{J.call(ge||this,L,qe,this.source)&&this.notifyComplete(this.yieldIndex?qe:L)}catch(Tt){this.destination.error(Tt)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Lr(me,L){return J=>J.lift(new pn(me,J,!0,L))}var Ls=g(7224),jc=g(4002);function Do(){return function(L){return L.lift(new rc)}}class rc{call(L,J){return J.subscribe(new no(L))}}class no extends R.L{_next(L){}}function ol(){return me=>me.lift(new Id)}class Id{call(L,J){return J.subscribe(new pi(L))}}class pi extends R.L{constructor(L){super(L)}notifyComplete(L){const J=this.destination;J.next(L),J.complete()}_next(L){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Rd=g(8127),El=g(7604),Nd=g(9312);function Vc(){return function(L){return L.lift(new vo)}}class vo{call(L,J){return J.subscribe(new Fd(L))}}class Fd extends R.L{constructor(L){super(L)}_next(L){this.destination.next(Nd.P.createNext(L))}_error(L){const J=this.destination;J.next(Nd.P.createError(L)),J.complete()}_complete(){const L=this.destination;L.next(Nd.P.createComplete()),L.complete()}}var Dl=g(8077);function sa(me){return(0,Dl.u)("function"==typeof me?(J,ge)=>me(J,ge)>0?J:ge:(J,ge)=>J>ge?J:ge)}var Hc=g(6787);function dg(...me){return L=>L.lift.call((0,Hc.T)(L,...me))}var pr=g(9146),Gu=g(1709);function v1(me,L,J=Number.POSITIVE_INFINITY){return"function"==typeof L?(0,Gu.zg)(()=>me,L,J):("number"==typeof L&&(J=L),(0,Gu.zg)(()=>me,J))}function Rh(me,L,J=Number.POSITIVE_INFINITY){return ge=>ge.lift(new Wu(me,L,J))}class Wu{constructor(L,J,ge){this.accumulator=L,this.seed=J,this.concurrent=ge}call(L,J){return J.subscribe(new Gc(L,this.accumulator,this.seed,this.concurrent))}}class Gc extends b.Ds{constructor(L,J,ge,qe){super(L),this.accumulator=J,this.acc=ge,this.concurrent=qe,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(L){if(this.active<this.concurrent){const J=this.index++,ge=this.destination;let qe;try{const{accumulator:Tt}=this;qe=Tt(this.acc,L,J)}catch(Tt){return ge.error(Tt)}this.active++,this._innerSub(qe)}else this.buffer.push(L)}_innerSub(L){const J=new b.IY(this),ge=this.destination;ge.add(J);const qe=(0,b.ft)(L,J);qe!==J&&ge.add(qe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(L){const{destination:J}=this;this.acc=L,this.hasValue=!0,J.next(L)}notifyComplete(){const L=this.buffer;this.active--,L.length>0?this._next(L.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function Nh(me){return(0,Dl.u)("function"==typeof me?(J,ge)=>me(J,ge)<0?J:ge:(J,ge)=>J<ge?J:ge)}var Pr=g(2536),mo=g(7770);function qu(...me){return 1===me.length&&(0,nn.k)(me[0])&&(me=me[0]),L=>L.lift(new aa(me))}class aa{constructor(L){this.nextSources=L}call(L,J){return J.subscribe(new Fh(L,this.nextSources))}}class Fh extends b.Ds{constructor(L,J){super(L),this.destination=L,this.nextSources=J}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(L){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const L=this.nextSources.shift();if(L){const J=new b.IY(this),ge=this.destination;ge.add(J);const qe=(0,b.ft)(L,J);qe!==J&&ge.add(qe)}else this.destination.complete()}}function Lh(){return me=>me.lift(new Wc)}class Wc{call(L,J){return J.subscribe(new la(L))}}class la extends R.L{constructor(L){super(L),this.hasPrev=!1}_next(L){let J;this.hasPrev?J=[this.prev,L]:this.hasPrev=!0,this.prev=L,J&&this.destination.next(J)}}var y1=g(5884);function Tb(me,L){return J=>[(0,$r.h)(me,L)(J),(0,$r.h)((0,y1.f)(me,L))(J)]}function Da(...me){const L=me.length;if(0===L)throw new Error("list of properties cannot be empty.");return J=>(0,Kt.U)(function hg(me,L){return ge=>{let qe=ge;for(let Tt=0;Tt<L;Tt++){const yn=qe?.[me[Tt]];if(void 0===yn)return;qe=yn}return qe}}(me,L))(J)}var Bs=g(8929);function kb(me){return me?(0,Pr.O)(()=>new Bs.xQ,me):(0,Pr.O)(new Bs.xQ)}var Ib=g(591);function Ld(me){return L=>(0,Pr.O)(new Ib.X(me))(L)}var Bd=g(2185);function ug(){return me=>(0,Pr.O)(new Bd.c)(me)}var _1=g(839);function Yu(me,L,J,ge){J&&"function"!=typeof J&&(ge=J);const qe="function"==typeof J?J:void 0,Tt=new _1.t(me,L,ge);return yn=>(0,Pr.O)(()=>Tt,qe)(yn)}var b1=g(1946);function pg(...me){return function(J){return 1===me.length&&(0,nn.k)(me[0])&&(me=me[0]),J.lift.call((0,b1.S3)(J,...me))}}var x1=g(8896);function w1(me=-1){return L=>0===me?(0,x1.c)():L.lift(new C1(me<0?-1:me-1,L))}class C1{constructor(L,J){this.count=L,this.source=J}call(L,J){return J.subscribe(new M1(L,this.count,this.source))}}class M1 extends R.L{constructor(L,J,ge){super(L),this.count=J,this.source=ge}complete(){if(!this.isStopped){const{source:L,count:J}=this;if(0===J)return super.complete();J>-1&&(this.count=J-1),L.subscribe(this._unsubscribeAndRecycle())}}}function fg(me){return L=>L.lift(new yf(me))}class yf{constructor(L){this.notifier=L}call(L,J){return J.subscribe(new mg(L,this.notifier,J))}}class mg extends b.Ds{constructor(L,J,ge){super(L),this.notifier=J,this.source=ge,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:L,retriesSubscription:J}=this;L&&(L.unsubscribe(),this.notifications=void 0),J&&(J.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:L}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=L,this}subscribeToRetries(){let L;this.notifications=new Bs.xQ;try{const{notifier:J}=this;L=J(this.notifications)}catch{return super.complete()}this.retries=L,this.retriesSubscription=(0,b.ft)(L,new b.IY(this))}}function Rb(me=-1){return L=>L.lift(new Nb(me,L))}class Nb{constructor(L,J){this.count=L,this.source=J}call(L,J){return J.subscribe(new qc(L,this.count,this.source))}}class qc extends R.L{constructor(L,J,ge){super(L),this.count=J,this.source=ge}error(L){if(!this.isStopped){const{source:J,count:ge}=this;if(0===ge)return super.error(L);ge>-1&&(this.count=ge-1),J.subscribe(this._unsubscribeAndRecycle())}}}function P1(me){return L=>L.lift(new is(me,L))}class is{constructor(L,J){this.notifier=L,this.source=J}call(L,J){return J.subscribe(new gg(L,this.notifier,this.source))}}class gg extends b.Ds{constructor(L,J,ge){super(L),this.notifier=J,this.source=ge}error(L){if(!this.isStopped){let J=this.errors,ge=this.retries,qe=this.retriesSubscription;if(ge)this.errors=void 0,this.retriesSubscription=void 0;else{J=new Bs.xQ;try{const{notifier:Tt}=this;ge=Tt(J)}catch(Tt){return super.error(Tt)}qe=(0,b.ft)(ge,new b.IY(this))}this._unsubscribeAndRecycle(),this.errors=J,this.retries=ge,this.retriesSubscription=qe,J.next(L)}}_unsubscribe(){const{errors:L,retriesSubscription:J}=this;L&&(L.unsubscribe(),this.errors=void 0),J&&(J.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:L}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=L,this.source.subscribe(this)}}var O1=g(4327);function vg(me){return L=>L.lift(new Xu(me))}class Xu{constructor(L){this.notifier=L}call(L,J){const ge=new _f(L),qe=J.subscribe(ge);return qe.add((0,b.ft)(this.notifier,new b.IY(ge))),qe}}class _f extends b.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(L){this.value=L,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function bf(me,L=z.P){return J=>J.lift(new $u(me,L))}class $u{constructor(L,J){this.period=L,this.scheduler=J}call(L,J){return J.subscribe(new yg(L,this.period,this.scheduler))}}class yg extends R.L{constructor(L,J,ge){super(L),this.period=J,this.scheduler=ge,this.hasValue=!1,this.add(ge.schedule(zs,J,{subscriber:this,period:J}))}_next(L){this.lastValue=L,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function zs(me){let{subscriber:L,period:J}=me;L.notifyNext(),this.schedule(me,J)}var Ku=g(2014);function S1(me,L){return J=>J.lift(new xf(me,L))}class xf{constructor(L,J){this.compareTo=L,this.comparator=J}call(L,J){return J.subscribe(new Bh(L,this.compareTo,this.comparator))}}class Bh extends R.L{constructor(L,J,ge){super(L),this.compareTo=J,this.comparator=ge,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(J.subscribe(new E1(L,this)))}_next(L){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(L),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:L,_b:J,comparator:ge}=this;for(;L.length>0&&J.length>0;){let qe=L.shift(),Tt=J.shift(),yn=!1;try{yn=ge?ge(qe,Tt):qe===Tt}catch(vi){this.destination.error(vi)}yn||this.emit(!1)}}emit(L){const{destination:J}=this;J.next(L),J.complete()}nextB(L){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(L),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class E1 extends R.L{constructor(L,J){super(L),this.parent=J}_next(L){this.parent.nextB(L)}_error(L){this.parent.error(L),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var io=g(8117);function D1(me,L,J){let ge;return ge=me&&"object"==typeof me?me:{bufferSize:me,windowTime:L,refCount:!1,scheduler:J},qe=>qe.lift(function Fb({bufferSize:me=Number.POSITIVE_INFINITY,windowTime:L=Number.POSITIVE_INFINITY,refCount:J,scheduler:ge}){let qe,yn,Tt=0,vi=!1,fr=!1;return function(To){let Il;Tt++,!qe||vi?(vi=!1,qe=new _1.t(me,L,ge),Il=qe.subscribe(this),yn=To.subscribe({next(bg){qe.next(bg)},error(bg){vi=!0,qe.error(bg)},complete(){fr=!0,yn=void 0,qe.complete()}}),fr&&(yn=void 0)):Il=qe.subscribe(this),this.add(()=>{Tt--,Il.unsubscribe(),Il=void 0,yn&&!fr&&J&&0===Tt&&(yn.unsubscribe(),yn=void 0,qe=void 0)})}}(ge))}var Qu=g(4450);function P(me){return L=>L.lift(new k(me,L))}class k{constructor(L,J){this.predicate=L,this.source=J}call(L,J){return J.subscribe(new Q(L,this.predicate,this.source))}}class Q extends R.L{constructor(L,J,ge){super(L),this.predicate=J,this.source=ge,this.seenValue=!1,this.index=0}applySingleValue(L){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=L)}_next(L){const J=this.index++;this.predicate?this.tryNext(L,J):this.applySingleValue(L)}tryNext(L,J){try{this.predicate(L,J,this.source)&&this.applySingleValue(L)}catch(ge){this.destination.error(ge)}}_complete(){const L=this.destination;this.index>0?(L.next(this.seenValue?this.singleValue:void 0),L.complete()):L.error(new Qu.K)}}var ee=g(1307);function ae(me){return L=>L.lift(new le(me))}class le{constructor(L){if(this._skipCount=L,this._skipCount<0)throw new dr.W}call(L,J){return J.subscribe(0===this._skipCount?new R.L(L):new fe(L,this._skipCount))}}class fe extends R.L{constructor(L,J){super(L),this._skipCount=J,this._count=0,this._ring=new Array(J)}_next(L){const J=this._skipCount,ge=this._count++;if(ge<J)this._ring[ge]=L;else{const qe=ge%J,Tt=this._ring,yn=Tt[qe];Tt[qe]=L,this.destination.next(yn)}}}function Ue(me){return L=>L.lift(new Te(me))}class Te{constructor(L){this.notifier=L}call(L,J){return J.subscribe(new Ye(L,this.notifier))}}class Ye extends b.Ds{constructor(L,J){super(L),this.hasValue=!1;const ge=new b.IY(this);this.add(ge),this.innerSubscription=ge;const qe=(0,b.ft)(J,ge);qe!==ge&&(this.add(qe),this.innerSubscription=qe)}_next(L){this.hasValue&&super._next(L)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function _t(me){return L=>L.lift(new et(me))}class et{constructor(L){this.predicate=L}call(L,J){return J.subscribe(new dt(L,this.predicate))}}class dt extends R.L{constructor(L,J){super(L),this.predicate=J,this.skipping=!0,this.index=0}_next(L){const J=this.destination;this.skipping&&this.tryCallPredicate(L),this.skipping||J.next(L)}tryCallPredicate(L){try{const J=this.predicate(L,this.index++);this.skipping=Boolean(J)}catch(J){this.destination.error(J)}}}var qt=g(1059),ei=g(8139),ji=g(4241);class fi extends zi.y{constructor(L,J=0,ge=ei.e){super(),this.source=L,this.delayTime=J,this.scheduler=ge,(!(0,ji.k)(J)||J<0)&&(this.delayTime=0),(!ge||"function"!=typeof ge.schedule)&&(this.scheduler=ei.e)}static create(L,J=0,ge=ei.e){return new fi(L,J,ge)}static dispatch(L){const{source:J,subscriber:ge}=L;return this.add(J.subscribe(ge))}_subscribe(L){return this.scheduler.schedule(fi.dispatch,this.delayTime,{source:this.source,subscriber:L})}}function Ao(me,L=0){return function(ge){return ge.lift(new wo(me,L))}}class wo{constructor(L,J){this.scheduler=L,this.delay=J}call(L,J){return new fi(J,this.delay,this.scheduler).subscribe(L)}}var Qs=g(7545),At=g(5379);function xn(){return(0,Qs.w)(At.y)}function Dn(me,L){return L?(0,Qs.w)(()=>me,L):(0,Qs.w)(()=>me)}var Yt=g(2821),Oi=g(7625),zd=g(4290),Yc=g(2994);const yo={leading:!0,trailing:!1};function Xc(me,L=yo){return J=>J.lift(new ca(me,!!L.leading,!!L.trailing))}class ca{constructor(L,J,ge){this.durationSelector=L,this.leading=J,this.trailing=ge}call(L,J){return J.subscribe(new $c(L,this.durationSelector,this.leading,this.trailing))}}class $c extends b.Ds{constructor(L,J,ge,qe){super(L),this.destination=L,this.durationSelector=J,this._leading=ge,this._trailing=qe,this._hasValue=!1}_next(L){this._hasValue=!0,this._sendValue=L,this._throttled||(this._leading?this.send():this.throttle(L))}send(){const{_hasValue:L,_sendValue:J}=this;L&&(this.destination.next(J),this.throttle(J)),this._hasValue=!1,this._sendValue=void 0}throttle(L){const J=this.tryDurationSelector(L);J&&this.add(this._throttled=(0,b.ft)(J,new b.IY(this)))}tryDurationSelector(L){try{return this.durationSelector(L)}catch(J){return this.destination.error(J),null}}throttlingDone(){const{_throttled:L,_trailing:J}=this;L&&L.unsubscribe(),this._throttled=void 0,J&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function oc(me,L=z.P,J=yo){return ge=>ge.lift(new Aa(me,L,J.leading,J.trailing))}class Aa{constructor(L,J,ge,qe){this.duration=L,this.scheduler=J,this.leading=ge,this.trailing=qe}call(L,J){return J.subscribe(new Zu(L,this.duration,this.scheduler,this.leading,this.trailing))}}class Zu extends R.L{constructor(L,J,ge,qe,Tt){super(L),this.duration=J,this.scheduler=ge,this.leading=qe,this.trailing=Tt,this._hasTrailingValue=!1,this._trailingValue=null}_next(L){this.throttled?this.trailing&&(this._trailingValue=L,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Kr,this.duration,{subscriber:this})),this.leading?this.destination.next(L):this.trailing&&(this._trailingValue=L,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const L=this.throttled;L&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),L.unsubscribe(),this.remove(L),this.throttled=null)}}function Kr(me){const{subscriber:L}=me;L.clearThrottle()}var jo=g(8514);function _g(me=z.P){return L=>(0,jo.P)(()=>L.pipe((0,Ku.R)(({current:J},ge)=>({value:ge,current:me.now(),last:J}),{current:me.now(),value:void 0,last:void 0}),(0,Kt.U)(({current:J,last:ge,value:qe})=>new Ud(qe,J-ge))))}class Ud{constructor(L,J){this.value=L,this.interval=J}}var Al=g(854),hr=g(2697);function jd(me,L,J=z.P){return ge=>{let qe=(0,hr.J)(me),Tt=qe?+me-J.now():Math.abs(me);return ge.lift(new Ta(Tt,qe,L,J))}}class Ta{constructor(L,J,ge,qe){this.waitFor=L,this.absoluteTimeout=J,this.withObservable=ge,this.scheduler=qe}call(L,J){return J.subscribe(new sc(L,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class sc extends b.Ds{constructor(L,J,ge,qe,Tt){super(L),this.absoluteTimeout=J,this.waitFor=ge,this.withObservable=qe,this.scheduler=Tt,this.scheduleTimeout()}static dispatchTimeout(L){const{withObservable:J}=L;L._unsubscribeAndRecycle(),L.add((0,b.ft)(J,new b.IY(L)))}scheduleTimeout(){const{action:L}=this;L?this.action=L.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(sc.dispatchTimeout,this.waitFor,this))}_next(L){this.absoluteTimeout||this.scheduleTimeout(),super._next(L)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var wf=g(1737);function Cf(me,L=z.P){return jd(me,(0,wf._)(new Al.W),L)}function Mf(me=z.P){return(0,Kt.U)(L=>new Tl(L,me.now()))}class Tl{constructor(L,J){this.value=L,this.timestamp=J}}var Pf=g(864);function kl(me){return function(J){return J.lift(new Ju(me))}}class Ju{constructor(L){this.windowBoundaries=L}call(L,J){const ge=new Vd(L),qe=J.subscribe(ge);return qe.closed||ge.add((0,b.ft)(this.windowBoundaries,new b.IY(ge))),qe}}class Vd extends b.Ds{constructor(L){super(L),this.window=new Bs.xQ,L.next(this.window)}notifyNext(){this.openWindow()}notifyError(L){this._error(L)}notifyComplete(){this._complete()}_next(L){this.window.next(L)}_error(L){this.window.error(L),this.destination.error(L)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const L=this.window;L&&L.complete();const J=this.destination,ge=this.window=new Bs.xQ;J.next(ge)}}function zh(me,L=0){return function(ge){return ge.lift(new Uh(me,L))}}class Uh{constructor(L,J){this.windowSize=L,this.startWindowEvery=J}call(L,J){return J.subscribe(new ep(L,this.windowSize,this.startWindowEvery))}}class ep extends R.L{constructor(L,J,ge){super(L),this.destination=L,this.windowSize=J,this.startWindowEvery=ge,this.windows=[new Bs.xQ],this.count=0,L.next(this.windows[0])}_next(L){const J=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,ge=this.destination,qe=this.windowSize,Tt=this.windows,yn=Tt.length;for(let fr=0;fr<yn&&!this.closed;fr++)Tt[fr].next(L);const vi=this.count-qe+1;if(vi>=0&&vi%J==0&&!this.closed&&Tt.shift().complete(),++this.count%J==0&&!this.closed){const fr=new Bs.xQ;Tt.push(fr),ge.next(fr)}}_error(L){const J=this.windows;if(J)for(;J.length>0&&!this.closed;)J.shift().error(L);this.destination.error(L)}_complete(){const L=this.windows;if(L)for(;L.length>0&&!this.closed;)L.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function Of(me){let L=z.P,J=null,ge=Number.POSITIVE_INFINITY;return(0,re.K)(arguments[3])&&(L=arguments[3]),(0,re.K)(arguments[2])?L=arguments[2]:(0,ji.k)(arguments[2])&&(ge=Number(arguments[2])),(0,re.K)(arguments[1])?L=arguments[1]:(0,ji.k)(arguments[1])&&(J=Number(arguments[1])),function(Tt){return Tt.lift(new tp(me,J,ge,L))}}class tp{constructor(L,J,ge,qe){this.windowTimeSpan=L,this.windowCreationInterval=J,this.maxWindowSize=ge,this.scheduler=qe}call(L,J){return J.subscribe(new Vo(L,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class Sf extends Bs.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(L){this._numberOfNextedValues++,super.next(L)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Vo extends R.L{constructor(L,J,ge,qe,Tt){super(L),this.destination=L,this.windowTimeSpan=J,this.windowCreationInterval=ge,this.maxWindowSize=qe,this.scheduler=Tt,this.windows=[];const yn=this.openWindow();if(null!==ge&&ge>=0){const fr={windowTimeSpan:J,windowCreationInterval:ge,subscriber:this,scheduler:Tt};this.add(Tt.schedule(Ef,J,{subscriber:this,window:yn,context:null})),this.add(Tt.schedule(Or,ge,fr))}else this.add(Tt.schedule(ac,J,{subscriber:this,window:yn,windowTimeSpan:J}))}_next(L){const J=this.windows,ge=J.length;for(let qe=0;qe<ge;qe++){const Tt=J[qe];Tt.closed||(Tt.next(L),Tt.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(Tt))}}_error(L){const J=this.windows;for(;J.length>0;)J.shift().error(L);this.destination.error(L)}_complete(){const L=this.windows;for(;L.length>0;){const J=L.shift();J.closed||J.complete()}this.destination.complete()}openWindow(){const L=new Sf;return this.windows.push(L),this.destination.next(L),L}closeWindow(L){L.complete();const J=this.windows;J.splice(J.indexOf(L),1)}}function ac(me){const{subscriber:L,windowTimeSpan:J,window:ge}=me;ge&&L.closeWindow(ge),me.window=L.openWindow(),this.schedule(me,J)}function Or(me){const{windowTimeSpan:L,subscriber:J,scheduler:ge,windowCreationInterval:qe}=me,Tt=J.openWindow();let vi={action:this,subscription:null};vi.subscription=ge.schedule(Ef,L,{subscriber:J,window:Tt,context:vi}),this.add(vi.subscription),this.schedule(me,qe)}function Ef(me){const{subscriber:L,window:J,context:ge}=me;ge&&ge.action&&ge.subscription&&ge.action.remove(ge.subscription),L.closeWindow(J)}function Pe(me,L){return J=>J.lift(new Ge(me,L))}class Ge{constructor(L,J){this.openings=L,this.closingSelector=J}call(L,J){return J.subscribe(new rt(L,this.openings,this.closingSelector))}}class rt extends pt.L{constructor(L,J,ge){super(L),this.openings=J,this.closingSelector=ge,this.contexts=[],this.add(this.openSubscription=(0,Se.D)(this,J,J))}_next(L){const{contexts:J}=this;if(J){const ge=J.length;for(let qe=0;qe<ge;qe++)J[qe].window.next(L)}}_error(L){const{contexts:J}=this;if(this.contexts=null,J){const ge=J.length;let qe=-1;for(;++qe<ge;){const Tt=J[qe];Tt.window.error(L),Tt.subscription.unsubscribe()}}super._error(L)}_complete(){const{contexts:L}=this;if(this.contexts=null,L){const J=L.length;let ge=-1;for(;++ge<J;){const qe=L[ge];qe.window.complete(),qe.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:L}=this;if(this.contexts=null,L){const J=L.length;let ge=-1;for(;++ge<J;){const qe=L[ge];qe.window.unsubscribe(),qe.subscription.unsubscribe()}}}notifyNext(L,J,ge,qe,Tt){if(L===this.openings){let yn;try{const{closingSelector:Il}=this;yn=Il(J)}catch(Il){return this.error(Il)}const vi=new Bs.xQ,fr=new j.w,lc={window:vi,subscription:fr};this.contexts.push(lc);const To=(0,Se.D)(this,yn,lc);To.closed?this.closeWindow(this.contexts.length-1):(To.context=lc,fr.add(To)),this.destination.next(vi)}else this.closeWindow(this.contexts.indexOf(L))}notifyError(L){this.error(L)}notifyComplete(L){L!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(L.context))}closeWindow(L){if(-1===L)return;const{contexts:J}=this,ge=J[L],{window:qe,subscription:Tt}=ge;J.splice(L,1),qe.complete(),Tt.unsubscribe()}}function ft(me){return function(J){return J.lift(new St(me))}}class St{constructor(L){this.closingSelector=L}call(L,J){return J.subscribe(new en(L,this.closingSelector))}}class en extends pt.L{constructor(L,J){super(L),this.destination=L,this.closingSelector=J,this.openWindow()}notifyNext(L,J,ge,qe,Tt){this.openWindow(Tt)}notifyError(L){this._error(L)}notifyComplete(L){this.openWindow(L)}_next(L){this.window.next(L)}_error(L){this.window.error(L),this.destination.error(L),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(L=null){L&&(this.remove(L),L.unsubscribe());const J=this.window;J&&J.complete();const ge=this.window=new Bs.xQ;let qe;this.destination.next(ge);try{const{closingSelector:Tt}=this;qe=Tt()}catch(Tt){return this.destination.error(Tt),void this.window.error(Tt)}this.add(this.closingNotification=(0,Se.D)(this,qe))}}var fn=g(7168),Tn=g(1746);function gn(...me){return function(J){return J.lift.call((0,Tn.$R)(J,...me))}}function Ii(me){return L=>L.lift(new Tn.mx(me))}},811:(p,m,g)=>{"use strict";g(2181)},4942:function(module,exports,__webpack_require__){var m;typeof navigator<"u"&&(m=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(p){_useWebWorker=!!p},getWebWorker=function(){return _useWebWorker},setLocationHref=function(p){locationHref=p},getLocationHref=function(){return locationHref};function createTag(p){return document.createElement(p)}function extendPrototype(p,m){var g,b,C=p.length;for(g=0;g<C;g+=1)for(var A in b=p[g].prototype)Object.prototype.hasOwnProperty.call(b,A)&&(m.prototype[A]=b[A])}function getDescriptor(p,m){return Object.getOwnPropertyDescriptor(p,m)}function createProxyFunction(p){function m(){}return m.prototype=p,m}var audioControllerFactory=function(){function p(m){this.audios=[],this.audioFactory=m,this._volume=1,this._isMuted=!1}return p.prototype={addAudio:function(m){this.audios.push(m)},pause:function(){var m,g=this.audios.length;for(m=0;m<g;m+=1)this.audios[m].pause()},resume:function(){var m,g=this.audios.length;for(m=0;m<g;m+=1)this.audios[m].resume()},setRate:function(m){var g,b=this.audios.length;for(g=0;g<b;g+=1)this.audios[g].setRate(m)},createAudio:function(m){return this.audioFactory?this.audioFactory(m):window.Howl?new window.Howl({src:[m]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(m){this.audioFactory=m},setVolume:function(m){this._volume=m,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var m,g=this.audios.length;for(m=0;m<g;m+=1)this.audios[m].volume(this._volume*(this._isMuted?0:1))}},function(){return new p}}(),createTypedArray=function(){function p(m,g){var b,C=0,A=[];switch(m){case"int16":case"uint8c":b=1;break;default:b=1.1}for(C=0;C<g;C+=1)A.push(b);return A}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(m,g){return"float32"===m?new Float32Array(g):"int16"===m?new Int16Array(g):"uint8c"===m?new Uint8ClampedArray(g):p(m,g)}:p}();function createSizedArray(p){return Array.apply(null,{length:p})}function _typeof$6(p){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}(function(){var p,m=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],g=m.length;for(p=0;p<g;p+=1)BMMath[m[p]]=Math[m[p]]})(),BMMath.random=Math.random,BMMath.abs=function(p){if("object"===_typeof$6(p)&&p.length){var m,g=createSizedArray(p.length),b=p.length;for(m=0;m<b;m+=1)g[m]=Math.abs(p[m]);return g}return Math.abs(p)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(p){_shouldRoundValues=!!p}function bmRnd(p){return _shouldRoundValues?Math.round(p):p}function styleDiv(p){p.style.position="absolute",p.style.top=0,p.style.left=0,p.style.display="block",p.style.transformOrigin="0 0",p.style.webkitTransformOrigin="0 0",p.style.backfaceVisibility="visible",p.style.webkitBackfaceVisibility="visible",p.style.transformStyle="preserve-3d",p.style.webkitTransformStyle="preserve-3d",p.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(p,m,g,b){this.type=p,this.currentTime=m,this.totalTime=g,this.direction=b<0?-1:1}function BMCompleteEvent(p,m){this.type=p,this.direction=m<0?-1:1}function BMCompleteLoopEvent(p,m,g,b){this.type=p,this.currentLoop=g,this.totalLoops=m,this.direction=b<0?-1:1}function BMSegmentStartEvent(p,m,g){this.type=p,this.firstFrame=m,this.totalFrames=g}function BMDestroyEvent(p,m){this.type=p,this.target=m}function BMRenderFrameErrorEvent(p,m){this.type="renderFrameError",this.nativeError=p,this.currentTime=m}function BMConfigErrorEvent(p){this.type="configError",this.nativeError=p}function BMAnimationConfigErrorEvent(p,m){this.type=p,this.nativeError=m}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(p,m,g){var b,C,A,H,z,B,X,T;switch(B=g*(1-m),X=g*(1-(z=6*p-(H=Math.floor(6*p)))*m),T=g*(1-(1-z)*m),H%6){case 0:b=g,C=T,A=B;break;case 1:b=X,C=g,A=B;break;case 2:b=B,C=g,A=T;break;case 3:b=B,C=X,A=g;break;case 4:b=T,C=B,A=g;break;case 5:b=g,C=B,A=X}return[b,C,A]}function RGBtoHSV(p,m,g){var b,C=Math.max(p,m,g),A=Math.min(p,m,g),H=C-A,z=0===C?0:H/C,B=C/255;switch(C){case A:b=0;break;case p:b=m-g+H*(m<g?6:0),b/=6*H;break;case m:b=g-p+2*H,b/=6*H;break;case g:b=p-m+4*H,b/=6*H}return[b,z,B]}function addSaturationToRGB(p,m){var g=RGBtoHSV(255*p[0],255*p[1],255*p[2]);return g[1]+=m,g[1]>1?g[1]=1:g[1]<=0&&(g[1]=0),HSVtoRGB(g[0],g[1],g[2])}function addBrightnessToRGB(p,m){var g=RGBtoHSV(255*p[0],255*p[1],255*p[2]);return g[2]+=m,g[2]>1?g[2]=1:g[2]<0&&(g[2]=0),HSVtoRGB(g[0],g[1],g[2])}function addHueToRGB(p,m){var g=RGBtoHSV(255*p[0],255*p[1],255*p[2]);return g[0]+=m/360,g[0]>1?g[0]-=1:g[0]<0&&(g[0]+=1),HSVtoRGB(g[0],g[1],g[2])}var rgbToHex=function(){var p,m,g=[];for(p=0;p<256;p+=1)m=p.toString(16),g[p]=1===m.length?"0"+m:m;return function(b,C,A){return b<0&&(b=0),C<0&&(C=0),A<0&&(A=0),"#"+g[b]+g[C]+g[A]}}(),setSubframeEnabled=function(p){subframeEnabled=!!p},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(p){expressionsPlugin=p},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(p){defaultCurveSegments=p},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(p){idPrefix$1=p},getIdPrefix=function(){return idPrefix$1};function createNS(p){return document.createElementNS(svgNS,p)}function _typeof$5(p){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}var dataManager=function(){var p,m,g=1,b=[],C={onmessage:function(){},postMessage:function(B){p({data:B})}},A={postMessage:function(B){C.onmessage({data:B})}};function H(){m||((m=function(B){if(window.Worker&&window.Blob&&getWebWorker()){var X=new Blob(["var _workerSelf = self; self.onmessage = ",B.toString()],{type:"text/javascript"}),T=URL.createObjectURL(X);return new Worker(T)}return p=B,C}(function(B){if(A.dataManager||(A.dataManager=function(){function T(Ne,je){var Je,j,Se,pt,ht,gt,zt=Ne.length;for(j=0;j<zt;j+=1)if("ks"in(Je=Ne[j])&&!Je.completed){if(Je.completed=!0,Je.tt&&(Ne[j-1].td=Je.tt),Je.hasMask){var Qt=Je.masksProperties;for(pt=Qt.length,Se=0;Se<pt;Se+=1)if(Qt[Se].pt.k.i)R(Qt[Se].pt.k);else for(gt=Qt[Se].pt.k.length,ht=0;ht<gt;ht+=1)Qt[Se].pt.k[ht].s&&R(Qt[Se].pt.k[ht].s[0]),Qt[Se].pt.k[ht].e&&R(Qt[Se].pt.k[ht].e[0])}0===Je.ty?(Je.layers=F(Je.refId,je),T(Je.layers,je)):4===Je.ty&&W(Je.shapes)}}function F(Ne,je){var Je=function(j,Se){for(var pt=0,ht=Se.length;pt<ht;){if(Se[pt].id===j)return Se[pt];pt+=1}return null}(Ne,je);return Je?Je.layers.__used?JSON.parse(JSON.stringify(Je.layers)):(Je.layers.__used=!0,Je.layers):null}function W(Ne){var je,Je,j;for(je=Ne.length-1;je>=0;je-=1)if("sh"===Ne[je].ty)if(Ne[je].ks.k.i)R(Ne[je].ks.k);else for(j=Ne[je].ks.k.length,Je=0;Je<j;Je+=1)Ne[je].ks.k[Je].s&&R(Ne[je].ks.k[Je].s[0]),Ne[je].ks.k[Je].e&&R(Ne[je].ks.k[Je].e[0]);else"gr"===Ne[je].ty&&W(Ne[je].it)}function R(Ne){var je,Je=Ne.i.length;for(je=0;je<Je;je+=1)Ne.i[je][0]+=Ne.v[je][0],Ne.i[je][1]+=Ne.v[je][1],Ne.o[je][0]+=Ne.v[je][0],Ne.o[je][1]+=Ne.v[je][1]}function N(Ne,je){var Je=je?je.split("."):[100,100,100];return Ne[0]>Je[0]||!(Je[0]>Ne[0])&&(Ne[1]>Je[1]||!(Je[1]>Ne[1])&&(Ne[2]>Je[2]||!(Je[2]>Ne[2])&&null))}var G,I=function(){var Ne=[4,4,14];function je(Je){var j,Se,pt,ht=Je.length;for(j=0;j<ht;j+=1)5===Je[j].ty&&(pt=(Se=Je[j]).t.d,Se.t.d={k:[{s:pt,t:0}]})}return function(Je){if(N(Ne,Je.v)&&(je(Je.layers),Je.assets)){var j,Se=Je.assets.length;for(j=0;j<Se;j+=1)Je.assets[j].layers&&je(Je.assets[j].layers)}}}(),V=(G=[4,7,99],function(Ne){if(Ne.chars&&!N(G,Ne.v)){var je,Je=Ne.chars.length;for(je=0;je<Je;je+=1){var j=Ne.chars[je];j.data&&j.data.shapes&&(W(j.data.shapes),j.data.ip=0,j.data.op=99999,j.data.st=0,j.data.sr=1,j.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ne.chars[je].t||(j.data.shapes.push({ty:"no"}),j.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),re=function(){var Ne=[5,7,15];function je(Je){var j,Se,pt=Je.length;for(j=0;j<pt;j+=1)5===Je[j].ty&&(Se=void 0,"number"==typeof(Se=Je[j].t.p).a&&(Se.a={a:0,k:Se.a}),"number"==typeof Se.p&&(Se.p={a:0,k:Se.p}),"number"==typeof Se.r&&(Se.r={a:0,k:Se.r}))}return function(Je){if(N(Ne,Je.v)&&(je(Je.layers),Je.assets)){var j,Se=Je.assets.length;for(j=0;j<Se;j+=1)Je.assets[j].layers&&je(Je.assets[j].layers)}}}(),he=function(){var Ne=[4,1,9];function je(j){var Se,pt,ht,gt=j.length;for(Se=0;Se<gt;Se+=1)if("gr"===j[Se].ty)je(j[Se].it);else if("fl"===j[Se].ty||"st"===j[Se].ty)if(j[Se].c.k&&j[Se].c.k[0].i)for(ht=j[Se].c.k.length,pt=0;pt<ht;pt+=1)j[Se].c.k[pt].s&&(j[Se].c.k[pt].s[0]/=255,j[Se].c.k[pt].s[1]/=255,j[Se].c.k[pt].s[2]/=255,j[Se].c.k[pt].s[3]/=255),j[Se].c.k[pt].e&&(j[Se].c.k[pt].e[0]/=255,j[Se].c.k[pt].e[1]/=255,j[Se].c.k[pt].e[2]/=255,j[Se].c.k[pt].e[3]/=255);else j[Se].c.k[0]/=255,j[Se].c.k[1]/=255,j[Se].c.k[2]/=255,j[Se].c.k[3]/=255}function Je(j){var Se,pt=j.length;for(Se=0;Se<pt;Se+=1)4===j[Se].ty&&je(j[Se].shapes)}return function(j){if(N(Ne,j.v)&&(Je(j.layers),j.assets)){var Se,pt=j.assets.length;for(Se=0;Se<pt;Se+=1)j.assets[Se].layers&&Je(j.assets[Se].layers)}}}(),pe=function(){var Ne=[4,4,18];function je(j){var Se,pt,ht;for(Se=j.length-1;Se>=0;Se-=1)if("sh"===j[Se].ty)if(j[Se].ks.k.i)j[Se].ks.k.c=j[Se].closed;else for(ht=j[Se].ks.k.length,pt=0;pt<ht;pt+=1)j[Se].ks.k[pt].s&&(j[Se].ks.k[pt].s[0].c=j[Se].closed),j[Se].ks.k[pt].e&&(j[Se].ks.k[pt].e[0].c=j[Se].closed);else"gr"===j[Se].ty&&je(j[Se].it)}function Je(j){var Se,pt,ht,gt,zt,Qt,at=j.length;for(pt=0;pt<at;pt+=1){if((Se=j[pt]).hasMask){var Ae=Se.masksProperties;for(gt=Ae.length,ht=0;ht<gt;ht+=1)if(Ae[ht].pt.k.i)Ae[ht].pt.k.c=Ae[ht].cl;else for(Qt=Ae[ht].pt.k.length,zt=0;zt<Qt;zt+=1)Ae[ht].pt.k[zt].s&&(Ae[ht].pt.k[zt].s[0].c=Ae[ht].cl),Ae[ht].pt.k[zt].e&&(Ae[ht].pt.k[zt].e[0].c=Ae[ht].cl)}4===Se.ty&&je(Se.shapes)}}return function(j){if(N(Ne,j.v)&&(Je(j.layers),j.assets)){var Se,pt=j.assets.length;for(Se=0;Se<pt;Se+=1)j.assets[Se].layers&&Je(j.assets[Se].layers)}}}(),Qe={completeData:function(Ne){Ne.__complete||(he(Ne),I(Ne),V(Ne),re(Ne),pe(Ne),T(Ne.layers,Ne.assets),function(je,Je){if(je){var j=0,Se=je.length;for(j=0;j<Se;j+=1)1===je[j].t&&(je[j].data.layers=F(je[j].data.refId,Je),T(je[j].data.layers,Je))}}(Ne.chars,Ne.assets),Ne.__complete=!0)}};return Qe.checkColors=he,Qe.checkChars=V,Qe.checkPathProperties=re,Qe.checkShapes=pe,Qe.completeLayers=T,Qe}()),A.assetLoader||(A.assetLoader=function(){function T(F){var W=F.getResponseHeader("content-type");return W&&"json"===F.responseType&&-1!==W.indexOf("json")||F.response&&"object"===_typeof$5(F.response)?F.response:F.response&&"string"==typeof F.response?JSON.parse(F.response):F.responseText?JSON.parse(F.responseText):null}return{load:function(F,W,R,N){var G,I=new XMLHttpRequest;try{I.responseType="json"}catch{}I.onreadystatechange=function(){if(4===I.readyState)if(200===I.status)G=T(I),R(G);else try{G=T(I),R(G)}catch(V){N&&N(V)}};try{I.open("GET",F,!0)}catch{I.open("GET",W+"/"+F,!0)}I.send()}}}()),"loadAnimation"===B.data.type)A.assetLoader.load(B.data.path,B.data.fullPath,function(T){A.dataManager.completeData(T),A.postMessage({id:B.data.id,payload:T,status:"success"})},function(){A.postMessage({id:B.data.id,status:"error"})});else if("complete"===B.data.type){var X=B.data.animation;A.dataManager.completeData(X),A.postMessage({id:B.data.id,payload:X,status:"success"})}else"loadData"===B.data.type&&A.assetLoader.load(B.data.path,B.data.fullPath,function(T){A.postMessage({id:B.data.id,payload:T,status:"success"})},function(){A.postMessage({id:B.data.id,status:"error"})})})).onmessage=function(B){var X=B.data,T=X.id,F=b[T];b[T]=null,"success"===X.status?F.onComplete(X.payload):F.onError&&F.onError()})}function z(B,X){var T="processId_"+(g+=1);return b[T]={onComplete:B,onError:X},T}return{loadAnimation:function(B,X,T){H();var F=z(X,T);m.postMessage({type:"loadAnimation",path:B,fullPath:window.location.origin+window.location.pathname,id:F})},loadData:function(B,X,T){H();var F=z(X,T);m.postMessage({type:"loadData",path:B,fullPath:window.location.origin+window.location.pathname,id:F})},completeAnimation:function(B,X,T){H();var F=z(X,T);m.postMessage({type:"complete",animation:B,id:F})}}}(),ImagePreloader=function(){var p=function(){var z=createTag("canvas");z.width=1,z.height=1;var B=z.getContext("2d");return B.fillStyle="rgba(0,0,0,0)",B.fillRect(0,0,1,1),z}();function m(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function g(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function b(z,B,X){var T="";if(z.e)T=z.p;else if(B){var F=z.p;-1!==F.indexOf("images/")&&(F=F.split("/")[1]),T=B+F}else T=X,T+=z.u?z.u:"",T+=z.p;return T}function C(z){var B=0,X=setInterval(function(){(z.getBBox().width||B>500)&&(this._imageLoaded(),clearInterval(X)),B+=1}.bind(this),50)}function A(z){var B={assetData:z},X=b(z,this.assetsPath,this.path);return dataManager.loadData(X,function(T){B.img=T,this._footageLoaded()}.bind(this),function(){B.img={},this._footageLoaded()}.bind(this)),B}function H(){this._imageLoaded=m.bind(this),this._footageLoaded=g.bind(this),this.testImageLoaded=C.bind(this),this.createFootageData=A.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return H.prototype={loadAssets:function(z,B){var X;this.imagesLoadedCb=B;var T=z.length;for(X=0;X<T;X+=1)z[X].layers||(z[X].t&&"seq"!==z[X].t?3===z[X].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(z[X]))):(this.totalImages+=1,this.images.push(this._createImageData(z[X]))))},setAssetsPath:function(z){this.assetsPath=z||""},setPath:function(z){this.path=z||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(z){for(var B=0,X=this.images.length;B<X;){if(this.images[B].assetData===z)return this.images[B].img;B+=1}return null},createImgData:function(z){var B=b(z,this.assetsPath,this.path),X=createTag("img");X.crossOrigin="anonymous",X.addEventListener("load",this._imageLoaded,!1),X.addEventListener("error",function(){T.img=p,this._imageLoaded()}.bind(this),!1),X.src=B;var T={img:X,assetData:z};return T},createImageData:function(z){var B=b(z,this.assetsPath,this.path),X=createNS("image");isSafari?this.testImageLoaded(X):X.addEventListener("load",this._imageLoaded,!1),X.addEventListener("error",function(){T.img=p,this._imageLoaded()}.bind(this),!1),X.setAttributeNS("http://www.w3.org/1999/xlink","href",B),this._elementHelper.append?this._elementHelper.append(X):this._elementHelper.appendChild(X);var T={img:X,assetData:z};return T},imageLoaded:m,footageLoaded:g,setCacheType:function(z,B){"svg"===z?(this._elementHelper=B,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},H}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(p,m){if(this._cbs[p])for(var g=this._cbs[p],b=0;b<g.length;b+=1)g[b](m)},addEventListener:function(p,m){return this._cbs[p]||(this._cbs[p]=[]),this._cbs[p].push(m),function(){this.removeEventListener(p,m)}.bind(this)},removeEventListener:function(p,m){if(m){if(this._cbs[p]){for(var g=0,b=this._cbs[p].length;g<b;)this._cbs[p][g]===m&&(this._cbs[p].splice(g,1),g-=1,b-=1),g+=1;this._cbs[p].length||(this._cbs[p]=null)}}else this._cbs[p]=null}};var markerParser=function(){function p(m){for(var g,b=m.split("\r\n"),C={},A=0,H=0;H<b.length;H+=1)2===(g=b[H].split(":")).length&&(C[g[0]]=g[1].trim(),A+=1);if(0===A)throw new Error;return C}return function(m){for(var g=[],b=0;b<m.length;b+=1){var C=m[b],A={time:C.tm,duration:C.dr};try{A.payload=JSON.parse(m[b].cm)}catch{try{A.payload=p(m[b].cm)}catch{A.payload={name:m[b].cm}}}g.push(A)}return g}}(),ProjectInterface=function(){function p(m){this.compositions.push(m)}return function(){function m(g){for(var b=0,C=this.compositions.length;b<C;){if(this.compositions[b].data&&this.compositions[b].data.nm===g)return this.compositions[b].prepareFrame&&this.compositions[b].data.xt&&this.compositions[b].prepareFrame(this.currentFrame),this.compositions[b].compInterface;b+=1}return null}return m.compositions=[],m.currentFrame=0,m.registerComposition=p,m}}(),renderers={},registerRenderer=function(p,m){renderers[p]=m};function getRenderer(p){return renderers[p]}function _typeof$4(p){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(p){(p.wrapper||p.container)&&(this.wrapper=p.wrapper||p.container);var m="svg";p.animType?m=p.animType:p.renderer&&(m=p.renderer);var g=getRenderer(m);this.renderer=new g(this,p.rendererSettings),this.imagePreloader.setCacheType(m,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=m,this.loop=""===p.loop||null==p.loop||!0===p.loop||!1!==p.loop&&parseInt(p.loop,10),this.autoplay=!("autoplay"in p)||p.autoplay,this.name=p.name?p.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(p,"autoloadSegments")||p.autoloadSegments,this.assetsPath=p.assetsPath,this.initialSegment=p.initialSegment,p.audioFactory&&this.audioController.setAudioFactory(p.audioFactory),p.animationData?this.setupAnimation(p.animationData):p.path&&(this.path=-1!==p.path.lastIndexOf("\\")?p.path.substr(0,p.path.lastIndexOf("\\")+1):p.path.substr(0,p.path.lastIndexOf("/")+1),this.fileName=p.path.substr(p.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(p.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(p){dataManager.completeAnimation(p,this.configAnimation)},AnimationItem.prototype.setData=function(p,m){m&&"object"!==_typeof$4(m)&&(m=JSON.parse(m));var g={wrapper:p,animationData:m},b=p.attributes;g.path=b.getNamedItem("data-animation-path")?b.getNamedItem("data-animation-path").value:b.getNamedItem("data-bm-path")?b.getNamedItem("data-bm-path").value:b.getNamedItem("bm-path")?b.getNamedItem("bm-path").value:"",g.animType=b.getNamedItem("data-anim-type")?b.getNamedItem("data-anim-type").value:b.getNamedItem("data-bm-type")?b.getNamedItem("data-bm-type").value:b.getNamedItem("bm-type")?b.getNamedItem("bm-type").value:b.getNamedItem("data-bm-renderer")?b.getNamedItem("data-bm-renderer").value:b.getNamedItem("bm-renderer")?b.getNamedItem("bm-renderer").value:"canvas";var C=b.getNamedItem("data-anim-loop")?b.getNamedItem("data-anim-loop").value:b.getNamedItem("data-bm-loop")?b.getNamedItem("data-bm-loop").value:b.getNamedItem("bm-loop")?b.getNamedItem("bm-loop").value:"";"false"===C?g.loop=!1:"true"===C?g.loop=!0:""!==C&&(g.loop=parseInt(C,10));var A=b.getNamedItem("data-anim-autoplay")?b.getNamedItem("data-anim-autoplay").value:b.getNamedItem("data-bm-autoplay")?b.getNamedItem("data-bm-autoplay").value:!b.getNamedItem("bm-autoplay")||b.getNamedItem("bm-autoplay").value;g.autoplay="false"!==A,g.name=b.getNamedItem("data-name")?b.getNamedItem("data-name").value:b.getNamedItem("data-bm-name")?b.getNamedItem("data-bm-name").value:b.getNamedItem("bm-name")?b.getNamedItem("bm-name").value:"","false"===(b.getNamedItem("data-anim-prerender")?b.getNamedItem("data-anim-prerender").value:b.getNamedItem("data-bm-prerender")?b.getNamedItem("data-bm-prerender").value:b.getNamedItem("bm-prerender")?b.getNamedItem("bm-prerender").value:"")&&(g.prerender=!1),this.setParams(g)},AnimationItem.prototype.includeLayers=function(p){p.op>this.animationData.op&&(this.animationData.op=p.op,this.totalFrames=Math.floor(p.op-this.animationData.ip));var m,g,b=this.animationData.layers,C=b.length,A=p.layers,H=A.length;for(g=0;g<H;g+=1)for(m=0;m<C;){if(b[m].id===A[g].id){b[m]=A[g];break}m+=1}if((p.chars||p.fonts)&&(this.renderer.globalData.fontManager.addChars(p.chars),this.renderer.globalData.fontManager.addFonts(p.fonts,this.renderer.globalData.defs)),p.assets)for(C=p.assets.length,m=0;m<C;m+=1)this.animationData.assets.push(p.assets[m]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(p){this.animationData=p;var m=getExpressionsPlugin();m&&m.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var p=this.animationData.segments;if(!p||0===p.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var m=p.shift();this.timeCompleted=m.time*this.frameRate;var g=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(g,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(p){if(this.renderer)try{this.animationData=p,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(p),p.assets||(p.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(p.assets),this.markers=markerParser(p.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(m){this.triggerConfigError(m)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var p=getExpressionsPlugin();p&&p.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(p){this.isSubframeEnabled=!!p},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(p){this.triggerRenderFrameError(p)}},AnimationItem.prototype.play=function(p){p&&this.name!==p||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(p){p&&this.name!==p||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(p){p&&this.name!==p||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(p){p&&this.name!==p||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(p){for(var m,g=0;g<this.markers.length;g+=1)if((m=this.markers[g]).payload&&m.payload.name===p)return m;return null},AnimationItem.prototype.goToAndStop=function(p,m,g){if(!g||this.name===g){var b=Number(p);if(isNaN(b)){var C=this.getMarkerData(p);C&&this.goToAndStop(C.time,!0)}else this.setCurrentRawFrameValue(m?p:p*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(p,m,g){if(!g||this.name===g){var b=Number(p);if(isNaN(b)){var C=this.getMarkerData(p);C&&(C.duration?this.playSegments([C.time,C.time+C.duration],!0):this.goToAndStop(C.time,!0))}else this.goToAndStop(b,m,g);this.play()}},AnimationItem.prototype.advanceTime=function(p){if(!0!==this.isPaused&&!1!==this.isLoaded){var m=this.currentRawFrame+p*this.frameModifier,g=!1;m>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?m>=this.totalFrames?(this.playCount+=1,this.checkSegments(m%this.totalFrames)||(this.setCurrentRawFrameValue(m%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(m):this.checkSegments(m>this.totalFrames?m%this.totalFrames:0)||(g=!0,m=this.totalFrames-1):m<0?this.checkSegments(m%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(g=!0,m=0):(this.setCurrentRawFrameValue(this.totalFrames+m%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(m),g&&(this.setCurrentRawFrameValue(m),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(p,m){this.playCount=0,p[1]<p[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=p[0]-p[1],this.timeCompleted=this.totalFrames,this.firstFrame=p[1],this.setCurrentRawFrameValue(this.totalFrames-.001-m)):p[1]>p[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=p[1]-p[0],this.timeCompleted=this.totalFrames,this.firstFrame=p[0],this.setCurrentRawFrameValue(.001+m)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(p,m){var g=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<p?g=p:this.currentRawFrame+this.firstFrame>m&&(g=m-p)),this.firstFrame=p,this.totalFrames=m-p,this.timeCompleted=this.totalFrames,-1!==g&&this.goToAndStop(g,!0)},AnimationItem.prototype.playSegments=function(p,m){if(m&&(this.segments.length=0),"object"===_typeof$4(p[0])){var g,b=p.length;for(g=0;g<b;g+=1)this.segments.push(p[g])}else this.segments.push(p);this.segments.length&&m&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(p){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),p&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(p){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),p),!0)},AnimationItem.prototype.destroy=function(p){p&&this.name!==p||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(p){this.currentRawFrame=p,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(p){this.playSpeed=p,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(p){this.playDirection=p<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(p,m){m&&this.name!==m||this.audioController.setVolume(p)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(p){p&&this.name!==p||this.audioController.mute()},AnimationItem.prototype.unmute=function(p){p&&this.name!==p||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(p){var m="";if(p.e)m=p.p;else if(this.assetsPath){var g=p.p;-1!==g.indexOf("images/")&&(g=g.split("/")[1]),m=this.assetsPath+g}else m=this.path,m+=p.u?p.u:"",m+=p.p;return m},AnimationItem.prototype.getAssetData=function(p){for(var m=0,g=this.assets.length;m<g;){if(p===this.assets[m].id)return this.assets[m];m+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(p){return p?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(p,m,g){try{this.renderer.getElementByPath(p).updateDocumentData(m,g)}catch{}},AnimationItem.prototype.trigger=function(p){if(this._cbs&&this._cbs[p])switch(p){case"enterFrame":this.triggerEvent(p,new BMEnterFrameEvent(p,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(p,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(p,new BMCompleteLoopEvent(p,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(p,new BMCompleteEvent(p,this.frameMult));break;case"segmentStart":this.triggerEvent(p,new BMSegmentStartEvent(p,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(p,new BMDestroyEvent(p,this));break;default:this.triggerEvent(p)}"enterFrame"===p&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(p,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===p&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(p,this.loop,this.playCount,this.frameMult)),"complete"===p&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(p,this.frameMult)),"segmentStart"===p&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(p,this.firstFrame,this.totalFrames)),"destroy"===p&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(p,this))},AnimationItem.prototype.triggerRenderFrameError=function(p){var m=new BMRenderFrameErrorEvent(p,this.currentFrame);this.triggerEvent("error",m),this.onError&&this.onError.call(this,m)},AnimationItem.prototype.triggerConfigError=function(p){var m=new BMConfigErrorEvent(p,this.currentFrame);this.triggerEvent("error",m),this.onError&&this.onError.call(this,m)};var animationManager=function(){var p={},m=[],g=0,b=0,C=0,A=!0,H=!1;function z(G){for(var I=0,V=G.target;I<b;)m[I].animation===V&&(m.splice(I,1),I-=1,b-=1,V.isPaused||T()),I+=1}function B(G,I){if(!G)return null;for(var V=0;V<b;){if(m[V].elem===G&&null!==m[V].elem)return m[V].animation;V+=1}var re=new AnimationItem;return F(re,G),re.setData(G,I),re}function X(){C+=1,N()}function T(){C-=1}function F(G,I){G.addEventListener("destroy",z),G.addEventListener("_active",X),G.addEventListener("_idle",T),m.push({elem:I,animation:G}),b+=1}function W(G){var I,V=G-g;for(I=0;I<b;I+=1)m[I].animation.advanceTime(V);g=G,C&&!H?window.requestAnimationFrame(W):A=!0}function R(G){g=G,window.requestAnimationFrame(W)}function N(){!H&&C&&A&&(window.requestAnimationFrame(R),A=!1)}return p.registerAnimation=B,p.loadAnimation=function(G){var I=new AnimationItem;return F(I,null),I.setParams(G),I},p.setSpeed=function(G,I){var V;for(V=0;V<b;V+=1)m[V].animation.setSpeed(G,I)},p.setDirection=function(G,I){var V;for(V=0;V<b;V+=1)m[V].animation.setDirection(G,I)},p.play=function(G){var I;for(I=0;I<b;I+=1)m[I].animation.play(G)},p.pause=function(G){var I;for(I=0;I<b;I+=1)m[I].animation.pause(G)},p.stop=function(G){var I;for(I=0;I<b;I+=1)m[I].animation.stop(G)},p.togglePause=function(G){var I;for(I=0;I<b;I+=1)m[I].animation.togglePause(G)},p.searchAnimations=function(G,I,V){var re,he=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),pe=he.length;for(re=0;re<pe;re+=1)V&&he[re].setAttribute("data-bm-type",V),B(he[re],G);if(I&&0===pe){V||(V="svg");var Le=document.getElementsByTagName("body")[0];Le.innerText="";var Qe=createTag("div");Qe.style.width="100%",Qe.style.height="100%",Qe.setAttribute("data-bm-type",V),Le.appendChild(Qe),B(Qe,G)}},p.resize=function(){var G;for(G=0;G<b;G+=1)m[G].animation.resize()},p.goToAndStop=function(G,I,V){var re;for(re=0;re<b;re+=1)m[re].animation.goToAndStop(G,I,V)},p.destroy=function(G){var I;for(I=b-1;I>=0;I-=1)m[I].animation.destroy(G)},p.freeze=function(){H=!0},p.unfreeze=function(){H=!1,N()},p.setVolume=function(G,I){var V;for(V=0;V<b;V+=1)m[V].animation.setVolume(G,I)},p.mute=function(G){var I;for(I=0;I<b;I+=1)m[I].animation.mute(G)},p.unmute=function(G){var I;for(I=0;I<b;I+=1)m[I].animation.unmute(G)},p.getRegisteredAnimations=function(){var G,I=m.length,V=[];for(G=0;G<I;G+=1)V.push(m[G].animation);return V},p}(),BezierFactory=function(){var p={getBezierEasing:function(T,F,W,R,N){var G=N||("bez_"+T+"_"+F+"_"+W+"_"+R).replace(/\./g,"p");if(m[G])return m[G];var I=new X([T,F,W,R]);return m[G]=I,I}},m={},g=.1,b="function"==typeof Float32Array;function C(T,F){return 1-3*F+3*T}function A(T,F){return 3*F-6*T}function H(T){return 3*T}function z(T,F,W){return((C(F,W)*T+A(F,W))*T+H(F))*T}function B(T,F,W){return 3*C(F,W)*T*T+2*A(F,W)*T+H(F)}function X(T){this._p=T,this._mSampleValues=b?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return X.prototype={get:function(T){var F=this._p[0],W=this._p[1],R=this._p[2],N=this._p[3];return this._precomputed||this._precompute(),F===W&&R===N?T:0===T?0:1===T?1:z(this._getTForX(T),W,N)},_precompute:function(){var T=this._p[0],F=this._p[1],W=this._p[2],R=this._p[3];this._precomputed=!0,T===F&&W===R||this._calcSampleValues()},_calcSampleValues:function(){for(var T=this._p[0],F=this._p[2],W=0;W<11;++W)this._mSampleValues[W]=z(W*g,T,F)},_getTForX:function(T){for(var F=this._p[0],W=this._p[2],R=this._mSampleValues,N=0,G=1;10!==G&&R[G]<=T;++G)N+=g;var I=N+(T-R[--G])/(R[G+1]-R[G])*g,V=B(I,F,W);return V>=.001?function(re,he,pe,Le){for(var Qe=0;Qe<4;++Qe){var Ne=B(he,pe,Le);if(0===Ne)return he;he-=(z(he,pe,Le)-re)/Ne}return he}(T,I,F,W):0===V?I:function(re,he,pe,Le,Qe){var Ne,je,Je=0;do{(Ne=z(je=he+(pe-he)/2,Le,Qe)-re)>0?pe=je:he=je}while(Math.abs(Ne)>1e-7&&++Je<10);return je}(T,N,N+g,F,W)}},p}(),pooling={double:function(p){return p.concat(createSizedArray(p.length))}},poolFactory=function(p,m,g){var b=0,C=p,A=createSizedArray(C);return{newElement:function(){return b?A[b-=1]:m()},release:function(H){b===C&&(A=pooling.double(A),C*=2),g&&g(H),A[b]=H,b+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(p){var m,g=p.lengths.length;for(m=0;m<g;m+=1)bezierLengthPool.release(p.lengths[m]);p.lengths.length=0});function bezFunction(){var p=Math;function m(X,T,F,W,R,N){var G=X*W+T*R+F*N-R*W-N*X-F*T;return G>-.001&&G<.001}var g=function(X,T,F,W){var R,N,G,I,V,re,he=getDefaultCurveSegments(),pe=0,Le=[],Qe=[],Ne=bezierLengthPool.newElement();for(G=F.length,R=0;R<he;R+=1){for(V=R/(he-1),re=0,N=0;N<G;N+=1)I=bmPow(1-V,3)*X[N]+3*bmPow(1-V,2)*V*F[N]+3*(1-V)*bmPow(V,2)*W[N]+bmPow(V,3)*T[N],Le[N]=I,null!==Qe[N]&&(re+=bmPow(Le[N]-Qe[N],2)),Qe[N]=Le[N];re&&(pe+=re=bmSqrt(re)),Ne.percents[R]=V,Ne.lengths[R]=pe}return Ne.addedLength=pe,Ne};function b(X){this.segmentLength=0,this.points=new Array(X)}function C(X,T){this.partialLength=X,this.point=T}var A,H=(A={},function(X,T,F,W){var R=(X[0]+"_"+X[1]+"_"+T[0]+"_"+T[1]+"_"+F[0]+"_"+F[1]+"_"+W[0]+"_"+W[1]).replace(/\./g,"p");if(!A[R]){var N,G,I,V,re,he,pe,Le=getDefaultCurveSegments(),Qe=0,Ne=null;2===X.length&&(X[0]!==T[0]||X[1]!==T[1])&&m(X[0],X[1],T[0],T[1],X[0]+F[0],X[1]+F[1])&&m(X[0],X[1],T[0],T[1],T[0]+W[0],T[1]+W[1])&&(Le=2);var je=new b(Le);for(I=F.length,N=0;N<Le;N+=1){for(pe=createSizedArray(I),re=N/(Le-1),he=0,G=0;G<I;G+=1)V=bmPow(1-re,3)*X[G]+3*bmPow(1-re,2)*re*(X[G]+F[G])+3*(1-re)*bmPow(re,2)*(T[G]+W[G])+bmPow(re,3)*T[G],pe[G]=V,null!==Ne&&(he+=bmPow(pe[G]-Ne[G],2));Qe+=he=bmSqrt(he),je.points[N]=new C(he,pe),Ne=pe}je.segmentLength=Qe,A[R]=je}return A[R]});function z(X,T){var F=T.percents,W=T.lengths,R=F.length,N=bmFloor((R-1)*X),G=X*T.addedLength,I=0;if(N===R-1||0===N||G===W[N])return F[N];for(var V=W[N]>G?-1:1,re=!0;re;)if(W[N]<=G&&W[N+1]>G?(I=(G-W[N])/(W[N+1]-W[N]),re=!1):N+=V,N<0||N>=R-1){if(N===R-1)return F[N];re=!1}return F[N]+(F[N+1]-F[N])*I}var B=createTypedArray("float32",8);return{getSegmentsLength:function(X){var T,F=segmentsLengthPool.newElement(),W=X.c,R=X.v,N=X.o,G=X.i,I=X._length,V=F.lengths,re=0;for(T=0;T<I-1;T+=1)V[T]=g(R[T],R[T+1],N[T],G[T+1]),re+=V[T].addedLength;return W&&I&&(V[T]=g(R[T],R[0],N[T],G[0]),re+=V[T].addedLength),F.totalLength=re,F},getNewSegment:function(X,T,F,W,R,N,G){R<0?R=0:R>1&&(R=1);var I,V=z(R,G),re=z(N=N>1?1:N,G),he=X.length,pe=1-V,Le=1-re,Qe=pe*pe*pe,Ne=V*pe*pe*3,je=V*V*pe*3,Je=V*V*V,j=pe*pe*Le,Se=V*pe*Le+pe*V*Le+pe*pe*re,pt=V*V*Le+pe*V*re+V*pe*re,ht=V*V*re,gt=pe*Le*Le,zt=V*Le*Le+pe*re*Le+pe*Le*re,Qt=V*re*Le+pe*re*re+V*Le*re,at=V*re*re,Ae=Le*Le*Le,ot=re*Le*Le+Le*re*Le+Le*Le*re,Ht=re*re*Le+Le*re*re+re*Le*re,An=re*re*re;for(I=0;I<he;I+=1)B[4*I]=p.round(1e3*(Qe*X[I]+Ne*F[I]+je*W[I]+Je*T[I]))/1e3,B[4*I+1]=p.round(1e3*(j*X[I]+Se*F[I]+pt*W[I]+ht*T[I]))/1e3,B[4*I+2]=p.round(1e3*(gt*X[I]+zt*F[I]+Qt*W[I]+at*T[I]))/1e3,B[4*I+3]=p.round(1e3*(Ae*X[I]+ot*F[I]+Ht*W[I]+An*T[I]))/1e3;return B},getPointInSegment:function(X,T,F,W,R,N){var G=z(R,N),I=1-G;return[p.round(1e3*(I*I*I*X[0]+(G*I*I+I*G*I+I*I*G)*F[0]+(G*G*I+I*G*G+G*I*G)*W[0]+G*G*G*T[0]))/1e3,p.round(1e3*(I*I*I*X[1]+(G*I*I+I*G*I+I*I*G)*F[1]+(G*G*I+I*G*G+G*I*G)*W[1]+G*G*G*T[1]))/1e3]},buildBezierData:H,pointOnLine2D:m,pointOnLine3D:function(X,T,F,W,R,N,G,I,V){if(0===F&&0===N&&0===V)return m(X,T,W,R,G,I);var re,he=p.sqrt(p.pow(W-X,2)+p.pow(R-T,2)+p.pow(N-F,2)),pe=p.sqrt(p.pow(G-X,2)+p.pow(I-T,2)+p.pow(V-F,2)),Le=p.sqrt(p.pow(G-W,2)+p.pow(I-R,2)+p.pow(V-N,2));return(re=he>pe?he>Le?he-pe-Le:Le-pe-he:Le>pe?Le-pe-he:pe-he-Le)>-1e-4&&re<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var p=initialDefaultFrame,m=Math.abs;function g(W,R){var N,G=this.offsetTime;"multidimensional"===this.propType&&(N=createTypedArray("float32",this.pv.length));for(var I,V,re,he,pe,Le,Qe,Ne,je,Je=R.lastIndex,j=Je,Se=this.keyframes.length-1,pt=!0;pt;){if(I=this.keyframes[j],V=this.keyframes[j+1],j===Se-1&&W>=V.t-G){I.h&&(I=V),Je=0;break}if(V.t-G>W){Je=j;break}j<Se-1?j+=1:(Je=0,pt=!1)}re=this.keyframesMetadata[j]||{};var ht,gt,zt,Qt,at,Ae,ot,Ht,An,nn,to,qr,Yr,cn,ui,xo,zi,Xr,Ki,yr,ur,vn,_r,uo,ki,sn,Gn,Bt=V.t-G,_n=I.t-G;if(I.to){re.bezierData||(re.bezierData=bez.buildBezierData(I.s,V.s||I.e,I.to,I.ti));var on=re.bezierData;if(W>=Bt||W<_n){var En=W>=Bt?on.points.length-1:0;for(pe=on.points[En].point.length,he=0;he<pe;he+=1)N[he]=on.points[En].point[he]}else{re.__fnct?je=re.__fnct:(je=BezierFactory.getBezierEasing(I.o.x,I.o.y,I.i.x,I.i.y,I.n).get,re.__fnct=je),Le=je((W-_n)/(Bt-_n));var lt,Fn=on.segmentLength*Le,un=R.lastFrame<W&&R._lastKeyframeIndex===j?R._lastAddedLength:0;for(Ne=R.lastFrame<W&&R._lastKeyframeIndex===j?R._lastPoint:0,pt=!0,Qe=on.points.length;pt;){if(un+=on.points[Ne].partialLength,0===Fn||0===Le||Ne===on.points.length-1){for(pe=on.points[Ne].point.length,he=0;he<pe;he+=1)N[he]=on.points[Ne].point[he];break}if(Fn>=un&&Fn<un+on.points[Ne+1].partialLength){for(lt=(Fn-un)/on.points[Ne+1].partialLength,pe=on.points[Ne].point.length,he=0;he<pe;he+=1)N[he]=on.points[Ne].point[he]+(on.points[Ne+1].point[he]-on.points[Ne].point[he])*lt;break}Ne<Qe-1?Ne+=1:pt=!1}R._lastPoint=Ne,R._lastAddedLength=un-on.points[Ne].partialLength,R._lastKeyframeIndex=j}}else{var Pi;if(Se=I.s.length,ht=V.s||I.e,this.sh&&1!==I.h)if(W>=Bt)N[0]=ht[0],N[1]=ht[1],N[2]=ht[2];else if(W<=_n)N[0]=I.s[0],N[1]=I.s[1],N[2]=I.s[2];else{var Di=b(I.s),rr=b(ht);gt=N,Yr=(W-_n)/(Bt-_n),Ki=[],(ui=(yr=(to=Di)[0])*(uo=(qr=rr)[0])+(ur=to[1])*(ki=qr[1])+(vn=to[2])*(sn=qr[2])+(_r=to[3])*(Gn=qr[3]))<0&&(ui=-ui,uo=-uo,ki=-ki,sn=-sn,Gn=-Gn),1-ui>1e-6?(cn=Math.acos(ui),xo=Math.sin(cn),zi=Math.sin((1-Yr)*cn)/xo,Xr=Math.sin(Yr*cn)/xo):(zi=1-Yr,Xr=Yr),Ki[0]=zi*yr+Xr*uo,Ki[1]=zi*ur+Xr*ki,Ki[2]=zi*vn+Xr*sn,Ki[3]=zi*_r+Xr*Gn,Qt=(zt=Ki)[0],at=zt[1],Ae=zt[2],ot=zt[3],Ht=Math.atan2(2*at*ot-2*Qt*Ae,1-2*at*at-2*Ae*Ae),An=Math.asin(2*Qt*at+2*Ae*ot),nn=Math.atan2(2*Qt*ot-2*at*Ae,1-2*Qt*Qt-2*Ae*Ae),gt[0]=Ht/degToRads,gt[1]=An/degToRads,gt[2]=nn/degToRads}else for(j=0;j<Se;j+=1)1!==I.h&&(W>=Bt?Le=1:W<_n?Le=0:(I.o.x.constructor===Array?(re.__fnct||(re.__fnct=[]),re.__fnct[j]?je=re.__fnct[j]:(je=BezierFactory.getBezierEasing(void 0===I.o.x[j]?I.o.x[0]:I.o.x[j],void 0===I.o.y[j]?I.o.y[0]:I.o.y[j],void 0===I.i.x[j]?I.i.x[0]:I.i.x[j],void 0===I.i.y[j]?I.i.y[0]:I.i.y[j]).get,re.__fnct[j]=je)):re.__fnct?je=re.__fnct:(je=BezierFactory.getBezierEasing(I.o.x,I.o.y,I.i.x,I.i.y).get,I.keyframeMetadata=je),Le=je((W-_n)/(Bt-_n)))),ht=V.s||I.e,Pi=1===I.h?I.s[j]:I.s[j]+(ht[j]-I.s[j])*Le,"multidimensional"===this.propType?N[j]=Pi:N=Pi}return R.lastIndex=Je,N}function b(W){var R=W[0]*degToRads,N=W[1]*degToRads,G=W[2]*degToRads,I=Math.cos(R/2),V=Math.cos(N/2),re=Math.cos(G/2),he=Math.sin(R/2),pe=Math.sin(N/2),Le=Math.sin(G/2);return[he*pe*re+I*V*Le,he*V*re+I*pe*Le,I*pe*re-he*V*Le,I*V*re-he*pe*Le]}function C(){var W=this.comp.renderedFrame-this.offsetTime,R=this.keyframes[0].t-this.offsetTime,N=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(W===this._caching.lastFrame||this._caching.lastFrame!==p&&(this._caching.lastFrame>=N&&W>=N||this._caching.lastFrame<R&&W<R))){this._caching.lastFrame>=W&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var G=this.interpolateValue(W,this._caching);this.pv=G}return this._caching.lastFrame=W,this.pv}function A(W){var R;if("unidimensional"===this.propType)m(this.v-(R=W*this.mult))>1e-5&&(this.v=R,this._mdf=!0);else for(var N=0,G=this.v.length;N<G;)m(this.v[N]-(R=W[N]*this.mult))>1e-5&&(this.v[N]=R,this._mdf=!0),N+=1}function H(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var W;this.lock=!0,this._mdf=this._isFirstFrame;var R=this.effectsSequence.length,N=this.kf?this.pv:this.data.k;for(W=0;W<R;W+=1)N=this.effectsSequence[W](N);this.setVValue(N),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function z(W){this.effectsSequence.push(W),this.container.addDynamicProperty(this)}function B(W,R,N,G){this.propType="unidimensional",this.mult=N||1,this.data=R,this.v=N?R.k*N:R.k,this.pv=R.k,this._mdf=!1,this.elem=W,this.container=G,this.comp=W.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=H,this.setVValue=A,this.addEffect=z}function X(W,R,N,G){var I;this.propType="multidimensional",this.mult=N||1,this.data=R,this._mdf=!1,this.elem=W,this.container=G,this.comp=W.comp,this.k=!1,this.kf=!1,this.frameId=-1;var V=R.k.length;for(this.v=createTypedArray("float32",V),this.pv=createTypedArray("float32",V),this.vel=createTypedArray("float32",V),I=0;I<V;I+=1)this.v[I]=R.k[I]*this.mult,this.pv[I]=R.k[I];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=H,this.setVValue=A,this.addEffect=z}function T(W,R,N,G){this.propType="unidimensional",this.keyframes=R.k,this.keyframesMetadata=[],this.offsetTime=W.data.st,this.frameId=-1,this._caching={lastFrame:p,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=R,this.mult=N||1,this.elem=W,this.container=G,this.comp=W.comp,this.v=p,this.pv=p,this._isFirstFrame=!0,this.getValue=H,this.setVValue=A,this.interpolateValue=g,this.effectsSequence=[C.bind(this)],this.addEffect=z}function F(W,R,N,G){var I;this.propType="multidimensional";var V,re,he,pe,Le=R.k.length;for(I=0;I<Le-1;I+=1)R.k[I].to&&R.k[I].s&&R.k[I+1]&&R.k[I+1].s&&(re=R.k[I+1].s,he=R.k[I].to,pe=R.k[I].ti,(2===(V=R.k[I].s).length&&(V[0]!==re[0]||V[1]!==re[1])&&bez.pointOnLine2D(V[0],V[1],re[0],re[1],V[0]+he[0],V[1]+he[1])&&bez.pointOnLine2D(V[0],V[1],re[0],re[1],re[0]+pe[0],re[1]+pe[1])||3===V.length&&(V[0]!==re[0]||V[1]!==re[1]||V[2]!==re[2])&&bez.pointOnLine3D(V[0],V[1],V[2],re[0],re[1],re[2],V[0]+he[0],V[1]+he[1],V[2]+he[2])&&bez.pointOnLine3D(V[0],V[1],V[2],re[0],re[1],re[2],re[0]+pe[0],re[1]+pe[1],re[2]+pe[2]))&&(R.k[I].to=null,R.k[I].ti=null),V[0]===re[0]&&V[1]===re[1]&&0===he[0]&&0===he[1]&&0===pe[0]&&0===pe[1]&&(2===V.length||V[2]===re[2]&&0===he[2]&&0===pe[2])&&(R.k[I].to=null,R.k[I].ti=null));this.effectsSequence=[C.bind(this)],this.data=R,this.keyframes=R.k,this.keyframesMetadata=[],this.offsetTime=W.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=N||1,this.elem=W,this.container=G,this.comp=W.comp,this.getValue=H,this.setVValue=A,this.interpolateValue=g,this.frameId=-1;var Qe=R.k[0].s.length;for(this.v=createTypedArray("float32",Qe),this.pv=createTypedArray("float32",Qe),I=0;I<Qe;I+=1)this.v[I]=p,this.pv[I]=p;this._caching={lastFrame:p,lastIndex:0,value:createTypedArray("float32",Qe)},this.addEffect=z}return{getProp:function(W,R,N,G,I){var V;if(R.k.length)if("number"==typeof R.k[0])V=new X(W,R,G,I);else switch(N){case 0:V=new T(W,R,G,I);break;case 1:V=new F(W,R,G,I)}else V=new B(W,R,G,I);return V.effectsSequence.length&&I.addDynamicProperty(V),V}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(p){-1===this.dynamicProperties.indexOf(p)&&(this.dynamicProperties.push(p),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var p;this._mdf=!1;var m=this.dynamicProperties.length;for(p=0;p<m;p+=1)this.dynamicProperties[p].getValue(),this.dynamicProperties[p]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(p){this.container=p,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(p,m){this.c=p,this.setLength(m);for(var g=0;g<m;)this.v[g]=pointPool.newElement(),this.o[g]=pointPool.newElement(),this.i[g]=pointPool.newElement(),g+=1},ShapePath.prototype.setLength=function(p){for(;this._maxLength<p;)this.doubleArrayLength();this._length=p},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(p,m,g,b,C){var A;switch(this._length=Math.max(this._length,b+1),this._length>=this._maxLength&&this.doubleArrayLength(),g){case"v":A=this.v;break;case"i":A=this.i;break;case"o":A=this.o;break;default:A=[]}(!A[b]||A[b]&&!C)&&(A[b]=pointPool.newElement()),A[b][0]=p,A[b][1]=m},ShapePath.prototype.setTripleAt=function(p,m,g,b,C,A,H,z){this.setXYAt(p,m,"v",H,z),this.setXYAt(g,b,"o",H,z),this.setXYAt(C,A,"i",H,z)},ShapePath.prototype.reverse=function(){var p=new ShapePath;p.setPathData(this.c,this._length);var m=this.v,g=this.o,b=this.i,C=0;this.c&&(p.setTripleAt(m[0][0],m[0][1],b[0][0],b[0][1],g[0][0],g[0][1],0,!1),C=1);var A,H=this._length-1,z=this._length;for(A=C;A<z;A+=1)p.setTripleAt(m[H][0],m[H][1],b[H][0],b[H][1],g[H][0],g[H][1],A,!1),H-=1;return p};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(p){var m,g=p._length;for(m=0;m<g;m+=1)pointPool.release(p.v[m]),pointPool.release(p.i[m]),pointPool.release(p.o[m]),p.v[m]=null,p.i[m]=null,p.o[m]=null;p._length=0,p.c=!1}),factory.clone=function(p){var m,g=factory.newElement(),b=void 0===p._length?p.v.length:p._length;for(g.setLength(b),g.c=p.c,m=0;m<b;m+=1)g.setTripleAt(p.v[m][0],p.v[m][1],p.o[m][0],p.o[m][1],p.i[m][0],p.i[m][1],m);return g},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(p){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=p,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var p;for(p=0;p<this._length;p+=1)shapePool.release(this.shapes[p]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(p){var m,g=p._length;for(m=0;m<g;m+=1)shapePool.release(p.shapes[m]);p._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=p,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var p=-999999;function m(R,N,G){var I,V,re,he,pe,Le,Qe,Ne,Je=G.lastIndex,j=this.keyframes;if(R<j[0].t-this.offsetTime)I=j[0].s[0],re=!0,Je=0;else if(R>=j[j.length-1].t-this.offsetTime)I=j[j.length-1].s?j[j.length-1].s[0]:j[j.length-2].e[0],re=!0;else{for(var Se,pt,ht,gt=Je,zt=j.length-1,Qt=!0;Qt&&(Se=j[gt],!((pt=j[gt+1]).t-this.offsetTime>R));)gt<zt-1?gt+=1:Qt=!1;if(ht=this.keyframesMetadata[gt]||{},Je=gt,!(re=1===Se.h)){if(R>=pt.t-this.offsetTime)Ne=1;else if(R<Se.t-this.offsetTime)Ne=0;else{var at;ht.__fnct?at=ht.__fnct:(at=BezierFactory.getBezierEasing(Se.o.x,Se.o.y,Se.i.x,Se.i.y).get,ht.__fnct=at),Ne=at((R-(Se.t-this.offsetTime))/(pt.t-this.offsetTime-(Se.t-this.offsetTime)))}V=pt.s?pt.s[0]:Se.e[0]}I=Se.s[0]}for(Le=N._length,Qe=I.i[0].length,G.lastIndex=Je,he=0;he<Le;he+=1)for(pe=0;pe<Qe;pe+=1)N.i[he][pe]=re?I.i[he][pe]:I.i[he][pe]+(V.i[he][pe]-I.i[he][pe])*Ne,N.o[he][pe]=re?I.o[he][pe]:I.o[he][pe]+(V.o[he][pe]-I.o[he][pe])*Ne,N.v[he][pe]=re?I.v[he][pe]:I.v[he][pe]+(V.v[he][pe]-I.v[he][pe])*Ne}function g(){var R=this.comp.renderedFrame-this.offsetTime,N=this.keyframes[0].t-this.offsetTime,G=this.keyframes[this.keyframes.length-1].t-this.offsetTime,I=this._caching.lastFrame;return I!==p&&(I<N&&R<N||I>G&&R>G)||(this._caching.lastIndex=I<R?this._caching.lastIndex:0,this.interpolateShape(R,this.pv,this._caching)),this._caching.lastFrame=R,this.pv}function b(){this.paths=this.localShapeCollection}function C(R){(function(N,G){if(N._length!==G._length||N.c!==G.c)return!1;var I,V=N._length;for(I=0;I<V;I+=1)if(N.v[I][0]!==G.v[I][0]||N.v[I][1]!==G.v[I][1]||N.o[I][0]!==G.o[I][0]||N.o[I][1]!==G.o[I][1]||N.i[I][0]!==G.i[I][0]||N.i[I][1]!==G.i[I][1])return!1;return!0})(this.v,R)||(this.v=shapePool.clone(R),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function A(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var R,N;this.lock=!0,this._mdf=!1,R=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var G=this.effectsSequence.length;for(N=0;N<G;N+=1)R=this.effectsSequence[N](R);this.setVValue(R),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function H(R,N,G){this.propType="shape",this.comp=R.comp,this.container=R,this.elem=R,this.data=N,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===G?N.pt.k:N.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=b,this.effectsSequence=[]}function z(R){this.effectsSequence.push(R),this.container.addDynamicProperty(this)}function B(R,N,G){this.propType="shape",this.comp=R.comp,this.elem=R,this.container=R,this.offsetTime=R.data.st,this.keyframes=3===G?N.pt.k:N.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var I=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,I),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=p,this.reset=b,this._caching={lastFrame:p,lastIndex:0},this.effectsSequence=[g.bind(this)]}H.prototype.interpolateShape=m,H.prototype.getValue=A,H.prototype.setVValue=C,H.prototype.addEffect=z,B.prototype.getValue=A,B.prototype.interpolateShape=m,B.prototype.setVValue=C,B.prototype.addEffect=z;var X=function(){var R=roundCorner;function N(G,I){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=I.d,this.elem=G,this.comp=G.comp,this.frameId=-1,this.initDynamicPropertyContainer(G),this.p=PropertyFactory.getProp(G,I.p,1,0,this),this.s=PropertyFactory.getProp(G,I.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return N.prototype={reset:b,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var G=this.p.v[0],I=this.p.v[1],V=this.s.v[0]/2,re=this.s.v[1]/2,he=3!==this.d,pe=this.v;pe.v[0][0]=G,pe.v[0][1]=I-re,pe.v[1][0]=he?G+V:G-V,pe.v[1][1]=I,pe.v[2][0]=G,pe.v[2][1]=I+re,pe.v[3][0]=he?G-V:G+V,pe.v[3][1]=I,pe.i[0][0]=he?G-V*R:G+V*R,pe.i[0][1]=I-re,pe.i[1][0]=he?G+V:G-V,pe.i[1][1]=I-re*R,pe.i[2][0]=he?G+V*R:G-V*R,pe.i[2][1]=I+re,pe.i[3][0]=he?G-V:G+V,pe.i[3][1]=I+re*R,pe.o[0][0]=he?G+V*R:G-V*R,pe.o[0][1]=I-re,pe.o[1][0]=he?G+V:G-V,pe.o[1][1]=I+re*R,pe.o[2][0]=he?G-V*R:G+V*R,pe.o[2][1]=I+re,pe.o[3][0]=he?G-V:G+V,pe.o[3][1]=I-re*R}},extendPrototype([DynamicPropertyContainer],N),N}(),T=function(){function R(N,G){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=N,this.comp=N.comp,this.data=G,this.frameId=-1,this.d=G.d,this.initDynamicPropertyContainer(N),1===G.sy?(this.ir=PropertyFactory.getProp(N,G.ir,0,0,this),this.is=PropertyFactory.getProp(N,G.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(N,G.pt,0,0,this),this.p=PropertyFactory.getProp(N,G.p,1,0,this),this.r=PropertyFactory.getProp(N,G.r,0,degToRads,this),this.or=PropertyFactory.getProp(N,G.or,0,0,this),this.os=PropertyFactory.getProp(N,G.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return R.prototype={reset:b,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var N,G,I,V,re=2*Math.floor(this.pt.v),he=2*Math.PI/re,pe=!0,Le=this.or.v,Qe=this.ir.v,Ne=this.os.v,je=this.is.v,Je=2*Math.PI*Le/(2*re),j=2*Math.PI*Qe/(2*re),Se=-Math.PI/2;Se+=this.r.v;var pt=3===this.data.d?-1:1;for(this.v._length=0,N=0;N<re;N+=1){I=pe?Ne:je,V=pe?Je:j;var ht=(G=pe?Le:Qe)*Math.cos(Se),gt=G*Math.sin(Se),zt=0===ht&&0===gt?0:gt/Math.sqrt(ht*ht+gt*gt),Qt=0===ht&&0===gt?0:-ht/Math.sqrt(ht*ht+gt*gt);this.v.setTripleAt(ht+=+this.p.v[0],gt+=+this.p.v[1],ht-zt*V*I*pt,gt-Qt*V*I*pt,ht+zt*V*I*pt,gt+Qt*V*I*pt,N,!0),pe=!pe,Se+=he*pt}},convertPolygonToPath:function(){var N,G=Math.floor(this.pt.v),I=2*Math.PI/G,V=this.or.v,re=this.os.v,he=2*Math.PI*V/(4*G),pe=.5*-Math.PI,Le=3===this.data.d?-1:1;for(pe+=this.r.v,this.v._length=0,N=0;N<G;N+=1){var Qe=V*Math.cos(pe),Ne=V*Math.sin(pe),je=0===Qe&&0===Ne?0:Ne/Math.sqrt(Qe*Qe+Ne*Ne),Je=0===Qe&&0===Ne?0:-Qe/Math.sqrt(Qe*Qe+Ne*Ne);this.v.setTripleAt(Qe+=+this.p.v[0],Ne+=+this.p.v[1],Qe-je*he*re*Le,Ne-Je*he*re*Le,Qe+je*he*re*Le,Ne+Je*he*re*Le,N,!0),pe+=I*Le}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],R),R}(),F=function(){function R(N,G){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=N,this.comp=N.comp,this.frameId=-1,this.d=G.d,this.initDynamicPropertyContainer(N),this.p=PropertyFactory.getProp(N,G.p,1,0,this),this.s=PropertyFactory.getProp(N,G.s,1,0,this),this.r=PropertyFactory.getProp(N,G.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return R.prototype={convertRectToPath:function(){var N=this.p.v[0],G=this.p.v[1],I=this.s.v[0]/2,V=this.s.v[1]/2,re=bmMin(I,V,this.r.v),he=re*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(N+I,G-V+re,N+I,G-V+re,N+I,G-V+he,0,!0),this.v.setTripleAt(N+I,G+V-re,N+I,G+V-he,N+I,G+V-re,1,!0),0!==re?(this.v.setTripleAt(N+I-re,G+V,N+I-re,G+V,N+I-he,G+V,2,!0),this.v.setTripleAt(N-I+re,G+V,N-I+he,G+V,N-I+re,G+V,3,!0),this.v.setTripleAt(N-I,G+V-re,N-I,G+V-re,N-I,G+V-he,4,!0),this.v.setTripleAt(N-I,G-V+re,N-I,G-V+he,N-I,G-V+re,5,!0),this.v.setTripleAt(N-I+re,G-V,N-I+re,G-V,N-I+he,G-V,6,!0),this.v.setTripleAt(N+I-re,G-V,N+I-he,G-V,N+I-re,G-V,7,!0)):(this.v.setTripleAt(N-I,G+V,N-I+he,G+V,N-I,G+V,2),this.v.setTripleAt(N-I,G-V,N-I,G-V+he,N-I,G-V,3))):(this.v.setTripleAt(N+I,G-V+re,N+I,G-V+he,N+I,G-V+re,0,!0),0!==re?(this.v.setTripleAt(N+I-re,G-V,N+I-re,G-V,N+I-he,G-V,1,!0),this.v.setTripleAt(N-I+re,G-V,N-I+he,G-V,N-I+re,G-V,2,!0),this.v.setTripleAt(N-I,G-V+re,N-I,G-V+re,N-I,G-V+he,3,!0),this.v.setTripleAt(N-I,G+V-re,N-I,G+V-he,N-I,G+V-re,4,!0),this.v.setTripleAt(N-I+re,G+V,N-I+re,G+V,N-I+he,G+V,5,!0),this.v.setTripleAt(N+I-re,G+V,N+I-he,G+V,N+I-re,G+V,6,!0),this.v.setTripleAt(N+I,G+V-re,N+I,G+V-re,N+I,G+V-he,7,!0)):(this.v.setTripleAt(N-I,G-V,N-I+he,G-V,N-I,G-V,1,!0),this.v.setTripleAt(N-I,G+V,N-I,G+V-he,N-I,G+V,2,!0),this.v.setTripleAt(N+I,G+V,N+I-he,G+V,N+I,G+V,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:b},extendPrototype([DynamicPropertyContainer],R),R}();return{getShapeProp:function(R,N,G){var I;return 3===G||4===G?I=(3===G?N.pt:N.ks).k.length?new B(R,N,G):new H(R,N,G):5===G?I=new F(R,N):6===G?I=new X(R,N):7===G&&(I=new T(R,N)),I.k&&R.addDynamicProperty(I),I},getConstructorFunction:function(){return H},getKeyframedConstructorFunction:function(){return B}}}(),Matrix=function(){var p=Math.cos,m=Math.sin,g=Math.tan,b=Math.round;function C(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function A(at){if(0===at)return this;var Ae=p(at),ot=m(at);return this._t(Ae,-ot,0,0,ot,Ae,0,0,0,0,1,0,0,0,0,1)}function H(at){if(0===at)return this;var Ae=p(at),ot=m(at);return this._t(1,0,0,0,0,Ae,-ot,0,0,ot,Ae,0,0,0,0,1)}function z(at){if(0===at)return this;var Ae=p(at),ot=m(at);return this._t(Ae,0,ot,0,0,1,0,0,-ot,0,Ae,0,0,0,0,1)}function B(at){if(0===at)return this;var Ae=p(at),ot=m(at);return this._t(Ae,-ot,0,0,ot,Ae,0,0,0,0,1,0,0,0,0,1)}function X(at,Ae){return this._t(1,Ae,at,1,0,0)}function T(at,Ae){return this.shear(g(at),g(Ae))}function F(at,Ae){var ot=p(Ae),Ht=m(Ae);return this._t(ot,Ht,0,0,-Ht,ot,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,g(at),1,0,0,0,0,1,0,0,0,0,1)._t(ot,-Ht,0,0,Ht,ot,0,0,0,0,1,0,0,0,0,1)}function W(at,Ae,ot){return ot||0===ot||(ot=1),1===at&&1===Ae&&1===ot?this:this._t(at,0,0,0,0,Ae,0,0,0,0,ot,0,0,0,0,1)}function R(at,Ae,ot,Ht,An,nn,Bt,_n,on,En,lt,Fn,un,Hi,Xi,Qn){return this.props[0]=at,this.props[1]=Ae,this.props[2]=ot,this.props[3]=Ht,this.props[4]=An,this.props[5]=nn,this.props[6]=Bt,this.props[7]=_n,this.props[8]=on,this.props[9]=En,this.props[10]=lt,this.props[11]=Fn,this.props[12]=un,this.props[13]=Hi,this.props[14]=Xi,this.props[15]=Qn,this}function N(at,Ae,ot){return ot=ot||0,0!==at||0!==Ae||0!==ot?this._t(1,0,0,0,0,1,0,0,0,0,1,0,at,Ae,ot,1):this}function G(at,Ae,ot,Ht,An,nn,Bt,_n,on,En,lt,Fn,un,Hi,Xi,Qn){var Vt=this.props;if(1===at&&0===Ae&&0===ot&&0===Ht&&0===An&&1===nn&&0===Bt&&0===_n&&0===on&&0===En&&1===lt&&0===Fn)return Vt[12]=Vt[12]*at+Vt[15]*un,Vt[13]=Vt[13]*nn+Vt[15]*Hi,Vt[14]=Vt[14]*lt+Vt[15]*Xi,Vt[15]*=Qn,this._identityCalculated=!1,this;var Pi=Vt[0],Di=Vt[1],rr=Vt[2],to=Vt[3],qr=Vt[4],Yr=Vt[5],cn=Vt[6],ui=Vt[7],xo=Vt[8],zi=Vt[9],Xr=Vt[10],Ki=Vt[11],yr=Vt[12],ur=Vt[13],vn=Vt[14],_r=Vt[15];return Vt[0]=Pi*at+Di*An+rr*on+to*un,Vt[1]=Pi*Ae+Di*nn+rr*En+to*Hi,Vt[2]=Pi*ot+Di*Bt+rr*lt+to*Xi,Vt[3]=Pi*Ht+Di*_n+rr*Fn+to*Qn,Vt[4]=qr*at+Yr*An+cn*on+ui*un,Vt[5]=qr*Ae+Yr*nn+cn*En+ui*Hi,Vt[6]=qr*ot+Yr*Bt+cn*lt+ui*Xi,Vt[7]=qr*Ht+Yr*_n+cn*Fn+ui*Qn,Vt[8]=xo*at+zi*An+Xr*on+Ki*un,Vt[9]=xo*Ae+zi*nn+Xr*En+Ki*Hi,Vt[10]=xo*ot+zi*Bt+Xr*lt+Ki*Xi,Vt[11]=xo*Ht+zi*_n+Xr*Fn+Ki*Qn,Vt[12]=yr*at+ur*An+vn*on+_r*un,Vt[13]=yr*Ae+ur*nn+vn*En+_r*Hi,Vt[14]=yr*ot+ur*Bt+vn*lt+_r*Xi,Vt[15]=yr*Ht+ur*_n+vn*Fn+_r*Qn,this._identityCalculated=!1,this}function I(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function V(at){for(var Ae=0;Ae<16;){if(at.props[Ae]!==this.props[Ae])return!1;Ae+=1}return!0}function re(at){var Ae;for(Ae=0;Ae<16;Ae+=1)at.props[Ae]=this.props[Ae];return at}function he(at){var Ae;for(Ae=0;Ae<16;Ae+=1)this.props[Ae]=at[Ae]}function pe(at,Ae,ot){return{x:at*this.props[0]+Ae*this.props[4]+ot*this.props[8]+this.props[12],y:at*this.props[1]+Ae*this.props[5]+ot*this.props[9]+this.props[13],z:at*this.props[2]+Ae*this.props[6]+ot*this.props[10]+this.props[14]}}function Le(at,Ae,ot){return at*this.props[0]+Ae*this.props[4]+ot*this.props[8]+this.props[12]}function Qe(at,Ae,ot){return at*this.props[1]+Ae*this.props[5]+ot*this.props[9]+this.props[13]}function Ne(at,Ae,ot){return at*this.props[2]+Ae*this.props[6]+ot*this.props[10]+this.props[14]}function je(){var at=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ae=this.props[5]/at,ot=-this.props[1]/at,Ht=-this.props[4]/at,An=this.props[0]/at,nn=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/at,Bt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/at,_n=new Matrix;return _n.props[0]=Ae,_n.props[1]=ot,_n.props[4]=Ht,_n.props[5]=An,_n.props[12]=nn,_n.props[13]=Bt,_n}function Je(at){return this.getInverseMatrix().applyToPointArray(at[0],at[1],at[2]||0)}function j(at){var Ae,ot=at.length,Ht=[];for(Ae=0;Ae<ot;Ae+=1)Ht[Ae]=Je(at[Ae]);return Ht}function Se(at,Ae,ot){var Ht=createTypedArray("float32",6);if(this.isIdentity())Ht[0]=at[0],Ht[1]=at[1],Ht[2]=Ae[0],Ht[3]=Ae[1],Ht[4]=ot[0],Ht[5]=ot[1];else{var An=this.props[0],nn=this.props[1],Bt=this.props[4],_n=this.props[5],on=this.props[12],En=this.props[13];Ht[0]=at[0]*An+at[1]*Bt+on,Ht[1]=at[0]*nn+at[1]*_n+En,Ht[2]=Ae[0]*An+Ae[1]*Bt+on,Ht[3]=Ae[0]*nn+Ae[1]*_n+En,Ht[4]=ot[0]*An+ot[1]*Bt+on,Ht[5]=ot[0]*nn+ot[1]*_n+En}return Ht}function pt(at,Ae,ot){return this.isIdentity()?[at,Ae,ot]:[at*this.props[0]+Ae*this.props[4]+ot*this.props[8]+this.props[12],at*this.props[1]+Ae*this.props[5]+ot*this.props[9]+this.props[13],at*this.props[2]+Ae*this.props[6]+ot*this.props[10]+this.props[14]]}function ht(at,Ae){if(this.isIdentity())return at+","+Ae;var ot=this.props;return Math.round(100*(at*ot[0]+Ae*ot[4]+ot[12]))/100+","+Math.round(100*(at*ot[1]+Ae*ot[5]+ot[13]))/100}function gt(){for(var at=0,Ae=this.props,ot="matrix3d(";at<16;)ot+=b(1e4*Ae[at])/1e4,ot+=15===at?")":",",at+=1;return ot}function zt(at){return at<1e-6&&at>0||at>-1e-6&&at<0?b(1e4*at)/1e4:at}function Qt(){var at=this.props;return"matrix("+zt(at[0])+","+zt(at[1])+","+zt(at[4])+","+zt(at[5])+","+zt(at[12])+","+zt(at[13])+")"}return function(){this.reset=C,this.rotate=A,this.rotateX=H,this.rotateY=z,this.rotateZ=B,this.skew=T,this.skewFromAxis=F,this.shear=X,this.scale=W,this.setTransform=R,this.translate=N,this.transform=G,this.applyToPoint=pe,this.applyToX=Le,this.applyToY=Qe,this.applyToZ=Ne,this.applyToPointArray=pt,this.applyToTriplePoints=Se,this.applyToPointStringified=ht,this.toCSS=gt,this.to2dCSS=Qt,this.clone=re,this.cloneFromProps=he,this.equals=V,this.inversePoints=j,this.inversePoint=Je,this.getInverseMatrix=je,this._t=this.transform,this.isIdentity=I,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(p){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(p){setLocationHref(p)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(p){setSubframeEnabled(p)}function setPrefix(p){setIdPrefix(p)}function loadAnimation(p){return!0===standalone&&(p.animationData=JSON.parse(animationData)),animationManager.loadAnimation(p)}function setQuality(p){if("string"==typeof p)switch(p){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(p)&&p>1&&setDefaultCurveSegments(p);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(p,m){"expressions"===p&&setExpressionsPlugin(m)}function getFactory(p){switch(p){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(p){for(var m=queryString.split("&"),g=0;g<m.length;g+=1){var b=m[g].split("=");if(decodeURIComponent(b[0])==p)return decodeURIComponent(b[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(p){}var ShapeModifiers=(p={},m={},p.registerModifier=function(g,b){m[g]||(m[g]=b)},p.getModifier=function(g,b,C){return new m[g](b,C)},p),p,m;function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(p){if(!this.closed){p.sh.container.addDynamicProperty(p.sh);var m={shape:p.sh,data:p,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(m),this.addShapeToModifier(m),this._isAnimated&&p.setAsAnimated()}},ShapeModifier.prototype.init=function(p,m){this.shapes=[],this.elem=p,this.initDynamicPropertyContainer(p),this.initModifierProperties(p,m),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(p,m){this.s=PropertyFactory.getProp(p,m.s,0,.01,this),this.e=PropertyFactory.getProp(p,m.e,0,.01,this),this.o=PropertyFactory.getProp(p,m.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=m.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(p){p.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(p,m,g,b,C){var A=[];m<=1?A.push({s:p,e:m}):p>=1?A.push({s:p-1,e:m-1}):(A.push({s:p,e:1}),A.push({s:0,e:m-1}));var H,z,B=[],X=A.length;for(H=0;H<X;H+=1)(z=A[H]).e*C<b||z.s*C>b+g||B.push([z.s*C<=b?0:(z.s*C-b)/g,z.e*C>=b+g?1:(z.e*C-b)/g]);return B.length||B.push([0,0]),B},TrimModifier.prototype.releasePathsData=function(p){var m,g=p.length;for(m=0;m<g;m+=1)segmentsLengthPool.release(p[m]);return p.length=0,p},TrimModifier.prototype.processShapes=function(p){var m,g,b,C;if(this._mdf||p){var A=this.o.v%360/360;if(A<0&&(A+=1),(m=this.s.v>1?1+A:this.s.v<0?0+A:this.s.v+A)>(g=this.e.v>1?1+A:this.e.v<0?0+A:this.e.v+A)){var H=m;m=g,g=H}m=1e-4*Math.round(1e4*m),g=1e-4*Math.round(1e4*g),this.sValue=m,this.eValue=g}else m=this.sValue,g=this.eValue;var z,B,X,T,F,W=this.shapes.length,R=0;if(g===m)for(C=0;C<W;C+=1)this.shapes[C].localShapeCollection.releaseShapes(),this.shapes[C].shape._mdf=!0,this.shapes[C].shape.paths=this.shapes[C].localShapeCollection,this._mdf&&(this.shapes[C].pathsData.length=0);else if(1===g&&0===m||0===g&&1===m){if(this._mdf)for(C=0;C<W;C+=1)this.shapes[C].pathsData.length=0,this.shapes[C].shape._mdf=!0}else{var N,G,I=[];for(C=0;C<W;C+=1)if((N=this.shapes[C]).shape._mdf||this._mdf||p||2===this.m){if(B=(b=N.shape.paths)._length,F=0,!N.shape._mdf&&N.pathsData.length)F=N.totalShapeLength;else{for(X=this.releasePathsData(N.pathsData),z=0;z<B;z+=1)T=bez.getSegmentsLength(b.shapes[z]),X.push(T),F+=T.totalLength;N.totalShapeLength=F,N.pathsData=X}R+=F,N.shape._mdf=!0}else N.shape.paths=N.localShapeCollection;var V,re=m,he=g,pe=0;for(C=W-1;C>=0;C-=1)if((N=this.shapes[C]).shape._mdf){for((G=N.localShapeCollection).releaseShapes(),2===this.m&&W>1?(V=this.calculateShapeEdges(m,g,N.totalShapeLength,pe,R),pe+=N.totalShapeLength):V=[[re,he]],B=V.length,z=0;z<B;z+=1){re=V[z][0],he=V[z][1],I.length=0,he<=1?I.push({s:N.totalShapeLength*re,e:N.totalShapeLength*he}):re>=1?I.push({s:N.totalShapeLength*(re-1),e:N.totalShapeLength*(he-1)}):(I.push({s:N.totalShapeLength*re,e:N.totalShapeLength}),I.push({s:0,e:N.totalShapeLength*(he-1)}));var Le=this.addShapes(N,I[0]);if(I[0].s!==I[0].e){if(I.length>1)if(N.shape.paths.shapes[N.shape.paths._length-1].c){var Qe=Le.pop();this.addPaths(Le,G),Le=this.addShapes(N,I[1],Qe)}else this.addPaths(Le,G),Le=this.addShapes(N,I[1]);this.addPaths(Le,G)}}N.shape.paths=G}}},TrimModifier.prototype.addPaths=function(p,m){var g,b=p.length;for(g=0;g<b;g+=1)m.addShape(p[g])},TrimModifier.prototype.addSegment=function(p,m,g,b,C,A,H){C.setXYAt(m[0],m[1],"o",A),C.setXYAt(g[0],g[1],"i",A+1),H&&C.setXYAt(p[0],p[1],"v",A),C.setXYAt(b[0],b[1],"v",A+1)},TrimModifier.prototype.addSegmentFromArray=function(p,m,g,b){m.setXYAt(p[1],p[5],"o",g),m.setXYAt(p[2],p[6],"i",g+1),b&&m.setXYAt(p[0],p[4],"v",g),m.setXYAt(p[3],p[7],"v",g+1)},TrimModifier.prototype.addShapes=function(p,m,g){var b,C,A,H,z,B,X,T,F=p.pathsData,W=p.shape.paths.shapes,R=p.shape.paths._length,N=0,G=[],I=!0;for(g?(z=g._length,T=g._length):(g=shapePool.newElement(),z=0,T=0),G.push(g),b=0;b<R;b+=1){for(B=F[b].lengths,g.c=W[b].c,A=W[b].c?B.length:B.length+1,C=1;C<A;C+=1)if(N+(H=B[C-1]).addedLength<m.s)N+=H.addedLength,g.c=!1;else{if(N>m.e){g.c=!1;break}m.s<=N&&m.e>=N+H.addedLength?(this.addSegment(W[b].v[C-1],W[b].o[C-1],W[b].i[C],W[b].v[C],g,z,I),I=!1):(X=bez.getNewSegment(W[b].v[C-1],W[b].v[C],W[b].o[C-1],W[b].i[C],(m.s-N)/H.addedLength,(m.e-N)/H.addedLength,B[C-1]),this.addSegmentFromArray(X,g,z,I),I=!1,g.c=!1),N+=H.addedLength,z+=1}if(W[b].c&&B.length){if(H=B[C-1],N<=m.e){var V=B[C-1].addedLength;m.s<=N&&m.e>=N+V?(this.addSegment(W[b].v[C-1],W[b].o[C-1],W[b].i[0],W[b].v[0],g,z,I),I=!1):(X=bez.getNewSegment(W[b].v[C-1],W[b].v[0],W[b].o[C-1],W[b].i[0],(m.s-N)/V,(m.e-N)/V,B[C-1]),this.addSegmentFromArray(X,g,z,I),I=!1,g.c=!1)}else g.c=!1;N+=H.addedLength,z+=1}if(g._length&&(g.setXYAt(g.v[T][0],g.v[T][1],"i",T),g.setXYAt(g.v[g._length-1][0],g.v[g._length-1][1],"o",g._length-1)),N>m.e)break;b<R-1&&(g=shapePool.newElement(),I=!0,G.push(g),z=0)}return G},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(p,m){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(p,m.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(p,m){var g=m/100,b=[0,0],C=p._length,A=0;for(A=0;A<C;A+=1)b[0]+=p.v[A][0],b[1]+=p.v[A][1];b[0]/=C,b[1]/=C;var W=shapePool.newElement();for(W.c=p.c,A=0;A<C;A+=1)W.setTripleAt(p.v[A][0]+(b[0]-p.v[A][0])*g,p.v[A][1]+(b[1]-p.v[A][1])*g,p.o[A][0]+(b[0]-p.o[A][0])*-g,p.o[A][1]+(b[1]-p.o[A][1])*-g,p.i[A][0]+(b[0]-p.i[A][0])*-g,p.i[A][1]+(b[1]-p.i[A][1])*-g,A);return W},PuckerAndBloatModifier.prototype.processShapes=function(p){var m,g,b,C,A,H,z=this.shapes.length,B=this.amount.v;if(0!==B)for(g=0;g<z;g+=1){if(H=(A=this.shapes[g]).localShapeCollection,A.shape._mdf||this._mdf||p)for(H.releaseShapes(),A.shape._mdf=!0,m=A.shape.paths.shapes,C=A.shape.paths._length,b=0;b<C;b+=1)H.addShape(this.processPath(m[b],B));A.shape.paths=A.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var p=[0,0];function m(g,b,C){if(this.elem=g,this.frameId=-1,this.propType="transform",this.data=b,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(C||g),b.p&&b.p.s?(this.px=PropertyFactory.getProp(g,b.p.x,0,0,this),this.py=PropertyFactory.getProp(g,b.p.y,0,0,this),b.p.z&&(this.pz=PropertyFactory.getProp(g,b.p.z,0,0,this))):this.p=PropertyFactory.getProp(g,b.p||{k:[0,0,0]},1,0,this),b.rx){if(this.rx=PropertyFactory.getProp(g,b.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(g,b.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(g,b.rz,0,degToRads,this),b.or.k[0].ti){var A,H=b.or.k.length;for(A=0;A<H;A+=1)b.or.k[A].to=null,b.or.k[A].ti=null}this.or=PropertyFactory.getProp(g,b.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(g,b.r||{k:0},0,degToRads,this);b.sk&&(this.sk=PropertyFactory.getProp(g,b.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(g,b.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(g,b.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(g,b.s||{k:[100,100,100]},1,.01,this),this.o=b.o?PropertyFactory.getProp(g,b.o,0,.01,g):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return m.prototype={applyToMatrix:function(g){var b=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||b,this.a&&g.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&g.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&g.skewFromAxis(-this.sk.v,this.sa.v),this.r?g.rotate(-this.r.v):g.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?g.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):g.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(g){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||g){var b;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var C,A;if(b=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(C=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/b,0),A=this.p.getValueAtTime(this.p.keyframes[0].t/b,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(C=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/b,0),A=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/b,0)):(C=this.p.pv,A=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/b,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){C=[],A=[];var H=this.px,z=this.py;H._caching.lastFrame+H.offsetTime<=H.keyframes[0].t?(C[0]=H.getValueAtTime((H.keyframes[0].t+.01)/b,0),C[1]=z.getValueAtTime((z.keyframes[0].t+.01)/b,0),A[0]=H.getValueAtTime(H.keyframes[0].t/b,0),A[1]=z.getValueAtTime(z.keyframes[0].t/b,0)):H._caching.lastFrame+H.offsetTime>=H.keyframes[H.keyframes.length-1].t?(C[0]=H.getValueAtTime(H.keyframes[H.keyframes.length-1].t/b,0),C[1]=z.getValueAtTime(z.keyframes[z.keyframes.length-1].t/b,0),A[0]=H.getValueAtTime((H.keyframes[H.keyframes.length-1].t-.01)/b,0),A[1]=z.getValueAtTime((z.keyframes[z.keyframes.length-1].t-.01)/b,0)):(C=[H.pv,z.pv],A[0]=H.getValueAtTime((H._caching.lastFrame+H.offsetTime-.01)/b,H.offsetTime),A[1]=z.getValueAtTime((z._caching.lastFrame+z.offsetTime-.01)/b,z.offsetTime))}else C=A=p;this.v.rotate(-Math.atan2(C[1]-A[1],C[0]-A[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],m),m.prototype.addDynamicProperty=function(g){this._addDynamicProperty(g),this.elem.addDynamicProperty(g),this._isDirty=!0},m.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(g,b,C){return new m(g,b,C)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(p){for(var m=p.fStyle?p.fStyle.split(" "):[],g="normal",b="normal",C=m.length,A=0;A<C;A+=1)switch(m[A].toLowerCase()){case"italic":b="italic";break;case"bold":g="700";break;case"black":g="900";break;case"medium":g="500";break;case"regular":case"normal":g="400";break;case"light":case"thin":g="200"}return{style:b,weight:p.fWeight||g}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(p,m){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(p,m.c,0,null,this),this.o=PropertyFactory.getProp(p,m.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(p,m.tr,this),this.so=PropertyFactory.getProp(p,m.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(p,m.tr.eo,0,.01,this),this.data=m,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(p,m,g,b,C,A){var H=A?-1:1,z=b.s.v[0]+(1-b.s.v[0])*(1-C),B=b.s.v[1]+(1-b.s.v[1])*(1-C);p.translate(b.p.v[0]*H*C,b.p.v[1]*H*C,b.p.v[2]),m.translate(-b.a.v[0],-b.a.v[1],b.a.v[2]),m.rotate(-b.r.v*H*C),m.translate(b.a.v[0],b.a.v[1],b.a.v[2]),g.translate(-b.a.v[0],-b.a.v[1],b.a.v[2]),g.scale(A?1/z:z,A?1/B:B),g.translate(b.a.v[0],b.a.v[1],b.a.v[2])},RepeaterModifier.prototype.init=function(p,m,g,b){for(this.elem=p,this.arr=m,this.pos=g,this.elemsData=b,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(p),this.initModifierProperties(p,m[g]);g>0;)this._elements.unshift(m[g-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(p){var m,g=p.length;for(m=0;m<g;m+=1)p[m]._processed=!1,"gr"===p[m].ty&&this.resetElements(p[m].it)},RepeaterModifier.prototype.cloneElements=function(p){var m=JSON.parse(JSON.stringify(p));return this.resetElements(m),m},RepeaterModifier.prototype.changeGroupRender=function(p,m){var g,b=p.length;for(g=0;g<b;g+=1)p[g]._render=m,"gr"===p[g].ty&&this.changeGroupRender(p[g].it,m)},RepeaterModifier.prototype.processShapes=function(p){var m,g,b,C,A,H=!1;if(this._mdf||p){var z,B=Math.ceil(this.c.v);if(this._groups.length<B){for(;this._groups.length<B;){var X={it:this.cloneElements(this._elements),ty:"gr"};X.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,X),this._groups.splice(0,0,X),this._currentCopies+=1}this.elem.reloadShapes(),H=!0}for(A=0,b=0;b<=this._groups.length-1;b+=1){if(this._groups[b]._render=z=A<B,this.changeGroupRender(this._groups[b].it,z),!z){var T=this.elemsData[b].it,F=T[T.length-1];0!==F.transform.op.v?(F.transform.op._mdf=!0,F.transform.op.v=0):F.transform.op._mdf=!1}A+=1}this._currentCopies=B;var W=this.o.v,R=W%1,N=W>0?Math.floor(W):Math.ceil(W),G=this.pMatrix.props,I=this.rMatrix.props,V=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var re,he,pe=0;if(W>0){for(;pe<N;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),pe+=1;R&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,R,!1),pe+=R)}else if(W<0){for(;pe>N;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),pe-=1;R&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-R,!0),pe-=R)}for(b=1===this.data.m?0:this._currentCopies-1,C=1===this.data.m?1:-1,A=this._currentCopies;A;){if(he=(g=(m=this.elemsData[b].it)[m.length-1].transform.mProps.v.props).length,m[m.length-1].transform.mProps._mdf=!0,m[m.length-1].transform.op._mdf=!0,m[m.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+b/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==pe){for((0!==b&&1===C||b!==this._currentCopies-1&&-1===C)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],I[8],I[9],I[10],I[11],I[12],I[13],I[14],I[15]),this.matrix.transform(V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],V[8],V[9],V[10],V[11],V[12],V[13],V[14],V[15]),this.matrix.transform(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],G[8],G[9],G[10],G[11],G[12],G[13],G[14],G[15]),re=0;re<he;re+=1)g[re]=this.matrix.props[re];this.matrix.reset()}else for(this.matrix.reset(),re=0;re<he;re+=1)g[re]=this.matrix.props[re];pe+=1,A-=1,b+=C}}else for(A=this._currentCopies,b=0,C=1;A;)g=(m=this.elemsData[b].it)[m.length-1].transform.mProps.v.props,m[m.length-1].transform.mProps._mdf=!1,m[m.length-1].transform.op._mdf=!1,A-=1,b+=C;return H},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(p,m){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(p,m.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(p,m){var g,b=shapePool.newElement();b.c=p.c;var C,A,H,z,B,X,T,F,W,R,N,G,I=p._length,V=0;for(g=0;g<I;g+=1)A=p.i[g],(C=p.v[g])[0]===(H=p.o[g])[0]&&C[1]===H[1]&&C[0]===A[0]&&C[1]===A[1]?0!==g&&g!==I-1||p.c?(z=0===g?p.v[I-1]:p.v[g-1],X=(B=Math.sqrt(Math.pow(C[0]-z[0],2)+Math.pow(C[1]-z[1],2)))?Math.min(B/2,m)/B:0,T=N=C[0]+(z[0]-C[0])*X,F=G=C[1]-(C[1]-z[1])*X,b.setTripleAt(T,F,T-(T-C[0])*roundCorner,F-(F-C[1])*roundCorner,N,G,V),V+=1,z=g===I-1?p.v[0]:p.v[g+1],X=(B=Math.sqrt(Math.pow(C[0]-z[0],2)+Math.pow(C[1]-z[1],2)))?Math.min(B/2,m)/B:0,T=W=C[0]+(z[0]-C[0])*X,F=R=C[1]+(z[1]-C[1])*X,b.setTripleAt(T,F,W,R,N=T-(T-C[0])*roundCorner,G=F-(F-C[1])*roundCorner,V),V+=1):(b.setTripleAt(C[0],C[1],H[0],H[1],A[0],A[1],V),V+=1):(b.setTripleAt(p.v[g][0],p.v[g][1],p.o[g][0],p.o[g][1],p.i[g][0],p.i[g][1],V),V+=1);return b},RoundCornersModifier.prototype.processShapes=function(p){var m,g,b,C,A,H,z=this.shapes.length,B=this.rd.v;if(0!==B)for(g=0;g<z;g+=1){if(H=(A=this.shapes[g]).localShapeCollection,A.shape._mdf||this._mdf||p)for(H.releaseShapes(),A.shape._mdf=!0,m=A.shape.paths.shapes,C=A.shape.paths._length,b=0;b<C;b+=1)H.addShape(this.processPath(m[b],B));A.shape.paths=A.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var p={w:0,size:0,shapes:[],data:{shapes:[]}},m=[];m=m.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var g=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],b=[65039,8205];function C(B,X){var T=createTag("span");T.setAttribute("aria-hidden",!0),T.style.fontFamily=X;var F=createTag("span");F.innerText="giItT1WQy@!-/#",T.style.position="absolute",T.style.left="-10000px",T.style.top="-10000px",T.style.fontSize="300px",T.style.fontVariant="normal",T.style.fontStyle="normal",T.style.fontWeight="normal",T.style.letterSpacing="0",T.appendChild(F),document.body.appendChild(T);var W=F.offsetWidth;return F.style.fontFamily=function(R){var N,G=R.split(","),I=G.length,V=[];for(N=0;N<I;N+=1)"sans-serif"!==G[N]&&"monospace"!==G[N]&&V.push(G[N]);return V.join(",")}(B)+", "+X,{node:F,w:W,parent:T}}function A(B,X){var T,F=document.body&&X?"svg":"canvas",W=getFontProperties(B);if("svg"===F){var R=createNS("text");R.style.fontSize="100px",R.setAttribute("font-family",B.fFamily),R.setAttribute("font-style",W.style),R.setAttribute("font-weight",W.weight),R.textContent="1",B.fClass?(R.style.fontFamily="inherit",R.setAttribute("class",B.fClass)):R.style.fontFamily=B.fFamily,X.appendChild(R),T=R}else{var N=new OffscreenCanvas(500,500).getContext("2d");N.font=W.style+" "+W.weight+" 100px "+B.fFamily,T=N}return{measureText:function(G){return"svg"===F?(T.textContent=G,T.getComputedTextLength()):T.measureText(G).width}}}var H=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return H.isModifier=function(B,X){var T=B.toString(16)+X.toString(16);return-1!==g.indexOf(T)},H.isZeroWidthJoiner=function(B,X){return X?B===b[0]&&X===b[1]:B===b[1]},H.isCombinedCharacter=function(B){return-1!==m.indexOf(B)},H.prototype={addChars:function(B){if(B){var X;this.chars||(this.chars=[]);var T,F,W=B.length,R=this.chars.length;for(X=0;X<W;X+=1){for(T=0,F=!1;T<R;)this.chars[T].style===B[X].style&&this.chars[T].fFamily===B[X].fFamily&&this.chars[T].ch===B[X].ch&&(F=!0),T+=1;F||(this.chars.push(B[X]),R+=1)}}},addFonts:function(B,X){if(B){if(this.chars)return this.isLoaded=!0,void(this.fonts=B.list);if(!document.body)return this.isLoaded=!0,B.list.forEach(function(pe){pe.helper=A(pe),pe.cache={}}),void(this.fonts=B.list);var T,F=B.list,W=F.length,R=W;for(T=0;T<W;T+=1){var N,G,I=!0;if(F[T].loaded=!1,F[T].monoCase=C(F[T].fFamily,"monospace"),F[T].sansCase=C(F[T].fFamily,"sans-serif"),F[T].fPath){if("p"===F[T].fOrigin||3===F[T].origin){if((N=document.querySelectorAll('style[f-forigin="p"][f-family="'+F[T].fFamily+'"], style[f-origin="3"][f-family="'+F[T].fFamily+'"]')).length>0&&(I=!1),I){var V=createTag("style");V.setAttribute("f-forigin",F[T].fOrigin),V.setAttribute("f-origin",F[T].origin),V.setAttribute("f-family",F[T].fFamily),V.type="text/css",V.innerText="@font-face {font-family: "+F[T].fFamily+"; font-style: normal; src: url('"+F[T].fPath+"');}",X.appendChild(V)}}else if("g"===F[T].fOrigin||1===F[T].origin){for(N=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),G=0;G<N.length;G+=1)-1!==N[G].href.indexOf(F[T].fPath)&&(I=!1);if(I){var re=createTag("link");re.setAttribute("f-forigin",F[T].fOrigin),re.setAttribute("f-origin",F[T].origin),re.type="text/css",re.rel="stylesheet",re.href=F[T].fPath,document.body.appendChild(re)}}else if("t"===F[T].fOrigin||2===F[T].origin){for(N=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),G=0;G<N.length;G+=1)F[T].fPath===N[G].src&&(I=!1);if(I){var he=createTag("link");he.setAttribute("f-forigin",F[T].fOrigin),he.setAttribute("f-origin",F[T].origin),he.setAttribute("rel","stylesheet"),he.setAttribute("href",F[T].fPath),X.appendChild(he)}}}else F[T].loaded=!0,R-=1;F[T].helper=A(F[T],X),F[T].cache={},this.fonts.push(F[T])}0===R?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(B,X,T){for(var F=0,W=this.chars.length;F<W;){if(this.chars[F].ch===B&&this.chars[F].style===X&&this.chars[F].fFamily===T)return this.chars[F];F+=1}return("string"==typeof B&&13!==B.charCodeAt(0)||!B)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",B,X,T)),p},getFontByName:function(B){for(var X=0,T=this.fonts.length;X<T;){if(this.fonts[X].fName===B)return this.fonts[X];X+=1}return this.fonts[0]},measureText:function(B,X,T){var F=this.getFontByName(X),W=B.charCodeAt(0);if(!F.cache[W+1]){var R=F.helper;if(" "===B){var N=R.measureText("|"+B+"|"),G=R.measureText("||");F.cache[W+1]=(N-G)/100}else F.cache[W+1]=R.measureText(B)/100}return F.cache[W+1]*T},checkLoadedFonts:function(){var B,F=this.fonts.length,W=F;for(B=0;B<F;B+=1)this.fonts[B].loaded?W-=1:"n"===this.fonts[B].fOrigin||0===this.fonts[B].origin?this.fonts[B].loaded=!0:((this.fonts[B].monoCase.node.offsetWidth!==this.fonts[B].monoCase.w||this.fonts[B].sansCase.node.offsetWidth!==this.fonts[B].sansCase.w)&&(W-=1,this.fonts[B].loaded=!0),this.fonts[B].loaded&&(this.fonts[B].sansCase.parent.parentNode.removeChild(this.fonts[B].sansCase.parent),this.fonts[B].monoCase.parent.parentNode.removeChild(this.fonts[B].monoCase.parent)));0!==W&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},H}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(p){-1===this.renderableComponents.indexOf(p)&&this.renderableComponents.push(p)},removeRenderableComponent:function(p){-1!==this.renderableComponents.indexOf(p)&&this.renderableComponents.splice(this.renderableComponents.indexOf(p),1)},prepareRenderableFrame:function(p){this.checkLayerLimits(p)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(p){this.data.ip-this.data.st<=p&&this.data.op-this.data.st>p?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var p,m=this.renderableComponents.length;for(p=0;p<m;p+=1)this.renderableComponents[p].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function p(m,g){this._mask=m,this._data=g}return Object.defineProperty(p.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(p.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(m){var g,b=createSizedArray(m.viewData.length),C=m.viewData.length;for(g=0;g<C;g+=1)b[g]=new p(m.viewData[g],m.masksProperties[g]);return function(A){for(g=0;g<C;){if(m.masksProperties[g].nm===A)return b[g];g+=1}return null}}}(),ExpressionPropertyInterface=function(){var p={pv:0,v:0,mult:1},m={pv:[0,0,0],v:[0,0,0],mult:1};function g(C,A,H){Object.defineProperty(C,"velocity",{get:function(){return A.getVelocityAtTime(A.comp.currentFrame)}}),C.numKeys=A.keyframes?A.keyframes.length:0,C.key=function(z){if(!C.numKeys)return 0;var B;B="s"in A.keyframes[z-1]?A.keyframes[z-1].s:"e"in A.keyframes[z-2]?A.keyframes[z-2].e:A.keyframes[z-2].s;var X="unidimensional"===H?new Number(B):Object.assign({},B);return X.time=A.keyframes[z-1].t/A.elem.comp.globalData.frameRate,X.value="unidimensional"===H?B[0]:B,X},C.valueAtTime=A.getValueAtTime,C.speedAtTime=A.getSpeedAtTime,C.velocityAtTime=A.getVelocityAtTime,C.propertyGroup=A.propertyGroup}function b(){return p}return function(C){return C?"unidimensional"===C.propType?function(A){A&&"pv"in A||(A=p);var H=1/A.mult,z=A.pv*H,B=new Number(z);return B.value=z,g(B,A,"unidimensional"),function(){return A.k&&A.getValue(),B.value!==(z=A.v*H)&&((B=new Number(z)).value=z,g(B,A,"unidimensional")),B}}(C):function(A){A&&"pv"in A||(A=m);var H=1/A.mult,z=A.data&&A.data.l||A.pv.length,B=createTypedArray("float32",z),X=createTypedArray("float32",z);return B.value=X,g(B,A,"multidimensional"),function(){A.k&&A.getValue();for(var T=0;T<z;T+=1)X[T]=A.v[T]*H,B[T]=X[T];return B}}(C):b}}(),TransformExpressionInterface=function(p){function m(H){switch(H){case"scale":case"Scale":case"ADBE Scale":case 6:return m.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return m.rotation;case"ADBE Rotate X":return m.xRotation;case"ADBE Rotate Y":return m.yRotation;case"position":case"Position":case"ADBE Position":case 2:return m.position;case"ADBE Position_0":return m.xPosition;case"ADBE Position_1":return m.yPosition;case"ADBE Position_2":return m.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return m.anchorPoint;case"opacity":case"Opacity":case 11:return m.opacity;default:return null}}var g,b,C,A;return Object.defineProperty(m,"rotation",{get:ExpressionPropertyInterface(p.r||p.rz)}),Object.defineProperty(m,"zRotation",{get:ExpressionPropertyInterface(p.rz||p.r)}),Object.defineProperty(m,"xRotation",{get:ExpressionPropertyInterface(p.rx)}),Object.defineProperty(m,"yRotation",{get:ExpressionPropertyInterface(p.ry)}),Object.defineProperty(m,"scale",{get:ExpressionPropertyInterface(p.s)}),p.p?A=ExpressionPropertyInterface(p.p):(g=ExpressionPropertyInterface(p.px),b=ExpressionPropertyInterface(p.py),p.pz&&(C=ExpressionPropertyInterface(p.pz))),Object.defineProperty(m,"position",{get:function(){return p.p?A():[g(),b(),C?C():0]}}),Object.defineProperty(m,"xPosition",{get:ExpressionPropertyInterface(p.px)}),Object.defineProperty(m,"yPosition",{get:ExpressionPropertyInterface(p.py)}),Object.defineProperty(m,"zPosition",{get:ExpressionPropertyInterface(p.pz)}),Object.defineProperty(m,"anchorPoint",{get:ExpressionPropertyInterface(p.a)}),Object.defineProperty(m,"opacity",{get:ExpressionPropertyInterface(p.o)}),Object.defineProperty(m,"skew",{get:ExpressionPropertyInterface(p.sk)}),Object.defineProperty(m,"skewAxis",{get:ExpressionPropertyInterface(p.sa)}),Object.defineProperty(m,"orientation",{get:ExpressionPropertyInterface(p.or)}),m},LayerExpressionInterface=function(){function p(X){var T=new Matrix;return void 0!==X?this._elem.finalTransform.mProp.getValueAtTime(X).clone(T):this._elem.finalTransform.mProp.applyToMatrix(T),T}function m(X,T){var F=this.getMatrix(T);return F.props[12]=0,F.props[13]=0,F.props[14]=0,this.applyPoint(F,X)}function g(X,T){var F=this.getMatrix(T);return this.applyPoint(F,X)}function b(X,T){var F=this.getMatrix(T);return F.props[12]=0,F.props[13]=0,F.props[14]=0,this.invertPoint(F,X)}function C(X,T){var F=this.getMatrix(T);return this.invertPoint(F,X)}function A(X,T){if(this._elem.hierarchy&&this._elem.hierarchy.length){var F,W=this._elem.hierarchy.length;for(F=0;F<W;F+=1)this._elem.hierarchy[F].finalTransform.mProp.applyToMatrix(X)}return X.applyToPointArray(T[0],T[1],T[2]||0)}function H(X,T){if(this._elem.hierarchy&&this._elem.hierarchy.length){var F,W=this._elem.hierarchy.length;for(F=0;F<W;F+=1)this._elem.hierarchy[F].finalTransform.mProp.applyToMatrix(X)}return X.inversePoint(T)}function z(X){var T=new Matrix;if(T.reset(),this._elem.finalTransform.mProp.applyToMatrix(T),this._elem.hierarchy&&this._elem.hierarchy.length){var F,W=this._elem.hierarchy.length;for(F=0;F<W;F+=1)this._elem.hierarchy[F].finalTransform.mProp.applyToMatrix(T);return T.inversePoint(X)}return T.inversePoint(X)}function B(){return[1,1,1,1]}return function(X){var T;function F(R){switch(R){case"ADBE Root Vectors Group":case"Contents":case 2:return F.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return T;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return F.effect;case"ADBE Text Properties":return F.textInterface;default:return null}}F.getMatrix=p,F.invertPoint=H,F.applyPoint=A,F.toWorld=g,F.toWorldVec=m,F.fromWorld=C,F.fromWorldVec=b,F.toComp=g,F.fromComp=z,F.sampleImage=B,F.sourceRectAtTime=X.sourceRectAtTime.bind(X),F._elem=X;var W=getDescriptor(T=TransformExpressionInterface(X.finalTransform.mProp),"anchorPoint");return Object.defineProperties(F,{hasParent:{get:function(){return X.hierarchy.length}},parent:{get:function(){return X.hierarchy[0].layerInterface}},rotation:getDescriptor(T,"rotation"),scale:getDescriptor(T,"scale"),position:getDescriptor(T,"position"),opacity:getDescriptor(T,"opacity"),anchorPoint:W,anchor_point:W,transform:{get:function(){return T}},active:{get:function(){return X.isInRange}}}),F.startTime=X.data.st,F.index=X.data.ind,F.source=X.data.refId,F.height=0===X.data.ty?X.data.h:100,F.width=0===X.data.ty?X.data.w:100,F.inPoint=X.data.ip/X.comp.globalData.frameRate,F.outPoint=X.data.op/X.comp.globalData.frameRate,F._name=X.data.nm,F.registerMaskInterface=function(R){F.mask=new MaskManagerInterface(R,X)},F.registerEffectsInterface=function(R){F.effect=R},F}}(),propertyGroupFactory=function(p,m){return function(g){return(g=void 0===g?1:g)<=0?p:m(g-1)}},PropertyInterface=function(p,m){var g={_name:p};return function(b){return(b=void 0===b?1:b)<=0?g:m(b-1)}},EffectsExpressionInterface=function(){function p(g,b,C,A){function H(F){for(var W=g.ef,R=0,N=W.length;R<N;){if(F===W[R].nm||F===W[R].mn||F===W[R].ix)return 5===W[R].ty?X[R]:X[R]();R+=1}throw new Error}var z,B=propertyGroupFactory(H,C),X=[],T=g.ef.length;for(z=0;z<T;z+=1)X.push(5===g.ef[z].ty?p(g.ef[z],b.effectElements[z],b.effectElements[z].propertyGroup,A):m(b.effectElements[z],g.ef[z].ty,A,B));return"ADBE Color Control"===g.mn&&Object.defineProperty(H,"color",{get:function(){return X[0]()}}),Object.defineProperties(H,{numProperties:{get:function(){return g.np}},_name:{value:g.nm},propertyGroup:{value:B}}),H.active=H.enabled=0!==g.en,H}function m(g,b,C,A){var H=ExpressionPropertyInterface(g.p);return g.p.setGroupProperty&&g.p.setGroupProperty(PropertyInterface("",A)),function(){return 10===b?C.comp.compInterface(g.p.v):H()}}return{createEffectsInterface:function(g,b){if(g.effectsManager){var C,A=[],H=g.data.ef,z=g.effectsManager.effectElements.length;for(C=0;C<z;C+=1)A.push(p(H[C],g.effectsManager.effectElements[C],b,g));var B=g.data.ef||[],X=function(T){for(C=0,z=B.length;C<z;){if(T===B[C].nm||T===B[C].mn||T===B[C].ix)return A[C];C+=1}return null};return Object.defineProperty(X,"numProperties",{get:function(){return B.length}}),X}return null}}}(),CompExpressionInterface=function(p){function m(g){for(var b=0,C=p.layers.length;b<C;){if(p.layers[b].nm===g||p.layers[b].ind===g)return p.elements[b].layerInterface;b+=1}return null}return Object.defineProperty(m,"_name",{value:p.data.nm}),m.layer=m,m.pixelAspect=1,m.height=p.data.h||p.globalData.compSize.h,m.width=p.data.w||p.globalData.compSize.w,m.pixelAspect=1,m.frameDuration=1/p.globalData.frameRate,m.displayStartTime=0,m.numLayers=p.layers.length,m},ShapePathInterface=function(p,m,g){var b=m.sh;function C(H){return"Shape"===H||"shape"===H||"Path"===H||"path"===H||"ADBE Vector Shape"===H||2===H?C.path:null}var A=propertyGroupFactory(C,g);return b.setGroupProperty(PropertyInterface("Path",A)),Object.defineProperties(C,{path:{get:function(){return b.k&&b.getValue(),b}},shape:{get:function(){return b.k&&b.getValue(),b}},_name:{value:p.nm},ix:{value:p.ix},propertyIndex:{value:p.ix},mn:{value:p.mn},propertyGroup:{value:g}}),C},ShapeExpressionInterface=function(){function p(R,N,G){var I,V=[],re=R?R.length:0;for(I=0;I<re;I+=1)"gr"===R[I].ty?V.push(m(R[I],N[I],G)):"fl"===R[I].ty?V.push(g(R[I],N[I],G)):"st"===R[I].ty?V.push(A(R[I],N[I],G)):"tm"===R[I].ty?V.push(H(R[I],N[I],G)):"tr"===R[I].ty||V.push("el"===R[I].ty?B(R[I],N[I],G):"sr"===R[I].ty?X(R[I],N[I],G):"sh"===R[I].ty?ShapePathInterface(R[I],N[I],G):"rc"===R[I].ty?T(R[I],N[I],G):"rd"===R[I].ty?F(R[I],N[I],G):"rp"===R[I].ty?W(R[I],N[I],G):"gf"===R[I].ty?b(R[I],N[I],G):function(){return null});return V}function m(R,N,G){var I=function(he){switch(he){case"ADBE Vectors Group":case"Contents":case 2:return I.content;default:return I.transform}};I.propertyGroup=propertyGroupFactory(I,G);var V=function(he,pe,Le){var Qe,Ne=function(Je){for(var j=0,Se=Qe.length;j<Se;){if(Qe[j]._name===Je||Qe[j].mn===Je||Qe[j].propertyIndex===Je||Qe[j].ix===Je||Qe[j].ind===Je)return Qe[j];j+=1}return"number"==typeof Je?Qe[Je-1]:null};Ne.propertyGroup=propertyGroupFactory(Ne,Le),Qe=p(he.it,pe.it,Ne.propertyGroup),Ne.numProperties=Qe.length;var je=z(he.it[he.it.length-1],pe.it[pe.it.length-1],Ne.propertyGroup);return Ne.transform=je,Ne.propertyIndex=he.cix,Ne._name=he.nm,Ne}(R,N,I.propertyGroup),re=z(R.it[R.it.length-1],N.it[N.it.length-1],I.propertyGroup);return I.content=V,I.transform=re,Object.defineProperty(I,"_name",{get:function(){return R.nm}}),I.numProperties=R.np,I.propertyIndex=R.ix,I.nm=R.nm,I.mn=R.mn,I}function g(R,N,G){function I(V){return"Color"===V||"color"===V?I.color:"Opacity"===V||"opacity"===V?I.opacity:null}return Object.defineProperties(I,{color:{get:ExpressionPropertyInterface(N.c)},opacity:{get:ExpressionPropertyInterface(N.o)},_name:{value:R.nm},mn:{value:R.mn}}),N.c.setGroupProperty(PropertyInterface("Color",G)),N.o.setGroupProperty(PropertyInterface("Opacity",G)),I}function b(R,N,G){function I(V){return"Start Point"===V||"start point"===V?I.startPoint:"End Point"===V||"end point"===V?I.endPoint:"Opacity"===V||"opacity"===V?I.opacity:null}return Object.defineProperties(I,{startPoint:{get:ExpressionPropertyInterface(N.s)},endPoint:{get:ExpressionPropertyInterface(N.e)},opacity:{get:ExpressionPropertyInterface(N.o)},type:{get:function(){return"a"}},_name:{value:R.nm},mn:{value:R.mn}}),N.s.setGroupProperty(PropertyInterface("Start Point",G)),N.e.setGroupProperty(PropertyInterface("End Point",G)),N.o.setGroupProperty(PropertyInterface("Opacity",G)),I}function A(R,N,G){var I,Ne,V=propertyGroupFactory(Qe,G),re=propertyGroupFactory(Le,V),pe=R.d?R.d.length:0,Le={};for(I=0;I<pe;I+=1)Ne=I,Object.defineProperty(Le,R.d[Ne].nm,{get:ExpressionPropertyInterface(N.d.dataProps[Ne].p)}),N.d.dataProps[I].p.setGroupProperty(re);function Qe(Ne){return"Color"===Ne||"color"===Ne?Qe.color:"Opacity"===Ne||"opacity"===Ne?Qe.opacity:"Stroke Width"===Ne||"stroke width"===Ne?Qe.strokeWidth:null}return Object.defineProperties(Qe,{color:{get:ExpressionPropertyInterface(N.c)},opacity:{get:ExpressionPropertyInterface(N.o)},strokeWidth:{get:ExpressionPropertyInterface(N.w)},dash:{get:function(){return Le}},_name:{value:R.nm},mn:{value:R.mn}}),N.c.setGroupProperty(PropertyInterface("Color",V)),N.o.setGroupProperty(PropertyInterface("Opacity",V)),N.w.setGroupProperty(PropertyInterface("Stroke Width",V)),Qe}function H(R,N,G){function I(re){return re===R.e.ix||"End"===re||"end"===re?I.end:re===R.s.ix?I.start:re===R.o.ix?I.offset:null}var V=propertyGroupFactory(I,G);return I.propertyIndex=R.ix,N.s.setGroupProperty(PropertyInterface("Start",V)),N.e.setGroupProperty(PropertyInterface("End",V)),N.o.setGroupProperty(PropertyInterface("Offset",V)),I.propertyIndex=R.ix,I.propertyGroup=G,Object.defineProperties(I,{start:{get:ExpressionPropertyInterface(N.s)},end:{get:ExpressionPropertyInterface(N.e)},offset:{get:ExpressionPropertyInterface(N.o)},_name:{value:R.nm}}),I.mn=R.mn,I}function z(R,N,G){function I(re){return R.a.ix===re||"Anchor Point"===re?I.anchorPoint:R.o.ix===re||"Opacity"===re?I.opacity:R.p.ix===re||"Position"===re?I.position:R.r.ix===re||"Rotation"===re||"ADBE Vector Rotation"===re?I.rotation:R.s.ix===re||"Scale"===re?I.scale:R.sk&&R.sk.ix===re||"Skew"===re?I.skew:R.sa&&R.sa.ix===re||"Skew Axis"===re?I.skewAxis:null}var V=propertyGroupFactory(I,G);return N.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",V)),N.transform.mProps.p.setGroupProperty(PropertyInterface("Position",V)),N.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",V)),N.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",V)),N.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",V)),N.transform.mProps.sk&&(N.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",V)),N.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",V))),N.transform.op.setGroupProperty(PropertyInterface("Opacity",V)),Object.defineProperties(I,{opacity:{get:ExpressionPropertyInterface(N.transform.mProps.o)},position:{get:ExpressionPropertyInterface(N.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(N.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(N.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(N.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(N.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(N.transform.mProps.sa)},_name:{value:R.nm}}),I.ty="tr",I.mn=R.mn,I.propertyGroup=G,I}function B(R,N,G){function I(he){return R.p.ix===he?I.position:R.s.ix===he?I.size:null}var V=propertyGroupFactory(I,G);I.propertyIndex=R.ix;var re="tm"===N.sh.ty?N.sh.prop:N.sh;return re.s.setGroupProperty(PropertyInterface("Size",V)),re.p.setGroupProperty(PropertyInterface("Position",V)),Object.defineProperties(I,{size:{get:ExpressionPropertyInterface(re.s)},position:{get:ExpressionPropertyInterface(re.p)},_name:{value:R.nm}}),I.mn=R.mn,I}function X(R,N,G){function I(he){return R.p.ix===he?I.position:R.r.ix===he?I.rotation:R.pt.ix===he?I.points:R.or.ix===he||"ADBE Vector Star Outer Radius"===he?I.outerRadius:R.os.ix===he?I.outerRoundness:!R.ir||R.ir.ix!==he&&"ADBE Vector Star Inner Radius"!==he?R.is&&R.is.ix===he?I.innerRoundness:null:I.innerRadius}var V=propertyGroupFactory(I,G),re="tm"===N.sh.ty?N.sh.prop:N.sh;return I.propertyIndex=R.ix,re.or.setGroupProperty(PropertyInterface("Outer Radius",V)),re.os.setGroupProperty(PropertyInterface("Outer Roundness",V)),re.pt.setGroupProperty(PropertyInterface("Points",V)),re.p.setGroupProperty(PropertyInterface("Position",V)),re.r.setGroupProperty(PropertyInterface("Rotation",V)),R.ir&&(re.ir.setGroupProperty(PropertyInterface("Inner Radius",V)),re.is.setGroupProperty(PropertyInterface("Inner Roundness",V))),Object.defineProperties(I,{position:{get:ExpressionPropertyInterface(re.p)},rotation:{get:ExpressionPropertyInterface(re.r)},points:{get:ExpressionPropertyInterface(re.pt)},outerRadius:{get:ExpressionPropertyInterface(re.or)},outerRoundness:{get:ExpressionPropertyInterface(re.os)},innerRadius:{get:ExpressionPropertyInterface(re.ir)},innerRoundness:{get:ExpressionPropertyInterface(re.is)},_name:{value:R.nm}}),I.mn=R.mn,I}function T(R,N,G){function I(he){return R.p.ix===he?I.position:R.r.ix===he?I.roundness:R.s.ix===he||"Size"===he||"ADBE Vector Rect Size"===he?I.size:null}var V=propertyGroupFactory(I,G),re="tm"===N.sh.ty?N.sh.prop:N.sh;return I.propertyIndex=R.ix,re.p.setGroupProperty(PropertyInterface("Position",V)),re.s.setGroupProperty(PropertyInterface("Size",V)),re.r.setGroupProperty(PropertyInterface("Rotation",V)),Object.defineProperties(I,{position:{get:ExpressionPropertyInterface(re.p)},roundness:{get:ExpressionPropertyInterface(re.r)},size:{get:ExpressionPropertyInterface(re.s)},_name:{value:R.nm}}),I.mn=R.mn,I}function F(R,N,G){function I(he){return R.r.ix===he||"Round Corners 1"===he?I.radius:null}var V=propertyGroupFactory(I,G),re=N;return I.propertyIndex=R.ix,re.rd.setGroupProperty(PropertyInterface("Radius",V)),Object.defineProperties(I,{radius:{get:ExpressionPropertyInterface(re.rd)},_name:{value:R.nm}}),I.mn=R.mn,I}function W(R,N,G){function I(he){return R.c.ix===he||"Copies"===he?I.copies:R.o.ix===he||"Offset"===he?I.offset:null}var V=propertyGroupFactory(I,G),re=N;return I.propertyIndex=R.ix,re.c.setGroupProperty(PropertyInterface("Copies",V)),re.o.setGroupProperty(PropertyInterface("Offset",V)),Object.defineProperties(I,{copies:{get:ExpressionPropertyInterface(re.c)},offset:{get:ExpressionPropertyInterface(re.o)},_name:{value:R.nm}}),I.mn=R.mn,I}return function(R,N,G){var I;function V(re){if("number"==typeof re)return 0===(re=void 0===re?1:re)?G:I[re-1];for(var he=0,pe=I.length;he<pe;){if(I[he]._name===re)return I[he];he+=1}return null}return V.propertyGroup=propertyGroupFactory(V,function(){return G}),I=p(R,N,V.propertyGroup),V.numProperties=I.length,V._name="Contents",V}}(),TextExpressionInterface=function(p){var m,g;function b(C){return"ADBE Text Document"===C?b.sourceText:null}return Object.defineProperty(b,"sourceText",{get:function(){p.textProperty.getValue();var C=p.textProperty.currentData.t;return C!==m&&(p.textProperty.currentData.t=m,(g=new String(C)).value=C||new String(C)),g}}),b},getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(p){return blendModeEnums[p]||""}),blendModeEnums;function SliderEffect(p,m,g){this.p=PropertyFactory.getProp(m,p.v,0,0,g)}function AngleEffect(p,m,g){this.p=PropertyFactory.getProp(m,p.v,0,0,g)}function ColorEffect(p,m,g){this.p=PropertyFactory.getProp(m,p.v,1,0,g)}function PointEffect(p,m,g){this.p=PropertyFactory.getProp(m,p.v,1,0,g)}function LayerIndexEffect(p,m,g){this.p=PropertyFactory.getProp(m,p.v,0,0,g)}function MaskIndexEffect(p,m,g){this.p=PropertyFactory.getProp(m,p.v,0,0,g)}function CheckboxEffect(p,m,g){this.p=PropertyFactory.getProp(m,p.v,0,0,g)}function NoValueEffect(){this.p={}}function EffectsManager(p,m){var g,b=p.ef||[];this.effectElements=[];var C,A=b.length;for(g=0;g<A;g+=1)C=new GroupEffect(b[g],m),this.effectElements.push(C)}function GroupEffect(p,m){this.init(p,m)}function BaseElement(){}function FrameElement(){}function _typeof$2(p){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof$2(p)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(p,m){var g;this.data=p,this.effectElements=[],this.initDynamicPropertyContainer(m);var b,C=this.data.ef.length,A=this.data.ef;for(g=0;g<C;g+=1){switch(b=null,A[g].ty){case 0:b=new SliderEffect(A[g],m,this);break;case 1:b=new AngleEffect(A[g],m,this);break;case 2:b=new ColorEffect(A[g],m,this);break;case 3:b=new PointEffect(A[g],m,this);break;case 4:case 7:b=new CheckboxEffect(A[g],m,this);break;case 10:b=new LayerIndexEffect(A[g],m,this);break;case 11:b=new MaskIndexEffect(A[g],m,this);break;case 5:b=new EffectsManager(A[g],m,this);break;default:b=new NoValueEffect(A[g],m,this)}b&&this.effectElements.push(b)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var p=0,m=this.data.masksProperties.length;p<m;){if("n"!==this.data.masksProperties[p].mode&&!1!==this.data.masksProperties[p].cl)return!0;p+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var p=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(p),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var p=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=p},initBaseData:function(p,m,g){this.globalData=m,this.comp=g,this.data=p,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(p,m){var g,b=this.dynamicProperties.length;for(g=0;g<b;g+=1)(m||this._isParent&&"transform"===this.dynamicProperties[g].propType)&&(this.dynamicProperties[g].getValue(),this.dynamicProperties[g]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(p){-1===this.dynamicProperties.indexOf(p)&&this.dynamicProperties.push(p)}};var FootageInterface=(dataInterfaceFactory=function(p){function m(g){return"Outline"===g?m.outlineInterface():null}return m._name="Outline",m.outlineInterface=function(g){var b="",C=g.getFootageData();function A(H){if(C[H])return b=H,"object"===_typeof$2(C=C[H])?A:C;var z=H.indexOf(b);if(-1!==z){var B=parseInt(H.substr(z+b.length),10);return"object"===_typeof$2(C=C[B])?A:C}return""}return function(){return b="",C=g.getFootageData(),A}}(p),m},function(p){function m(g){return"Data"===g?m.dataInterface:null}return m._name="Data",m.dataInterface=dataInterfaceFactory(p),m}),dataInterfaceFactory;function FootageElement(p,m,g){this.initFrame(),this.initRenderable(),this.assetData=m.getAssetData(p.refId),this.footageData=m.imageLoader.getAsset(this.assetData),this.initBaseData(p,m,g)}function AudioElement(p,m,g){this.initFrame(),this.initRenderable(),this.assetData=m.getAssetData(p.refId),this.initBaseData(p,m,g),this._isPlaying=!1,this._canPlay=!1;var b=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(b),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=p.tm?PropertyFactory.getProp(this,p.tm,0,m.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,p.au&&p.au.lv?p.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(p,m,g){this.data=p,this.element=m,this.globalData=g,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var b,C,A=this.globalData.defs,H=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(H),this.solidPath="";var z,B,X,T,F,W,R=this.masksProperties,N=0,G=[],I=createElementID(),V="clipPath",re="clip-path";for(b=0;b<H;b+=1)if(("a"!==R[b].mode&&"n"!==R[b].mode||R[b].inv||100!==R[b].o.k||R[b].o.x)&&(V="mask",re="mask"),"s"!==R[b].mode&&"i"!==R[b].mode||0!==N?X=null:((X=createNS("rect")).setAttribute("fill","#ffffff"),X.setAttribute("width",this.element.comp.data.w||0),X.setAttribute("height",this.element.comp.data.h||0),G.push(X)),C=createNS("path"),"n"===R[b].mode)this.viewData[b]={op:PropertyFactory.getProp(this.element,R[b].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,R[b],3),elem:C,lastPath:""},A.appendChild(C);else{var he;if(N+=1,C.setAttribute("fill","s"===R[b].mode?"#000000":"#ffffff"),C.setAttribute("clip-rule","nonzero"),0!==R[b].x.k?(V="mask",re="mask",W=PropertyFactory.getProp(this.element,R[b].x,0,null,this.element),he=createElementID(),(T=createNS("filter")).setAttribute("id",he),(F=createNS("feMorphology")).setAttribute("operator","erode"),F.setAttribute("in","SourceGraphic"),F.setAttribute("radius","0"),T.appendChild(F),A.appendChild(T),C.setAttribute("stroke","s"===R[b].mode?"#000000":"#ffffff")):(F=null,W=null),this.storedData[b]={elem:C,x:W,expan:F,lastPath:"",lastOperator:"",filterId:he,lastRadius:0},"i"===R[b].mode){B=G.length;var pe=createNS("g");for(z=0;z<B;z+=1)pe.appendChild(G[z]);var Le=createNS("mask");Le.setAttribute("mask-type","alpha"),Le.setAttribute("id",I+"_"+N),Le.appendChild(C),A.appendChild(Le),pe.setAttribute("mask","url("+getLocationHref()+"#"+I+"_"+N+")"),G.length=0,G.push(pe)}else G.push(C);R[b].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[b]={elem:C,lastPath:"",op:PropertyFactory.getProp(this.element,R[b].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,R[b],3),invRect:X},this.viewData[b].prop.k||this.drawPath(R[b],this.viewData[b].prop.v,this.viewData[b])}for(this.maskElement=createNS(V),H=G.length,b=0;b<H;b+=1)this.maskElement.appendChild(G[b]);N>0&&(this.maskElement.setAttribute("id",I),this.element.maskedElement.setAttribute(re,"url("+getLocationHref()+"#"+I+")"),A.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(p){this.prepareRenderableFrame(p,!0),this.prepareProperties(p,!0),this._currentTime=this.tm._placeholder?p/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var g=this._volume*this._volumeMultiplier;this._previousVolume!==g&&(this._previousVolume=g,this.audio.volume(g))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(p){this.audio.rate(p)},AudioElement.prototype.volume=function(p){this._volumeMultiplier=p,this._previousVolume=p*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(p){var m,g,b=this.layers.length;for(this.completeLayers=!0,m=b-1;m>=0;m-=1)this.elements[m]||(g=this.layers[m]).ip-g.st<=p-this.layers[m].st&&g.op-g.st>p-this.layers[m].st&&this.buildItem(m),this.completeLayers=!!this.elements[m]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(p){switch(p.ty){case 2:return this.createImage(p);case 0:return this.createComp(p);case 1:return this.createSolid(p);case 3:default:return this.createNull(p);case 4:return this.createShape(p);case 5:return this.createText(p);case 6:return this.createAudio(p);case 13:return this.createCamera(p);case 15:return this.createFootage(p)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(p){return new AudioElement(p,this.globalData,this)},BaseRenderer.prototype.createFootage=function(p){return new FootageElement(p,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var p,m=this.layers.length;for(p=0;p<m;p+=1)this.buildItem(p);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(p){var m;this.completeLayers=!1;var g,b=p.length,C=this.layers.length;for(m=0;m<b;m+=1)for(g=0;g<C;){if(this.layers[g].id===p[m].id){this.layers[g]=p[m];break}g+=1}},BaseRenderer.prototype.setProjectInterface=function(p){this.globalData.projectInterface=p},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(p,m,g){for(var b=this.elements,C=this.layers,A=0,H=C.length;A<H;)C[A].ind==m&&(b[A]&&!0!==b[A]?(g.push(b[A]),b[A].setAsParent(),void 0!==C[A].parent?this.buildElementParenting(p,C[A].parent,g):p.setHierarchy(g)):(this.buildItem(A),this.addPendingElement(p))),A+=1},BaseRenderer.prototype.addPendingElement=function(p){this.pendingElements.push(p)},BaseRenderer.prototype.searchExtraCompositions=function(p){var m,g=p.length;for(m=0;m<g;m+=1)if(p[m].xt){var b=this.createComp(p[m]);b.initExpressions(),this.globalData.projectInterface.registerComposition(b)}},BaseRenderer.prototype.getElementByPath=function(p){var m,g=p.shift();if("number"==typeof g)m=this.elements[g];else{var b,C=this.elements.length;for(b=0;b<C;b+=1)if(this.elements[b].data.nm===g){m=this.elements[b];break}}return 0===p.length?m:m.getElementByPath(p)},BaseRenderer.prototype.setupGlobalData=function(p,m){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(p.chars),this.globalData.fontManager.addFonts(p.fonts,m),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=p.fr,this.globalData.nm=p.nm,this.globalData.compSize={w:p.w,h:p.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var p,m=this.finalTransform.mat,g=0,b=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;g<b;){if(this.hierarchy[g].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}g+=1}if(this.finalTransform._matMdf)for(m.cloneFromProps(p=this.finalTransform.mProp.v.props),g=0;g<b;g+=1)m.transform((p=this.hierarchy[g].finalTransform.mProp.v.props)[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])}},globalToLocal:function(p){var m=[];m.push(this.finalTransform);for(var g,b=!0,C=this.comp;b;)C.finalTransform?(C.data.hasMask&&m.splice(0,0,C.finalTransform),C=C.comp):b=!1;var A,H=m.length;for(g=0;g<H;g+=1)A=m[g].mat.applyToPointArray(0,0,0),p=[p[0]-A[0],p[1]-A[1],0];return p},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(p){return this.viewData[p].prop},MaskElement.prototype.renderFrame=function(p){var m,g=this.element.finalTransform.mat,b=this.masksProperties.length;for(m=0;m<b;m+=1)if((this.viewData[m].prop._mdf||p)&&this.drawPath(this.masksProperties[m],this.viewData[m].prop.v,this.viewData[m]),(this.viewData[m].op._mdf||p)&&this.viewData[m].elem.setAttribute("fill-opacity",this.viewData[m].op.v),"n"!==this.masksProperties[m].mode&&(this.viewData[m].invRect&&(this.element.finalTransform.mProp._mdf||p)&&this.viewData[m].invRect.setAttribute("transform",g.getInverseMatrix().to2dCSS()),this.storedData[m].x&&(this.storedData[m].x._mdf||p))){var C=this.storedData[m].expan;this.storedData[m].x.v<0?("erode"!==this.storedData[m].lastOperator&&(this.storedData[m].lastOperator="erode",this.storedData[m].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[m].filterId+")")),C.setAttribute("radius",-this.storedData[m].x.v)):("dilate"!==this.storedData[m].lastOperator&&(this.storedData[m].lastOperator="dilate",this.storedData[m].elem.setAttribute("filter",null)),this.storedData[m].elem.setAttribute("stroke-width",2*this.storedData[m].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var p="M0,0 ";return p+=" h"+this.globalData.compSize.w,p+=" v"+this.globalData.compSize.h,(p+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(p,m,g){var b,C,A=" M"+m.v[0][0]+","+m.v[0][1];for(C=m._length,b=1;b<C;b+=1)A+=" C"+m.o[b-1][0]+","+m.o[b-1][1]+" "+m.i[b][0]+","+m.i[b][1]+" "+m.v[b][0]+","+m.v[b][1];if(m.c&&C>1&&(A+=" C"+m.o[b-1][0]+","+m.o[b-1][1]+" "+m.i[0][0]+","+m.i[0][1]+" "+m.v[0][0]+","+m.v[0][1]),g.lastPath!==A){var H="";g.elem&&(m.c&&(H=p.inv?this.solidPath+A:A),g.elem.setAttribute("d",H)),g.lastPath=A}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var p={createFilter:function(m,g){var b=createNS("filter");return b.setAttribute("id",m),!0!==g&&(b.setAttribute("filterUnits","objectBoundingBox"),b.setAttribute("x","0%"),b.setAttribute("y","0%"),b.setAttribute("width","100%"),b.setAttribute("height","100%")),b},createAlphaToLuminanceFilter:function(){var m=createNS("feColorMatrix");return m.setAttribute("type","matrix"),m.setAttribute("color-interpolation-filters","sRGB"),m.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),m}};return p}(),featureSupport=function(){var p={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(p.maskType=!1),p}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(p){var m,g,b="SourceGraphic",C=p.data.ef?p.data.ef.length:0,A=createElementID(),H=filtersFactory.createFilter(A,!0),z=0;for(this.filters=[],m=0;m<C;m+=1){g=null;var B=p.data.ef[m].ty;registeredEffects[B]&&(g=new registeredEffects[B].effect(H,p.effectsManager.effectElements[m],p,idPrefix+z,b),b=idPrefix+z,registeredEffects[B].countsAsEffect&&(z+=1)),g&&this.filters.push(g)}z&&(p.globalData.defs.appendChild(H),p.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+A+")")),this.filters.length&&p.addRenderableComponent(this)}function registerEffect(p,m,g){registeredEffects[p]={effect:m,countsAsEffect:g}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(p,m,g){this.assetData=m.getAssetData(p.refId),this.initElement(p,m,g),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(p,m){this.elem=p,this.pos=m}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(p){var m,g=this.filters.length;for(m=0;m<g;m+=1)this.filters[m].renderFrame(p)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var p,m,g,b=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var C=createNS("mask");C.setAttribute("id",this.layerId),C.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),C.appendChild(this.layerElement),b=C,this.globalData.defs.appendChild(C),featureSupport.maskType||1!=this.data.td||(C.setAttribute("mask-type","luminance"),p=createElementID(),m=filtersFactory.createFilter(p),this.globalData.defs.appendChild(m),m.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(g=createNS("g")).appendChild(this.layerElement),b=g,C.appendChild(g),g.setAttribute("filter","url("+getLocationHref()+"#"+p+")"))}else if(2==this.data.td){var A=createNS("mask");A.setAttribute("id",this.layerId),A.setAttribute("mask-type","alpha");var H=createNS("g");A.appendChild(H),p=createElementID(),m=filtersFactory.createFilter(p);var z=createNS("feComponentTransfer");z.setAttribute("in","SourceGraphic"),m.appendChild(z);var B=createNS("feFuncA");B.setAttribute("type","table"),B.setAttribute("tableValues","1.0 0.0"),z.appendChild(B),this.globalData.defs.appendChild(m);var X=createNS("rect");X.setAttribute("width",this.comp.data.w),X.setAttribute("height",this.comp.data.h),X.setAttribute("x","0"),X.setAttribute("y","0"),X.setAttribute("fill","#ffffff"),X.setAttribute("opacity","0"),H.setAttribute("filter","url("+getLocationHref()+"#"+p+")"),H.appendChild(X),H.appendChild(this.layerElement),b=H,featureSupport.maskType||(A.setAttribute("mask-type","luminance"),m.appendChild(filtersFactory.createAlphaToLuminanceFilter()),g=createNS("g"),H.appendChild(X),g.appendChild(this.layerElement),b=g,H.appendChild(g)),this.globalData.defs.appendChild(A)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),b=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var T=createNS("clipPath"),F=createNS("path");F.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var W=createElementID();if(T.setAttribute("id",W),T.appendChild(F),this.globalData.defs.appendChild(T),this.checkMasks()){var R=createNS("g");R.setAttribute("clip-path","url("+getLocationHref()+"#"+W+")"),R.appendChild(this.layerElement),this.transformedElement=R,b?b.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+W+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(p){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+p+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(p){this.hierarchy=p},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(p,m,g){this.initFrame(),this.initBaseData(p,m,g),this.initTransform(p,m,g),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(p){this._mdf=!1,this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var p=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",p),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(p){var m,g=this.shapeModifiers.length;for(m=0;m<g;m+=1)this.shapeModifiers[m].addShape(p)},isShapeInAnimatedModifiers:function(p){for(var m=this.shapeModifiers.length;0<m;)if(this.shapeModifiers[0].isAnimatedWithShape(p))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var p,m=this.shapes.length;for(p=0;p<m;p+=1)this.shapes[p].sh.reset();for(p=(m=this.shapeModifiers.length)-1;p>=0&&!this.shapeModifiers[p].processShapes(this._isFirstFrame);p-=1);}},searchProcessedElement:function(p){for(var m=this.processedElements,g=0,b=m.length;g<b;){if(m[g].elem===p)return m[g].pos;g+=1}return 0},addProcessedElement:function(p,m){for(var g=this.processedElements,b=g.length;b;)if(g[b-=1].elem===p)return void(g[b].pos=m);g.push(new ProcessedElement(p,m))},prepareFrame:function(p){this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(p,m,g){this.caches=[],this.styles=[],this.transformers=p,this.lStr="",this.sh=g,this.lvl=m,this._isAnimated=!!g.k;for(var b=0,C=p.length;b<C;){if(p[b].mProps.dynamicProperties.length){this._isAnimated=!0;break}b+=1}}function SVGStyleData(p,m){this.data=p,this.type=p.ty,this.d="",this.lvl=m,this._mdf=!1,this.closed=!0===p.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(p,m,g,b){var C;this.elem=p,this.frameId=-1,this.dataProps=createSizedArray(m.length),this.renderer=g,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",m.length?m.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(b);var A,H=m.length||0;for(C=0;C<H;C+=1)A=PropertyFactory.getProp(p,m[C].v,0,0,this),this.k=A.k||this.k,this.dataProps[C]={n:m[C].n,p:A};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(p,m,g){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(p,m.o,0,.01,this),this.w=PropertyFactory.getProp(p,m.w,0,null,this),this.d=new DashProperty(p,m.d||{},"svg",this),this.c=PropertyFactory.getProp(p,m.c,1,255,this),this.style=g,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(p,m,g){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(p,m.o,0,.01,this),this.c=PropertyFactory.getProp(p,m.c,1,255,this),this.style=g}function SVGNoStyleData(p,m,g){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.style=g}function GradientProperty(p,m,g){this.data=m,this.c=createTypedArray("uint8c",4*m.p);var b=m.k.k[0].s?m.k.k[0].s.length-4*m.p:m.k.k.length-4*m.p;this.o=createTypedArray("float32",b),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=b,this.initDynamicPropertyContainer(g),this.prop=PropertyFactory.getProp(p,m.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(p,m,g){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.initGradientData(p,m,g)}function SVGGradientStrokeStyleData(p,m,g){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(p,m.w,0,null,this),this.d=new DashProperty(p,m.d||{},"svg",this),this.initGradientData(p,m,g),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(p,m,g){this.transform={mProps:p,op:m,container:g},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(p){if((this.elem.globalData.frameId!==this.frameId||p)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||p,this._mdf)){var m=0,g=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),m=0;m<g;m+=1)"o"!==this.dataProps[m].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[m].p.v:this.dashArray[m]=this.dataProps[m].p.v:this.dashoffset[0]=this.dataProps[m].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(p,m){for(var g=0,b=this.o.length/2;g<b;){if(Math.abs(p[4*g]-p[4*m+2*g])>.01)return!1;g+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var p=0,m=this.data.k.k.length;p<m;){if(!this.comparePoints(this.data.k.k[p].s,this.data.p))return!1;p+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(p){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||p){var m,g,b,C=4*this.data.p;for(m=0;m<C;m+=1)g=m%4==0?100:255,b=Math.round(this.prop.v[m]*g),this.c[m]!==b&&(this.c[m]=b,this._cmdf=!p);if(this.o.length)for(C=this.prop.v.length,m=4*this.data.p;m<C;m+=1)g=m%2==0?100:1,b=m%2==0?Math.round(100*this.prop.v[m]):this.prop.v[m],this.o[m-4*this.data.p]!==b&&(this.o[m-4*this.data.p]=b,this._omdf=!p);this._mdf=!p}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(p,m,g){this.o=PropertyFactory.getProp(p,m.o,0,.01,this),this.s=PropertyFactory.getProp(p,m.s,1,null,this),this.e=PropertyFactory.getProp(p,m.e,1,null,this),this.h=PropertyFactory.getProp(p,m.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(p,m.a||{k:0},0,degToRads,this),this.g=new GradientProperty(p,m.g,this),this.style=g,this.stops=[],this.setGradientData(g.pElem,m),this.setGradientOpacity(m,g),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(p,m){var g=createElementID(),b=createNS(1===m.t?"linearGradient":"radialGradient");b.setAttribute("id",g),b.setAttribute("spreadMethod","pad"),b.setAttribute("gradientUnits","userSpaceOnUse");var C,A,H,z=[];for(H=4*m.g.p,A=0;A<H;A+=4)C=createNS("stop"),b.appendChild(C),z.push(C);p.setAttribute("gf"===m.ty?"fill":"stroke","url("+getLocationHref()+"#"+g+")"),this.gf=b,this.cst=z},SVGGradientFillStyleData.prototype.setGradientOpacity=function(p,m){if(this.g._hasOpacity&&!this.g._collapsable){var g,b,C,A=createNS("mask"),H=createNS("path");A.appendChild(H);var z=createElementID(),B=createElementID();A.setAttribute("id",B);var X=createNS(1===p.t?"linearGradient":"radialGradient");X.setAttribute("id",z),X.setAttribute("spreadMethod","pad"),X.setAttribute("gradientUnits","userSpaceOnUse"),C=p.g.k.k[0].s?p.g.k.k[0].s.length:p.g.k.k.length;var T=this.stops;for(b=4*p.g.p;b<C;b+=2)(g=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),X.appendChild(g),T.push(g);H.setAttribute("gf"===p.ty?"fill":"stroke","url("+getLocationHref()+"#"+z+")"),"gs"===p.ty&&(H.setAttribute("stroke-linecap",lineCapEnum[p.lc||2]),H.setAttribute("stroke-linejoin",lineJoinEnum[p.lj||2]),1===p.lj&&H.setAttribute("stroke-miterlimit",p.ml)),this.of=X,this.ms=A,this.ost=T,this.maskId=B,m.msElem=H}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(p,m,g,b){if(0===m)return"";var C,A=p.o,H=p.i,z=p.v,B=" M"+b.applyToPointStringified(z[0][0],z[0][1]);for(C=1;C<m;C+=1)B+=" C"+b.applyToPointStringified(A[C-1][0],A[C-1][1])+" "+b.applyToPointStringified(H[C][0],H[C][1])+" "+b.applyToPointStringified(z[C][0],z[C][1]);return g&&m&&(B+=" C"+b.applyToPointStringified(A[C-1][0],A[C-1][1])+" "+b.applyToPointStringified(H[0][0],H[0][1])+" "+b.applyToPointStringified(z[0][0],z[0][1]),B+="z"),B},SVGElementsRenderer=function(){var p=new Matrix,m=new Matrix;function g(X,T,F){(F||T.transform.op._mdf)&&T.transform.container.setAttribute("opacity",T.transform.op.v),(F||T.transform.mProps._mdf)&&T.transform.container.setAttribute("transform",T.transform.mProps.v.to2dCSS())}function b(){}function C(X,T,F){var W,R,N,G,I,V,re,he,pe,Le,Qe,Ne=T.styles.length,je=T.lvl;for(V=0;V<Ne;V+=1){if(G=T.sh._mdf||F,T.styles[V].lvl<je){for(he=m.reset(),Le=je-T.styles[V].lvl,Qe=T.transformers.length-1;!G&&Le>0;)G=T.transformers[Qe].mProps._mdf||G,Le-=1,Qe-=1;if(G)for(Le=je-T.styles[V].lvl,Qe=T.transformers.length-1;Le>0;)he.transform((pe=T.transformers[Qe].mProps.v.props)[0],pe[1],pe[2],pe[3],pe[4],pe[5],pe[6],pe[7],pe[8],pe[9],pe[10],pe[11],pe[12],pe[13],pe[14],pe[15]),Le-=1,Qe-=1}else he=p;if(R=(re=T.sh.paths)._length,G){for(N="",W=0;W<R;W+=1)(I=re.shapes[W])&&I._length&&(N+=buildShapeString(I,I._length,I.c,he));T.caches[V]=N}else N=T.caches[V];T.styles[V].d+=!0===X.hd?"":N,T.styles[V]._mdf=G||T.styles[V]._mdf}}function A(X,T,F){var W=T.style;(T.c._mdf||F)&&W.pElem.setAttribute("fill","rgb("+bmFloor(T.c.v[0])+","+bmFloor(T.c.v[1])+","+bmFloor(T.c.v[2])+")"),(T.o._mdf||F)&&W.pElem.setAttribute("fill-opacity",T.o.v)}function H(X,T,F){z(X,T,F),B(0,T,F)}function z(X,T,F){var W,R,N,G,I,V=T.gf,re=T.g._hasOpacity,he=T.s.v,pe=T.e.v;if((T.o._mdf||F)&&T.style.pElem.setAttribute("gf"===X.ty?"fill-opacity":"stroke-opacity",T.o.v),T.s._mdf||F){var Qe=1===X.t?"x1":"cx",Ne="x1"===Qe?"y1":"cy";V.setAttribute(Qe,he[0]),V.setAttribute(Ne,he[1]),re&&!T.g._collapsable&&(T.of.setAttribute(Qe,he[0]),T.of.setAttribute(Ne,he[1]))}if(T.g._cmdf||F){var je=T.g.c;for(N=(W=T.cst).length,R=0;R<N;R+=1)(G=W[R]).setAttribute("offset",je[4*R]+"%"),G.setAttribute("stop-color","rgb("+je[4*R+1]+","+je[4*R+2]+","+je[4*R+3]+")")}if(re&&(T.g._omdf||F)){var Je=T.g.o;for(N=(W=T.g._collapsable?T.cst:T.ost).length,R=0;R<N;R+=1)G=W[R],T.g._collapsable||G.setAttribute("offset",Je[2*R]+"%"),G.setAttribute("stop-opacity",Je[2*R+1])}if(1===X.t)(T.e._mdf||F)&&(V.setAttribute("x2",pe[0]),V.setAttribute("y2",pe[1]),re&&!T.g._collapsable&&(T.of.setAttribute("x2",pe[0]),T.of.setAttribute("y2",pe[1])));else if((T.s._mdf||T.e._mdf||F)&&(I=Math.sqrt(Math.pow(he[0]-pe[0],2)+Math.pow(he[1]-pe[1],2)),V.setAttribute("r",I),re&&!T.g._collapsable&&T.of.setAttribute("r",I)),T.e._mdf||T.h._mdf||T.a._mdf||F){I||(I=Math.sqrt(Math.pow(he[0]-pe[0],2)+Math.pow(he[1]-pe[1],2)));var j=Math.atan2(pe[1]-he[1],pe[0]-he[0]),Se=T.h.v;Se>=1?Se=.99:Se<=-1&&(Se=-.99);var pt=I*Se,ht=Math.cos(j+T.a.v)*pt+he[0],gt=Math.sin(j+T.a.v)*pt+he[1];V.setAttribute("fx",ht),V.setAttribute("fy",gt),re&&!T.g._collapsable&&(T.of.setAttribute("fx",ht),T.of.setAttribute("fy",gt))}}function B(X,T,F){var W=T.style,R=T.d;R&&(R._mdf||F)&&R.dashStr&&(W.pElem.setAttribute("stroke-dasharray",R.dashStr),W.pElem.setAttribute("stroke-dashoffset",R.dashoffset[0])),T.c&&(T.c._mdf||F)&&W.pElem.setAttribute("stroke","rgb("+bmFloor(T.c.v[0])+","+bmFloor(T.c.v[1])+","+bmFloor(T.c.v[2])+")"),(T.o._mdf||F)&&W.pElem.setAttribute("stroke-opacity",T.o.v),(T.w._mdf||F)&&(W.pElem.setAttribute("stroke-width",T.w.v),W.msElem&&W.msElem.setAttribute("stroke-width",T.w.v))}return{createRenderFunction:function(X){switch(X.ty){case"fl":return A;case"gf":return z;case"gs":return H;case"st":return B;case"sh":case"el":case"rc":case"sr":return C;case"tr":return g;case"no":return b;default:return null}}}}();function SVGShapeElement(p,m,g){this.shapes=[],this.shapesData=p.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(p,m,g),this.prevViewData=[]}function LetterProps(p,m,g,b,C,A){this.o=p,this.sw=m,this.sc=g,this.fc=b,this.m=C,this.p=A,this._mdf={o:!0,sw:!!m,sc:!!g,fc:!!b,m:!0,p:!0}}function TextProperty(p,m){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=m,this.elem=p,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var p,m,g,b,C=this.shapes.length,A=this.stylesList.length,H=[],z=!1;for(g=0;g<A;g+=1){for(b=this.stylesList[g],z=!1,H.length=0,p=0;p<C;p+=1)-1!==(m=this.shapes[p]).styles.indexOf(b)&&(H.push(m),z=m._isAnimated||z);H.length>1&&z&&this.setShapesAsAnimated(H)}},SVGShapeElement.prototype.setShapesAsAnimated=function(p){var m,g=p.length;for(m=0;m<g;m+=1)p[m].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(p,m){var g,b=new SVGStyleData(p,m),C=b.pElem;return"st"===p.ty?g=new SVGStrokeStyleData(this,p,b):"fl"===p.ty?g=new SVGFillStyleData(this,p,b):"gf"===p.ty||"gs"===p.ty?(g=new("gf"===p.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,p,b),this.globalData.defs.appendChild(g.gf),g.maskId&&(this.globalData.defs.appendChild(g.ms),this.globalData.defs.appendChild(g.of),C.setAttribute("mask","url("+getLocationHref()+"#"+g.maskId+")"))):"no"===p.ty&&(g=new SVGNoStyleData(this,p,b)),"st"!==p.ty&&"gs"!==p.ty||(C.setAttribute("stroke-linecap",lineCapEnum[p.lc||2]),C.setAttribute("stroke-linejoin",lineJoinEnum[p.lj||2]),C.setAttribute("fill-opacity","0"),1===p.lj&&C.setAttribute("stroke-miterlimit",p.ml)),2===p.r&&C.setAttribute("fill-rule","evenodd"),p.ln&&C.setAttribute("id",p.ln),p.cl&&C.setAttribute("class",p.cl),p.bm&&(C.style["mix-blend-mode"]=getBlendMode(p.bm)),this.stylesList.push(b),this.addToAnimatedContents(p,g),g},SVGShapeElement.prototype.createGroupElement=function(p){var m=new ShapeGroupData;return p.ln&&m.gr.setAttribute("id",p.ln),p.cl&&m.gr.setAttribute("class",p.cl),p.bm&&(m.gr.style["mix-blend-mode"]=getBlendMode(p.bm)),m},SVGShapeElement.prototype.createTransformElement=function(p,m){var g=TransformPropertyFactory.getTransformProperty(this,p,this),b=new SVGTransformData(g,g.o,m);return this.addToAnimatedContents(p,b),b},SVGShapeElement.prototype.createShapeElement=function(p,m,g){var b=4;"rc"===p.ty?b=5:"el"===p.ty?b=6:"sr"===p.ty&&(b=7);var C=new SVGShapeData(m,g,ShapePropertyFactory.getShapeProp(this,p,b,this));return this.shapes.push(C),this.addShapeToModifiers(C),this.addToAnimatedContents(p,C),C},SVGShapeElement.prototype.addToAnimatedContents=function(p,m){for(var g=0,b=this.animatedContents.length;g<b;){if(this.animatedContents[g].element===m)return;g+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(p),element:m,data:p})},SVGShapeElement.prototype.setElementStyles=function(p){var m,g=p.styles,b=this.stylesList.length;for(m=0;m<b;m+=1)this.stylesList[m].closed||g.push(this.stylesList[m])},SVGShapeElement.prototype.reloadShapes=function(){var p;this._isFirstFrame=!0;var m=this.itemsData.length;for(p=0;p<m;p+=1)this.prevViewData[p]=this.itemsData[p];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),m=this.dynamicProperties.length,p=0;p<m;p+=1)this.dynamicProperties[p].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(p,m,g,b,C,A,H){var z,B,X,F,W,R=[].concat(A),N=p.length-1,G=[],I=[];for(z=N;z>=0;z-=1){if((W=this.searchProcessedElement(p[z]))?m[z]=g[W-1]:p[z]._render=H,"fl"===p[z].ty||"st"===p[z].ty||"gf"===p[z].ty||"gs"===p[z].ty||"no"===p[z].ty)W?m[z].style.closed=!1:m[z]=this.createStyleElement(p[z],C),p[z]._render&&m[z].style.pElem.parentNode!==b&&b.appendChild(m[z].style.pElem),G.push(m[z].style);else if("gr"===p[z].ty){if(W)for(X=m[z].it.length,B=0;B<X;B+=1)m[z].prevViewData[B]=m[z].it[B];else m[z]=this.createGroupElement(p[z]);this.searchShapes(p[z].it,m[z].it,m[z].prevViewData,m[z].gr,C+1,R,H),p[z]._render&&m[z].gr.parentNode!==b&&b.appendChild(m[z].gr)}else"tr"===p[z].ty?(W||(m[z]=this.createTransformElement(p[z],b)),R.push(m[z].transform)):"sh"===p[z].ty||"rc"===p[z].ty||"el"===p[z].ty||"sr"===p[z].ty?(W||(m[z]=this.createShapeElement(p[z],R,C)),this.setElementStyles(m[z])):"tm"===p[z].ty||"rd"===p[z].ty||"ms"===p[z].ty||"pb"===p[z].ty?(W?(F=m[z]).closed=!1:((F=ShapeModifiers.getModifier(p[z].ty)).init(this,p[z]),m[z]=F,this.shapeModifiers.push(F)),I.push(F)):"rp"===p[z].ty&&(W?(F=m[z]).closed=!0:(F=ShapeModifiers.getModifier(p[z].ty),m[z]=F,F.init(this,p,z,m),this.shapeModifiers.push(F),H=!1),I.push(F));this.addProcessedElement(p[z],z+1)}for(N=G.length,z=0;z<N;z+=1)G[z].closed=!0;for(N=I.length,z=0;z<N;z+=1)I[z].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var p;this.renderModifiers();var m=this.stylesList.length;for(p=0;p<m;p+=1)this.stylesList[p].reset();for(this.renderShape(),p=0;p<m;p+=1)(this.stylesList[p]._mdf||this._isFirstFrame)&&(this.stylesList[p].msElem&&(this.stylesList[p].msElem.setAttribute("d",this.stylesList[p].d),this.stylesList[p].d="M0 0"+this.stylesList[p].d),this.stylesList[p].pElem.setAttribute("d",this.stylesList[p].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var p,m,g=this.animatedContents.length;for(p=0;p<g;p+=1)m=this.animatedContents[p],(this._isFirstFrame||m.element._isAnimated)&&!0!==m.data&&m.fn(m.data,m.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(p,m,g,b,C,A){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var H=!1;return this.o!==p&&(this.o=p,this._mdf.o=!0,H=!0),this.sw!==m&&(this.sw=m,this._mdf.sw=!0,H=!0),this.sc!==g&&(this.sc=g,this._mdf.sc=!0,H=!0),this.fc!==b&&(this.fc=b,this._mdf.fc=!0,H=!0),this.m!==C&&(this.m=C,this._mdf.m=!0,H=!0),!A.length||this.p[0]===A[0]&&this.p[1]===A[1]&&this.p[4]===A[4]&&this.p[5]===A[5]&&this.p[12]===A[12]&&this.p[13]===A[13]||(this.p=A,this._mdf.p=!0,H=!0),H},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g]);return p},TextProperty.prototype.setCurrentData=function(p){p.__complete||this.completeTextData(p),this.currentData=p,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(p){this.effectsSequence.push(p),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(p){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||p){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var m=this.currentData,g=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var b;this.lock=!0,this._mdf=!1;var C=this.effectsSequence.length,A=p||this.data.d.k[this.keysIndex].s;for(b=0;b<C;b+=1)A=this.effectsSequence[b](g!==this.keysIndex?A:this.currentData,A.t);m!==A&&this.setCurrentData(A),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var p=this.data.d.k,m=this.elem.comp.renderedFrame,g=0,b=p.length;g<=b-1&&!(g===b-1||p[g+1].t>m);)g+=1;return this.keysIndex!==g&&(this.keysIndex=g),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(p){for(var m,g,b=[],C=0,A=p.length,H=!1;C<A;)m=p.charCodeAt(C),FontManager.isCombinedCharacter(m)?b[b.length-1]+=p.charAt(C):m>=55296&&m<=56319?(g=p.charCodeAt(C+1))>=56320&&g<=57343?(H||FontManager.isModifier(m,g)?(b[b.length-1]+=p.substr(C,2),H=!1):b.push(p.substr(C,2)),C+=1):b.push(p.charAt(C)):m>56319?(g=p.charCodeAt(C+1),FontManager.isZeroWidthJoiner(m,g)?(H=!0,b[b.length-1]+=p.substr(C,2),C+=1):b.push(p.charAt(C))):FontManager.isZeroWidthJoiner(m)?(b[b.length-1]+=p.charAt(C),H=!0):b.push(p.charAt(C)),C+=1;return b},TextProperty.prototype.completeTextData=function(p){p.__complete=!0;var m,g,b,C,A,H,z,B=this.elem.globalData.fontManager,X=this.data,T=[],F=0,W=X.m.g,R=0,N=0,G=0,I=[],V=0,re=0,he=B.getFontByName(p.f),pe=0,Le=getFontProperties(he);p.fWeight=Le.weight,p.fStyle=Le.style,p.finalSize=p.s,p.finalText=this.buildFinalText(p.t),g=p.finalText.length,p.finalLineHeight=p.lh;var Qe,Ne=p.tr/1e3*p.finalSize;if(p.sz)for(var je,Je,j=!0,Se=p.sz[0],pt=p.sz[1];j;){je=0,V=0,g=(Je=this.buildFinalText(p.t)).length,Ne=p.tr/1e3*p.finalSize;var ht=-1;for(m=0;m<g;m+=1)Qe=Je[m].charCodeAt(0),b=!1," "===Je[m]?ht=m:13!==Qe&&3!==Qe||(V=0,b=!0,je+=p.finalLineHeight||1.2*p.finalSize),B.chars?(z=B.getCharData(Je[m],he.fStyle,he.fFamily),pe=b?0:z.w*p.finalSize/100):pe=B.measureText(Je[m],p.f,p.finalSize),V+pe>Se&&" "!==Je[m]?(-1===ht?g+=1:m=ht,je+=p.finalLineHeight||1.2*p.finalSize,Je.splice(m,ht===m?1:0,"\r"),ht=-1,V=0):(V+=pe,V+=Ne);je+=he.ascent*p.finalSize/100,this.canResize&&p.finalSize>this.minimumFontSize&&pt<je?(p.finalSize-=1,p.finalLineHeight=p.finalSize*p.lh/p.s):(p.finalText=Je,g=p.finalText.length,j=!1)}V=-Ne,pe=0;var gt,zt=0;for(m=0;m<g;m+=1)if(b=!1,13===(Qe=(gt=p.finalText[m]).charCodeAt(0))||3===Qe?(zt=0,I.push(V),re=V>re?V:re,V=-2*Ne,C="",b=!0,G+=1):C=gt,B.chars?(z=B.getCharData(gt,he.fStyle,B.getFontByName(p.f).fFamily),pe=b?0:z.w*p.finalSize/100):pe=B.measureText(C,p.f,p.finalSize)," "===gt?zt+=pe+Ne:(V+=pe+Ne+zt,zt=0),T.push({l:pe,an:pe,add:R,n:b,anIndexes:[],val:C,line:G,animatorJustifyOffset:0}),2==W){if(R+=pe,""===C||" "===C||m===g-1){for(""!==C&&" "!==C||(R-=pe);N<=m;)T[N].an=R,T[N].ind=F,T[N].extra=pe,N+=1;F+=1,R=0}}else if(3==W){if(R+=pe,""===C||m===g-1){for(""===C&&(R-=pe);N<=m;)T[N].an=R,T[N].ind=F,T[N].extra=pe,N+=1;R=0,F+=1}}else T[F].ind=F,T[F].extra=0,F+=1;if(p.l=T,re=V>re?V:re,I.push(V),p.sz)p.boxWidth=p.sz[0],p.justifyOffset=0;else switch(p.boxWidth=re,p.j){case 1:p.justifyOffset=-p.boxWidth;break;case 2:p.justifyOffset=-p.boxWidth/2;break;default:p.justifyOffset=0}p.lineWidths=I;var Qt,at,Ae,ot,Ht=X.a;H=Ht.length;var An=[];for(A=0;A<H;A+=1){for((Qt=Ht[A]).a.sc&&(p.strokeColorAnim=!0),Qt.a.sw&&(p.strokeWidthAnim=!0),(Qt.a.fc||Qt.a.fh||Qt.a.fs||Qt.a.fb)&&(p.fillColorAnim=!0),ot=0,Ae=Qt.s.b,m=0;m<g;m+=1)(at=T[m]).anIndexes[A]=ot,(1==Ae&&""!==at.val||2==Ae&&""!==at.val&&" "!==at.val||3==Ae&&(at.n||" "==at.val||m==g-1)||4==Ae&&(at.n||m==g-1))&&(1===Qt.s.rn&&An.push(ot),ot+=1);X.a[A].s.totalChars=ot;var nn,Bt=-1;if(1===Qt.s.rn)for(m=0;m<g;m+=1)Bt!=(at=T[m]).anIndexes[A]&&(Bt=at.anIndexes[A],nn=An.splice(Math.floor(Math.random()*An.length),1)[0]),at.anIndexes[A]=nn}p.yOffset=p.finalLineHeight||1.2*p.finalSize,p.ls=p.ls||0,p.ascent=he.ascent*p.finalSize/100},TextProperty.prototype.updateDocumentData=function(p,m){var g=this.copyData({},this.data.d.k[m=void 0===m?this.keysIndex:m].s);g=this.copyData(g,p),this.data.d.k[m].s=g,this.recalculate(m),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(p){var m=this.data.d.k[p].s;m.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(m)},TextProperty.prototype.canResizeFont=function(p){this.canResize=p,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(p){this.minimumFontSize=Math.floor(p)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var p=Math.max,m=Math.min,g=Math.floor;function b(C,A){this._currentTextLength=-1,this.k=!1,this.data=A,this.elem=C,this.comp=C.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(C),this.s=PropertyFactory.getProp(C,A.s||{k:0},0,0,this),this.e="e"in A?PropertyFactory.getProp(C,A.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(C,A.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(C,A.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(C,A.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(C,A.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(C,A.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return b.prototype={getMult:function(C){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var A=0,H=0,z=1,B=1;this.ne.v>0?A=this.ne.v/100:H=-this.ne.v/100,this.xe.v>0?z=1-this.xe.v/100:B=1+this.xe.v/100;var X=BezierFactory.getBezierEasing(A,H,z,B).get,T=0,F=this.finalS,W=this.finalE,R=this.data.sh;if(2===R)T=X(T=W===F?C>=W?1:0:p(0,m(.5/(W-F)+(C-F)/(W-F),1)));else if(3===R)T=X(T=W===F?C>=W?0:1:1-p(0,m(.5/(W-F)+(C-F)/(W-F),1)));else if(4===R)W===F?T=0:(T=p(0,m(.5/(W-F)+(C-F)/(W-F),1)))<.5?T*=2:T=1-2*(T-.5),T=X(T);else if(5===R){if(W===F)T=0;else{var N=W-F,G=-N/2+(C=m(p(0,C+.5-F),W-F)),I=N/2;T=Math.sqrt(1-G*G/(I*I))}T=X(T)}else 6===R?(W===F?T=0:(C=m(p(0,C+.5-F),W-F),T=(1+Math.cos(Math.PI+2*Math.PI*C/(W-F)))/2),T=X(T)):(C>=g(F)&&(T=p(0,m(C-F<0?m(W,1)-(F-C):W-C,1))),T=X(T));if(100!==this.sm.v){var V=.01*this.sm.v;0===V&&(V=1e-8);var re=.5-.5*V;T<re?T=0:(T=(T-re)/V)>1&&(T=1)}return T*this.a.v},getValue:function(C){this.iterateDynamicProperties(),this._mdf=C||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,C&&2===this.data.r&&(this.e.v=this._currentTextLength);var A=2===this.data.r?1:100/this.data.totalChars,H=this.o.v/A,z=this.s.v/A+H,B=this.e.v/A+H;if(z>B){var X=z;z=B,B=X}this.finalS=z,this.finalE=B}},extendPrototype([DynamicPropertyContainer],b),{getTextSelectorProp:function(C,A,H){return new b(C,A,H)}}}();function TextAnimatorDataProperty(p,m,g){var b={propType:!1},C=PropertyFactory.getProp,A=m.a;this.a={r:A.r?C(p,A.r,0,degToRads,g):b,rx:A.rx?C(p,A.rx,0,degToRads,g):b,ry:A.ry?C(p,A.ry,0,degToRads,g):b,sk:A.sk?C(p,A.sk,0,degToRads,g):b,sa:A.sa?C(p,A.sa,0,degToRads,g):b,s:A.s?C(p,A.s,1,.01,g):b,a:A.a?C(p,A.a,1,0,g):b,o:A.o?C(p,A.o,0,.01,g):b,p:A.p?C(p,A.p,1,0,g):b,sw:A.sw?C(p,A.sw,0,0,g):b,sc:A.sc?C(p,A.sc,1,0,g):b,fc:A.fc?C(p,A.fc,1,0,g):b,fh:A.fh?C(p,A.fh,0,0,g):b,fs:A.fs?C(p,A.fs,0,.01,g):b,fb:A.fb?C(p,A.fb,0,.01,g):b,t:A.t?C(p,A.t,0,0,g):b},this.s=TextSelectorProp.getTextSelectorProp(p,m.s,g),this.s.t=m.s.t}function TextAnimatorProperty(p,m,g){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=p,this._renderType=m,this._elem=g,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(g)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var p,g=this._textData.a.length,b=PropertyFactory.getProp;for(p=0;p<g;p+=1)this._animatorsData[p]=new TextAnimatorDataProperty(this._elem,this._textData.a[p],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:b(this._elem,this._textData.p.a,0,0,this),f:b(this._elem,this._textData.p.f,0,0,this),l:b(this._elem,this._textData.p.l,0,0,this),r:b(this._elem,this._textData.p.r,0,0,this),p:b(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=b(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(p,m){if(this.lettersChangedFlag=m,this._mdf||this._isFirstFrame||m||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var g,b,C,A,H,z,B,X,T,F,W,R,N,G,I,V,re,pe,Le=this._moreOptions.alignment.v,Qe=this._animatorsData,Ne=this._textData,je=this.mHelper,Je=this._renderType,j=this.renderedLetters.length,Se=p.l;if(this._hasMaskedPath){if(pe=this._pathData.m,!this._pathData.n||this._pathData._mdf){var pt,ht=pe.v;for(this._pathData.r.v&&(ht=ht.reverse()),H={tLength:0,segments:[]},A=ht._length-1,V=0,C=0;C<A;C+=1)pt=bez.buildBezierData(ht.v[C],ht.v[C+1],[ht.o[C][0]-ht.v[C][0],ht.o[C][1]-ht.v[C][1]],[ht.i[C+1][0]-ht.v[C+1][0],ht.i[C+1][1]-ht.v[C+1][1]]),H.tLength+=pt.segmentLength,H.segments.push(pt),V+=pt.segmentLength;C=A,pe.v.c&&(pt=bez.buildBezierData(ht.v[C],ht.v[0],[ht.o[C][0]-ht.v[C][0],ht.o[C][1]-ht.v[C][1]],[ht.i[0][0]-ht.v[0][0],ht.i[0][1]-ht.v[0][1]]),H.tLength+=pt.segmentLength,H.segments.push(pt),V+=pt.segmentLength),this._pathData.pi=H}if(W=0,F=1,X=0,T=!0,G=(H=this._pathData.pi).segments,(z=this._pathData.f.v)<0&&pe.v.c)for(H.tLength<Math.abs(z)&&(z=-Math.abs(z)%H.tLength),F=(N=G[W=G.length-1].points).length-1;z<0;)z+=N[F].partialLength,(F-=1)<0&&(F=(N=G[W-=1].points).length-1);R=(N=G[W].points)[F-1],I=(B=N[F]).partialLength}A=Se.length,g=0,b=0;var gt,zt,Qt,at,Ae,ot=1.2*p.finalSize*.714,Ht=!0;Qt=Qe.length;var An,nn,Bt,_n,on,En,lt,Fn,un,Hi,Xi,Qn,Vt=-1,Pi=z,Di=W,rr=F,to=-1,qr="",Yr=this.defaultPropsArray;if(2===p.j||1===p.j){var cn=0,ui=0,xo=2===p.j?-.5:-1,zi=0,Xr=!0;for(C=0;C<A;C+=1)if(Se[C].n){for(cn&&(cn+=ui);zi<C;)Se[zi].animatorJustifyOffset=cn,zi+=1;cn=0,Xr=!0}else{for(zt=0;zt<Qt;zt+=1)(gt=Qe[zt].a).t.propType&&(Xr&&2===p.j&&(ui+=gt.t.v*xo),(Ae=Qe[zt].s.getMult(Se[C].anIndexes[zt],Ne.a[zt].s.totalChars)).length?cn+=gt.t.v*Ae[0]*xo:cn+=gt.t.v*Ae*xo);Xr=!1}for(cn&&(cn+=ui);zi<C;)Se[zi].animatorJustifyOffset=cn,zi+=1}for(C=0;C<A;C+=1){if(je.reset(),_n=1,Se[C].n)g=0,b+=p.yOffset,b+=Ht?1:0,z=Pi,Ht=!1,this._hasMaskedPath&&(R=(N=G[W=Di].points)[(F=rr)-1],I=(B=N[F]).partialLength,X=0),qr="",Xi="",un="",Qn="",Yr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(to!==Se[C].line){switch(p.j){case 1:z+=V-p.lineWidths[Se[C].line];break;case 2:z+=(V-p.lineWidths[Se[C].line])/2}to=Se[C].line}Vt!==Se[C].ind&&(Se[Vt]&&(z+=Se[Vt].extra),z+=Se[C].an/2,Vt=Se[C].ind),z+=Le[0]*Se[C].an*.005;var Ki=0;for(zt=0;zt<Qt;zt+=1)(gt=Qe[zt].a).p.propType&&((Ae=Qe[zt].s.getMult(Se[C].anIndexes[zt],Ne.a[zt].s.totalChars)).length?Ki+=gt.p.v[0]*Ae[0]:Ki+=gt.p.v[0]*Ae),gt.a.propType&&((Ae=Qe[zt].s.getMult(Se[C].anIndexes[zt],Ne.a[zt].s.totalChars)).length?Ki+=gt.a.v[0]*Ae[0]:Ki+=gt.a.v[0]*Ae);for(T=!0,this._pathData.a.v&&(z=.5*Se[0].an+(V-this._pathData.f.v-.5*Se[0].an-.5*Se[Se.length-1].an)*Vt/(A-1),z+=this._pathData.f.v);T;)X+I>=z+Ki||!N?(nn=R.point[0]+(B.point[0]-R.point[0])*(re=(z+Ki-X)/B.partialLength),Bt=R.point[1]+(B.point[1]-R.point[1])*re,je.translate(-Le[0]*Se[C].an*.005,-Le[1]*ot*.01),T=!1):N&&(X+=B.partialLength,(F+=1)>=N.length&&(F=0,G[W+=1]?N=G[W].points:pe.v.c?(F=0,N=G[W=0].points):(X-=B.partialLength,N=null)),N&&(R=B,I=(B=N[F]).partialLength));je.translate(-(An=Se[C].an/2-Se[C].add),0,0)}else je.translate(-(An=Se[C].an/2-Se[C].add),0,0),je.translate(-Le[0]*Se[C].an*.005,-Le[1]*ot*.01,0);for(zt=0;zt<Qt;zt+=1)(gt=Qe[zt].a).t.propType&&(Ae=Qe[zt].s.getMult(Se[C].anIndexes[zt],Ne.a[zt].s.totalChars),0===g&&0===p.j||(this._hasMaskedPath?z+=Ae.length?gt.t.v*Ae[0]:gt.t.v*Ae:g+=Ae.length?gt.t.v*Ae[0]:gt.t.v*Ae));for(p.strokeWidthAnim&&(En=p.sw||0),p.strokeColorAnim&&(on=p.sc?[p.sc[0],p.sc[1],p.sc[2]]:[0,0,0]),p.fillColorAnim&&p.fc&&(lt=[p.fc[0],p.fc[1],p.fc[2]]),zt=0;zt<Qt;zt+=1)(gt=Qe[zt].a).a.propType&&((Ae=Qe[zt].s.getMult(Se[C].anIndexes[zt],Ne.a[zt].s.totalChars)).length?je.translate(-gt.a.v[0]*Ae[0],-gt.a.v[1]*Ae[1],gt.a.v[2]*Ae[2]):je.translate(-gt.a.v[0]*Ae,-gt.a.v[1]*Ae,gt.a.v[2]*Ae));for(zt=0;zt<Qt;zt+=1)(gt=Qe[zt].a).s.propType&&((Ae=Qe[zt].s.getMult(Se[C].anIndexes[zt],Ne.a[zt].s.totalChars)).length?je.scale(1+(gt.s.v[0]-1)*Ae[0],1+(gt.s.v[1]-1)*Ae[1],1):je.scale(1+(gt.s.v[0]-1)*Ae,1+(gt.s.v[1]-1)*Ae,1));for(zt=0;zt<Qt;zt+=1){if(gt=Qe[zt].a,Ae=Qe[zt].s.getMult(Se[C].anIndexes[zt],Ne.a[zt].s.totalChars),gt.sk.propType&&(Ae.length?je.skewFromAxis(-gt.sk.v*Ae[0],gt.sa.v*Ae[1]):je.skewFromAxis(-gt.sk.v*Ae,gt.sa.v*Ae)),gt.r.propType&&je.rotateZ(Ae.length?-gt.r.v*Ae[2]:-gt.r.v*Ae),gt.ry.propType&&je.rotateY(Ae.length?gt.ry.v*Ae[1]:gt.ry.v*Ae),gt.rx.propType&&je.rotateX(Ae.length?gt.rx.v*Ae[0]:gt.rx.v*Ae),gt.o.propType&&(_n+=Ae.length?(gt.o.v*Ae[0]-_n)*Ae[0]:(gt.o.v*Ae-_n)*Ae),p.strokeWidthAnim&&gt.sw.propType&&(En+=Ae.length?gt.sw.v*Ae[0]:gt.sw.v*Ae),p.strokeColorAnim&&gt.sc.propType)for(Fn=0;Fn<3;Fn+=1)on[Fn]+=Ae.length?(gt.sc.v[Fn]-on[Fn])*Ae[0]:(gt.sc.v[Fn]-on[Fn])*Ae;if(p.fillColorAnim&&p.fc){if(gt.fc.propType)for(Fn=0;Fn<3;Fn+=1)lt[Fn]+=Ae.length?(gt.fc.v[Fn]-lt[Fn])*Ae[0]:(gt.fc.v[Fn]-lt[Fn])*Ae;gt.fh.propType&&(lt=addHueToRGB(lt,Ae.length?gt.fh.v*Ae[0]:gt.fh.v*Ae)),gt.fs.propType&&(lt=addSaturationToRGB(lt,Ae.length?gt.fs.v*Ae[0]:gt.fs.v*Ae)),gt.fb.propType&&(lt=addBrightnessToRGB(lt,Ae.length?gt.fb.v*Ae[0]:gt.fb.v*Ae))}}for(zt=0;zt<Qt;zt+=1)(gt=Qe[zt].a).p.propType&&(Ae=Qe[zt].s.getMult(Se[C].anIndexes[zt],Ne.a[zt].s.totalChars),this._hasMaskedPath?Ae.length?je.translate(0,gt.p.v[1]*Ae[0],-gt.p.v[2]*Ae[1]):je.translate(0,gt.p.v[1]*Ae,-gt.p.v[2]*Ae):Ae.length?je.translate(gt.p.v[0]*Ae[0],gt.p.v[1]*Ae[1],-gt.p.v[2]*Ae[2]):je.translate(gt.p.v[0]*Ae,gt.p.v[1]*Ae,-gt.p.v[2]*Ae));if(p.strokeWidthAnim&&(un=En<0?0:En),p.strokeColorAnim&&(Hi="rgb("+Math.round(255*on[0])+","+Math.round(255*on[1])+","+Math.round(255*on[2])+")"),p.fillColorAnim&&p.fc&&(Xi="rgb("+Math.round(255*lt[0])+","+Math.round(255*lt[1])+","+Math.round(255*lt[2])+")"),this._hasMaskedPath){if(je.translate(0,-p.ls),je.translate(0,Le[1]*ot*.01+b,0),this._pathData.p.v){var yr=180*Math.atan((B.point[1]-R.point[1])/(B.point[0]-R.point[0]))/Math.PI;B.point[0]<R.point[0]&&(yr+=180),je.rotate(-yr*Math.PI/180)}je.translate(nn,Bt,0),z-=Le[0]*Se[C].an*.005,Se[C+1]&&Vt!==Se[C+1].ind&&(z+=Se[C].an/2,z+=.001*p.tr*p.finalSize)}else{switch(je.translate(g,b,0),p.ps&&je.translate(p.ps[0],p.ps[1]+p.ascent,0),p.j){case 1:je.translate(Se[C].animatorJustifyOffset+p.justifyOffset+(p.boxWidth-p.lineWidths[Se[C].line]),0,0);break;case 2:je.translate(Se[C].animatorJustifyOffset+p.justifyOffset+(p.boxWidth-p.lineWidths[Se[C].line])/2,0,0)}je.translate(0,-p.ls),je.translate(An,0,0),je.translate(Le[0]*Se[C].an*.005,Le[1]*ot*.01,0),g+=Se[C].l+.001*p.tr*p.finalSize}"html"===Je?qr=je.toCSS():"svg"===Je?qr=je.to2dCSS():Yr=[je.props[0],je.props[1],je.props[2],je.props[3],je.props[4],je.props[5],je.props[6],je.props[7],je.props[8],je.props[9],je.props[10],je.props[11],je.props[12],je.props[13],je.props[14],je.props[15]],Qn=_n}j<=C?(at=new LetterProps(Qn,un,Hi,Xi,qr,Yr),this.renderedLetters.push(at),j+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(at=this.renderedLetters[C]).update(Qn,un,Hi,Xi,qr,Yr)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(p,m,g){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(p,m,g),this.textProperty=new TextProperty(this,p.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(p.t,this.renderType,this),this.initTransform(p,m,g),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(p){this._mdf=!1,this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(p,m){var g,b,C=m.length,A="";for(g=0;g<C;g+=1)"sh"===m[g].ty&&(A+=buildShapeString(b=m[g].ks.k,b.i.length,!0,p));return A},ITextElement.prototype.updateDocumentData=function(p,m){this.textProperty.updateDocumentData(p,m)},ITextElement.prototype.canResizeFont=function(p){this.textProperty.canResizeFont(p)},ITextElement.prototype.setMinimumFontSize=function(p){this.textProperty.setMinimumFontSize(p)},ITextElement.prototype.applyTextPropertiesToMatrix=function(p,m,g,b,C){switch(p.ps&&m.translate(p.ps[0],p.ps[1]+p.ascent,0),m.translate(0,-p.ls,0),p.j){case 1:m.translate(p.justifyOffset+(p.boxWidth-p.lineWidths[g]),0,0);break;case 2:m.translate(p.justifyOffset+(p.boxWidth-p.lineWidths[g])/2,0,0)}m.translate(b,C,0)},ITextElement.prototype.buildColor=function(p){return"rgb("+Math.round(255*p[0])+","+Math.round(255*p[1])+","+Math.round(255*p[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(p,m,g){this.textSpans=[],this.renderType="svg",this.initElement(p,m,g)}function ISolidElement(p,m,g){this.initElement(p,m,g)}function NullElement(p,m,g){this.initFrame(),this.initBaseData(p,m,g),this.initFrame(),this.initTransform(p,m,g),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(p,m,g){this.layers=p.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(p,m,g),this.tm=p.tm?PropertyFactory.getProp(this,p.tm,0,m.frameRate,this):{_placeholder:!0}}function SVGRenderer(p,m){this.animationItem=p,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var g="";if(m&&m.title){var b=createNS("title"),C=createElementID();b.setAttribute("id",C),b.textContent=m.title,this.svgElement.appendChild(b),g+=C}if(m&&m.description){var A=createNS("desc"),H=createElementID();A.setAttribute("id",H),A.textContent=m.description,this.svgElement.appendChild(A),g+=" "+H}g&&this.svgElement.setAttribute("aria-labelledby",g);var z=createNS("defs");this.svgElement.appendChild(z);var B=createNS("g");this.svgElement.appendChild(B),this.layerElement=B,this.renderConfig={preserveAspectRatio:m&&m.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:m&&m.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:m&&m.contentVisibility||"visible",progressiveLoad:m&&m.progressiveLoad||!1,hideOnTransparent:!(m&&!1===m.hideOnTransparent),viewBoxOnly:m&&m.viewBoxOnly||!1,viewBoxSize:m&&m.viewBoxSize||!1,className:m&&m.className||"",id:m&&m.id||"",focusable:m&&m.focusable,filterSize:{width:m&&m.filterSize&&m.filterSize.width||"100%",height:m&&m.filterSize&&m.filterSize.height||"100%",x:m&&m.filterSize&&m.filterSize.x||"0%",y:m&&m.filterSize&&m.filterSize.y||"0%"},width:m&&m.width,height:m&&m.height},this.globalData={_mdf:!1,frameNum:-1,defs:z,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var p;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),p=0;p<15;p+=1)this.saved[p]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(p,m){var g;this.data=p,this.element=m,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var b=this.masksProperties.length,C=!1;for(g=0;g<b;g+=1)"n"!==this.masksProperties[g].mode&&(C=!0),this.viewData[g]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[g],3);this.hasMasks=C,C&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(p,m,g,b){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var C,A=4;"rc"===m.ty?A=5:"el"===m.ty?A=6:"sr"===m.ty&&(A=7),this.sh=ShapePropertyFactory.getShapeProp(p,m,A,p);var H,z=g.length;for(C=0;C<z;C+=1)g[C].closed||(H={transforms:b.addTransformSequence(g[C].transforms),trNodes:[]},this.styledShapes.push(H),g[C].elements.push(H))}function CVShapeElement(p,m,g){this.shapes=[],this.shapesData=p.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(p,m,g)}function CVTextElement(p,m,g){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(p,m,g)}function CVImageElement(p,m,g){this.assetData=m.getAssetData(p.refId),this.img=m.imageLoader.getAsset(this.assetData),this.initElement(p,m,g)}function CVSolidElement(p,m,g){this.initElement(p,m,g)}function CanvasRendererBase(p,m){this.animationItem=p,this.renderConfig={clearCanvas:!m||void 0===m.clearCanvas||m.clearCanvas,context:m&&m.context||null,progressiveLoad:m&&m.progressiveLoad||!1,preserveAspectRatio:m&&m.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:m&&m.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:m&&m.contentVisibility||"visible",className:m&&m.className||"",id:m&&m.id||""},this.renderConfig.dpr=m&&m.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=m&&m.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(p,m,g){this.completeLayers=!1,this.layers=p.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(p,m,g),this.tm=p.tm?PropertyFactory.getProp(this,p.tm,0,m.frameRate,this):{_placeholder:!0}}function CanvasRenderer(p,m){this.animationItem=p,this.renderConfig={clearCanvas:!m||void 0===m.clearCanvas||m.clearCanvas,context:m&&m.context||null,progressiveLoad:m&&m.progressiveLoad||!1,preserveAspectRatio:m&&m.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:m&&m.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:m&&m.contentVisibility||"visible",className:m&&m.className||"",id:m&&m.id||""},this.renderConfig.dpr=m&&m.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=m&&m.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(p,m,g){this.initElement(p,m,g)}function HShapeElement(p,m,g){this.shapes=[],this.shapesData=p.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(p,m,g),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(p,m,g){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(p,m,g)}function HCameraElement(p,m,g){this.initFrame(),this.initBaseData(p,m,g),this.initHierarchy();var b=PropertyFactory.getProp;if(this.pe=b(this,p.pe,0,0,this),p.ks.p.s?(this.px=b(this,p.ks.p.x,1,0,this),this.py=b(this,p.ks.p.y,1,0,this),this.pz=b(this,p.ks.p.z,1,0,this)):this.p=b(this,p.ks.p,1,0,this),p.ks.a&&(this.a=b(this,p.ks.a,1,0,this)),p.ks.or.k.length&&p.ks.or.k[0].to){var C,A=p.ks.or.k.length;for(C=0;C<A;C+=1)p.ks.or.k[C].to=null,p.ks.or.k[C].ti=null}this.or=b(this,p.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=b(this,p.ks.rx,0,degToRads,this),this.ry=b(this,p.ks.ry,0,degToRads,this),this.rz=b(this,p.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(p,m,g){this.assetData=m.getAssetData(p.refId),this.initElement(p,m,g)}function HybridRendererBase(p,m){this.animationItem=p,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:m&&m.className||"",imagePreserveAspectRatio:m&&m.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(m&&!1===m.hideOnTransparent),filterSize:{width:m&&m.filterSize&&m.filterSize.width||"400%",height:m&&m.filterSize&&m.filterSize.height||"400%",x:m&&m.filterSize&&m.filterSize.x||"-100%",y:m&&m.filterSize&&m.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(p,m,g){this.layers=p.layers,this.supports3d=!p.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(p,m,g),this.tm=p.tm?PropertyFactory.getProp(this,p.tm,0,m.frameRate,this):{_placeholder:!0}}function HybridRenderer(p,m){this.animationItem=p,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:m&&m.className||"",imagePreserveAspectRatio:m&&m.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(m&&!1===m.hideOnTransparent),filterSize:{width:m&&m.filterSize&&m.filterSize.width||"400%",height:m&&m.filterSize&&m.filterSize.height||"400%",x:m&&m.filterSize&&m.filterSize.x||"-100%",y:m&&m.filterSize&&m.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(p){for(var m=0,g=p.length,b=[],C="";m<g;)p[m]===String.fromCharCode(13)||p[m]===String.fromCharCode(3)?(b.push(C),C=""):C+=p[m],m+=1;return b.push(C),b},SVGTextLottieElement.prototype.buildShapeData=function(p,m){if(p.shapes&&p.shapes.length){var g=p.shapes[0];if(g.it){var b=g.it[g.it.length-1];b.s&&(b.s.k[0]=m,b.s.k[1]=m)}}return p},SVGTextLottieElement.prototype.buildNewText=function(){var p,m;this.addDynamicProperty(this);var g=this.textProperty.currentData;this.renderedLetters=createSizedArray(g?g.l.length:0),this.layerElement.setAttribute("fill",g.fc?this.buildColor(g.fc):"rgba(0,0,0,0)"),g.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(g.sc)),this.layerElement.setAttribute("stroke-width",g.sw)),this.layerElement.setAttribute("font-size",g.finalSize);var b=this.globalData.fontManager.getFontByName(g.f);if(b.fClass)this.layerElement.setAttribute("class",b.fClass);else{this.layerElement.setAttribute("font-family",b.fFamily);var C=g.fWeight;this.layerElement.setAttribute("font-style",g.fStyle),this.layerElement.setAttribute("font-weight",C)}this.layerElement.setAttribute("aria-label",g.t);var H,z=g.l||[],B=!!this.globalData.fontManager.chars;m=z.length;var X=this.mHelper,T=this.data.singleShape,F=0,W=0,R=!0,N=.001*g.tr*g.finalSize;if(!T||B||g.sz){var G,I=this.textSpans.length;for(p=0;p<m;p+=1){if(this.textSpans[p]||(this.textSpans[p]={span:null,childSpan:null,glyph:null}),!B||!T||0===p){if(H=I>p?this.textSpans[p].span:createNS(B?"g":"text"),I<=p){if(H.setAttribute("stroke-linecap","butt"),H.setAttribute("stroke-linejoin","round"),H.setAttribute("stroke-miterlimit","4"),this.textSpans[p].span=H,B){var V=createNS("g");H.appendChild(V),this.textSpans[p].childSpan=V}this.textSpans[p].span=H,this.layerElement.appendChild(H)}H.style.display="inherit"}if(X.reset(),T&&(z[p].n&&(F=-N,W+=g.yOffset,W+=R?1:0,R=!1),this.applyTextPropertiesToMatrix(g,X,z[p].line,F,W),F+=z[p].l||0,F+=N),B){var re;if(1===(G=this.globalData.fontManager.getCharData(g.finalText[p],b.fStyle,this.globalData.fontManager.getFontByName(g.f).fFamily)).t)re=new SVGCompElement(G.data,this.globalData,this);else{var he=emptyShapeData;G.data&&G.data.shapes&&(he=this.buildShapeData(G.data,g.finalSize)),re=new SVGShapeElement(he,this.globalData,this)}if(this.textSpans[p].glyph){var pe=this.textSpans[p].glyph;this.textSpans[p].childSpan.removeChild(pe.layerElement),pe.destroy()}this.textSpans[p].glyph=re,re._debug=!0,re.prepareFrame(0),re.renderFrame(),this.textSpans[p].childSpan.appendChild(re.layerElement),1===G.t&&this.textSpans[p].childSpan.setAttribute("transform","scale("+g.finalSize/100+","+g.finalSize/100+")")}else T&&H.setAttribute("transform","translate("+X.props[12]+","+X.props[13]+")"),H.textContent=z[p].val,H.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}T&&H&&H.setAttribute("d","")}else{var Le=this.textContainer,Qe="start";switch(g.j){case 1:Qe="end";break;case 2:Qe="middle";break;default:Qe="start"}Le.setAttribute("text-anchor",Qe),Le.setAttribute("letter-spacing",N);var Ne=this.buildTextContents(g.finalText);for(m=Ne.length,W=g.ps?g.ps[1]+g.ascent:0,p=0;p<m;p+=1)(H=this.textSpans[p].span||createNS("tspan")).textContent=Ne[p],H.setAttribute("x",0),H.setAttribute("y",W),H.style.display="inherit",Le.appendChild(H),this.textSpans[p]||(this.textSpans[p]={span:null,glyph:null}),this.textSpans[p].span=H,W+=g.finalLineHeight;this.layerElement.appendChild(Le)}for(;p<this.textSpans.length;)this.textSpans[p].span.style.display="none",p+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var p=this.layerElement.getBBox();this.bbox={top:p.y,left:p.x,width:p.width,height:p.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var p,m,g=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,p=0;p<g;p+=1)(m=this.textSpans[p].glyph)&&(m.prepareFrame(this.comp.renderedFrame-this.data.st),m._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var p,m;this._sizeChanged=!0;var g,b,C,A=this.textAnimator.renderedLetters,H=this.textProperty.currentData.l;for(m=H.length,p=0;p<m;p+=1)H[p].n||(g=A[p],b=this.textSpans[p].span,(C=this.textSpans[p].glyph)&&C.renderFrame(),g._mdf.m&&b.setAttribute("transform",g.m),g._mdf.o&&b.setAttribute("opacity",g.o),g._mdf.sw&&b.setAttribute("stroke-width",g.sw),g._mdf.sc&&b.setAttribute("stroke",g.sc),g._mdf.fc&&b.setAttribute("fill",g.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var p=createNS("rect");p.setAttribute("width",this.data.sw),p.setAttribute("height",this.data.sh),p.setAttribute("fill",this.data.sc),this.layerElement.appendChild(p)},NullElement.prototype.prepareFrame=function(p){this.prepareProperties(p,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(p){return new NullElement(p,this.globalData,this)},SVGRendererBase.prototype.createShape=function(p){return new SVGShapeElement(p,this.globalData,this)},SVGRendererBase.prototype.createText=function(p){return new SVGTextLottieElement(p,this.globalData,this)},SVGRendererBase.prototype.createImage=function(p){return new IImageElement(p,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(p){return new ISolidElement(p,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(p){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+p.w+" "+p.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",p.w),this.svgElement.setAttribute("height",p.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var m=this.globalData.defs;this.setupGlobalData(p,m),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=p;var g=createNS("clipPath"),b=createNS("rect");b.setAttribute("width",p.w),b.setAttribute("height",p.h),b.setAttribute("x",0),b.setAttribute("y",0);var C=createElementID();g.setAttribute("id",C),g.appendChild(b),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+C+")"),m.appendChild(g),this.layers=p.layers,this.elements=createSizedArray(p.layers.length)},SVGRendererBase.prototype.destroy=function(){var p;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var m=this.layers?this.layers.length:0;for(p=0;p<m;p+=1)this.elements[p]&&this.elements[p].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(p){var m=this.elements;if(!m[p]&&99!==this.layers[p].ty){m[p]=!0;var g=this.createItem(this.layers[p]);m[p]=g,getExpressionsPlugin()&&(0===this.layers[p].ty&&this.globalData.projectInterface.registerComposition(g),g.initExpressions()),this.appendElementInPos(g,p),this.layers[p].tt&&(this.elements[p-1]&&!0!==this.elements[p-1]?g.setMatte(m[p-1].layerId):(this.buildItem(p-1),this.addPendingElement(g)))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var p=this.pendingElements.pop();if(p.checkParenting(),p.data.tt)for(var m=0,g=this.elements.length;m<g;){if(this.elements[m]===p){p.setMatte(this.elements[m-1].layerId);break}m+=1}}},SVGRendererBase.prototype.renderFrame=function(p){if(this.renderedFrame!==p&&!this.destroyed){var m;null===p?p=this.renderedFrame:this.renderedFrame=p,this.globalData.frameNum=p,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=p,this.globalData._mdf=!1;var g=this.layers.length;for(this.completeLayers||this.checkLayers(p),m=g-1;m>=0;m-=1)(this.completeLayers||this.elements[m])&&this.elements[m].prepareFrame(p-this.layers[m].st);if(this.globalData._mdf)for(m=0;m<g;m+=1)(this.completeLayers||this.elements[m])&&this.elements[m].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(p,m){var g=p.getBaseElement();if(g){for(var b,C=0;C<m;)this.elements[C]&&!0!==this.elements[C]&&this.elements[C].getBaseElement()&&(b=this.elements[C].getBaseElement()),C+=1;b?this.layerElement.insertBefore(g,b):this.layerElement.appendChild(g)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(p,m,g){this.initFrame(),this.initBaseData(p,m,g),this.initTransform(p,m,g),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&m.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(p){if(this._mdf=!1,this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=p/this.data.sr;else{var m=this.tm.v;m===this.data.op&&(m=this.data.op-1),this.renderedFrame=m}var g,b=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),g=b-1;g>=0;g-=1)(this.completeLayers||this.elements[g])&&(this.elements[g].prepareFrame(this.renderedFrame-this.layers[g].st),this.elements[g]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var p,m=this.layers.length;for(p=0;p<m;p+=1)(this.completeLayers||this.elements[p])&&this.elements[p].renderFrame()},ICompElement.prototype.setElements=function(p){this.elements=p},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var p,m=this.layers.length;for(p=0;p<m;p+=1)this.elements[p]&&this.elements[p].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(p){return new SVGCompElement(p,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(p){return new SVGCompElement(p,this.globalData,this)},CVContextData.prototype.duplicate=function(){var p=2*this._length,m=this.savedOp;this.savedOp=createTypedArray("float32",p),this.savedOp.set(m);var g=0;for(g=this._length;g<p;g+=1)this.saved[g]=createTypedArray("float32",16);this._length=p},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(p){var m,g=p.length,b="_";for(m=0;m<g;m+=1)b+=p[m].transform.key+"_";var C=this.sequences[b];return C||(C={transforms:[].concat(p),finalTransform:new Matrix,_mdf:!1},this.sequences[b]=C,this.sequenceList.push(C)),C},processSequence:function(p,m){for(var g,b=0,C=p.transforms.length,A=m;b<C&&!m;){if(p.transforms[b].transform.mProps._mdf){A=!0;break}b+=1}if(A)for(p.finalTransform.reset(),b=C-1;b>=0;b-=1)p.finalTransform.transform((g=p.transforms[b].transform.mProps.v.props)[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]);p._mdf=A},processSequences:function(p){var m,g=this.sequenceList.length;for(m=0;m<g;m+=1)this.processSequence(this.sequenceList[m],p)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var p,m,g,b,C=this.element.finalTransform.mat,A=this.element.canvasContext,H=this.masksProperties.length;for(A.beginPath(),p=0;p<H;p+=1)if("n"!==this.masksProperties[p].mode){var z;this.masksProperties[p].inv&&(A.moveTo(0,0),A.lineTo(this.element.globalData.compSize.w,0),A.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),A.lineTo(0,this.element.globalData.compSize.h),A.lineTo(0,0)),m=C.applyToPointArray((b=this.viewData[p].v).v[0][0],b.v[0][1],0),A.moveTo(m[0],m[1]);var B=b._length;for(z=1;z<B;z+=1)g=C.applyToTriplePoints(b.o[z-1],b.i[z],b.v[z]),A.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);g=C.applyToTriplePoints(b.o[z-1],b.i[0],b.v[0]),A.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5])}this.element.globalData.renderer.save(!0),A.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var p=this.globalData;if(p.blendMode!==this.data.bm){p.blendMode=this.data.bm;var m=getBlendMode(this.data.bm);p.canvasContext.globalCompositeOperation=m}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var p=0===this.data.ty;this.globalData.renderer.save(p),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(p),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(p,m){var g={data:p,type:p.ty,preTransforms:this.transformsManager.addTransformSequence(m),transforms:[],elements:[],closed:!0===p.hd},b={};if("fl"===p.ty||"st"===p.ty?(b.c=PropertyFactory.getProp(this,p.c,1,255,this),b.c.k||(g.co="rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")")):"gf"!==p.ty&&"gs"!==p.ty||(b.s=PropertyFactory.getProp(this,p.s,1,null,this),b.e=PropertyFactory.getProp(this,p.e,1,null,this),b.h=PropertyFactory.getProp(this,p.h||{k:0},0,.01,this),b.a=PropertyFactory.getProp(this,p.a||{k:0},0,degToRads,this),b.g=new GradientProperty(this,p.g,this)),b.o=PropertyFactory.getProp(this,p.o,0,.01,this),"st"===p.ty||"gs"===p.ty){if(g.lc=lineCapEnum[p.lc||2],g.lj=lineJoinEnum[p.lj||2],1==p.lj&&(g.ml=p.ml),b.w=PropertyFactory.getProp(this,p.w,0,null,this),b.w.k||(g.wi=b.w.v),p.d){var C=new DashProperty(this,p.d,"canvas",this);b.d=C,b.d.k||(g.da=b.d.dashArray,g.do=b.d.dashoffset[0])}}else g.r=2===p.r?"evenodd":"nonzero";return this.stylesList.push(g),b.style=g,b},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(p){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,p.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,p,this)}}},CVShapeElement.prototype.createShapeElement=function(p){var m=new CVShapeData(this,p,this.stylesList,this.transformsManager);return this.shapes.push(m),this.addShapeToModifiers(m),m},CVShapeElement.prototype.reloadShapes=function(){var p;this._isFirstFrame=!0;var m=this.itemsData.length;for(p=0;p<m;p+=1)this.prevViewData[p]=this.itemsData[p];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),m=this.dynamicProperties.length,p=0;p<m;p+=1)this.dynamicProperties[p].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(p){var m,g=this.stylesList.length;for(m=0;m<g;m+=1)this.stylesList[m].closed||this.stylesList[m].transforms.push(p)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var p,m=this.stylesList.length;for(p=0;p<m;p+=1)this.stylesList[p].closed||this.stylesList[p].transforms.pop()},CVShapeElement.prototype.closeStyles=function(p){var m,g=p.length;for(m=0;m<g;m+=1)p[m].closed=!0},CVShapeElement.prototype.searchShapes=function(p,m,g,b,C){var A,H,z,B,X,T,F=p.length-1,W=[],R=[],N=[].concat(C);for(A=F;A>=0;A-=1){if((B=this.searchProcessedElement(p[A]))?m[A]=g[B-1]:p[A]._shouldRender=b,"fl"===p[A].ty||"st"===p[A].ty||"gf"===p[A].ty||"gs"===p[A].ty)B?m[A].style.closed=!1:m[A]=this.createStyleElement(p[A],N),W.push(m[A].style);else if("gr"===p[A].ty){if(B)for(z=m[A].it.length,H=0;H<z;H+=1)m[A].prevViewData[H]=m[A].it[H];else m[A]=this.createGroupElement(p[A]);this.searchShapes(p[A].it,m[A].it,m[A].prevViewData,b,N)}else"tr"===p[A].ty?(B||(T=this.createTransformElement(p[A]),m[A]=T),N.push(m[A]),this.addTransformToStyleList(m[A])):"sh"===p[A].ty||"rc"===p[A].ty||"el"===p[A].ty||"sr"===p[A].ty?B||(m[A]=this.createShapeElement(p[A])):"tm"===p[A].ty||"rd"===p[A].ty||"pb"===p[A].ty?(B?(X=m[A]).closed=!1:((X=ShapeModifiers.getModifier(p[A].ty)).init(this,p[A]),m[A]=X,this.shapeModifiers.push(X)),R.push(X)):"rp"===p[A].ty&&(B?(X=m[A]).closed=!0:(X=ShapeModifiers.getModifier(p[A].ty),m[A]=X,X.init(this,p,A,m),this.shapeModifiers.push(X),b=!1),R.push(X));this.addProcessedElement(p[A],A+1)}for(this.removeTransformFromStyleList(),this.closeStyles(W),F=R.length,A=0;A<F;A+=1)R[A].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(p,m){(p._opMdf||m.op._mdf||this._isFirstFrame)&&(m.opacity=p.opacity,m.opacity*=m.op.v,m._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var p,m,g,b,C,A,H,z,B,X=this.stylesList.length,T=this.globalData.renderer,F=this.globalData.canvasContext;for(p=0;p<X;p+=1)if(("st"!==(z=(B=this.stylesList[p]).type)&&"gs"!==z||0!==B.wi)&&B.data._shouldRender&&0!==B.coOp&&0!==this.globalData.currentGlobalAlpha){for(T.save(),A=B.elements,"st"===z||"gs"===z?(F.strokeStyle="st"===z?B.co:B.grd,F.lineWidth=B.wi,F.lineCap=B.lc,F.lineJoin=B.lj,F.miterLimit=B.ml||0):F.fillStyle="fl"===z?B.co:B.grd,T.ctxOpacity(B.coOp),"st"!==z&&"gs"!==z&&F.beginPath(),T.ctxTransform(B.preTransforms.finalTransform.props),g=A.length,m=0;m<g;m+=1){for("st"!==z&&"gs"!==z||(F.beginPath(),B.da&&(F.setLineDash(B.da),F.lineDashOffset=B.do)),C=(H=A[m].trNodes).length,b=0;b<C;b+=1)"m"===H[b].t?F.moveTo(H[b].p[0],H[b].p[1]):"c"===H[b].t?F.bezierCurveTo(H[b].pts[0],H[b].pts[1],H[b].pts[2],H[b].pts[3],H[b].pts[4],H[b].pts[5]):F.closePath();"st"!==z&&"gs"!==z||(F.stroke(),B.da&&F.setLineDash(this.dashResetter))}"st"!==z&&"gs"!==z&&F.fill(B.r),T.restore()}},CVShapeElement.prototype.renderShape=function(p,m,g,b){var C,A;for(A=p,C=m.length-1;C>=0;C-=1)"tr"===m[C].ty?this.renderShapeTransform(p,A=g[C].transform):"sh"===m[C].ty||"el"===m[C].ty||"rc"===m[C].ty||"sr"===m[C].ty?this.renderPath(m[C],g[C]):"fl"===m[C].ty?this.renderFill(m[C],g[C],A):"st"===m[C].ty?this.renderStroke(m[C],g[C],A):"gf"===m[C].ty||"gs"===m[C].ty?this.renderGradientFill(m[C],g[C],A):"gr"===m[C].ty&&this.renderShape(A,m[C].it,g[C].it);b&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(p,m){if(this._isFirstFrame||m._mdf||p.transforms._mdf){var g,b,C,A=p.trNodes,H=m.paths,z=H._length;A.length=0;var B=p.transforms.finalTransform;for(C=0;C<z;C+=1){var X=H.shapes[C];if(X&&X.v){for(b=X._length,g=1;g<b;g+=1)1===g&&A.push({t:"m",p:B.applyToPointArray(X.v[0][0],X.v[0][1],0)}),A.push({t:"c",pts:B.applyToTriplePoints(X.o[g-1],X.i[g],X.v[g])});1===b&&A.push({t:"m",p:B.applyToPointArray(X.v[0][0],X.v[0][1],0)}),X.c&&b&&(A.push({t:"c",pts:B.applyToTriplePoints(X.o[g-1],X.i[0],X.v[0])}),A.push({t:"z"}))}}p.trNodes=A}},CVShapeElement.prototype.renderPath=function(p,m){if(!0!==p.hd&&p._shouldRender){var g,b=m.styledShapes.length;for(g=0;g<b;g+=1)this.renderStyledShape(m.styledShapes[g],m.sh)}},CVShapeElement.prototype.renderFill=function(p,m,g){var b=m.style;(m.c._mdf||this._isFirstFrame)&&(b.co="rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||g._opMdf||this._isFirstFrame)&&(b.coOp=m.o.v*g.opacity)},CVShapeElement.prototype.renderGradientFill=function(p,m,g){var b,C=m.style;if(!C.grd||m.g._mdf||m.s._mdf||m.e._mdf||1!==p.t&&(m.h._mdf||m.a._mdf)){var A,H=this.globalData.canvasContext,z=m.s.v,B=m.e.v;if(1===p.t)b=H.createLinearGradient(z[0],z[1],B[0],B[1]);else{var X=Math.sqrt(Math.pow(z[0]-B[0],2)+Math.pow(z[1]-B[1],2)),T=Math.atan2(B[1]-z[1],B[0]-z[0]),F=m.h.v;F>=1?F=.99:F<=-1&&(F=-.99);var W=X*F,R=Math.cos(T+m.a.v)*W+z[0],N=Math.sin(T+m.a.v)*W+z[1];b=H.createRadialGradient(R,N,0,z[0],z[1],X)}var G=p.g.p,I=m.g.c,V=1;for(A=0;A<G;A+=1)m.g._hasOpacity&&m.g._collapsable&&(V=m.g.o[2*A+1]),b.addColorStop(I[4*A]/100,"rgba("+I[4*A+1]+","+I[4*A+2]+","+I[4*A+3]+","+V+")");C.grd=b}C.coOp=m.o.v*g.opacity},CVShapeElement.prototype.renderStroke=function(p,m,g){var b=m.style,C=m.d;C&&(C._mdf||this._isFirstFrame)&&(b.da=C.dashArray,b.do=C.dashoffset[0]),(m.c._mdf||this._isFirstFrame)&&(b.co="rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||g._opMdf||this._isFirstFrame)&&(b.coOp=m.o.v*g.opacity),(m.w._mdf||this._isFirstFrame)&&(b.wi=m.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var p=this.textProperty.currentData;this.renderedLetters=createSizedArray(p.l?p.l.length:0);var m=!1;p.fc?(m=!0,this.values.fill=this.buildColor(p.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=m;var g=!1;p.sc&&(g=!0,this.values.stroke=this.buildColor(p.sc),this.values.sWidth=p.sw);var b,C,A,H,z,B,X,T,F,W,R,N,G=this.globalData.fontManager.getFontByName(p.f),I=p.l,V=this.mHelper;this.stroke=g,this.values.fValue=p.finalSize+"px "+this.globalData.fontManager.getFontByName(p.f).fFamily,C=p.finalText.length;var re=this.data.singleShape,he=.001*p.tr*p.finalSize,pe=0,Le=0,Qe=!0,Ne=0;for(b=0;b<C;b+=1){H=(A=this.globalData.fontManager.getCharData(p.finalText[b],G.fStyle,this.globalData.fontManager.getFontByName(p.f).fFamily))&&A.data||{},V.reset(),re&&I[b].n&&(pe=-he,Le+=p.yOffset,Le+=Qe?1:0,Qe=!1),F=(X=H.shapes?H.shapes[0].it:[]).length,V.scale(p.finalSize/100,p.finalSize/100),re&&this.applyTextPropertiesToMatrix(p,V,I[b].line,pe,Le),R=createSizedArray(F-1);var je=0;for(T=0;T<F;T+=1)if("sh"===X[T].ty){for(B=X[T].ks.k.i.length,W=X[T].ks.k,N=[],z=1;z<B;z+=1)1===z&&N.push(V.applyToX(W.v[0][0],W.v[0][1],0),V.applyToY(W.v[0][0],W.v[0][1],0)),N.push(V.applyToX(W.o[z-1][0],W.o[z-1][1],0),V.applyToY(W.o[z-1][0],W.o[z-1][1],0),V.applyToX(W.i[z][0],W.i[z][1],0),V.applyToY(W.i[z][0],W.i[z][1],0),V.applyToX(W.v[z][0],W.v[z][1],0),V.applyToY(W.v[z][0],W.v[z][1],0));N.push(V.applyToX(W.o[z-1][0],W.o[z-1][1],0),V.applyToY(W.o[z-1][0],W.o[z-1][1],0),V.applyToX(W.i[0][0],W.i[0][1],0),V.applyToY(W.i[0][0],W.i[0][1],0),V.applyToX(W.v[0][0],W.v[0][1],0),V.applyToY(W.v[0][0],W.v[0][1],0)),R[je]=N,je+=1}re&&(pe+=I[b].l,pe+=he),this.textSpans[Ne]?this.textSpans[Ne].elem=R:this.textSpans[Ne]={elem:R},Ne+=1}},CVTextElement.prototype.renderInnerContent=function(){var p,m,g,b,C,A,H=this.canvasContext;H.font=this.values.fValue,H.lineCap="butt",H.lineJoin="miter",H.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var z,B=this.textAnimator.renderedLetters,X=this.textProperty.currentData.l;m=X.length;var T,F,W=null,R=null,N=null;for(p=0;p<m;p+=1)if(!X[p].n){if((z=B[p])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(z.p),this.globalData.renderer.ctxOpacity(z.o)),this.fill){for(z&&z.fc?W!==z.fc&&(W=z.fc,H.fillStyle=z.fc):W!==this.values.fill&&(W=this.values.fill,H.fillStyle=this.values.fill),b=(T=this.textSpans[p].elem).length,this.globalData.canvasContext.beginPath(),g=0;g<b;g+=1)for(A=(F=T[g]).length,this.globalData.canvasContext.moveTo(F[0],F[1]),C=2;C<A;C+=6)this.globalData.canvasContext.bezierCurveTo(F[C],F[C+1],F[C+2],F[C+3],F[C+4],F[C+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(z&&z.sw?N!==z.sw&&(N=z.sw,H.lineWidth=z.sw):N!==this.values.sWidth&&(N=this.values.sWidth,H.lineWidth=this.values.sWidth),z&&z.sc?R!==z.sc&&(R=z.sc,H.strokeStyle=z.sc):R!==this.values.stroke&&(R=this.values.stroke,H.strokeStyle=this.values.stroke),b=(T=this.textSpans[p].elem).length,this.globalData.canvasContext.beginPath(),g=0;g<b;g+=1)for(A=(F=T[g]).length,this.globalData.canvasContext.moveTo(F[0],F[1]),C=2;C<A;C+=6)this.globalData.canvasContext.bezierCurveTo(F[C],F[C+1],F[C+2],F[C+3],F[C+4],F[C+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}z&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var p=createTag("canvas");p.width=this.assetData.w,p.height=this.assetData.h;var m,g,b=p.getContext("2d"),C=this.img.width,A=this.img.height,H=C/A,z=this.assetData.w/this.assetData.h,B=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;H>z&&"xMidYMid slice"===B||H<z&&"xMidYMid slice"!==B?m=(g=A)*z:g=(m=C)/z,b.drawImage(this.img,(C-m)/2,(A-g)/2,m,g,0,0,this.assetData.w,this.assetData.h),this.img=p}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var p=this.canvasContext;p.fillStyle=this.data.sc,p.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(p){return new CVShapeElement(p,this.globalData,this)},CanvasRendererBase.prototype.createText=function(p){return new CVTextElement(p,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(p){return new CVImageElement(p,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(p){return new CVSolidElement(p,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(p){if(1!==p[0]||0!==p[1]||0!==p[4]||1!==p[5]||0!==p[12]||0!==p[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(p);var m=this.contextData.cTr.props;this.transformMat.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var g=this.contextData.cTr.props;this.canvasContext.setTransform(g[0],g[1],g[4],g[5],g[12],g[13])}else this.canvasContext.transform(p[0],p[1],p[4],p[5],p[12],p[13])},CanvasRendererBase.prototype.ctxOpacity=function(p){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=p<0?0:p,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=p<0?0:p,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(p){if(this.renderConfig.clearCanvas){p&&this.canvasContext.save();var m,g=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var b=this.contextData.saved[this.contextData.cArrPos];for(m=0;m<16;m+=1)b[m]=g[m];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(p){if(this.renderConfig.clearCanvas){p&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var m,g=this.contextData.saved[this.contextData.cArrPos],b=this.contextData.cTr.props;for(m=0;m<16;m+=1)b[m]=g[m];this.canvasContext.setTransform(g[0],g[1],g[4],g[5],g[12],g[13]),this.contextData.cO=g=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==g&&(this.canvasContext.globalAlpha=g,this.globalData.currentGlobalAlpha=g)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(p){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var m=this.animationItem.container.style;m.width="100%",m.height="100%";var g="0px 0px 0px";m.transformOrigin=g,m.mozTransformOrigin=g,m.webkitTransformOrigin=g,m["-webkit-transform"]=g,m.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=p,this.layers=p.layers,this.transformCanvas={w:p.w,h:p.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(p,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(p.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){var p,m,g,b;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(m=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(p=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",m*this.renderConfig.dpr)):(p=this.canvasContext.canvas.width*this.renderConfig.dpr,m=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var C=this.renderConfig.preserveAspectRatio.split(" "),A=C[1]||"meet",H=C[0]||"xMidYMid",z=H.substr(0,4),B=H.substr(4);(b=this.transformCanvas.w/this.transformCanvas.h)>(g=p/m)&&"meet"===A||b<g&&"slice"===A?(this.transformCanvas.sx=p/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=p/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=m/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=m/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===z&&(b<g&&"meet"===A||b>g&&"slice"===A)?(p-this.transformCanvas.w*(m/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===z&&(b<g&&"meet"===A||b>g&&"slice"===A)?(p-this.transformCanvas.w*(m/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===B&&(b>g&&"meet"===A||b<g&&"slice"===A)?(m-this.transformCanvas.h*(p/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===B&&(b>g&&"meet"===A||b<g&&"slice"===A)?(m-this.transformCanvas.h*(p/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=p/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=m/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var p;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),p=(this.layers?this.layers.length:0)-1;p>=0;p-=1)this.elements[p]&&this.elements[p].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(p,m){if((this.renderedFrame!==p||!0!==this.renderConfig.clearCanvas||m)&&!this.destroyed&&-1!==p){var g;this.renderedFrame=p,this.globalData.frameNum=p-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||m,this.globalData.projectInterface.currentFrame=p;var b=this.layers.length;for(this.completeLayers||this.checkLayers(p),g=0;g<b;g+=1)(this.completeLayers||this.elements[g])&&this.elements[g].prepareFrame(p-this.layers[g].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),g=b-1;g>=0;g-=1)(this.completeLayers||this.elements[g])&&this.elements[g].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(p){var m=this.elements;if(!m[p]&&99!==this.layers[p].ty){var g=this.createItem(this.layers[p],this,this.globalData);m[p]=g,g.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var p,m=this.canvasContext;for(m.beginPath(),m.moveTo(0,0),m.lineTo(this.data.w,0),m.lineTo(this.data.w,this.data.h),m.lineTo(0,this.data.h),m.lineTo(0,0),m.clip(),p=this.layers.length-1;p>=0;p-=1)(this.completeLayers||this.elements[p])&&this.elements[p].renderFrame()},CVCompElement.prototype.destroy=function(){var p;for(p=this.layers.length-1;p>=0;p-=1)this.elements[p]&&this.elements[p].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(p){return new CVCompElement(p,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(p){return new CVCompElement(p,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var p=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var m=this.finalTransform.mat.toCSS();p.transform=m,p.webkitTransform=m}this.finalTransform._opMdf&&(p.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var p;this.data.hasMask?((p=createNS("rect")).setAttribute("width",this.data.sw),p.setAttribute("height",this.data.sh),p.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((p=createTag("div")).style.width=this.data.sw+"px",p.style.height=this.data.sh+"px",p.style.backgroundColor=this.data.sc),this.layerElement.appendChild(p)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var p;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),p=this.svgElement;else{p=createNS("svg");var m=this.comp.data?this.comp.data:this.globalData.compSize;p.setAttribute("width",m.w),p.setAttribute("height",m.h),p.appendChild(this.shapesContainer),this.layerElement.appendChild(p)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=p},HShapeElement.prototype.getTransformedPoint=function(p,m){var g,b=p.length;for(g=0;g<b;g+=1)m=p[g].mProps.v.applyToPointArray(m[0],m[1],0);return m},HShapeElement.prototype.calculateShapeBoundingBox=function(p,m){var g,b,C,A,H,z=p.sh.v,B=p.transformers,X=z._length;if(!(X<=1)){for(g=0;g<X-1;g+=1)b=this.getTransformedPoint(B,z.v[g]),C=this.getTransformedPoint(B,z.o[g]),A=this.getTransformedPoint(B,z.i[g+1]),H=this.getTransformedPoint(B,z.v[g+1]),this.checkBounds(b,C,A,H,m);z.c&&(b=this.getTransformedPoint(B,z.v[g]),C=this.getTransformedPoint(B,z.o[g]),A=this.getTransformedPoint(B,z.i[0]),H=this.getTransformedPoint(B,z.v[0]),this.checkBounds(b,C,A,H,m))}},HShapeElement.prototype.checkBounds=function(p,m,g,b,C){this.getBoundsOfCurve(p,m,g,b);var A=this.shapeBoundingBox;C.x=bmMin(A.left,C.x),C.xMax=bmMax(A.right,C.xMax),C.y=bmMin(A.top,C.y),C.yMax=bmMax(A.bottom,C.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(p,m,g,b){for(var C,A,H,z,B,X,T,F=[[p[0],b[0]],[p[1],b[1]]],W=0;W<2;++W)A=6*p[W]-12*m[W]+6*g[W],C=-3*p[W]+9*m[W]-9*g[W]+3*b[W],H=3*m[W]-3*p[W],A|=0,H|=0,0==(C|=0)&&0===A||(0===C?(z=-H/A)>0&&z<1&&F[W].push(this.calculateF(z,p,m,g,b,W)):(B=A*A-4*H*C)>=0&&((X=(-A+bmSqrt(B))/(2*C))>0&&X<1&&F[W].push(this.calculateF(X,p,m,g,b,W)),(T=(-A-bmSqrt(B))/(2*C))>0&&T<1&&F[W].push(this.calculateF(T,p,m,g,b,W))));this.shapeBoundingBox.left=bmMin.apply(null,F[0]),this.shapeBoundingBox.top=bmMin.apply(null,F[1]),this.shapeBoundingBox.right=bmMax.apply(null,F[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,F[1])},HShapeElement.prototype.calculateF=function(p,m,g,b,C,A){return bmPow(1-p,3)*m[A]+3*bmPow(1-p,2)*p*g[A]+3*(1-p)*bmPow(p,2)*b[A]+bmPow(p,3)*C[A]},HShapeElement.prototype.calculateBoundingBox=function(p,m){var g,b=p.length;for(g=0;g<b;g+=1)p[g]&&p[g].sh?this.calculateShapeBoundingBox(p[g],m):p[g]&&p[g].it?this.calculateBoundingBox(p[g].it,m):p[g]&&p[g].style&&p[g].w&&this.expandStrokeBoundingBox(p[g].w,m)},HShapeElement.prototype.expandStrokeBoundingBox=function(p,m){var g=0;if(p.keyframes){for(var b=0;b<p.keyframes.length;b+=1){var C=p.keyframes[b].s;C>g&&(g=C)}g*=p.mult}else g=p.v*p.mult;m.x-=g,m.xMax+=g,m.y-=g,m.yMax+=g},HShapeElement.prototype.currentBoxContains=function(p){return this.currentBBox.x<=p.x&&this.currentBBox.y<=p.y&&this.currentBBox.width+this.currentBBox.x>=p.x+p.width&&this.currentBBox.height+this.currentBBox.y>=p.y+p.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var p=this.tempBoundingBox,m=999999;if(p.x=m,p.xMax=-m,p.y=m,p.yMax=-m,this.calculateBoundingBox(this.itemsData,p),p.width=p.xMax<p.x?0:p.xMax-p.x,p.height=p.yMax<p.y?0:p.yMax-p.y,this.currentBoxContains(p))return;var g=!1;if(this.currentBBox.w!==p.width&&(this.currentBBox.w=p.width,this.shapeCont.setAttribute("width",p.width),g=!0),this.currentBBox.h!==p.height&&(this.currentBBox.h=p.height,this.shapeCont.setAttribute("height",p.height),g=!0),g||this.currentBBox.x!==p.x||this.currentBBox.y!==p.y){this.currentBBox.w=p.width,this.currentBBox.h=p.height,this.currentBBox.x=p.x,this.currentBBox.y=p.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var b=this.shapeCont.style,C="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";b.transform=C,b.webkitTransform=C}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var p=createNS("g");this.maskedElement.appendChild(p),this.innerElem=p}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var p=this.textProperty.currentData;this.renderedLetters=createSizedArray(p.l?p.l.length:0);var m=this.innerElem.style,g=p.fc?this.buildColor(p.fc):"rgba(0,0,0,0)";m.fill=g,m.color=g,p.sc&&(m.stroke=this.buildColor(p.sc),m.strokeWidth=p.sw+"px");var b,C,A=this.globalData.fontManager.getFontByName(p.f);if(!this.globalData.fontManager.chars)if(m.fontSize=p.finalSize+"px",m.lineHeight=p.finalSize+"px",A.fClass)this.innerElem.className=A.fClass;else{m.fontFamily=A.fFamily;var H=p.fWeight;m.fontStyle=p.fStyle,m.fontWeight=H}var B,X,T,F=p.l;C=F.length;var W,R=this.mHelper,N="",G=0;for(b=0;b<C;b+=1){if(this.globalData.fontManager.chars?(this.textPaths[G]?B=this.textPaths[G]:((B=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),B.setAttribute("stroke-linejoin",lineJoinEnum[2]),B.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[G]?T=(X=this.textSpans[G]).children[0]:((X=createTag("div")).style.lineHeight=0,(T=createNS("svg")).appendChild(B),styleDiv(X)))):this.isMasked?B=this.textPaths[G]?this.textPaths[G]:createNS("text"):this.textSpans[G]?(X=this.textSpans[G],B=this.textPaths[G]):(styleDiv(X=createTag("span")),styleDiv(B=createTag("span")),X.appendChild(B)),this.globalData.fontManager.chars){var I,V=this.globalData.fontManager.getCharData(p.finalText[b],A.fStyle,this.globalData.fontManager.getFontByName(p.f).fFamily);if(I=V?V.data:null,R.reset(),I&&I.shapes&&I.shapes.length&&(W=I.shapes[0].it,R.scale(p.finalSize/100,p.finalSize/100),N=this.createPathShape(R,W),B.setAttribute("d",N)),this.isMasked)this.innerElem.appendChild(B);else{if(this.innerElem.appendChild(X),I&&I.shapes){document.body.appendChild(T);var re=T.getBBox();T.setAttribute("width",re.width+2),T.setAttribute("height",re.height+2),T.setAttribute("viewBox",re.x-1+" "+(re.y-1)+" "+(re.width+2)+" "+(re.height+2));var he=T.style,pe="translate("+(re.x-1)+"px,"+(re.y-1)+"px)";he.transform=pe,he.webkitTransform=pe,F[b].yOffset=re.y-1}else T.setAttribute("width",1),T.setAttribute("height",1);X.appendChild(T)}}else if(B.textContent=F[b].val,B.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(B);else{this.innerElem.appendChild(X);var Le=B.style,Qe="translate3d(0,"+-p.finalSize/1.2+"px,0)";Le.transform=Qe,Le.webkitTransform=Qe}this.textSpans[G]=this.isMasked?B:X,this.textSpans[G].style.display="block",this.textPaths[G]=B,G+=1}for(;G<this.textSpans.length;)this.textSpans[G].style.display="none",G+=1},HTextElement.prototype.renderInnerContent=function(){var p;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var m="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(p=this.svgElement.style).transform=m,p.webkitTransform=m}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var g,b,C,A,H,z=0,B=this.textAnimator.renderedLetters,X=this.textProperty.currentData.l;for(b=X.length,g=0;g<b;g+=1)X[g].n?z+=1:(A=this.textSpans[g],H=this.textPaths[g],C=B[z],z+=1,C._mdf.m&&(this.isMasked?A.setAttribute("transform",C.m):(A.style.webkitTransform=C.m,A.style.transform=C.m)),A.style.opacity=C.o,C.sw&&C._mdf.sw&&H.setAttribute("stroke-width",C.sw),C.sc&&C._mdf.sc&&H.setAttribute("stroke",C.sc),C.fc&&C._mdf.fc&&(H.setAttribute("fill",C.fc),H.style.color=C.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var T=this.innerElem.getBBox();if(this.currentBBox.w!==T.width&&(this.currentBBox.w=T.width,this.svgElement.setAttribute("width",T.width)),this.currentBBox.h!==T.height&&(this.currentBBox.h=T.height,this.svgElement.setAttribute("height",T.height)),this.currentBBox.w!==T.width+2||this.currentBBox.h!==T.height+2||this.currentBBox.x!==T.x-1||this.currentBBox.y!==T.y-1){this.currentBBox.w=T.width+2,this.currentBBox.h=T.height+2,this.currentBBox.x=T.x-1,this.currentBBox.y=T.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var F="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(p=this.svgElement.style).transform=F,p.webkitTransform=F}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var p,m,g,b,C=this.comp.threeDElements.length;for(p=0;p<C;p+=1)if("3d"===(m=this.comp.threeDElements[p]).type){b=m.container.style;var A=this.pe.v+"px",H="0px 0px 0px",z="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(g=m.perspectiveElem.style).perspective=A,g.webkitPerspective=A,b.transformOrigin=H,b.mozTransformOrigin=H,b.webkitTransformOrigin=H,g.transform=z,g.webkitTransform=z}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var p,m,g=this._isFirstFrame;if(this.hierarchy)for(m=this.hierarchy.length,p=0;p<m;p+=1)g=this.hierarchy[p].finalTransform.mProp._mdf||g;if(g||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(p=m=this.hierarchy.length-1;p>=0;p-=1){var b=this.hierarchy[p].finalTransform.mProp;this.mat.translate(-b.p.v[0],-b.p.v[1],b.p.v[2]),this.mat.rotateX(-b.or.v[0]).rotateY(-b.or.v[1]).rotateZ(b.or.v[2]),this.mat.rotateX(-b.rx.v).rotateY(-b.ry.v).rotateZ(b.rz.v),this.mat.scale(1/b.s.v[0],1/b.s.v[1],1/b.s.v[2]),this.mat.translate(b.a.v[0],b.a.v[1],b.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var C;C=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var A=Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2)+Math.pow(C[2],2)),H=[C[0]/A,C[1]/A,C[2]/A],z=Math.sqrt(H[2]*H[2]+H[0]*H[0]),B=Math.atan2(H[1],z),X=Math.atan2(H[0],-H[2]);this.mat.rotateY(X).rotateX(-B)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var T=!this._prevMat.equals(this.mat);if((T||this.pe._mdf)&&this.comp.threeDElements){var F,W,R;for(m=this.comp.threeDElements.length,p=0;p<m;p+=1)if("3d"===(F=this.comp.threeDElements[p]).type){if(T){var N=this.mat.toCSS();(R=F.container.style).transform=N,R.webkitTransform=N}this.pe._mdf&&((W=F.perspectiveElem.style).perspective=this.pe.v+"px",W.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(p){this.prepareProperties(p,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var p=this.globalData.getAssetsPath(this.assetData),m=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",p),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(m),m.crossOrigin="anonymous",m.src=p,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(p,m){var g=p.getBaseElement();if(g){var b=this.layers[m];if(b.ddd&&this.supports3d)this.addTo3dContainer(g,m);else if(this.threeDElements)this.addTo3dContainer(g,m);else{for(var C,A,H=0;H<m;)this.elements[H]&&!0!==this.elements[H]&&this.elements[H].getBaseElement&&(A=this.elements[H],C=(this.layers[H].ddd?this.getThreeDContainerByPos(H):A.getBaseElement())||C),H+=1;C?b.ddd&&this.supports3d||this.layerElement.insertBefore(g,C):b.ddd&&this.supports3d||this.layerElement.appendChild(g)}}},HybridRendererBase.prototype.createShape=function(p){return this.supports3d?new HShapeElement(p,this.globalData,this):new SVGShapeElement(p,this.globalData,this)},HybridRendererBase.prototype.createText=function(p){return this.supports3d?new HTextElement(p,this.globalData,this):new SVGTextLottieElement(p,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(p){return this.camera=new HCameraElement(p,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(p){return this.supports3d?new HImageElement(p,this.globalData,this):new IImageElement(p,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(p){return this.supports3d?new HSolidElement(p,this.globalData,this):new ISolidElement(p,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(p){for(var m=0,g=this.threeDElements.length;m<g;){if(this.threeDElements[m].startPos<=p&&this.threeDElements[m].endPos>=p)return this.threeDElements[m].perspectiveElem;m+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(p,m){var g,b,C=createTag("div");styleDiv(C);var A=createTag("div");if(styleDiv(A),"3d"===m){(g=C.style).width=this.globalData.compSize.w+"px",g.height=this.globalData.compSize.h+"px";var H="50% 50%";g.webkitTransformOrigin=H,g.mozTransformOrigin=H,g.transformOrigin=H;var z="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(b=A.style).transform=z,b.webkitTransform=z}C.appendChild(A);var B={container:A,perspectiveElem:C,startPos:p,endPos:p,type:m};return this.threeDElements.push(B),B},HybridRendererBase.prototype.build3dContainers=function(){var p,m,g=this.layers.length,b="";for(p=0;p<g;p+=1)this.layers[p].ddd&&3!==this.layers[p].ty?("3d"!==b&&(b="3d",m=this.createThreeDContainer(p,"3d")),m.endPos=Math.max(m.endPos,p)):("2d"!==b&&(b="2d",m=this.createThreeDContainer(p,"2d")),m.endPos=Math.max(m.endPos,p));for(p=(g=this.threeDElements.length)-1;p>=0;p-=1)this.resizerElem.appendChild(this.threeDElements[p].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(p,m){for(var g=0,b=this.threeDElements.length;g<b;){if(m<=this.threeDElements[g].endPos){for(var C,A=this.threeDElements[g].startPos;A<m;)this.elements[A]&&this.elements[A].getBaseElement&&(C=this.elements[A].getBaseElement()),A+=1;C?this.threeDElements[g].container.insertBefore(p,C):this.threeDElements[g].container.appendChild(p);break}g+=1}},HybridRendererBase.prototype.configAnimation=function(p){var m=createTag("div"),g=this.animationItem.wrapper,b=m.style;b.width=p.w+"px",b.height=p.h+"px",this.resizerElem=m,styleDiv(m),b.transformStyle="flat",b.mozTransformStyle="flat",b.webkitTransformStyle="flat",this.renderConfig.className&&m.setAttribute("class",this.renderConfig.className),g.appendChild(m),b.overflow="hidden";var C=createNS("svg");C.setAttribute("width","1"),C.setAttribute("height","1"),styleDiv(C),this.resizerElem.appendChild(C);var A=createNS("defs");C.appendChild(A),this.data=p,this.setupGlobalData(p,C),this.globalData.defs=A,this.layers=p.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var p;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var m=this.layers?this.layers.length:0;for(p=0;p<m;p+=1)this.elements[p].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var p,m,g,b,C=this.animationItem.wrapper.offsetWidth,A=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>C/A?(p=C/this.globalData.compSize.w,m=C/this.globalData.compSize.w,g=0,b=(A-this.globalData.compSize.h*(C/this.globalData.compSize.w))/2):(p=A/this.globalData.compSize.h,m=A/this.globalData.compSize.h,g=(C-this.globalData.compSize.w*(A/this.globalData.compSize.h))/2,b=0);var z=this.resizerElem.style;z.webkitTransform="matrix3d("+p+",0,0,0,0,"+m+",0,0,0,0,1,0,"+g+","+b+",0,1)",z.transform=z.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var p,m=this.globalData.compSize.w,g=this.globalData.compSize.h,b=this.threeDElements.length;for(p=0;p<b;p+=1){var C=this.threeDElements[p].perspectiveElem.style;C.webkitPerspective=Math.sqrt(Math.pow(m,2)+Math.pow(g,2))+"px",C.perspective=C.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(p){var m,g=p.length,b=createTag("div");for(m=0;m<g;m+=1)if(p[m].xt){var C=this.createComp(p[m],b,this.globalData.comp,null);C.initExpressions(),this.globalData.projectInterface.registerComposition(C)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(p,m){for(var g,b=0;b<m;)this.elements[b]&&this.elements[b].getBaseElement&&(g=this.elements[b].getBaseElement()),b+=1;g?this.layerElement.insertBefore(p,g):this.layerElement.appendChild(p)},HCompElement.prototype.createComp=function(p){return this.supports3d?new HCompElement(p,this.globalData,this):new SVGCompElement(p,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(p){return this.supports3d?new HCompElement(p,this.globalData,this):new SVGCompElement(p,this.globalData,this)};var Expressions=function(){var p={initExpressions:function(m){var g=0,b=[];m.renderer.compInterface=CompExpressionInterface(m.renderer),m.renderer.globalData.projectInterface.registerComposition(m.renderer),m.renderer.globalData.pushExpression=function(){g+=1},m.renderer.globalData.popExpression=function(){0==(g-=1)&&function(){var C,A=b.length;for(C=0;C<A;C+=1)b[C].release();b.length=0}()},m.renderer.globalData.registerExpressionProperty=function(C){-1===b.indexOf(C)&&b.push(C)}}};return p}();function _typeof$1(p){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof$1(p)}function seedRandom(p,m){var b=this,C=256,A=m.pow(C,6),H=m.pow(2,52),z=2*H,B=255;function X(N){var G,I=N.length,V=this,re=0,he=V.i=V.j=0,pe=V.S=[];for(I||(N=[I++]);re<C;)pe[re]=re++;for(re=0;re<C;re++)pe[re]=pe[he=B&he+N[re%I]+(G=pe[re])],pe[he]=G;V.g=function(Le){for(var Qe,Ne=0,je=V.i,Je=V.j,j=V.S;Le--;)Qe=j[je=B&je+1],Ne=Ne*C+j[B&(j[je]=j[Je=B&Je+Qe])+(j[Je]=Qe)];return V.i=je,V.j=Je,Ne}}function T(N,G){return G.i=N.i,G.j=N.j,G.S=N.S.slice(),G}function F(N,G){var I,V=[],re=_typeof$1(N);if(G&&"object"==re)for(I in N)try{V.push(F(N[I],G-1))}catch{}return V.length?V:"string"==re?N:N+"\0"}function W(N,G){for(var I,V=N+"",re=0;re<V.length;)G[B&re]=B&(I^=19*G[B&re])+V.charCodeAt(re++);return R(G)}function R(N){return String.fromCharCode.apply(0,N)}m.seedrandom=function(N,G,I){var V=[],re=W(F((G=!0===G?{entropy:!0}:G||{}).entropy?[N,R(p)]:null===N?function(){try{var Le=new Uint8Array(C);return(b.crypto||b.msCrypto).getRandomValues(Le),R(Le)}catch{var Qe=b.navigator,Ne=Qe&&Qe.plugins;return[+new Date,b,Ne,b.screen,R(p)]}}():N,3),V),he=new X(V),pe=function(){for(var Le=he.g(6),Qe=A,Ne=0;Le<H;)Le=(Le+Ne)*C,Qe*=C,Ne=he.g(1);for(;Le>=z;)Le/=2,Qe/=2,Ne>>>=1;return(Le+Ne)/Qe};return pe.int32=function(){return 0|he.g(4)},pe.quick=function(){return he.g(4)/4294967296},pe.double=pe,W(R(he.S),p),(G.pass||I||function(Le,Qe,Ne,je){return je&&(je.S&&T(je,he),Le.state=function(){return T(he,{})}),Ne?(m.random=Le,Qe):Le})(pe,re,"global"in G?G.global:this==m,G.state)},W(m.random(),p)}function initialize$2(p){seedRandom([],p)}var propTypes={SHAPE:"shape"};function _typeof(p){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof(p)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(p){return p.constructor===Array||p.constructor===Float32Array}function isNumerable(p,m){return"number"===p||"boolean"===p||"string"===p||m instanceof Number}function $bm_neg(p){var m=_typeof(p);if("number"===m||"boolean"===m||p instanceof Number)return-p;if($bm_isInstanceOfArray(p)){var g,b=p.length,C=[];for(g=0;g<b;g+=1)C[g]=-p[g];return C}return p.propType?p.v:-p}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(p,m){var g=_typeof(p),b=_typeof(m);if("string"===g||"string"===b||isNumerable(g,p)&&isNumerable(b,m))return p+m;if($bm_isInstanceOfArray(p)&&isNumerable(b,m))return(p=p.slice(0))[0]+=m,p;if(isNumerable(g,p)&&$bm_isInstanceOfArray(m))return(m=m.slice(0))[0]=p+m[0],m;if($bm_isInstanceOfArray(p)&&$bm_isInstanceOfArray(m)){for(var C=0,A=p.length,H=m.length,z=[];C<A||C<H;)z[C]=("number"==typeof p[C]||p[C]instanceof Number)&&("number"==typeof m[C]||m[C]instanceof Number)?p[C]+m[C]:void 0===m[C]?p[C]:p[C]||m[C],C+=1;return z}return 0}var add=sum;function sub(p,m){var g=_typeof(p),b=_typeof(m);if(isNumerable(g,p)&&isNumerable(b,m))return"string"===g&&(p=parseInt(p,10)),"string"===b&&(m=parseInt(m,10)),p-m;if($bm_isInstanceOfArray(p)&&isNumerable(b,m))return(p=p.slice(0))[0]-=m,p;if(isNumerable(g,p)&&$bm_isInstanceOfArray(m))return(m=m.slice(0))[0]=p-m[0],m;if($bm_isInstanceOfArray(p)&&$bm_isInstanceOfArray(m)){for(var C=0,A=p.length,H=m.length,z=[];C<A||C<H;)z[C]=("number"==typeof p[C]||p[C]instanceof Number)&&("number"==typeof m[C]||m[C]instanceof Number)?p[C]-m[C]:void 0===m[C]?p[C]:p[C]||m[C],C+=1;return z}return 0}function mul(p,m){var g,b,C,A=_typeof(p),H=_typeof(m);if(isNumerable(A,p)&&isNumerable(H,m))return p*m;if($bm_isInstanceOfArray(p)&&isNumerable(H,m)){for(g=createTypedArray("float32",C=p.length),b=0;b<C;b+=1)g[b]=p[b]*m;return g}if(isNumerable(A,p)&&$bm_isInstanceOfArray(m)){for(g=createTypedArray("float32",C=m.length),b=0;b<C;b+=1)g[b]=p*m[b];return g}return 0}function div(p,m){var g,b,C,A=_typeof(p),H=_typeof(m);if(isNumerable(A,p)&&isNumerable(H,m))return p/m;if($bm_isInstanceOfArray(p)&&isNumerable(H,m)){for(g=createTypedArray("float32",C=p.length),b=0;b<C;b+=1)g[b]=p[b]/m;return g}if(isNumerable(A,p)&&$bm_isInstanceOfArray(m)){for(g=createTypedArray("float32",C=m.length),b=0;b<C;b+=1)g[b]=p/m[b];return g}return 0}function mod(p,m){return"string"==typeof p&&(p=parseInt(p,10)),"string"==typeof m&&(m=parseInt(m,10)),p%m}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(p,m,g){if(m>g){var b=g;g=m,m=b}return Math.min(Math.max(p,m),g)}function radiansToDegrees(p){return p/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(p){return p*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(p,m){if("number"==typeof p||p instanceof Number)return Math.abs(p-(m=m||0));var g;m||(m=helperLengthArray);var b=Math.min(p.length,m.length),C=0;for(g=0;g<b;g+=1)C+=Math.pow(m[g]-p[g],2);return Math.sqrt(C)}function normalize(p){return div(p,length(p))}function rgbToHsl(p){var m,g,b=p[0],C=p[1],A=p[2],H=Math.max(b,C,A),z=Math.min(b,C,A),B=(H+z)/2;if(H===z)m=0,g=0;else{var X=H-z;switch(g=B>.5?X/(2-H-z):X/(H+z),H){case b:m=(C-A)/X+(C<A?6:0);break;case C:m=(A-b)/X+2;break;case A:m=(b-C)/X+4}m/=6}return[m,g,B,p[3]]}function hue2rgb(p,m,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?p+6*(m-p)*g:g<.5?m:g<2/3?p+(m-p)*(2/3-g)*6:p}function hslToRgb(p){var m,g,b,C=p[0],A=p[1],H=p[2];if(0===A)m=H,b=H,g=H;else{var z=H<.5?H*(1+A):H+A-H*A,B=2*H-z;m=hue2rgb(B,z,C+1/3),g=hue2rgb(B,z,C),b=hue2rgb(B,z,C-1/3)}return[m,g,b,p[3]]}function linear(p,m,g,b,C){if(void 0!==b&&void 0!==C||(b=m,C=g,m=0,g=1),g<m){var A=g;g=m,m=A}if(p<=m)return b;if(p>=g)return C;var H,z=g===m?0:(p-m)/(g-m);if(!b.length)return b+(C-b)*z;var B=b.length,X=createTypedArray("float32",B);for(H=0;H<B;H+=1)X[H]=b[H]+(C[H]-b[H])*z;return X}function random(p,m){if(void 0===m&&(void 0===p?(p=0,m=1):(m=p,p=void 0)),m.length){var g,b=m.length;p||(p=createTypedArray("float32",b));var C=createTypedArray("float32",b),A=BMMath.random();for(g=0;g<b;g+=1)C[g]=p[g]+A*(m[g]-p[g]);return C}return void 0===p&&(p=0),p+BMMath.random()*(m-p)}function createPath(p,m,g,b){var C,A=p.length,H=shapePool.newElement();H.setPathData(!!b,A);var z,B,X=[0,0];for(C=0;C<A;C+=1)H.setTripleAt(p[C][0],p[C][1],(B=g&&g[C]?g[C]:X)[0]+p[C][0],B[1]+p[C][1],(z=m&&m[C]?m[C]:X)[0]+p[C][0],z[1]+p[C][1],C,!0);return H}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(p,m){var g,b,C=this.pv.length?this.pv.length:1,A=createTypedArray("float32",C),H=Math.floor(5*time);for(g=0,b=0;g<H;){for(b=0;b<C;b+=1)A[b]+=-m+2*m*BMMath.random();g+=1}var z=5*time,B=z-Math.floor(z),X=createTypedArray("float32",C);if(C>1){for(b=0;b<C;b+=1)X[b]=this.pv[b]+A[b]+(-m+2*m*BMMath.random())*B;return X}return this.pv+A[0]+(-m+2*m*BMMath.random())*B}.bind(this);function loopInDuration(p,m){return loopIn(p,m,!0)}function loopOutDuration(p,m){return loopOut(p,m,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(p,m){var g=[m[0]-p[0],m[1]-p[1],m[2]-p[2]],b=Math.atan2(g[0],Math.sqrt(g[1]*g[1]+g[2]*g[2]))/degToRads;return[-Math.atan2(g[1],g[2])/degToRads,b,0]}function easeOut(p,m,g,b,C){return applyEase(easeOutBez,p,m,g,b,C)}function easeIn(p,m,g,b,C){return applyEase(easeInBez,p,m,g,b,C)}function ease(p,m,g,b,C){return applyEase(easeInOutBez,p,m,g,b,C)}function applyEase(p,m,g,b,C,A){void 0===C?(C=g,A=b):m=(m-g)/(b-g),m>1?m=1:m<0&&(m=0);var H=p(m);if($bm_isInstanceOfArray(C)){var z,B=C.length,X=createTypedArray("float32",B);for(z=0;z<B;z+=1)X[z]=(A[z]-C[z])*H+C[z];return X}return(A-C)*H+C}function nearestKey(p){var m,g,b,C=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(g=-1,(p*=elem.comp.globalData.frameRate)<data.k[0].t)g=1,b=data.k[0].t;else{for(m=0;m<C-1;m+=1){if(p===data.k[m].t){g=m+1,b=data.k[m].t;break}if(p>data.k[m].t&&p<data.k[m+1].t){p-data.k[m].t>data.k[m+1].t-p?(g=m+2,b=data.k[m+1].t):(g=m+1,b=data.k[m].t);break}}-1===g&&(g=m+1,b=data.k[m].t)}else g=0,b=0;var A={};return A.index=g,A.time=b/elem.comp.globalData.frameRate,A}function key(p){var m,g,b;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+p);m={time:data.k[p-=1].t/elem.comp.globalData.frameRate,value:[]};var C=Object.prototype.hasOwnProperty.call(data.k[p],"s")?data.k[p].s:data.k[p-1].e;for(b=C.length,g=0;g<b;g+=1)m[g]=C[g],m.value[g]=C[g];return m}function framesToTime(p,m){return m||(m=elem.comp.globalData.frameRate),p/m}function timeToFrames(p,m){return p||0===p||(p=time),m||(m=elem.comp.globalData.frameRate),p*m}function seedRandom(p){BMMath.seedrandom(randSeed+p)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(p,m){return"string"==typeof value?void 0===m?value.substring(p):value.substring(p,m):""}function substr(p,m){return"string"==typeof value?void 0===m?value.substr(p):value.substr(p,m):""}function posterizeTime(p){time=0===p?0:Math.floor(time*p)/p,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(p){return value=p,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(p,m,g){m.x&&(g.k=!0,g.x=!0,g.initiateExpression=ExpressionManager.initiateExpression,g.effectsSequence.push(g.initiateExpression(p,m,g).bind(g)))},getSpeedAtTime:function(p){var m=this.getValueAtTime(p),g=this.getValueAtTime(p+-.01),b=0;if(m.length){var C;for(C=0;C<m.length;C+=1)b+=Math.pow(g[C]-m[C],2);b=100*Math.sqrt(b)}else b=0;return b},getVelocityAtTime:function(p){if(void 0!==this.vel)return this.vel;var m,g,b=-.001,C=this.getValueAtTime(p),A=this.getValueAtTime(p+b);if(C.length)for(m=createTypedArray("float32",C.length),g=0;g<C.length;g+=1)m[g]=(A[g]-C[g])/b;else m=(A-C)/b;return m},getValueAtTime:function(p){return p*=this.elem.globalData.frameRate,(p-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<p?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(p,this._cachingAtTime),this._cachingAtTime.lastFrame=p),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(p){this.propertyGroup=p}};function addPropertyDecorator(){function p(F,W,R){if(!this.k||!this.keyframes)return this.pv;F=F?F.toLowerCase():"";var N,G,I,V,re,he=this.comp.renderedFrame,pe=this.keyframes,Le=pe[pe.length-1].t;if(he<=Le)return this.pv;if(R?G=Le-(N=W?Math.abs(Le-this.elem.comp.globalData.frameRate*W):Math.max(0,Le-this.elem.data.ip)):((!W||W>pe.length-1)&&(W=pe.length-1),N=Le-(G=pe[pe.length-1-W].t)),"pingpong"===F){if(Math.floor((he-G)/N)%2!=0)return this.getValueAtTime((N-(he-G)%N+G)/this.comp.globalData.frameRate,0)}else{if("offset"===F){var Qe=this.getValueAtTime(G/this.comp.globalData.frameRate,0),Ne=this.getValueAtTime(Le/this.comp.globalData.frameRate,0),je=this.getValueAtTime(((he-G)%N+G)/this.comp.globalData.frameRate,0),Je=Math.floor((he-G)/N);if(this.pv.length){for(V=(re=new Array(Qe.length)).length,I=0;I<V;I+=1)re[I]=(Ne[I]-Qe[I])*Je+je[I];return re}return(Ne-Qe)*Je+je}if("continue"===F){var j=this.getValueAtTime(Le/this.comp.globalData.frameRate,0),Se=this.getValueAtTime((Le-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(V=(re=new Array(j.length)).length,I=0;I<V;I+=1)re[I]=j[I]+(he-Le)/this.comp.globalData.frameRate*(j[I]-Se[I])/5e-4;return re}return j+(he-Le)/.001*(j-Se)}}return this.getValueAtTime(((he-G)%N+G)/this.comp.globalData.frameRate,0)}function m(F,W,R){if(!this.k)return this.pv;F=F?F.toLowerCase():"";var N,G,I,V,re,he=this.comp.renderedFrame,pe=this.keyframes,Le=pe[0].t;if(he>=Le)return this.pv;if(R?G=Le+(N=W?Math.abs(this.elem.comp.globalData.frameRate*W):Math.max(0,this.elem.data.op-Le)):((!W||W>pe.length-1)&&(W=pe.length-1),N=(G=pe[W].t)-Le),"pingpong"===F){if(Math.floor((Le-he)/N)%2==0)return this.getValueAtTime(((Le-he)%N+Le)/this.comp.globalData.frameRate,0)}else{if("offset"===F){var Qe=this.getValueAtTime(Le/this.comp.globalData.frameRate,0),Ne=this.getValueAtTime(G/this.comp.globalData.frameRate,0),je=this.getValueAtTime((N-(Le-he)%N+Le)/this.comp.globalData.frameRate,0),Je=Math.floor((Le-he)/N)+1;if(this.pv.length){for(V=(re=new Array(Qe.length)).length,I=0;I<V;I+=1)re[I]=je[I]-(Ne[I]-Qe[I])*Je;return re}return je-(Ne-Qe)*Je}if("continue"===F){var j=this.getValueAtTime(Le/this.comp.globalData.frameRate,0),Se=this.getValueAtTime((Le+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(V=(re=new Array(j.length)).length,I=0;I<V;I+=1)re[I]=j[I]+(j[I]-Se[I])*(Le-he)/.001;return re}return j+(j-Se)*(Le-he)/.001}}return this.getValueAtTime((N-((Le-he)%N+Le))/this.comp.globalData.frameRate,0)}function g(F,W){if(!this.k)return this.pv;if(F=.5*(F||.4),(W=Math.floor(W||5))<=1)return this.pv;var R,N,G=this.comp.renderedFrame/this.comp.globalData.frameRate,I=G-F,V=W>1?(G+F-I)/(W-1):1,re=0,he=0;for(R=this.pv.length?createTypedArray("float32",this.pv.length):0;re<W;){if(N=this.getValueAtTime(I+re*V),this.pv.length)for(he=0;he<this.pv.length;he+=1)R[he]+=N[he];else R+=N;re+=1}if(this.pv.length)for(he=0;he<this.pv.length;he+=1)R[he]/=W;else R/=W;return R}function b(F){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var W=this._transformCachingAtTime.v;if(W.cloneFromProps(this.pre.props),this.appliedTransformations<1){var R=this.a.getValueAtTime(F);W.translate(-R[0]*this.a.mult,-R[1]*this.a.mult,R[2]*this.a.mult)}if(this.appliedTransformations<2){var N=this.s.getValueAtTime(F);W.scale(N[0]*this.s.mult,N[1]*this.s.mult,N[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var G=this.sk.getValueAtTime(F),I=this.sa.getValueAtTime(F);W.skewFromAxis(-G*this.sk.mult,I*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var V=this.r.getValueAtTime(F);W.rotate(-V*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var re=this.rz.getValueAtTime(F),he=this.ry.getValueAtTime(F),pe=this.rx.getValueAtTime(F),Le=this.or.getValueAtTime(F);W.rotateZ(-re*this.rz.mult).rotateY(he*this.ry.mult).rotateX(pe*this.rx.mult).rotateZ(-Le[2]*this.or.mult).rotateY(Le[1]*this.or.mult).rotateX(Le[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Qe=this.px.getValueAtTime(F),Ne=this.py.getValueAtTime(F);if(this.data.p.z){var je=this.pz.getValueAtTime(F);W.translate(Qe*this.px.mult,Ne*this.py.mult,-je*this.pz.mult)}else W.translate(Qe*this.px.mult,Ne*this.py.mult,0)}else{var Je=this.p.getValueAtTime(F);W.translate(Je[0]*this.p.mult,Je[1]*this.p.mult,-Je[2]*this.p.mult)}return W}function C(){return this.v.clone(new Matrix)}var A=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(F,W,R){var N=A(F,W,R);return N.getValueAtTime=N.dynamicProperties.length?b.bind(N):C.bind(N),N.setGroupProperty=expressionHelpers.setGroupProperty,N};var H=PropertyFactory.getProp;PropertyFactory.getProp=function(F,W,R,N,G){var I=H(F,W,R,N,G);I.getValueAtTime=I.kf?expressionHelpers.getValueAtTime.bind(I):expressionHelpers.getStaticValueAtTime.bind(I),I.setGroupProperty=expressionHelpers.setGroupProperty,I.loopOut=p,I.loopIn=m,I.smooth=g,I.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(I),I.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(I),I.numKeys=1===W.a?W.k.length:0,I.propertyIndex=W.ix;var V=0;return 0!==R&&(V=createTypedArray("float32",1===W.a?W.k[0].s.length:W.k.length)),I._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:V},expressionHelpers.searchExpressions(F,W,I),I.k&&G.addDynamicProperty(I),I};var z=ShapePropertyFactory.getConstructorFunction(),B=ShapePropertyFactory.getKeyframedConstructorFunction();function X(){}X.prototype={vertices:function(F,W){this.k&&this.getValue();var R,N=this.v;void 0!==W&&(N=this.getValueAtTime(W,0));var G=N._length,I=N[F],V=N.v,re=createSizedArray(G);for(R=0;R<G;R+=1)re[R]="i"===F||"o"===F?[I[R][0]-V[R][0],I[R][1]-V[R][1]]:[I[R][0],I[R][1]];return re},points:function(F){return this.vertices("v",F)},inTangents:function(F){return this.vertices("i",F)},outTangents:function(F){return this.vertices("o",F)},isClosed:function(){return this.v.c},pointOnPath:function(F,W){var R=this.v;void 0!==W&&(R=this.getValueAtTime(W,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(R));for(var N,G=this._segmentsLength,I=G.lengths,V=G.totalLength*F,re=0,he=I.length,pe=0;re<he;){if(pe+I[re].addedLength>V){var Qe=R.c&&re===he-1?0:re+1;N=bez.getPointInSegment(R.v[re],R.v[Qe],R.o[re],R.i[Qe],(V-pe)/I[re].addedLength,I[re]);break}pe+=I[re].addedLength,re+=1}return N||(N=R.c?[R.v[0][0],R.v[0][1]]:[R.v[R._length-1][0],R.v[R._length-1][1]]),N},vectorOnPath:function(F,W,R){1==F?F=this.v.c:0==F&&(F=.999);var N=this.pointOnPath(F,W),G=this.pointOnPath(F+.001,W),I=G[0]-N[0],V=G[1]-N[1],re=Math.sqrt(Math.pow(I,2)+Math.pow(V,2));return 0===re?[0,0]:"tangent"===R?[I/re,V/re]:[-V/re,I/re]},tangentOnPath:function(F,W){return this.vectorOnPath(F,W,"tangent")},normalOnPath:function(F,W){return this.vectorOnPath(F,W,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([X],z),extendPrototype([X],B),B.prototype.getValueAtTime=function(F){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),F*=this.elem.globalData.frameRate,(F-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<F?this._caching.lastIndex:0,this._cachingAtTime.lastTime=F,this.interpolateShape(F,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},B.prototype.initiateExpression=ExpressionManager.initiateExpression;var T=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(F,W,R,N,G){var I=T(F,W,R,N,G);return I.propertyIndex=W.ix,I.lock=!1,3===R?expressionHelpers.searchExpressions(F,W.pt,I):4===R&&expressionHelpers.searchExpressions(F,W.ks,I),I.k&&F.addDynamicProperty(I),I}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(p,m){var g=this.calculateExpression(m);if(p.t!==g){var b={};return this.copyData(b,p),b.t=g.toString(),b.__complete=!1,b}return p},TextProperty.prototype.searchProperty=function(){var p=this.searchKeyframes(),m=this.searchExpressions();return this.kf=p||m,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(p,m,g,b,C){this.filterManager=m;var A=createNS("feColorMatrix");A.setAttribute("type","matrix"),A.setAttribute("color-interpolation-filters","linearRGB"),A.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),A.setAttribute("result",b+"_tint_1"),p.appendChild(A),(A=createNS("feColorMatrix")).setAttribute("type","matrix"),A.setAttribute("color-interpolation-filters","sRGB"),A.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),A.setAttribute("result",b+"_tint_2"),p.appendChild(A),this.matrixFilter=A;var H=this.createMergeNode(b,[C,b+"_tint_1",b+"_tint_2"]);p.appendChild(H)}function SVGFillFilter(p,m,g,b){this.filterManager=m;var C=createNS("feColorMatrix");C.setAttribute("type","matrix"),C.setAttribute("color-interpolation-filters","sRGB"),C.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),C.setAttribute("result",b),p.appendChild(C),this.matrixFilter=C}function SVGStrokeEffect(p,m,g){this.initialized=!1,this.filterManager=m,this.elem=g,this.paths=[]}function SVGTritoneFilter(p,m,g,b){this.filterManager=m;var C=createNS("feColorMatrix");C.setAttribute("type","matrix"),C.setAttribute("color-interpolation-filters","linearRGB"),C.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),p.appendChild(C);var A=createNS("feComponentTransfer");A.setAttribute("color-interpolation-filters","sRGB"),A.setAttribute("result",b),this.matrixFilter=A;var H=createNS("feFuncR");H.setAttribute("type","table"),A.appendChild(H),this.feFuncR=H;var z=createNS("feFuncG");z.setAttribute("type","table"),A.appendChild(z),this.feFuncG=z;var B=createNS("feFuncB");B.setAttribute("type","table"),A.appendChild(B),this.feFuncB=B,p.appendChild(A)}function SVGProLevelsFilter(p,m,g,b){this.filterManager=m;var C=this.filterManager.effectElements,A=createNS("feComponentTransfer");(C[10].p.k||0!==C[10].p.v||C[11].p.k||1!==C[11].p.v||C[12].p.k||1!==C[12].p.v||C[13].p.k||0!==C[13].p.v||C[14].p.k||1!==C[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",A)),(C[17].p.k||0!==C[17].p.v||C[18].p.k||1!==C[18].p.v||C[19].p.k||1!==C[19].p.v||C[20].p.k||0!==C[20].p.v||C[21].p.k||1!==C[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",A)),(C[24].p.k||0!==C[24].p.v||C[25].p.k||1!==C[25].p.v||C[26].p.k||1!==C[26].p.v||C[27].p.k||0!==C[27].p.v||C[28].p.k||1!==C[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",A)),(C[31].p.k||0!==C[31].p.v||C[32].p.k||1!==C[32].p.v||C[33].p.k||1!==C[33].p.v||C[34].p.k||0!==C[34].p.v||C[35].p.k||1!==C[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",A)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(A.setAttribute("color-interpolation-filters","sRGB"),p.appendChild(A)),(C[3].p.k||0!==C[3].p.v||C[4].p.k||1!==C[4].p.v||C[5].p.k||1!==C[5].p.v||C[6].p.k||0!==C[6].p.v||C[7].p.k||1!==C[7].p.v)&&((A=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),A.setAttribute("result",b),p.appendChild(A),this.feFuncRComposed=this.createFeFunc("feFuncR",A),this.feFuncGComposed=this.createFeFunc("feFuncG",A),this.feFuncBComposed=this.createFeFunc("feFuncB",A))}function SVGDropShadowEffect(p,m,g,b,C){var A=m.container.globalData.renderConfig.filterSize,H=m.data.fs||A;p.setAttribute("x",H.x||A.x),p.setAttribute("y",H.y||A.y),p.setAttribute("width",H.width||A.width),p.setAttribute("height",H.height||A.height),this.filterManager=m;var z=createNS("feGaussianBlur");z.setAttribute("in","SourceAlpha"),z.setAttribute("result",b+"_drop_shadow_1"),z.setAttribute("stdDeviation","0"),this.feGaussianBlur=z,p.appendChild(z);var B=createNS("feOffset");B.setAttribute("dx","25"),B.setAttribute("dy","0"),B.setAttribute("in",b+"_drop_shadow_1"),B.setAttribute("result",b+"_drop_shadow_2"),this.feOffset=B,p.appendChild(B);var X=createNS("feFlood");X.setAttribute("flood-color","#00ff00"),X.setAttribute("flood-opacity","1"),X.setAttribute("result",b+"_drop_shadow_3"),this.feFlood=X,p.appendChild(X);var T=createNS("feComposite");T.setAttribute("in",b+"_drop_shadow_3"),T.setAttribute("in2",b+"_drop_shadow_2"),T.setAttribute("operator","in"),T.setAttribute("result",b+"_drop_shadow_4"),p.appendChild(T);var F=this.createMergeNode(b,[b+"_drop_shadow_4",C]);p.appendChild(F)}SVGComposableEffect.prototype={createMergeNode:function(p,m){var g,b,C=createNS("feMerge");for(C.setAttribute("result",p),b=0;b<m.length;b+=1)(g=createNS("feMergeNode")).setAttribute("in",m[b]),C.appendChild(g),C.appendChild(g);return C}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var m=this.filterManager.effectElements[0].p.v,g=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",g[0]-m[0]+" 0 0 0 "+m[0]+" "+(g[1]-m[1])+" 0 0 0 "+m[1]+" "+(g[2]-m[2])+" 0 0 0 "+m[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var m=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+m[0]+" 0 0 0 0 "+m[1]+" 0 0 0 0 "+m[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var p,m,g,b,C=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(b=this.elem.maskManager.masksProperties.length,g=0):b=1+(g=this.filterManager.effectElements[0].p.v-1),(m=createNS("g")).setAttribute("fill","none"),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-dashoffset",1);g<b;g+=1)p=createNS("path"),m.appendChild(p),this.paths.push({p,m:g});if(3===this.filterManager.effectElements[10].p.v){var A=createNS("mask"),H=createElementID();A.setAttribute("id",H),A.setAttribute("mask-type","alpha"),A.appendChild(m),this.elem.globalData.defs.appendChild(A);var z=createNS("g");for(z.setAttribute("mask","url("+getLocationHref()+"#"+H+")");C[0];)z.appendChild(C[0]);this.elem.layerElement.appendChild(z),this.masker=A,m.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(C=this.elem.layerElement.children||this.elem.layerElement.childNodes;C.length;)this.elem.layerElement.removeChild(C[0]);this.elem.layerElement.appendChild(m),this.elem.layerElement.removeAttribute("mask"),m.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=m},SVGStrokeEffect.prototype.renderFrame=function(p){var m;this.initialized||this.initialize();var g,b,C=this.paths.length;for(m=0;m<C;m+=1)if(-1!==this.paths[m].m&&(g=this.elem.maskManager.viewData[this.paths[m].m],b=this.paths[m].p,(p||this.filterManager._mdf||g.prop._mdf)&&b.setAttribute("d",g.lastPath),p||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||g.prop._mdf)){var A;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var H=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),z=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),B=b.getTotalLength();A="0 0 0 "+B*H+" ";var X,W=Math.floor(B*(z-H)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(X=0;X<W;X+=1)A+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";A+="0 "+10*B+" 0 0"}else A="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;b.setAttribute("stroke-dasharray",A)}if((p||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(p||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(p||this.filterManager.effectElements[3].p._mdf)){var R=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*R[0])+","+bmFloor(255*R[1])+","+bmFloor(255*R[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var m=this.filterManager.effectElements[0].p.v,g=this.filterManager.effectElements[1].p.v,b=this.filterManager.effectElements[2].p.v,A=b[1]+" "+g[1]+" "+m[1],H=b[2]+" "+g[2]+" "+m[2];this.feFuncR.setAttribute("tableValues",b[0]+" "+g[0]+" "+m[0]),this.feFuncG.setAttribute("tableValues",A),this.feFuncB.setAttribute("tableValues",H)}},SVGProLevelsFilter.prototype.createFeFunc=function(p,m){var g=createNS(p);return g.setAttribute("type","table"),m.appendChild(g),g},SVGProLevelsFilter.prototype.getTableValue=function(p,m,g,b,C){for(var A,H,z=0,B=Math.min(p,m),X=Math.max(p,m),T=Array.call(null,{length:256}),F=0,W=C-b,R=m-p;z<=256;)H=(A=z/256)<=B?R<0?C:b:A>=X?R<0?b:C:b+W*Math.pow((A-p)/R,1/g),T[F]=H,F+=1,z+=256/255;return T.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var m,g=this.filterManager.effectElements;this.feFuncRComposed&&(p||g[3].p._mdf||g[4].p._mdf||g[5].p._mdf||g[6].p._mdf||g[7].p._mdf)&&(m=this.getTableValue(g[3].p.v,g[4].p.v,g[5].p.v,g[6].p.v,g[7].p.v),this.feFuncRComposed.setAttribute("tableValues",m),this.feFuncGComposed.setAttribute("tableValues",m),this.feFuncBComposed.setAttribute("tableValues",m)),this.feFuncR&&(p||g[10].p._mdf||g[11].p._mdf||g[12].p._mdf||g[13].p._mdf||g[14].p._mdf)&&(m=this.getTableValue(g[10].p.v,g[11].p.v,g[12].p.v,g[13].p.v,g[14].p.v),this.feFuncR.setAttribute("tableValues",m)),this.feFuncG&&(p||g[17].p._mdf||g[18].p._mdf||g[19].p._mdf||g[20].p._mdf||g[21].p._mdf)&&(m=this.getTableValue(g[17].p.v,g[18].p.v,g[19].p.v,g[20].p.v,g[21].p.v),this.feFuncG.setAttribute("tableValues",m)),this.feFuncB&&(p||g[24].p._mdf||g[25].p._mdf||g[26].p._mdf||g[27].p._mdf||g[28].p._mdf)&&(m=this.getTableValue(g[24].p.v,g[25].p.v,g[26].p.v,g[27].p.v,g[28].p.v),this.feFuncB.setAttribute("tableValues",m)),this.feFuncA&&(p||g[31].p._mdf||g[32].p._mdf||g[33].p._mdf||g[34].p._mdf||g[35].p._mdf)&&(m=this.getTableValue(g[31].p.v,g[32].p.v,g[33].p.v,g[34].p.v,g[35].p.v),this.feFuncA.setAttribute("tableValues",m))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){if((p||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),p||this.filterManager.effectElements[0].p._mdf){var m=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*m[0]),Math.round(255*m[1]),Math.round(255*m[2])))}if((p||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),p||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var g=this.filterManager.effectElements[3].p.v,b=(this.filterManager.effectElements[2].p.v-90)*degToRads,C=g*Math.cos(b),A=g*Math.sin(b);this.feOffset.setAttribute("dx",C),this.feOffset.setAttribute("dy",A)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(p,m,g){this.initialized=!1,this.filterManager=m,this.filterElem=p,this.elem=g,g.matteElement=createNS("g"),g.matteElement.appendChild(g.layerElement),g.matteElement.appendChild(g.transformedElement),g.baseElement=g.matteElement}function SVGGaussianBlurEffect(p,m,g,b){p.setAttribute("x","-100%"),p.setAttribute("y","-100%"),p.setAttribute("width","300%"),p.setAttribute("height","300%"),this.filterManager=m;var C=createNS("feGaussianBlur");C.setAttribute("result",b),p.appendChild(C),this.feGaussianBlur=C}return SVGMatte3Effect.prototype.findSymbol=function(p){for(var m=0,g=_svgMatteSymbols.length;m<g;){if(_svgMatteSymbols[m]===p)return _svgMatteSymbols[m];m+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(p,m){var g=p.layerElement.parentNode;if(g){for(var b,C=g.children,A=0,H=C.length;A<H&&C[A]!==p.layerElement;)A+=1;A<=H-2&&(b=C[A+1]);var z=createNS("use");z.setAttribute("href","#"+m),b?g.insertBefore(z,b):g.appendChild(z)}},SVGMatte3Effect.prototype.setElementAsMask=function(p,m){if(!this.findSymbol(m)){var g=createElementID(),b=createNS("mask");b.setAttribute("id",m.layerId),b.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(m);var C=p.globalData.defs;C.appendChild(b);var A=createNS("symbol");A.setAttribute("id",g),this.replaceInParent(m,g),A.appendChild(m.layerElement),C.appendChild(A);var H=createNS("use");H.setAttribute("href","#"+g),b.appendChild(H),m.data.hd=!1,m.show()}p.setMatte(m.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var p=this.filterManager.effectElements[0].p.v,m=this.elem.comp.elements,g=0,b=m.length;g<b;)m[g]&&m[g].data.ind===p&&this.setElementAsMask(this.elem,m[g]),g+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var m=.3*this.filterManager.effectElements[0].p.v,g=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==g?0:m)+" "+(2==g?0:m)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=m())},5861:(p,m,g)=>{"use strict";function b(A,H,z,B,X,T,F){try{var W=A[T](F),R=W.value}catch(N){return void z(N)}W.done?H(R):Promise.resolve(R).then(B,X)}function C(A){return function(){var H=this,z=arguments;return new Promise(function(B,X){var T=A.apply(H,z);function F(R){b(T,B,X,F,W,"next",R)}function W(R){b(T,B,X,F,W,"throw",R)}F(void 0)})}}g.d(m,{Z:()=>C})}},p=>{p(p.s=824)}]);